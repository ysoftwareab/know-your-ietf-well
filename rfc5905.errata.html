<!DOCTYPE html>
<html>
    <link rel="profile" href="http://gmpg.org/xfn/11" />
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />        <title>RFC Errata Report &raquo; RFC Editor</title> 
        <meta name="generator" content="WordPress 5.0.3" /> <!-- leave this for stats -->
        <link rel="stylesheet" type="text/css" media="screen" href="https://www.rfc-editor.org/wp-content/themes/techozoic-fluid/style.css" />
                <!--[if IE]>
                <style type="text/css">
                #headerimg{ filter:alpha(opacity=80);}
                .top img{ filter:alpha(opacity=60);}
                .top img:hover{ filter:alpha(opacity=100);}
                ul.comment-preview li{ filter:alpha(opacity=70);}
                ul.comment-preview li:hover{ filter:alpha(opacity=100);}
                #commentform input[type="text"],#commentform .comment-form-author .required, 
                #commentform .comment-form-email .required{padding-left: 65px !important;}
                .top a {position: relative;top: 2px;}
                </style>
        <![endif]-->
        <!--[if IE 7]>
                <style type="text/css">
                #headerimgwrap{ position:absolute;left:20%}
                .hleft{position:absolute;}
                .hright{position:absolute; right:0;}
                .top:hover {bottom: -30px;}
                </style>
        <![endif]-->
        <!--[if IE 8 ]>
                <style type="text/css">
                .top:hover {bottom: -30px;}
                </style>
        <![endif]-->
        <link rel="pingback" href="https://www.rfc-editor.org/xmlrpc.php" />
        <link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="RFC Editor &raquo; Feed" href="https://www.rfc-editor.org/feed/" />
<link rel="alternate" type="application/rss+xml" title="RFC Editor &raquo; Comments Feed" href="https://www.rfc-editor.org/comments/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.rfc-editor.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.0.3"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='wp-block-library-css'  href='https://www.rfc-editor.org/wp-includes/css/dist/block-library/style.min.css?ver=5.0.3' type='text/css' media='all' />
<link rel='stylesheet' id='tech-mobile-css'  href='https://www.rfc-editor.org/wp-content/themes/techozoic-fluid/css/mobile.css?ver=0.1' type='text/css' media='all' />
<link rel='stylesheet' id='google_fonts-css'  href='https://fonts.googleapis.com/css?family=Noto+Sans%7C&#038;ver=5.0.3' type='text/css' media='screen' />
<script type='text/javascript' src='https://www.rfc-editor.org/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='https://www.rfc-editor.org/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='https://www.rfc-editor.org/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.rfc-editor.org/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.rfc-editor.org/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.0.3" />
<script type="text/javascript">
        jQuery(document).ready(function($){
	/* toggle nav */
	$("#menu-icon").on("click", function(){
		$(".top-menu").slideToggle();
		$(this).toggleClass("active");
	});

        });
        </script>
<style type="text/css">/*Variable Styles*/
#page{ 
background:#FFFFFF url() repeat top center scroll;
}
body{
font:normal 14px/1.3em Noto Sans, Sans-Serif;
background:#FFFFFF url() repeat top center scroll;
}
.techozoic_font_size{
font-size: 14px;
}
.narrowcolumn .entry,.widecolumn .entry, .top {
font:normal 14px/1.5em Noto Sans, Sans-Serif;
color: #2C4353;
}
.noclass,.home .narrowcolumn .entry, home .widecolumn .entry, .top,.post .singlepost,.archive .narrowcolumn .entry, .archive .widecolumn .entry, .top{
background-color:#E3E3E3;
border-top:1px #A0B3C2 solid;
}
.top{
border:none;
}
.blog_title, .blog_title a, .blog_title a:hover, .blog_title a:visited{
font:normal 40px/1.3em Courier, Sans-Serif;
color:  	#000000;
}
h1.post_title{
font:bold 30px/1.4em Noto Sans, Sans-Serif;
color:#2C4353 !important;
}
.post_title a{
font:bold 30px/1.4em Noto Sans, Sans-Serif;
color:#2C4353 !important;
}
.entry h1{
font:bold 3em/2.2em Noto Sans, Sans-Serif;
color: #2C4353 !important;
}
.entry h2{
font:bold 2em/2em Noto Sans, Sans-Serif;
color: #2C4353 !important;
}
.entry h3{
font:bold 1.4em/1.6em Noto Sans, Sans-Serif;
color: #2C4353 !important;
}
.entry h4{
font:bold 1.3em/1.4em Noto Sans, Sans-Serif;
color: #2C4353 !important;
}
.entry h5{
font:bold 1.2em/1.3em Noto Sans, Sans-Serif;
color: #2C4353 !important;
}
.sidebar h2, .sidebar h3, #footer h2{
font: bold 18px/1.3em Noto Sans, Sans-Serif;
color:#2C4353;
}
.widgettitle {
font-size: 18px;
margin: 1px 0;
}
#content {
font-size: 14px;
}
acronym,abbr,span.caps,small,.trackback li,.sidebar, .postmetadata {
font-size: 12px;
}
.postmetadata{
font: normal 12px/1.3em Noto Sans, Sans-Serif;
color: #777777;
}
ul#nav a, ul#admin a, #dropdown li.current_page_item a:hover, .top-menu li.current-menu-item a:hover, #dropdown li.current_page_item ul a, .top-menu li.current-menu-item ul a, ul#nav li.current_page_item a:hover, {
color: #A0B3C2;
}
.commenlist .author,#searchform #s, #searchsubmit:hover,#catsubmit:hover,#wp-submit:hover,#TB_ajaxContent {
background-color: #A0B3C2 ;
}
ul#admin li, ul#dropdown li, #navmenu .top-menu li{
/*background-color: #E3E3E3;*/
}
ul#admin li a, ul#dropdown li a, #navmenu .top-menu li a{
font-style: bold; 
font-size:14px;
font-family: Noto Sans, Sans-Serif;
color:#A0B3C2;
}
ul#admin li a:hover, ul#dropdown li a:hover, #navmenu .top-menu li a:hover{
color: #A0B3C2;
}
#dropdown > li, ul.top-menu > li{
margin: 0 3px;
}
.ribbon ul.top-menu > li, .square ul.top-menu > li, #dropdown > li{
margin: 0;
padding: 0 3px;
}
.ribbon ul.top-menu > li.has_children:hover:after, .square ul.top-menu > li.has_children:hover:after, #dropdown > li.has_children:hover:after {
border-bottom: 5px solid #E3E3E3;
}
#dropdown ul, .top-menu ul{
background-color: #E3E3E3;
}
.ribbon, .square, #dropdown{
background-color: #E3E3E3;
background-image: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#E3E3E3), to(#CCCCCC));
background-image: -webkit-linear-gradient(top, #E3E3E3, #CCCCCC);
background-image:    -moz-linear-gradient(top, #E3E3E3, #CCCCCC);
background-image:     -ms-linear-gradient(top, #E3E3E3, #CCCCCC);
background-image:      -o-linear-gradient(top, #E3E3E3, #CCCCCC);
background-image:         linear-gradient(top, #E3E3E3, #CCCCCC);
filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#E3E3E3', endColorstr='#CCCCCC');
}
.ribbon ul.top-menu:before{
border-right: 10px solid #CCCCCC;
}
.ribbon ul.top-menu:after{
border-left: 10px solid #CCCCCC;
}.ribbon ul.top-menu > li:last-child, .square ul.top-menu > li:last-child, #dropdown > li:last-child{
margin-right: 100px;
}#navmenu .top-menu li, #navmenu .top-menu ul.sub-menu, ul#admin li, #navmenu #dropdown li{
background-color: #E3E3E3;
}       
#navmenu #dropdown li.current_page_item, #navmenu .top-menu li.current-menu-item, #navmenu .top-menu ul.sub-menu li.current-menu-item {
background-color: #A0B3C2 ;
}
#navmenu #dropdown li:hover, #navmenu .top-menu li:hover, #navmenu .top-menu ul.sub-menu > li:hover {
background-color:#EFEFEF;
}
#navmenu #dropdown li.current_page_item > a:hover, #navmenu .top-menu li.current-menu-item > a:hover, #navmenu .top-menu li.current-menu-item:hover > a, #navmenu .top-menu li:hover > a, #navmenu #dropdown li:hover > a {
color:#A0B3C2;
}
#navmenu #dropdown li.current_page_item > a, #navmenu .top-menu li.current-menu-item > a{
color:#F7F7F7;
}
ul#admin li:hover{
background:#EFEFEF;
box-shadow:2px 1px 3px rgba(0, 0, 0, 0.3);
-moz-box-shadow:2px 1px 3px rgba(0, 0, 0, 0.3);
-webkit-box-shadow:2px 1px 3px rgba(0, 0, 0, 0.3);
}#dropdown li ul li, .top-menu li ul li, #dropdown li ul , .top-menu li ul{
width: 250px !important;
}
#dropdown li ul ul, .top-menu li ul ul{
left:250px ; 
}
.tags {
border-bottom:1px #A0B3C2 solid;
border-top:1px #A0B3C2 solid;
}
a,h2 a:hover,h3 a:hover,#user_login,#user_pass, #sidenav a:visited {
color:#597EAA; 
text-decoration:none;
}
#searchform #s {
color:#E3E3E3; 
text-decoration:none;
}
a:hover {
color:#114477; 
text-decoration:underline;
}
a:visited{
color:#476588;
}
.description {
color:#A0B3C2;
}
#headerimg {
;
float:left;margin-left:10px;
}
#header-logo{
float:left;margin-left:10px;
padding-top:0px;
padding-left:0px;
}
.single .blog_title a:hover {
cursor:default;
text-decoration:none;
}
.noclass{
-moz-box-shadow:none !important;
box-shadow:none !important;
-webkit-box-shadow: none !important;
opacity:1 !important;
border: none !important;
}#headerimgwrap{
top:20%;
}  #page {
width: 90%;
}
.narrowcolumn {
float:left;
margin:0;
padding:25px 3% 20px 2%;
width:75%;
}
#l_sidebar {
float:left;
padding:25px 1% 0 2%;
width:17%
}#dropdown, .top-menu{
text-align:left;
}#header {
background-repeat: no-repeat;  
background-position: center center;
height: 110px;
}
.hleft, .hright {
height: 70px;
}table.statictable {
        font-family: verdana,arial,sans-serif;
        font-size:12px;
        color:#333333;
        border-width: 1px;
        border-color: #666666;
        border-collapse: collapse;
      
}
table.statictable th {
        border-width: 1px;
        padding: 8px;
        border-style: solid;
        border-left: 1em;
        border-right: 1em;
        border-color: #D2D2D2;
        background-color: #CACACA;
}
table.statictable td {
        border-width: 1px;
        padding: 8px;
        border-style:solid;
        border-left: 1em;
        border-right: 1em;
        border-color: #D2D2D2;
      
}



table.statictable tr{
        background-color: #F6F6F6;
}

table.statictable td.special {
          font-weight: bold;
          color:grey
}
table.statictable td.title {
         font-weight: bold;
         letter-spacing: inherit
}

table.statictable .boldtext {
       font-weight: bold;
       color: #597eaa;
}

table.dynamictable {
        font-family: verdana,arial,sans-serif;
        font-size:12px;
        color:#333333;
        border-width: 1px;
        border-color: #666666;
        border-collapse: collapse;
      
}
table.dynamictable th {
        border-width: 1px;
        padding: 8px;
        border-style: solid;
        border-left: 1em;
        border-right: 1em;
        border-color: #D2D2D2;
        background-color: #FEFEFEFE;
}
table.dynamictable td {
        border-width: 1px;
        padding: 8px;
        border-style:solid;
        border-left: 1em;
        border-right: 1em;
        border-color: #D2D2D2;
      
}

table.dynamictable tr.even{
        background-color: #ffffff;
}
table.dynamictable tr.odd{
        background-color: #F6F6F6;
}
table.erratasearch {
        font-family: verdana,arial,sans-serif;
        font-size:12px;
        color:#333333;
        border-color: #666666;
        border-collapse: collapse;
        text-align:center;
}
table.erratasearch th {
        border-width: 1px;
        padding: 8px;
        
        text-decoration: underline;
        border-color: #666666;
        //background-color: #ffffff;
        background-color: silver;
}

table.erratasearch td {
        border-width: 1px;
        padding: 8px;
        border-color: #666666;
        background-color: #ffffff;
        text-align:left;
}
table.erratasearch td.sbar { 
          background-color: silver;
          text-align: center;
        }


.nosidebar{
    float:left;
    margin:0 10%;
    padding:0 0 10px;
    width:70%;
}

input[type="button"], .button, div#infinite-handle span {
    display: inline-block;
    zoom: 1; /* zoom and *display = ie7 hack for display:inline-block */
    *display: inline;
    vertical-align: baseline;
    margin: 0 2px;
    outline: none;
    cursor: pointer;
    text-align: center;
    text-decoration: none;
    padding: .3em 1em .35em;
    text-shadow: 0 1px 1px rgba(0,0,0,.3);
    -webkit-border-radius: .25em; 
    -moz-border-radius: .25em;
    border-radius: .25em;
    -webkit-box-shadow: 0 1px 2px rgba(0,0,0,.2);
    -moz-box-shadow: 0 1px 2px rgba(0,0,0,.2);
    box-shadow: 0 1px 2px rgba(0,0,0,.2);
    color: #505050;
    border: solid 1px #b7b7b7;
    background: #fff;
    background: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#ededed));
    background: -moz-linear-gradient(top,  #fff,  #ededed);
    filter:  progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#ededed');
}
input[type="button"]:hover, .button:hover, div#infinite-handle span:hover {
    text-decoration: none;
    background: #ededed;
    background: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#dcdcdc));
    background: -moz-linear-gradient(top,  #fff,  #dcdcdc);
    filter:  progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#dcdcdc');
}
input[type="button"]:active, .button:active, div#infinite-handle span: active {
    position: relative;
    top: 1px;
    color: #999;
    background: -webkit-gradient(linear, left top, left bottom, from(#ededed), to(#fff));
    background: -moz-linear-gradient(top,  #ededed,  #fff);
    filter:  progid:DXImageTransform.Microsoft.gradient(startColorstr='#ededed', endColorstr='#ffffff');
}

.search_label_bold { text-align: left;
                     border-style: none;
                     font-weight: bold;
                   }

.error { font-weight: bold; color: red; }

textarea {
   font-family: inherit;
   font-size: inherit;
}
/*DIV to hold scroll tables*/
.scrolltable{
   width:95%

}

/*--------------------------------------------------------------------------------
----------------------------RFCMETA PAGE  Styles---------------------------------------
-------------------------------------------------------------------------------*/
 body.rfcmeta {
font-family: 'Noto Sans', sans-serif;
color: #2C4353;
width: 100%;}

 body.rfcmeta #page {
width: 100%;
box-shadow:none;
margin-top: 0px;}

 body.rfcmeta .hright { height:120px;}

 body.rfcmeta #header {width: 100%;
 background-color: #fff;
 box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    -moz-box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        margin-bottom: 0px;;}

 body.rfcmeta .singlepost.entry {padding-top: 0px!important;}
 body.rfcmeta .singlepost.entry dl,  body.rfcmeta .singlepost.entry p, body.rfcmeta .singlepost.entry h2, body.rfcmeta .singlepost.entry h3 { margin-left:40px;
 margin-right: 20px; }

 body.rfcmeta .singlepost.entry dt{
         font-weight: bold!important;
         margin-top: 15px;}

          body.rfcmeta .singlepost.entry dd{
         margin-left: 15px;}

 body.rfcmeta a{
color: #597eaa;}
  body.rfcmeta .entryheader {background-color:#2C4353 !important;
  border-bottom: 10px solid #FFF !important;
  margin-top: 0px;
  padding-top: 20px !important;
  padding-bottom: 20px !important;}

   body.rfcmeta .entryheader h2 a, body.rfcmeta .entryheader h2 {color: #fff  !important;
   font-size: 50px;
   padding: 0px !important;
   line-height: 1.2;
   font:bold !important;}

   body.rfcmeta .entryheader h2 a:hover {color: #aob3c2 !important;}

   body.rfcmeta .entryheader h3 {color: #fff  !important;
   font-size: 18px;
   padding: 0px;
   line-height: 1.2;
   padding-top: 10px;
   }

      body.rfcmeta .entryheader h3 span {font-weight: normal;
          font-size: 14px;
          text-transform: uppercase;}
    h2 {font-weight: bold;}

 body.rfcmeta   #search_query_separator_id  {padding-bottom: 5px;
 padding-top: 5px;}

 body.rfcmeta .page {margin-top: 0px!important;
 padding-top: 0px!important;}

    /*--------------------------------------------------------------------------------
----------------------------end RFCMETA PAGE Styles---------------------------------------
-------------------------------------------------------------------------------*/

.cluster_heading {
 font-size: 14px;
}
</style>    <style type="text/css">
        #header {
            background-image: url();
        }
    </style>
    <script src="/scripts/validate_rfcsearch.js" type="text/javascript">
</script>    </head>
    <body class="errata report">
        <a id="top"></a>
        <div id="page">
                
            <div id="header">
                <div class="hright">
<div class="hwidget widget_text"><h2 class="widgettitle">Search RFCs</h2>			<div class="textwidget"><form id="search_query_separator_id" name="search_query_separator_name"  action="/search/rfc_search_detail.php" method="POST" onsubmit="return validateComboBox(this);"> 
<input type="text" id ="combo_box_id" name="combo_box"  maxlength="40" size ="35" placeholder="number, title, keyword, or author surname"></form>
<a href="/search/rfc_search.php">Advanced Search</a>
</div>
		</div></div>
      
                <div id="headerimgwrap">
                      
                    <div id="headerimg">
                        <h1 class="blog_title">                            <a href="https://www.rfc-editor.org/">RFC Editor</a>
                            </h1>                    </div><!--end headerimg-->
                </div><!--end headerimgwrap-->


            </div><!--end header-->

            <div id="l_sidebar" class="sidebar"> 
    <ul>
        <li id="nav_menu-3" class="widget widget_nav_menu"><h2 class="widgettitle">The Series</h2>
<div class="menu-the-series-container"><ul id="menu-the-series" class="menu"><li id="menu-item-186" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-186"><a href="https://www.rfc-editor.org/retrieve/">Document Retrieval</a></li>
<li id="menu-item-191" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-191"><a href="/errata.php">Errata</a></li>
<li id="menu-item-187" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-187"><a href="https://www.rfc-editor.org/faq/">FAQ</a></li>
<li id="menu-item-2191" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2191"><a href="https://www.rfc-editor.org/rse/format-faq/">Format Change FAQ</a></li>
<li id="menu-item-188" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-188"><a href="https://www.rfc-editor.org/history/">History</a></li>
<li id="menu-item-189" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-189"><a href="https://www.rfc-editor.org/about/">About Us</a></li>
<li id="menu-item-190" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-190"><a href="https://www.rfc-editor.org/other/">Other Information</a></li>
</ul></div></li>
<li id="nav_menu-4" class="widget widget_nav_menu"><h2 class="widgettitle">For Authors</h2>
<div class="menu-for-authors-container"><ul id="menu-for-authors" class="menu"><li id="menu-item-159" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-159"><a href="https://www.rfc-editor.org/pubprocess/">Publication Process</a></li>
<li id="menu-item-99" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-99"><a href="https://www.rfc-editor.org/current_queue.php">Publication Queue</a></li>
<li id="menu-item-86" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-86"><a href="https://www.rfc-editor.org/styleguide/">Style Guide</a></li>
<li id="menu-item-2190" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2190"><a href="/materials/FAQ-xml2rfcv3.html">xml2rfc FAQ</a></li>
</ul></div></li>
<li id="text-9" class="widget widget_text"><h2 class="widgettitle">Sponsor</h2>
			<div class="textwidget"><a href="//www.internetsociety.org"><img alt="Internet Society (ISOC)" 
src="/wp-content/uploads/ISOC-Dark-RGB_Logo_2016-08-01_EN_FINAL_v01.png" width="120" border="0"></a></div>
		</li>
    </ul>
</div>
<div id="content" class="narrowcolumn">
     <h1 class="post_title">RFC Errata</h1>

     <div class="post-127 page type-page status-publish hentry post clear" id="post-127">
     <div class="singlepost entry">

<br>
<form method="get" id="query" action="/errata_search.php" onsubmit="return validateRFCSearchForm(this);">
  <table  align="center" class="erratasearch">
     <tr>
       <th colspan="4"><h3>Errata Search</h3></th>
     </tr>
     <tr class="ibar">
       <td class="search_label_bold" colspan="2">
         <label for="rfc">RFC Number:</label>
         <input type="text" id="rfc" name="rfc" size="4" maxlength="4" value="5905" />
        </td>
       <td  class="search_label_bold" colspan="2">
         <label for="eid">Errata ID:</label>
         <input type="text" id="eid" name="eid" size="4" maxlength="4" />
       </td>
     </tr>
    <tr><td colspan="4">&nbsp;</td></tr>
     <tr>
       <td style="text-decoration: underline;">Source of RFC</td>

       <td>&nbsp;</td>       <td><label for="rec_status">Status:</label></td>
       <td>
           <select name="rec_status" id="rec_status">             <option value="15">All/Any</option>
<option value="0" >Verified+Reported</option>             <option value="1">Verified</option>
             <option value="2">Reported</option>
             <option value="3">Held for Document Update</option>
             <option value="9">Rejected</option>
           </select>
       </td>
     </tr>
     <tr>
       <td><label for="area_acronym">Area Acronym:</label></td>
       <td class="userdata">
           <select name="area_acronym" id="area_acronym"><option value="" selected="selected">All/Any</option>
             <option value="app">app</option>
             <option value="art">art</option>
             <option value="gen">gen</option>
             <option value="int">int</option>
             <option value="ops">ops</option>
             <option value="rai">rai</option>
             <option value="rtg">rtg</option>
             <option value="sec">sec</option>
             <option value="tsv">tsv</option>
            </select>
       </td>
       <td>
          <label for="errata_type">Type:</label>
       </td>
       <td class="userdata">
           <select name="errata_type" id="errata_type">
             <option value="" selected="selected">All/Any</option>             <option value="1">Editorial</option>
             <option value="2">Technical</option>
           </select>
        </td>
     </tr>
     <tr>
       <td>
          <label for="wg_acronym">WG Acronym:</label>
       </td>
       <td class="userdata">
          <input id="wg_acronym" size="6" type="text" name="wg_acronym" maxlength="10" />
         </td>
       <td>
          <label for="submitter_name">Submitter Name:</label>
       </td>
       <td class="userdata">
          <input id="submitter_name" size="20" type="text" name="submitter_name" maxlength="60" />
       </td>
     </tr>
     <tr>
       <td>
          <label for="stream_name">Other:</label>
       </td>
       <td class="userdata">
          <select name="stream_name" id="stream_name"><option value="" selected="selected">All/Any</option>
            <option value="IAB">IAB</option>
            <option value="INDEPENDENT">INDEPENDENT</option>
            <option value="IRTF">IRTF</option>
            <option value="Legacy">Legacy</option>
          </select>
       </td>
       <td>
          <label for="submit_date">Date Submitted:</label>
       </td>
       <td class="userdata">
          <input id="submit_date" size="8" type="text" name="submit_date" maxlength="10" />
       </td>
     </tr>
     <tr>
       <td colspan="4" class="sbar">
         <div>
        Summary Table<input type="radio" name="presentation"  id="presentationT" value="table">
        Full Records<input type="radio" name="presentation"  id="presentationR" checked="on" value="records">
         </div>
         <input type="submit" value="Search" />
         <input type="button" value="Reset Fields" onclick="return clearAdvSearchForm(document.forms.query);" />
       </td>
     </tr>
  </table>
</form>
<script type="text/javascript">
<!--
           document.forms.query.rfc.focus();
//-->
</script>
<p>Found 32 records.</p>
<h2>Status: <a href="status_type_desc.html">Verified</a> (4)</h2>
<h3><a href="http://www.rfc-editor.org/rfc/rfc5905.txt" target="_blank">RFC&nbsp;5905</a>, "Network Time Protocol Version 4: Protocol and Algorithms Specification", June 2010</h3>
<a href="/source/">Source of RFC</a>: ntp (int)<br />
<p>
Errata ID: <a href="/errata/eid3007">3007</a><br />
<b>Status: Verified<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Danny Mayer<br />
Date Reported: 2011-10-28<br />
Verifier Name: Brian Haberman<br />
Date Verified: 2012-04-27<br />
</p>
<p>Section 7.4 says:
</p>
<pre class="rfctext">
b.  For kiss code RATE, the client MUST immediately reduce its
       polling interval to that server and continue to reduce it each
       time it receives a RATE kiss code.
</pre>
<p>It should say:</p>
<pre class="rfctext">
b.  For kiss code RATE, the client MUST immediately increase its
       polling interval to that server and continue to increase it each
       time it receives a RATE kiss code.
</pre>
<p>Notes:</p>
<p class="simpleindent">
The client needs to poll the server for new timestamps less often
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid3627">3627</a><br />
<b>Status: Verified<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Tal Mizrahi<br />
Date Reported: 2013-05-17<br />
Verifier Name: Brian Haberman<br />
Date Verified: 2014-05-16<br />
</p>
<p>Section 7.5 says:
</p>
<pre class="rfctext">
In NTPv4, one or more extension fields can be inserted after the 
header and before the MAC, which is always present when an extension 
field is present.
</pre>
<p>It should say:</p>
<pre class="rfctext">
In NTPv4, one or more extension fields can be inserted after the 
header and before the MAC, if a MAC is present. If a MAC is not 
present, one or more extension fields can be inserted after the 
header, according to the following rules:
o If the packet includes a single extension field, the length of the 
  extension  field MUST be at least 7 words, i.e., at least 28 octets.
o If the packet includes more than one extension field, the length of 
  the last extension field MUST be at least 28 octets. The length of 
  the other extension fields in this case MUST be at least 16 octets 
  each.

</pre>
<p>Notes:</p>
<p class="simpleindent">
The usage of NTP extension fields without authentication is aligned with Section 10 of RFC 5906:<br />
<br />
The extension field parser initializes a pointer to the first octet beyond the NTP packet header and calculates the number of octets remaining to the end of the packet If the remaining length is 20 (128-bit digest plus 4-octet key ID) or 22 (160-bit digest plus 4-octet key ID), the remaining data are the MAC and parsing is complete.  If the remaining length is greater than 22, an extension field is present.  If the remaining length is less than 8 or not a multiple of 4, a format error has occurred and the packet is discarded; otherwise, the parser increments the pointer by the extension field length and then uses the same rules as above to determine whether a MAC is present or another extension field.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid4019">4019</a><br />
<b>Status: Verified<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Teruaki Kitasuka<br />
Date Reported: 2014-06-20<br />
Verifier Name: Brian Haberman<br />
Date Verified: 2014-06-20<br />
</p>
<p>Section 11.2.1 says:
</p>
<pre class="rfctext">
   An
   example of this calculation is shown by the rootdist() routine in
   Appendix A.5.1.1.

</pre>
<p>It should say:</p>
<pre class="rfctext">
   An
   example of this calculation is shown by the root_dist() routine in
   Appendix A.5.5.2.

</pre>
<p>Notes:</p>
<p class="simpleindent">
No rootdist() routine is in Appendix.  root_dist() appears in Appendix A.5.5.2.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid4121">4121</a><br />
<b>Status: Verified<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Marina Gertsvolf<br />
Date Reported: 2014-09-23<br />
Verifier Name: Brian Haberman<br />
Date Verified: 2014-10-21<br />
</p>
<p>Section 8 says:
</p>
<pre class="rfctext">
In the exchange above, a packet is duplicate or
   replay if the transmit timestamp t3 in the packet matches the org
   state variable T3. 
</pre>
<p>It should say:</p>
<pre class="rfctext">
In the exchange above, a packet is duplicate or
   replay if the transmit timestamp t3 in the packet matches the org
   state variable. 
</pre>
<p>Notes:</p>
<p class="simpleindent">
The org state variable for peer A has not yet been assigned the value T3.
</p>
<div class="special_hr"></div><h2>Status: <a href="status_type_desc.html">Reported</a> (14)</h2>
<h3><a href="http://www.rfc-editor.org/rfc/rfc5905.txt" target="_blank">RFC&nbsp;5905</a>, "Network Time Protocol Version 4: Protocol and Algorithms Specification", June 2010</h3>
<a href="/source/">Source of RFC</a>: ntp (int)<br />
<p>
Errata ID: <a href="/errata/eid4504">4504</a><br />
<b>Status: Reported<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Miroslav Lichvar<br />
Date Reported: 2015-10-15<br />
</p>
<p>Section 7.2 says:
</p>
<pre class="rfctext">
   LI Leap Indicator (leap): 2-bit integer warning of an impending leap
   second to be inserted or deleted in the last minute of the current
   month with values defined in Figure 9.

           +-------+----------------------------------------+
           | Value | Meaning                                |
           +-------+----------------------------------------+
           | 0     | no warning                             |
           | 1     | last minute of the day has 61 seconds  |
           | 2     | last minute of the day has 59 seconds  |

</pre>
<p>It should say:</p>
<pre class="rfctext">
   LI Leap Indicator (leap): 2-bit integer warning of an impending leap
   second to be inserted or deleted in the last minute of the current
   day with values defined in Figure 9.

           +-------+----------------------------------------+
           | Value | Meaning                                |
           +-------+----------------------------------------+
           | 0     | no warning                             |
           | 1     | last minute of the day has 61 seconds  |
           | 2     | last minute of the day has 59 seconds  |

</pre>
<p>Notes:</p>
<p class="simpleindent">
There is an inconsistency (day vs month) between the LI description and the description of values in the Figure 9.  Few paragraphs before that text there is: Except for a minor variation when using the IPv6 address family, these fields are backwards compatible with NTPv3.<br />
<br />
If it was month instead of day it would not be compatible with RFC 1305 (NTPv3) and RFC 4330 (SNTPv4), which were obsoleted by RFC 5905.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid5020">5020</a><br />
<b>Status: Reported<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Ferenc WÃ¡gner<br />
Date Reported: 2017-05-15<br />
</p>
<p>Section 8 says:
</p>
<pre class="rfctext">
theta = T(B) - T(A) = 1/2 * [(T2-T1) + (T3-T4)]
</pre>
<p>It should say:</p>
<pre class="rfctext">
theta = T(B) - T(A) = 1/2 * [(T2-T1) + (T4-T3)]
</pre>
<p>Notes:</p>
<p class="simpleindent">
The corresponding code line in A.5.1.1. agrees with this correction:<br />
<br />
offset = (LFP2D(r-&gt;rec - r-&gt;org) + LFP2D(r-&gt;dst - r-&gt;xmt)) / 2;<br />
<br />
taking Figure 7 into account:<br />
<br />
| org       | T1         | origin timestamp      |<br />
| rec       | T2         | receive timestamp     |<br />
| xmt       | T3         | transmit timestamp    |<br />
| dst       | T4         | destination timestamp |
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid5600">5600</a><br />
<b>Status: Reported<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Takashi Nakamoto<br />
Date Reported: 2019-01-15<br />
</p>
<p>Section 10. says:
</p>
<pre class="rfctext">
   Let the first stage offset in the sorted list be theta_0; then, for
   the other stages in any order, the jitter is the RMS average

                          +-----                 -----+^1/2
                          |  n-1                      |
                          |  ---                      |
                  1       |  \                     2  |
      psi   =  -------- * |  /    (theta_0-theta_j)   |
                (n-1)     |  ---                      |
                          |  j=1                      |
                          +-----                 -----+
</pre>
<p>It should say:</p>
<pre class="rfctext">
   Let the first stage offset in the sorted list be theta_0; then, for
   the other stages in any order, the jitter is the RMS average

               +-----                             -----+^1/2
               |              n-1                      |
               |              ---                      |
               |    1         \                     2  |
      psi   =  | -------- *   /    (theta_0-theta_j)   |
               |  (n-1)       ---                      |
               |              j=1                      |
               +-----                             -----+
</pre>
<p>Notes:</p>
<p class="simpleindent">
The formula to calculate jitter &quot;psi&quot; in section &quot;10.  Clock Filter Algorithm&quot; is incorrect, and also inconsistent with the formulate to calculate &quot;psi_s&quot; in section &quot;11.2.2.  Cluster Algorithm&quot;.<br />
<br />
&quot;psi&quot; is defined as RMS average, so the term 1/(n-1) should be within [ ]^1/2 block.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid5601">5601</a><br />
<b>Status: Reported<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Takashi Nakamoto<br />
Date Reported: 2019-01-15<br />
</p>
<p>Section 11.2.3. says:
</p>
<pre class="rfctext">
                  | s.rootdisp  &lt;-- p.epsilon_r + p.epsilon + |
                  |                 p.psi + PHI * (s.t - p.t) |
                  |                 + |THETA|                 |
                  | s.refid     &lt;-- p.refid                   |
                  | s.reftime   &lt;-- p.reftime                 |
                  | s.t         &lt;-- p.t                       |
                  +-------------------------------------------+

                    Figure 25: System Variables Update

   There is an important detail not shown.  The dispersion increment
   (p.epsilon + p.psi + PHI * (s.t - p.t) + |THETA|) is bounded from
   below by MINDISP.
</pre>
<p>It should say:</p>
<pre class="rfctext">
                  | s.rootdisp  &lt;-- p.epsilon_r + p.epsilon + |
                  |                 p.psi + PHI * (t_s - p.t) |
                  |                 + |THETA|                 |
                  | s.refid     &lt;-- p.refid                   |
                  | s.reftime   &lt;-- p.reftime                 |
                  | s.t         &lt;-- p.t                       |
                  +-------------------------------------------+

                    Figure 25: System Variables Update

   where t_s is the time when the system variables are updated.
   There is an important detail not shown.  The dispersion increment
   (p.epsilon + p.psi + PHI * (t_s - p.t) + |THETA|) is bounded from
   below by MINDISP.
</pre>
<p>Notes:</p>
<p class="simpleindent">
In the same section, it is said that &quot;By rule, an update is discarded if its time of arrival p.t is not strictly later than the last update used s.t.&quot; This means that p.t &gt; s.t when the system variable is updated. Hence, (s.t - p.t) is negative. It may lead to a negative dispersion, but, by definition, the dispersion cannot be negative. So, the original formula should be wrong.<br />
<br />
Because the dispersion is defined as the value that grows at constant rate PHI, s.rootdisp should be<br />
<br />
  s.rootdisp &lt;-- p.epsilon_r + p.epsilon + p.psi + PHI * (t_s - p.t) + |THETA|<br />
<br />
where t_s is the time when the system variables are updated. The symbol t_s is arbitrary because it is not defined in other places.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid5604">5604</a><br />
<b>Status: Reported<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Takashi Nakamoto<br />
Date Reported: 2019-01-15<br />
</p>
<p>Section 11.2.3. says:
</p>
<pre class="rfctext">
                  | s.rootdisp  &lt;-- p.epsilon_r + p.epsilon + |
                  |                 p.psi + PHI * (s.t - p.t) |
                  |                 + |THETA|                 |
</pre>
<p>It should say:</p>
<pre class="rfctext">
                  | s.rootdisp  &lt;-- p.epsilon_r + p.epsilon   |
                  |                 + 5 * p.psi +             |
                  |                 + PHI * (s.t - p.t)       |
                  |                 + |THETA|                 |

</pre>
<p>Notes:</p>
<p class="simpleindent">
In addition to the correction proposed in Errata ID 5601, I think that the formula to calculate the dispersion should be revised. The term &quot;p.psi&quot; should be multiplied by not one, but a larger value.<br />
<br />
This is because the dispersion is defined as the statistics that represent the maximum error, so when it is calculated, it should take into account the maximum errors in the offset estimation. However, the jitter p.psi is defined as the RMS average of the offset values theta_j relative to theta_0, so the term &quot;p.psi&quot; does not represent the maximum error caused by the distribution of the offset values.<br />
<br />
If we assume that the offset value follows the uniform distribution, the error bound is represented as sqrt(3) * p.psi. So, at least, the term &quot;p.psi&quot; should be multiplied by sqrt(3). There is arbitrarity in choice of the distribution type, so depending on the distribution type the factor may change. For example, if the normal distribution is assumed, 5 * p.psi gives us 99.99994% confidence. Assuming that the system variable is updated every 16 seconds, the actual offset may be outside the range [theta_0 - 5 * p.psi, theta_0 + 5 * p.psi] approximately once a year. It should be sufficient for usual Internet applications, though someone may think that the factor &quot;5&quot; may not be sufficient depending on the application.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid5978">5978</a><br />
<b>Status: Reported<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: David Verbree<br />
Date Reported: 2020-02-08<br />
</p>
<p>Section A.5.1.1. says:
</p>
<pre class="rfctext">

    /*
        * Verify valid root distance.
        */
    if (r-&gt;rootdelay / 2 + r-&gt;rootdisp &gt;= MAXDISP || p-&gt;reftime &gt;
        r-&gt;xmt)
            return;                 /* invalid header values */

</pre>
<p>It should say:</p>
<pre class="rfctext">

    /*
        * Verify valid root distance.
        */
    if (p-&gt;rootdelay / 2 + p-&gt;rootdisp &gt;= MAXDISP || p-&gt;reftime &gt;
        r-&gt;xmt)
            return;                 /* invalid header values */

</pre>
<p>Notes:</p>
<p class="simpleindent">
The r-&gt;rootdelay and r-&gt;rootdisp are the received values not in double format and therefore, should not be compared against MAXDISP. Use the p-&gt;rootdelay and p-&gt;rootdisp instead which have already been converted to double via FP2D macro.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid6207">6207</a><br />
<b>Status: Reported<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Tam Phan<br />
Date Reported: 2020-06-08<br />
</p>
<p>Section A.5.5.1 says:
</p>
<pre class="rfctext">
/*
         * Find the largest contiguous intersection of correctness
         * intervals.  Allow is the number of allowed falsetickers;
         * found is the number of midpoints.  Note that the edge values
         * are limited to the range +-(2 ^ 30) &lt; +-2e9 by the timestamp
         * calculations.
         */
        low = 2e9; high = -2e9;
        for (allow = 0; 2 * allow &lt; n; allow++) {

                /*
                 * Scan the chime list from lowest to highest to find
                 * the lower endpoint.
                 */
                found = 0;
                chime = 0;
                for (i = 0; i &lt; n; i++) {
                        chime -= s.m[i].type;
                        if (chime &gt;= n - found) {
                                low = s.m[i].edge;
                                break;
                        }
                        if (s.m[i].type == 0)
                                found++;
                }

                /*
                 * Scan the chime list from highest to lowest to find
                 * the upper endpoint.
                 */
                chime = 0;
                for (i = n - 1; i &gt;= 0; i--) {
                        chime += s.m[i].type;
                        if (chime &gt;= n - found) {
                                high = s.m[i].edge;
                                break;
                        }
                        if (s.m[i].type == 0)
                                found++;
                }




Mills, et al.                Standards Track                   [Page 91]
 
RFC 5905                   NTPv4 Specification                 June 2010


                /*
                 * If the number of midpoints is greater than the number
                 * of allowed falsetickers, the intersection contains at
                 * least one truechimer with no midpoint.  If so,
                 * increment the number of allowed falsetickers and go
                 * around again.  If not and the intersection is
                 * non-empty, declare success.
                 */
                if (found &gt; allow)
                        continue;

                if (high &gt; low)
                        break;
        }
</pre>
<p>It should say:</p>
<pre class="rfctext">
/*
         * Find the largest contiguous intersection of correctness
         * intervals.  Allow is the number of allowed falsetickers;
         * found is the number of midpoints.  Note that the edge values
         * are limited to the range +-(2 ^ 30) &lt; +-2e9 by the timestamp
         * calculations.
         */
        low = 2e9; high = -2e9;
        for (allow = 0; 2 * allow &lt; n; allow++) {

                /*
                 * Scan the chime list from lowest to highest to find
                 * the lower endpoint.
                 */
                found = 0;
                chime = 0;
                for (i = 0; i &lt; n; i++) {
                        chime -= s.m[i].type;
                        if (chime &gt;= n - allow) {
                                low = s.m[i].edge;
                                break;
                        }
                        if (s.m[i].type == 0)
                                found++;
                }

                /*
                 * Scan the chime list from highest to lowest to find
                 * the upper endpoint.
                 */
                chime = 0;
                for (i = n - 1; i &gt;= 0; i--) {
                        chime += s.m[i].type;
                        if (chime &gt;= n - allow) {
                                high = s.m[i].edge;
                                break;
                        }
                        if (s.m[i].type == 0)
                                found++;
                }




Mills, et al.                Standards Track                   [Page 91]
 
RFC 5905                   NTPv4 Specification                 June 2010


                /*
                 * If the number of midpoints is greater than the number
                 * of allowed falsetickers, the intersection contains at
                 * least one truechimer with no midpoint.  If so,
                 * increment the number of allowed falsetickers and go
                 * around again.  If not and the intersection is
                 * non-empty, declare success.
                 */
                if (found &gt; allow)
                        continue;

                if (high &gt; low)
                        break;
        }
</pre>
<p>Notes:</p>
<p class="simpleindent">
The algorithm described in section 11.2.3 is not properly written here; we compare c to n - f in the algorithm, but f != found; f corresponds to the &quot;allowed&quot; falsetickers. This algorithm implementation results in the lower and upper bounds unchanging throughout the described loop, but this change should fix the implementation.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid6280">6280</a><br />
<b>Status: Reported<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Jingguo Yao<br />
Date Reported: 2020-09-05<br />
</p>
<p>Section A.5.5.1. says:
</p>
<pre class="rfctext">
There is the following comment:

* First, construct the chime list of tuples (p, type, edge) as
* shown below, then sort the list by edge from lowest to
* highest.


</pre>
<p>It should say:</p>
<pre class="rfctext">
There should be some statements to do the sorting since the comment mentions it. But there are no statements related to sorting in the following code. 

And I checked the NTP reference implementation. There is code to do the sorting at https://github.com/ntp-project/ntp/blob/71a962710bfe066f76da9679cf4cfdeffe34e95e/ntpd/ntp_proto.c#L2837

</pre>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid6550">6550</a><br />
<b>Status: Reported<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Perry Lorier<br />
Date Reported: 2021-04-17<br />
</p>
<p>Section A.5.2 says:
</p>
<pre class="rfctext">
        for (i = 0; i &lt; NSTAGE; i++) {
                p-&gt;disp += f[i].disp / (2 ^ (i + 1));
                p-&gt;jitter += SQUARE(f[i].offset - f[0].offset);
        }
</pre>
<p>It should say:</p>
<pre class="rfctext">
        for (i = 0; i &lt; NSTAGE; i++) {
                p-&gt;disp += f[i].disp / (1 &lt;&lt; (i + 1));
                p-&gt;jitter += SQUARE(f[i].offset - f[0].offset);
        }
</pre>
<p>Notes:</p>
<p class="simpleindent">
^ is the xor operator in C, not the exponent operator.  2 xor (i+1) will be zero when i == 1, causing a division by zero error.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid4680">4680</a><br />
<b>Status: Reported<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Riccardo Brama<br />
Date Reported: 2016-04-29<br />
</p>
<p>Section 6, Fig 3 says:
</p>
<pre class="rfctext">
       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                           Era Number                          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                           Era Offset                          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                                                               |
      |                           Fraction                            |
      |                                                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                              NTP Date Format
</pre>
<p>It should say:</p>
<pre class="rfctext">
       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                           Era Number                          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                           Era Offset                          |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                                                               |
      +                           Fraction                            +
      |                                                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                              NTP Date Format
</pre>
<p>Notes:</p>
<p class="simpleindent">
This allows to better appreciate only two 32b rows really form the Fraction part, leading to an overall type length of 128b instead of 160b as it could otherwise be misunderstood in the original figure.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid5104">5104</a><br />
<b>Status: Reported<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Denis Ovsienko<br />
Date Reported: 2017-08-30<br />
</p>
<p>Section 7.3, Fig 8 says:
</p>
<pre class="rfctext">
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                          Key Identifier                       |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                                                               |
      |                            dgst (128)                         |
      |                                                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre>
<p>It should say:</p>
<pre class="rfctext">
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                          Key Identifier                       |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                                                               |
      |                       Message Digest (128)                    |
      |                                                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

</pre>
<p>Notes:</p>
<p class="simpleindent">
As the text before the figure explains, the last field is called &quot;Message Digest&quot;, which is consistent with the rest of the document. In this document &quot;dgst&quot; and &quot;mac&quot; mean two protocol variables associated with this packet field.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid5189">5189</a><br />
<b>Status: Reported<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Marcel Telka<br />
Date Reported: 2017-11-28<br />
</p>
<p>Section 6 says:
</p>
<pre class="rfctext">
   | 31 Dec 1999 | 51,543     | 0   | 3,155,587,200 | Last day 20th    |
   |             |            |     |               | Century          |

</pre>
<p>It should say:</p>
<pre class="rfctext">
   | 31 Dec 2000 | 51,909     | 0   | 3,187,209,600 | Last day 20th    |
   |             |            |     |               | Century          |

</pre>
<p>Notes:</p>
<p class="simpleindent">
20th Century was from 1901 to 2000.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid6423">6423</a><br />
<b>Status: Reported<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Stijn van Drongelen<br />
Date Reported: 2021-02-07<br />
</p>
<p>Section 6 says:
</p>
<pre class="rfctext">
| 1 Jan 1972  | 41,317     | 0   | 2,272,060,800 | First day UTC    |
</pre>
<p>It should say:</p>
<pre class="rfctext">
| 1 Jan 1972  | 41,317     | 0   | 2,272,060,800 | First day &quot;modern&quot; UTC |
</pre>
<p>Notes:</p>
<p class="simpleindent">
The initial definition of UTC was introduced in 1963 with CCIR Recommendation 374. The time standard specified that seconds had a varying duration. In 1970, CCIR Recommendation 460 introduced the current definition of UTC, using leap seconds, which was implemented on the first second of 1972. Consult D. McCarthy's &quot;Note on Coordinated Universal Time&quot; (numbered CCTF/09-32 by the Consultative Committee for Time and Frequency of the BIPM) for more information.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid6524">6524</a><br />
<b>Status: Reported<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Kenneth Duffill<br />
Date Reported: 2021-04-09<br />
</p>
<p>Section 6 says:
</p>
<pre class="rfctext">
202,939,144
</pre>
<p>It should say:</p>
<pre class="rfctext">
202,934,144
</pre>
<p>Notes:</p>
<p class="simpleindent">
In Figure 4 The Era Offset of 1 Jan 1 has a typo.<br />
<br />
The value of 202,939,144 for the Era Offset of 1 Jan 1 should be 202,934,144 because 1 Jan 0 has an Era Offset of 171,311,744 and there are 366 days in year 0, therefore the Era Offset for 1 Jan 1 should be 86400 * 366 (= 31,622,400) greater than that for 1 JAN 0.
</p>
<div class="special_hr"></div><h2>Status: <a href="status_type_desc.html">Held for Document Update</a> (12)</h2>
<h3><a href="http://www.rfc-editor.org/rfc/rfc5905.txt" target="_blank">RFC&nbsp;5905</a>, "Network Time Protocol Version 4: Protocol and Algorithms Specification", June 2010</h3>
<a href="/source/">Source of RFC</a>: ntp (int)<br />
<p>
Errata ID: <a href="/errata/eid3125">3125</a><br />
<b>Status: Held for Document Update<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Richard Walters<br />
Date Reported: 2012-02-16<br />
Held for Document Update by: Brian Haberman<br />
</p>
<p>Section A.5.1.1 says:
</p>
<pre class="rfctext">
        /*
         * Calculate offset, delay and dispersion, then pass to the
         * clock filter.  Note carefully the implied processing.  The
         * first-order difference is done directly in 64-bit arithmetic,
         * then the result is converted to floating double.  All further
         * processing is in floating-double arithmetic with rounding
         * done by the hardware.  This is necessary in order to avoid
         * overflow and preserve precision.
         *
         * The delay calculation is a special case.  In cases where the
         * server and client clocks are running at different rates and
         * with very fast networks, the delay can appear negative.  In
         * order to avoid violating the Principle of Least Astonishment,
         * the delay is clamped not less than the system precision.
         */
        if (p-&gt;pmode == M_BCST) {
                offset = LFP2D(r-&gt;xmt - r-&gt;dst);
                delay = BDELAY;
                disp = LOG2D(r-&gt;precision) + LOG2D(s.precision) + PHI *
                    2 * BDELAY;
        } else {
                offset = (LFP2D(r-&gt;rec - r-&gt;org) + LFP2D(r-&gt;dst -
                    r-&gt;xmt)) / 2;
                delay = max(LFP2D(r-&gt;dst - r-&gt;org) - LFP2D(r-&gt;rec -
                    r-&gt;xmt), LOG2D(s.precision));
                disp = LOG2D(r-&gt;precision) + LOG2D(s.precision) + PHI *
                    LFP2D(r-&gt;dst - r-&gt;org);
        }
        clock_filter(p, offset, delay, disp);

</pre>
<p>It should say:</p>
<pre class="rfctext">
        /*
         * Calculate offset, delay and dispersion, then pass to the
         * clock filter.  Note carefully the implied processing.  The
         * first-order difference is done directly in 64-bit arithmetic,
         * then the result is converted to floating double.  All further
         * processing is in floating-double arithmetic with rounding
         * done by the hardware.  This is necessary in order to avoid
         * overflow and preserve precision.
         *
         * The delay calculation is a special case.  In cases where the
         * server and client clocks are running at different rates and
         * with very fast networks, the delay can appear negative.  In
         * order to avoid violating the Principle of Least Astonishment,
         * the delay is clamped not less than the system precision.
         */
        if (p-&gt;pmode == M_BCST) {
                offset = LFP2D(r-&gt;xmt - r-&gt;dst);
                delay = BDELAY;
                disp = LOG2D(r-&gt;precision) + LOG2D(s.precision) + PHI *
                    2 * BDELAY;
        } else {
                offset = (LFP2D(r-&gt;rec - r-&gt;org) + LFP2D(r-&gt;xmt -
                    r-&gt;dst)) / 2;
                delay = max(LFP2D(r-&gt;dst - r-&gt;org) - LFP2D(r-&gt;xmt -
                    r-&gt;rec), LOG2D(s.precision));
                disp = LOG2D(r-&gt;precision) + LOG2D(s.precision) + PHI *
                    LFP2D(r-&gt;dst - r-&gt;org);
        }
        clock_filter(p, offset, delay, disp);

</pre>
<p>Notes:</p>
<p class="simpleindent">
Calculations of 'offset' and 'delay' have terms that are incorrectly swapped.  In the calculation of 'offset', term 'r-&gt;dst' should be 'r-&gt;xmt', and term 'r-&gt;xmt' should be 'r-&gt;dst'.  In the calculation of 'delay', term 'r-&gt;rec' should be 'r-&gt;xmt', and term 'r-&gt;xmt' should be 'r-&gt;rec'.<br />
<br />
See the text from section 8:<br />
<br />
   &quot;In the figure, the first packet transmitted by A contains only the<br />
   origin timestamp t1, which is then copied to T1.  B receives the<br />
   packet at t2 and copies t1 to T1 and the receive timestamp t2 to T2.<br />
   At this time or some time later at t3, B sends a packet to A<br />
   containing t1 and t2 and the transmit timestamp t3.  All three<br />
   timestamps are copied to the corresponding state variables.  A<br />
   receives the packet at t4 containing the three timestamps t1, t2, and<br />
   t3 and the destination timestamp t4.  These four timestamps are used<br />
   to compute the offset and delay of B relative to A, as described<br />
   below.<br />
<br />
...<br />
<br />
   &quot;The four most recent timestamps, T1 through T4, are used to compute<br />
   the offset of B relative to A<br />
<br />
   theta = T(B) - T(A) = 1/2 * [(T2-T1) + (T3-T4)]<br />
<br />
   and the round-trip delay<br />
<br />
   delta = T(ABA) = (T4-T1) - (T3-T2).&quot;<br />
<br />
Noting that, from the perspective of A at time t4:<br />
<br />
T1 = t1 = origin timestamp (r-&gt;org)<br />
T2 = t2 = receive timestamp (r-&gt;rec)<br />
T3 = t3 = transmit timestamp (r-&gt;xmt)<br />
T4 = t4 = destination timestamp (r-&gt;dst)<br />
<br />
An alternative correction would be to change the '+' to a '-' in the calculation of 'offset', and change the '-' to a '+' in the calculation of 'delay'.  However, this would deviate from the operators used in the formulas from section 8.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid2476">2476</a><br />
<b>Status: Held for Document Update<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Joerg Weilbier<br />
Date Reported: 2010-08-19<br />
Held for Document Update by: Brian Haberman<br />
</p>
<p>Section 7.3. says:
</p>
<pre class="rfctext">
For instance, a value of -18 
corresponds to a precision of about one microsecond.
</pre>
<p>It should say:</p>
<pre class="rfctext">
For instance, a value of -20 
corresponds to a precision of about one microsecond.
</pre>
<p>Notes:</p>
<p class="simpleindent">
2**-20 = 0.954 usec<br />
2**-18 = 3.815 usec
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid3404">3404</a><br />
<b>Status: Held for Document Update<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Philippe Verdy<br />
Date Reported: 2012-11-08<br />
Held for Document Update by: Brian Haberman<br />
</p>
<p>Section A.1.1. says:
</p>
<pre class="rfctext">
#define SQUARE(x)       (x * x)

</pre>
<p>It should say:</p>
<pre class="rfctext">
#define SQUARE(x)       ((x) * (x))

</pre>
<p>Notes:</p>
<p class="simpleindent">
This macro is used in the example code to square differences:<br />
<br />
//- in clock_filter() {...} (page 85) :<br />
<br />
                p-&gt;jitter += SQUARE(f[i].offset - f[0].offset);<br />
<br />
//- in clock_select() { ... } (page 92) :<br />
<br />
                                dtemp += SQUARE(p-&gt;offset - q-&gt;offset);<br />
<br />
//- in clock_combine() { ... } (page 96) :<br />
<br />
                w += SQUARE(p-&gt;offset - s.v[0].p-&gt;offset) / x;<br />
<br />
//- in local_clock() { ... } (page 99) :<br />
<br />
                dtemp = SQUARE(max(fabs(offset - c.last),<br />
                    LOG2D(s.precision)));<br />
<br />
<br />
These expressions are using differences of double values: the .offset member in a Filter stage structure (f), and the .jitter member in an Association structure (p), or in a Local clock structure (c), or in a System structure (s).<br />
<br />
All these occurences of macro substitions of SQUARE() will be wrong if the C macro does not surrounds its parameter expression by adding parentheses around them !<br />
<br />
This is a very classic error made by beginners in C programming using &quot;utility&quot; macros with side effects... At least newer programmers avoid these kind of macros and prefer defining inline functions
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid3127">3127</a><br />
<b>Status: Held for Document Update<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Richard Walters<br />
Date Reported: 2012-02-17<br />
Held for Document Update by: Brian Haberman<br />
</p>
<p>Section A.5.5.1 says:
</p>
<pre class="rfctext">
                /*
                 * Scan the chime list from lowest to highest to find
                 * the lower endpoint.
                 */
                found = 0;
                chime = 0;
                for (i = 0; i &lt; n; i++) {
                        chime -= s.m[i].type;
                        if (chime &gt;= n - found) {
                                low = s.m[i].edge;
                                break;
                        }
                        if (s.m[i].type == 0)
                                found++;
                }

                /*
                 * Scan the chime list from highest to lowest to find
                 * the upper endpoint.
                 */
                chime = 0;
                for (i = n - 1; i &gt;= 0; i--) {
                        chime += s.m[i].type;
                        if (chime &gt;= n - found) {
                                high = s.m[i].edge;
                                break;
                        }
                        if (s.m[i].type == 0)
                                found++;
                }

</pre>
<p>It should say:</p>
<pre class="rfctext">
                /*
                 * Scan the chime list from lowest to highest to find
                 * the lower endpoint.
                 */
                found = 0;
                chime = 0;
                for (i = 0; i &lt; n; i++) {
                        chime -= s.m[i].type;
                        if (chime &gt;= n - allow) {
                                low = s.m[i].edge;
                                break;
                        }
                        if (s.m[i].type == 0)
                                found++;
                }

                /*
                 * Scan the chime list from highest to lowest to find
                 * the upper endpoint.
                 */
                chime = 0;
                for (i = n - 1; i &gt;= 0; i--) {
                        chime += s.m[i].type;
                        if (chime &gt;= n - allow) {
                                high = s.m[i].edge;
                                break;
                        }
                        if (s.m[i].type == 0)
                                found++;
                }

</pre>
<p>Notes:</p>
<p class="simpleindent">
In both scans (lowest to highest, and highest to lowest)<br />
<br />
chime &gt;= n - found<br />
<br />
needs to be:<br />
<br />
chime &gt;= n - allow
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid3608">3608</a><br />
<b>Status: Held for Document Update<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Cristian RodrÃ­guez<br />
Date Reported: 2013-04-29<br />
Held for Document Update by: Brian Haberman<br />
</p>
<p>Section A.2. says:
</p>
<pre class="rfctext">
/*
         * Read command line options and initialize system variables.
         * The reference implementation measures the precision specific
         * to each machine by measuring the clock increments to read the
         * system clock.
         */
        memset(&amp;s, sizeof(s), 0);

.....
/*
         * Initialize local clock variables
         */
        memset(&amp;c, sizeof(c), 0);
</pre>
<p>It should say:</p>
<pre class="rfctext">
/*
         * Read command line options and initialize system variables.
         * The reference implementation measures the precision specific
         * to each machine by measuring the clock increments to read the
         * system clock.
         */
        memset(&amp;s, 0. sizeof(s));
...

/*
         * Initialize local clock variables
         */
        memset(&amp;c, 0, sizeof(c));
</pre>
<p>Notes:</p>
<p class="simpleindent">
Paramters 2 and 3 of the memset functions are inverted everywhere in the example code, not just in section A2
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid4366">4366</a><br />
<b>Status: Held for Document Update<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Vyacheslav<br />
Date Reported: 2015-05-13<br />
Held for Document Update by: Brian Haberman<br />
Date Held: 2015-09-14<br />
</p>
<p>Section 11.2.1 says:
</p>
<pre class="rfctext">
5.  Is d = f and l &lt; u?  If yes, then follow step 5A; else, follow
   step 5B.

</pre>
<p>It should say:</p>
<pre class="rfctext">
5.  Is d &lt;= f and l &lt; u?  If yes, then follow step 5A; else, follow
   step 5B.

</pre>
<p>Notes:</p>
<p class="simpleindent">
Original text doesn't correspond to sample implementation at A.5.5.1. And, I suppose, described algorithm may throw out reasonable set of measures.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid2514">2514</a><br />
<b>Status: Held for Document Update<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Jerzy Miernik<br />
Date Reported: 2010-09-08<br />
Held for Document Update by: Brian Haberman<br />
</p>
<p>Section A.5.1 says:
</p>
<pre class="rfctext">
if (0) { ...
</pre>
<p>It should say:</p>
<pre class="rfctext">
if (unicast ...) { ...
</pre>
<p>Notes:</p>
<p class="simpleindent">
expression under if is needed, even using pseudo-code
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid2826">2826</a><br />
<b>Status: Held for Document Update<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Christian Aistleitner<br />
Date Reported: 2011-06-10<br />
Held for Document Update by: Brian Haberman<br />
</p>
<p>Section 6 says:
</p>
<pre class="rfctext">
[...]
and a 64-bit fraction field resolving .05 attosecond (i.e., 0.5e-18).
</pre>
<p>It should say:</p>
<pre class="rfctext">
[...]
and a 64-bit fraction field resolving .05 attosecond (i.e., 0.05e-18).
</pre>
<p>Notes:</p>
<p class="simpleindent">
&quot;atto&quot; is the prefix for 1e-18.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid3126">3126</a><br />
<b>Status: Held for Document Update<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Richard Walters<br />
Date Reported: 2012-02-16<br />
Held for Document Update by: Brian Haberman<br />
</p>
<p>Section 3 says:
</p>
<pre class="rfctext">
          +-------------------+-------------------+------------------+
          |  Association Mode | Assoc. Mode Value | Packet Mode Value|
          +-------------------+-------------------+------------------+
          | Symmetric Active  |         1         | 1 or 2           |
          | Symmetric Passive |         2         | 1                |
          | Client            |         3         | 4                |
          | Server            |         4         | 3                |
          | Broadcast Server  |         5         | 5                |
          | Broadcast Client  |         6         | N/A              |
          +-------------------+-------------------+------------------+

                  Figure 1: Association and Packet Modes

   In the client/server variant, a persistent client sends packet mode 4
   packets to a server, which returns packet mode 3 packets.

</pre>
<p>It should say:</p>
<pre class="rfctext">
          +-------------------+-------------------+------------------+
          |  Association Mode | Assoc. Mode Value | Packet Mode Value|
          +-------------------+-------------------+------------------+
          | Symmetric Active  |         1         | 1 or 2           |
          | Symmetric Passive |         2         | 1                |
          | Client            |         3         | 4                |
          | Server            |         4         | 3                |
          | Broadcast Server  |         5         | N/A              |
          | Broadcast Client  |         6         | 5                |
          +-------------------+-------------------+------------------+

                  Figure 1: Association and Packet Modes

   In the client/server variant, a persistent client sends packet mode 3
   packets to a server, which returns packet mode 4 packets.
</pre>
<p>Notes:</p>
<p class="simpleindent">
The majority of the rows in Figure 1 are correct if the 'Packet Mode Value' refers to the mode of packets which are expected to be received by an NTP speaker which has mobilized an association with the corresponding 'Association Mode'.  Assuming this is the case, the last two rows are incorrect:<br />
<br />
* A peer with a mobilized 'Broadcast Server' mode association is not expected to receive any packets at all for this association -- a broadcast server does not receive anything back (see 'Broadcast' mode row in Section 9.2, Figure 20, where each column in that row is 'DSCRD'.)  Therefore, the value of 'Packet Mode Value' for 'Broadcast Server' should be 'N/A', not '5'.<br />
<br />
* A peer with a mobilized 'Broadcast Client' mode association is expected to receive packets with a 'Packet Mode Value' of 5 for this association (see 'Bcast Client' mode row in Section 9.2, Figure 20, where each column in that row is 'DSCRD' except for the '5' column, which is 'PROC'.)  Therefore, the value of 'Packet Mode Value' for 'Broadcast Client' should be '5', not 'N/A'.<br />
<br />
It might help the clarity of Figure 1 if the row labeled 'Packet Mode Value' were to be changed to 'Receive Packet Mode Value(s)'.<br />
<br />
The text immediately following Figure 1 also has the packet mode values swapped.  As made clear throughout the RFC (for example, see Section 9.2 where is says, &quot;FXMIT.  This indicates a client (mode 3) packet matching no association (mode 0).  If the destination address is not a broadcast address, the server constructs a server (mode 4) packet and returns it to the client without retaining state.&quot;), clients send servers packet mode 3 packets, not packet mode 4 packets; it is servers which send clients packet mode 4 packets, not packet mode 3 packets.<br />
<br />
Just to make it perfectly clear, here are the modes of packets sent:<br />
<br />
* Time t0: client mobilizes 'Client' mode association for server (via configuration, or due to reception of manycast server packet)<br />
* Time t1: client transmits mode 3 packet to server (e.g. via poll(p) =&gt; peer_xmit(p) when c.t &gt;= p-&gt;nextdate)<br />
* Time t2: server receives mode 3 packet from client (dispatch: FXMIT; no association found or mobilized)<br />
* Time t3: server transmits mode 4 packet to client<br />
* Time t4: client receives mode 4 packet from server (matches previously mobilized association -- dispatch: PROC)
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid3132">3132</a><br />
<b>Status: Held for Document Update<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Richard Walters<br />
Date Reported: 2012-02-21<br />
Held for Document Update by: Brian Haberman<br />
</p>
<p>Section 11.2.1 says:
</p>
<pre class="rfctext">
   First, those servers that are unusable according to the rules of the
   protocol are detected and discarded as shown by the accept() routine
   in Appendix A.5.5.3.
</pre>
<p>It should say:</p>
<pre class="rfctext">
   First, those servers that are unusable according to the rules of the
   protocol are detected and discarded as shown by the fit() routine
   in Appendix A.5.2.
</pre>
<p>Notes:</p>
<p class="simpleindent">
The fit() and accept() routines are identical.  Since accept() is not called from, nor mentioned anywhere else, whereas fit() is called from two places and listed in the function prototypes, just drop accept() and use fit() instead in section 11.2.1.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid4025">4025</a><br />
<b>Status: Held for Document Update<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Julien Cretin<br />
Date Reported: 2014-06-25<br />
Held for Document Update by: Brian Haberman<br />
Date Held: 2014-06-25<br />
</p>
<p>Section 6 says:
</p>
<pre class="rfctext">
-678,491
</pre>
<p>It should say:</p>
<pre class="rfctext">
-678,941
</pre>
<p>Notes:</p>
<p class="simpleindent">
In Figure 4, the MJD of 1 Jan 0 has a typo.<br />
<br />
There are 365 (not 815) days from 1 Jan -1 to 1 Jan 0, and 366 (not -84) from 1 Jan 0 to 1 Jan 1. I took NTP Timestamp Era Offset as a reference for the number of days in these years.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid4263">4263</a><br />
<b>Status: Held for Document Update<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Priyesh Patel<br />
Date Reported: 2015-02-05<br />
Held for Document Update by: Brian Haberman<br />
Date Held: 2015-02-06<br />
</p>
<p>Section 7.3, Fig 8 says:
</p>
<pre class="rfctext">
       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |LI | VN  |Mode |    Stratum     |     Poll      |  Precision   |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
<p>It should say:</p>
<pre class="rfctext">
       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |LI | VN  |Mode |    Stratum    |     Poll      |  Precision    |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
<p>Notes:</p>
<p class="simpleindent">
The field boundaries are not aligned with the bit boundaries in &quot;Figure 8: Packet Header Format&quot;.
</p>
<div class="special_hr"></div><h2>Status: <a href="status_type_desc.html">Rejected</a> (2)</h2>
<h3><a href="http://www.rfc-editor.org/rfc/rfc5905.txt" target="_blank">RFC&nbsp;5905</a>, "Network Time Protocol Version 4: Protocol and Algorithms Specification", June 2010</h3>
<a href="/source/">Source of RFC</a>: ntp (int)<br />
<p>
Errata ID: <a href="/errata/eid3613">3613</a><br />
<b>Status: Rejected<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Tony O&#039;Brien<br />
Date Reported: 2013-05-06<br />
Rejected by: Brian Haberman<br />
Date Rejected: 2013-05-06<br />
</p>
<p>Section 8 says:
</p>
<pre class="rfctext">

</pre>
<p>Notes:</p>
<p class="simpleindent">
In the paragraph explaining the sanity checks on received packets, it states: &quot;In the exchange above, a packet is duplicate or replay if the transmit timestamp t3 in the packet matches the org state variable T3.&quot;  But in the pseudo-code in A.5.1 it states<br />
        /*<br />
         * If the transmit timestamp duplicates a previous one, the<br />
         * packet is a replay.<br />
         */<br />
        if (r-&gt;xmt == p-&gt;xmt)<br />
i.e. comparing the transmit timestamp p-&gt;xmt with the xmt state variable T1.  Which is correct?<br />
<br />
Similarly for the check for a bogus packet, Section 8 states: &quot;A packet is bogus if the origin timestamp t1 in the packet does not match the xmt state variable T1.  But the pseudo-code says:<br />
        /*<br />
         * If this is a broadcast mode packet, skip further checking.<br />
         * If the origin timestamp is zero, the sender has not yet heard<br />
         * from us.  Otherwise, if the origin timestamp does not match<br />
         * the transmit timestamp, the packet is bogus.<br />
         */<br />
        synch = TRUE;<br />
        if (r-&gt;mode != M_BCST) {<br />
                if (r-&gt;org == 0)<br />
                        synch = FALSE;  /* unsynchronized */<br />
<br />
                else if (r-&gt;org != p-&gt;xmt)<br />
                        synch = FALSE;  /* bogus packet */<br />
        }<br />
i.e. it is comparing the transmit timestamp t3 in the packet with the org state variable T3.<br />
<br />
Which is correct?  Looking at Figure 15 my guess would be Section 8 is correct but I have seen code that more closely follows the pseudo-code.<br />
 --VERIFIER NOTES-- <br />
The Introduction of the document clearly states that the pseudo-code in the appendix is non-normative.  Therefore the text in the main body of the specification describes the conformant behavior:<br />
<br />
&quot;The contents of Appendix A are non-normative examples designed to illustrate the protocol's operation and are not a requirement for a conforming implementation.&quot;
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid4505">4505</a><br />
<b>Status: Rejected<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Miroslav Lichvar<br />
Date Reported: 2015-10-15<br />
Rejected by: Brian Haberman<br />
Date Rejected: 2015-12-14<br />
</p>
<p>Section A.5.1 says:
</p>
<pre class="rfctext">
        /*
         * Update the origin and destination timestamps.  If
         * unsynchronized or bogus, abandon ship.
         */
        p-&gt;org = r-&gt;xmt;
        p-&gt;rec = r-&gt;dst;
        if (!synch)
                return;                 /* unsynch */

        /*
         * The timestamps are valid and the receive packet matches the
         * last one sent.  If the packet is a crypto-NAK, the server
         * might have just changed keys.  We demobilize the association
         * and wait for better times.
         */
        if (auth == A_CRYPTO) {
                clear(p, X_CRYPTO);
                return;                 /* crypto-NAK */
        }

        /*
         * If the association is authenticated, the key ID is nonzero
         * and received packets must be authenticated.  This is designed
         * to avoid a bait-and-switch attack, which was possible in past
         * versions.
         */
        if (!AUTH(p-&gt;keyid || (p-&gt;flags &amp; P_NOTRUST), auth))
                return;                 /* bad auth */

</pre>
<p>It should say:</p>
<pre class="rfctext">
        /*
         * If the packet is a valid crypto-NAK, the server might have
         * just changed keys.  We demobilize the association and wait
         * for better times.
         */
        if (synch &amp;&amp; auth == A_CRYPTO) {
                clear(p, X_CRYPTO);
                return;                 /* crypto-NAK */
        }

        /*
         * If the association is authenticated, the key ID is nonzero
         * and received packets must be authenticated.  This is designed
         * to avoid a bait-and-switch attack, which was possible in past
         * versions.
         */
        if (!AUTH(p-&gt;keyid || (p-&gt;flags &amp; P_NOTRUST), auth))
                return;                 /* bad auth */

        /*
         * Update the origin and destination timestamps.  If
         * unsynchronized or bogus, abandon ship.
         */
        p-&gt;org = r-&gt;xmt;
        p-&gt;rec = r-&gt;dst;
        if (!synch)
                return;                 /* unsynch */

</pre>
<p>Notes:</p>
<p class="simpleindent">
The state variables must be updated after the authentication is checked in order to prevent DoS attacks on authenticated symmetric associations (CVE-2015-1799).<br />
 --VERIFIER NOTES-- <br />
   The appendix is not the normative description of the protocol behavior. A change such as this needs consensus within the working group. To do that, a draft should be submitted with the proposed changes.
</p>
<div class="special_hr"></div>
<p><a href="/errata.php#reportnew">Report New Errata</a></p>   </div>
  </div>
</div>
<br><br><div id="footer">
    <div id="footerdivs">
            </div>
    <div style="clear:both"></div>
    <p class="credit">
        <a href="//www.iab.org/">IAB</a> â¢ <a href="//www.iana.org/">IANA</a>  â¢ <a href="//www.ietf.org">IETF</a> â¢ <a href="//www.irtf.org">IRTF</a> â¢ <a href="/about/independent">ISE</a> â¢ <a href="//www.internetsociety.org">ISOC</a> â¢ <a href="//trustee.ietf.org/">IETF Trust</a>
<br>
<a href="/report-summary">Reports</a> â¢ <a href="//www.ietf.org/privacy-statement/">Privacy Statement</a> â¢ <a href="/sitemap">Site Map</a> â¢ <a href="/contact">Contact Us</a>    </p>
    
</div><!--footer-->
</div><!--page-->
<script type='text/javascript' src='https://www.rfc-editor.org/wp-includes/js/wp-embed.min.js?ver=5.0.3'></script>
</body>
</html>
