<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE rfc SYSTEM "rfc2629-xhtml.ent">

<rfc xmlns:xi="http://www.w3.org/2001/XInclude" updates="5545" obsoletes=""     docName="draft-ietf-calext-eventpub-extensions-18" number="9073" ipr="trust200902" submissionType="IETF" category="std" consensus="true" xml:lang="en" tocInclude="true"     tocDepth="5" symRefs="true" sortRefs="true" version="3">

  <front>
    <title abbrev="Event Publishing Extensions to iCalendar">Event Publishing Extensions to iCalendar</title>
    <seriesInfo name="RFC" value="9073"/>
    <author initials="M." surname="Douglass" fullname="Michael Douglass">
      <organization abbrev="Bedework">Bedework</organization>
      <address>
        <postal>
          <street>226 3rd Street</street>
          <city>Troy</city>
          <region>NY</region>
          <code>12180</code>
          <country>United States of America</country>
        </postal>
        <email>mdouglass@bedework.com</email>
        <uri>http://bedework.com</uri>
      </address>
    </author>
    <date month="August" year="2021"/>
    <area>ART</area>
    <keyword>iCalendar</keyword>
    <keyword>properties</keyword>
    <abstract>
      <t>
        This specification updates RFC 5545 by
        introducing a number of new iCalendar
        properties and components that are of particular use for event
        publishers and in social networking.
      </t>
      <t>
        This specification also defines a new "STRUCTURED-DATA" property for
        iCalendar (RFC 5545) to allow for data that is directly pertinent
        to an event or task to be included with the calendar data.
      </t>
    </abstract>
  </front>
  <middle>
    <section numbered="true" toc="default">
      <name>Introduction</name>
      <t>
        The currently existing iCalendar standard <xref target="RFC5545" format="default"/> lacks
        useful methods for referencing additional, external information
        relating to calendar components. Additionally, there is no standard 
        way to provide rich-text descriptions or metadata associated with 
        the event.
      </t>
      <t>
        Current practice is to embed this information as links 
        in the description or to add nonstandard properties, as defined in
        <xref target="RFC5545" sectionFormat="of" section="3.8.8.2"/>.
      </t>
      <t>
        This document updates <xref target="RFC5545" format="default"/> to define a
        number of properties and components referencing such external
        information that can provide additional information about an iCalendar
        component. The intent is to allow the interchange of such information between
        applications or systems (e.g., between clients, between client and  server,
        and between servers). Formats, such as vCard <xref target="RFC6350" format="default"/>,
        are likely to be
        most useful to the receivers of such events as they may be used
        in other applications -- such as address books.
      </t>
      <section anchor="conventions" numbered="true" toc="default">
        <name>Conventions Used in This Document</name>
        <t>
    The key words "<bcp14>MUST</bcp14>", "<bcp14>MUST NOT</bcp14>", "<bcp14>REQUIRED</bcp14>", "<bcp14>SHALL</bcp14>", "<bcp14>SHALL
    NOT</bcp14>", "<bcp14>SHOULD</bcp14>", "<bcp14>SHOULD NOT</bcp14>", "<bcp14>RECOMMENDED</bcp14>", "<bcp14>NOT RECOMMENDED</bcp14>",
    "<bcp14>MAY</bcp14>", and "<bcp14>OPTIONAL</bcp14>" in this document are to be interpreted as
    described in BCP&nbsp;14 <xref target="RFC2119"/> <xref target="RFC8174"/> 
    when, and only when, they appear in all capitals, as shown here.
        </t>

	<t> The notation used in this memo is the ABNF notation of <xref target="RFC5234"/> as
   used by iCalendar <xref target="RFC5545"/>.  Any syntax elements shown below that
   are not explicitly defined in this specification come from iCalendar <xref target="RFC5545"/>.</t>

      </section>
      <section anchor="terms" numbered="true" toc="default">
        <name>Terms Used in This Document</name>
        <dl newline="false" spacing="normal">
          <dt>Event:</dt>
          <dd>
              When the word 'event' (perhaps with a capitalized 'E') is used,
              we are referring to gatherings, formal or informal (for example,
              a sports event, a party, or a concert).
            </dd>
          <dt>Social Calendaring:</dt>
          <dd>
              Historically, calendar data and scheduling has been heavily
              biased towards meetings in a corporate environment. Some of
              the features defined in this document are to support a more
              informal, i.e., social, model. For example, we may want to
              record who is participating in a public event.
            </dd>
        </dl>
      </section>
    </section>
    <section numbered="true" toc="default">
      <name>Components and Properties</name>
      <t>
        Previous extensions to the calendaring standards have been largely
        restricted to the addition of properties or parameters. This is
        partly because iCalendar libraries had trouble handling components
        nested deeper than those defined in <xref target="RFC5545" format="default"/>.
      </t>
      <t>
        In a break with this 'convention', this specification defines
        a number of components rather than properties. This
        is a better match for the way <xref target="W3C.REC-xml-20081126" format="default"/>
        and JSON <xref target="RFC8259" format="default"/> handle such structures
        and allows richer definitions.  
      </t>
      <t>
        It also allows for the addition of extra properties inside the
        components and resolves some of the problems of trying to add
        detailed information as a parameter.
      </t>
    </section>
    <section numbered="true" toc="default">
      <name>Typed References</name>
      <t>
        The properties and components defined here can all reference
        external metadata, which may be used by applications to
        provide further information to users. By providing type information,
        clients and servers are able to discover interesting
        references and make use of them, perhaps for indexing or
        presenting additional, related information for the user.
      </t>
      <t>As always, clients should exercise caution in following
      references to external data.</t>
      <t>
        The "LOCATION" property <xref target="RFC5545" format="default"/> provides only
        an unstructured single text value for specifying the location where an event
        (or task) will occur. This is inadequate for use cases where
        structured location information (e.g., address, region, country, or
        postal code) is required or preferred and limits widespread adoption of
        iCalendar in those settings.
      </t>
      <t>
        Using the "VLOCATION" component, rich information about multiple
        locations can be communicated in a "STRUCTURED-DATA" property;
        examples include address, region,
        country, postal code, parking availability, nearby restaurants, and
        the venue, among others. Servers and clients can retrieve the objects when
        storing the event and use them to index by geographic location.
      </t>
      <t>
        When a calendar client receives a calendar component, it can search the
        set of locations looking for those of particular interest.
	
        The "LOCATION-TYPE" property and "FMTTYPE" parameter applied to the "STRUCTURED-DATA" property, if supplied, can be used to help the selection.
      </t>
      <t>
        The "PARTICIPANT" component is designed to handle common use cases in
        event
        publication. It is generally important to provide information
        about the organizers of such events. Sponsors wish to be
        referenced in a prominent manner. In social calendaring, it is
        often important to identify the active participants
        (e.g,, a school sports team) and the inactive participants (e.g., the parents) in the event.
      </t>
      <t>
        The "PARTICIPANT" component can be used to provide useful
        extra data about an attendee. For example, a location
        inside the PARTICIPANT gives the actual location of a remote
        attendee. (But see the note about privacy.)
      </t>
      <t>
        Alternatively, the "PARTICIPANT" component can be used to provide
        a reference -- perhaps the address for mailing lists.
      </t>
      <section numbered="true" toc="default">
        <name>Use Cases</name>
        <t>
          The main motivation for these changes has been event publication, but
          there are opportunities for use elsewhere. The following use cases will
          describe some possible scenarios.
        </t>
        <section numbered="true" toc="default">
          <name>Piano Concert Performance</name>
          <t>
            In putting together a concert, there are many participants: piano tuner,
            performer, stage hands, etc. In addition, there are sponsors and various
            contacts to be provided. There will also be a number of related locations.
            A number of events can be created, all of
            which relate to the performance in different ways.
          </t>
          <t>
            There may be an iCalendar Transport-independent Interoperability Protocol (iTIP) <xref
	    target="RFC5546" format="default"/> meeting 
            request for the piano tuner, who will arrive
            before the performance. Other members of staff may also receive meeting
            requests.
          </t>
          <t>
            An event can also be created for publication, which will have a "PARTICIPANT"
            component for the pianist providing a reference to vCard information
            (<xref target="RFC6350" format="default"/>) about the performer.
            This event would also hold information about parking, local subway stations,
            and the venue itself. In addition, there may be sponsorship information
            for sponsors of the event and perhaps paid sponsorship properties,
            essentially advertising local establishments.
          </t>
        </section>
        <section numbered="true" toc="default">
          <name>Itineraries</name>

	  
          <t>
            These additions also provide opportunities for the travel industry.
            When booking a flight, the "PARTICIPANT" component can be used to provide
            references to businesses at the airports and to rental car businesses
            at the destination.
          </t>
          <t>

            The embedded location information can guide the traveler around the airport itself
            or to their final destination. The contact information can provide
            detailed information about the booking agent, airlines, car hire
            companies, and hotel.
          </t>
          <section numbered="true" toc="default">
            <name>Reserving Facilities</name>
            <t>
              For a meeting, the size of a room and the equipment needed
              depends, to some extent, on the number of attendees actually
              in the room.
            </t>
            <t>
              A meeting may have many attendees, none of which are co-located.
              The current "ATTENDEE" property does not allow for the addition
              of such metadata. The "PARTICIPANT" component allows attendees to
              specify their location.
            </t>
          </section>
        </section>
      </section>
    </section>
    <section numbered="true" toc="default">
      <name>Modifications to Calendar Components</name>
      <t>
        The following changes to the syntax defined in iCalendar
        <xref target="RFC5545" format="default"></xref> are made here. New elements are
        defined in subsequent sections.
      </t>
      
<sourcecode type="abnf"><![CDATA[
; Addition of PARTICIPANT, VLOCATION, and VRESOURCE
; as valid components
eventc     = "BEGIN" ":" "VEVENT" CRLF
             eventprop *alarmc *participantc *locationc *resourcec
             "END" ":" "VEVENT" CRLF

; Addition of properties STYLED-DESCRIPTION and STRUCTURED-DATA
eventprop  =/ *styleddescription
              *sdataprop

; Addition of PARTICIPANT, VLOCATION, and VRESOURCE
; as valid components
todoc      = "BEGIN" ":" "VTODO" CRLF
             todoprop *alarmc *participantc *locationc *resourcec
             "END" ":" "VTODO" CRLF

; Addition of properties STYLED-DESCRIPTION and STRUCTURED-DATA
todoprop =/ *styleddescription
            *sdataprop

; Addition of PARTICIPANT, VLOCATION, and VRESOURCE
; as valid components
journalc   = "BEGIN" ":" "VJOURNAL" CRLF
             jourprop *participantc *locationc *resourcec
             "END" ":" "VJOURNAL" CRLF

; Addition of properties STYLED-DESCRIPTION and STRUCTURED-DATA
jourprop =/ *styleddescription
            *sdataprop

; Addition of PARTICIPANT, VLOCATION, and VRESOURCE
; as valid components
freebusyc  = "BEGIN" ":" "VFREEBUSY" CRLF
             fbprop *participantc *locationc *resourcec
             "END" ":" "VFREEBUSY" CRLF

; Addition of property STYLED-DESCRIPTION
fbprop     =/ *styleddescription
]]></sourcecode>
    </section>
    <section anchor="new_property_parameters" numbered="true" toc="default">
      <name>New Property Parameters</name>
      <section anchor="parameter_order" numbered="true" toc="default">
        <name>Order</name>
        <dl newline="false" spacing="normal">
          <dt>Parameter name:</dt>
          <dd>ORDER</dd>
          <dt>Purpose:</dt>
          <dd>This parameter defines ordering for the associated property.</dd>
          <dt>Format Definition:</dt>
          <dd>
            <t keepWithNext="true">
                  This parameter is defined by the following notation:
            </t>
<sourcecode type="abnf"><![CDATA[
orderparam    = "ORDER" "=" integer
                ;           Must be greater than or equal to 1
]]></sourcecode>
          </dd>
          <dt>Description:</dt>
          <dd>
              <t>The "ORDER" parameter is <bcp14>OPTIONAL</bcp14> and is used to indicate the
              relative ordering of the corresponding instance of a property.
              Its value <bcp14>MUST</bcp14> be an integer greater than or equal to 1 that
              specifies the order, with 1 being the first in the ordering.</t>
              <t>When the parameter is absent, the default <bcp14>MUST</bcp14> be to interpret the
              property instance as being ordered last, that is,
              the property will appear after any other instances of the 
              same property with any value of ORDER.</t>
              <t>When any "ORDER" parameters have the same value, all the associated
              properties appear as a group within which there is no
              defined order.</t>
              <t>Note that the value of this parameter is to be interpreted only in
              relation to values assigned to other corresponding instances of
              the same property in the same entity.</t>
              <t>This parameter <bcp14>MUST NOT</bcp14> be applied to a property that does not
              allow multiple instances.</t>
            </dd>
          <dt>Example uses:</dt>
          <dd>
              The ORDER may be applied to the "PARTICIPANT-TYPE" property
              to indicate the relative importance of the participant, for
              example, as a sponsor or a performer.  For example, ORDER=1 could
              define the principal performer or soloist.
            </dd>
        </dl>
      </section>
      <section anchor="parameter_schema" numbered="true" toc="default">
        <name>Schema</name>
        <dl newline="false" spacing="normal">
          <dt>Parameter Name:</dt>
          <dd>SCHEMA</dd>
          <dt>Purpose:</dt>
          <dd>
              This parameter specifies the schema used for the content of a 
              "STRUCTURED-DATA" property value.
            </dd>
          <dt>Format Definition:</dt>
          <dd>
            <t keepWithNext="true">
                  This parameter is defined by the following notation:
            </t>
<sourcecode type="abnf"><![CDATA[
schemaparam    = "SCHEMA" "=" DQUOTE uri DQUOTE
]]></sourcecode>
          </dd>
          <dt>Description:</dt>
          <dd>
              This property parameter <bcp14>SHOULD</bcp14> be specified on 
              "STRUCTURED-DATA" properties. When present, it provides 
              identifying information about the nature of the content 
              of the corresponding "STRUCTURED-DATA" property value. 
              This can be used to supplement the media type information 
              provided by the "FMTTYPE" parameter on the corresponding 
              property.
            </dd>
          <dt>Example:</dt>
          <dd>
<sourcecode type=""><![CDATA[
  STRUCTURED-DATA;FMTTYPE=application/ld+json;
   SCHEMA="https://schema.org/FlightReservation";
   ENCODING=BASE64;VALUE=BINARY:ICAgIDxzY3JpcHQgdHlwZT0iYXBwb
   GljYXRpb24vbGQranNvbiI+CiAgICB7CiAgICAgICJAY29
   udGV4dCI6ICJodHRwOi8vc2NoZW1hLm9yZyIsCiAgICAgICJAdHlwZSI
   6ICJGbGlnaHRSZXNlcnZhdGlvbiIsCiAgICAgICJyZXNlcnZhdGlvbkl
   kIjogIlJYSjM0UCIsCiAgICAgICJyZXNlcnZhdGlvblN0YXR1cyI6ICJ
   odHRwOi8vc2NoZW1hLm9yZy9SZXNlcnZhdGlvbkNvbmZpcm1lZCIsCiA
   gICAgICJwYXNzZW5nZXJQcmlvcml0eVN0YXR1cyI6ICJGYXN0IFRyYWN
   rIiwKICAgICAgInBhc3NlbmdlclNlcXVlbmNlTnVtYmVyIjogIkFCQzE
   yMyIsCiAgICAgICJzZWN1cml0eVNjcmVlbmluZyI6ICJUU0EgUHJlQ2h
   lY2siLAogICAgICAidW5kZXJOYW1lIjogewogICAgICAgICJAdHlwZSI
   6ICJQZXJzb24iLAogICAgICAgICJuYW1lIjogIkV2YSBHcmVlbiIKICA
   gICAgfSwKICAgICAgInJlc2VydmF0aW9uRm9yIjogewogICAgICAgICJ
   AdHlwZSI6ICJGbGlnaHQiLAogICAgICAgICJmbGlnaHROdW1iZXIiOiA
   iVUExMTAiLAogICAgICAgICJwcm92aWRlciI6IHsKICAgICAgICAgICJ
   AdHlwZSI6ICJBaXJsaW5lIiwKICAgICAgICAgICJuYW1lIjogIkNvbnR
   pbmVudGFsIiwKICAgICAgICAgICJpYXRhQ29kZSI6ICJDTyIsCiAgICA
   gICAgICAiYm9hcmRpbmdQb2xpY3kiOiAiaHR0cDovL3NjaGVtYS5vcmc
   vWm9uZUJvYXJkaW5nUG9saWN5IgogICAgICAgIH0sCiAgICAgICAgInN
   lbGxlciI6IHsKICAgICAgICAgICJAdHlwZSI6ICJBaXJsaW5lIiwKICA
   gICAgICAgICJuYW1lIjogIlVuaXRlZCIsCiAgICAgICAgICAiaWF0YUN
   vZGUiOiAiVUEiCiAgICAgICAgfSwKICAgICAgICAiZGVwYXJ0dXJlQWl
   ycG9ydCI6IHsKICAgICAgICAgICJAdHlwZSI6ICJBaXJwb3J0IiwKICA
   gICAgICAgICJuYW1lIjogIlNhbiBGcmFuY2lzY28gQWlycG9ydCIsCiA
   gICAgICAgICAiaWF0YUNvZGUiOiAiU0ZPIgogICAgICAgIH0sCiAgICA
   gICAgImRlcGFydHVyZVRpbWUiOiAiMjAxNy0wMy0wNFQyMDoxNTowMC0
   wODowMCIsCiAgICAgICAgImFycml2YWxBaXJwb3J0IjogewogICAgICA
   gICAgIkB0eXBlIjogIkFpcnBvcnQiLAogICAgICAgICAgIm5hbWUiOiA
   iSm9obiBGLiBLZW5uZWR5IEludGVybmF0aW9uYWwgQWlycG9ydCIsCiA
   gICAgICAgICAiaWF0YUNvZGUiOiAiSkZLIgogICAgICAgIH0sCiAgICA
   gICAgImFycml2YWxUaW1lIjogIjIwMTctMDMtMDVUMDY6MzA6MDAtMDU
   6MDAiCiAgICAgIH0KICAgIH0KICAgIDwvc2NyaXB0Pg==
]]></sourcecode>
          </dd>
        </dl>
      </section>
      <section anchor="parameter_derived" numbered="true" toc="default">
        <name>Derived</name>
        <dl newline="false" spacing="normal">
          <dt>Parameter Name:</dt>
          <dd>DERIVED</dd>
          <dt>Purpose:</dt>
          <dd>
              This parameter specifies that the value of the associated property is
              derived from some other property value or values.
            </dd>
          <dt>Format Definition:</dt>
          <dd>
            <t keepWithNext="true">
                  This parameter is defined by the following notation:
            </t>
<sourcecode type="abnf"><![CDATA[
derivedparam    = "DERIVED" "=" ("TRUE" / "FALSE")
; Default is FALSE
]]></sourcecode>
          </dd>
          <dt>Description:</dt>
          <dd>
              <t>This property parameter <bcp14>MAY</bcp14> be specified on any property
              when the value is derived from some other property or
              properties. When present with a value of TRUE, clients <bcp14>MUST NOT</bcp14> update
              the property.</t>
              <t>As an example, if a "STYLED-DESCRIPTION" property is present with
              FMTTYPE="application/rtf", then there may be an additional
              "STYLED-DESCRIPTION" property with FMTTYPE="text/html" and
              DERIVED=TRUE, as well as a value created from the rtf value.</t>
            </dd>
          <dt>Example:</dt>
          <dd>
<sourcecode type="" ><![CDATA[
STYLED-DESCRIPTION;FMTTYPE=text/html;
 DERIVED=TRUE:<html>...</html>
]]></sourcecode>
          </dd>
        </dl>
      </section>
    </section>
    <section anchor="new_properties" numbered="true" toc="default">
      <name>New Properties</name>
      <t>
        This specification makes use of the "NAME" property,
        which is defined in <xref target="RFC7986" format="default"/>.
      </t>
      <section anchor="loctype" numbered="true" toc="default">
        <name>Location Type</name>
        <dl newline="false" spacing="normal">
          <dt>Property Name:</dt>
          <dd>LOCATION-TYPE</dd>
          <dt>Purpose:</dt>
          <dd>This property specifies the type(s) of a location.</dd>
          <dt>Value Type:</dt>
          <dd>
              The value type for this property is TEXT.  The
              allowable values are defined below.
            </dd>
          <dt>Description:</dt>
          <dd>
              This property <bcp14>MAY</bcp14> be specified in "VLOCATION" components and
              provides a way to differentiate multiple locations. For example,
              it allows event producers to provide location information for
              the venue and the parking.
            </dd>
          <dt>Format Definition:</dt>
          <dd>
            <t keepWithNext="true">
                  This property is defined by the following notation:
            </t>
<sourcecode type="abnf"><![CDATA[
loctype      = "LOCATION-TYPE" loctypeparam ":"
               text *("," text)
               CRLF

loctypeparam   = *(";" other-param)
]]></sourcecode>
              <t>Multiple values may be used if the location has multiple
              purposes, for example, a hotel and a restaurant.</t>
              <t>Values for this parameter are taken from the values defined in
              <xref target="RFC4589" sectionFormat="of" section="3"/>. New location 
	      types <bcp14>SHOULD</bcp14> be
              registered in the manner laid down in <xref target="RFC4589" 
	      sectionFormat="of" section="5"/>.</t>
            </dd>
        </dl>
      </section>
      <section anchor="participant-type" numbered="true" toc="default">
        <name>Participant Type</name>
        <dl newline="false" spacing="normal">
          <dt>Property Name:</dt>
          <dd>PARTICIPANT-TYPE</dd>
          <dt>Purpose:</dt>
          <dd>This property specifies the type of participant.</dd>
          <dt>Value Type:</dt>
          <dd>
              The value type for this property is TEXT.  The
              allowable values are defined below.
            </dd>
          <dt>Property Parameters:</dt>
          <dd>
              Nonstandard parameters can be specified on this property.
            </dd>
          <dt>Conformance:</dt>
          <dd>
              This property <bcp14>MUST</bcp14> be specified once within a "PARTICIPANT" component.
            </dd>
          <dt>Description:</dt>
          <dd>
              This property defines the type of participation in events 
              or tasks. Participants can be individuals
              or organizations, for example, a soccer team, the spectators, or
              the musicians.
            </dd>
          <dt>Format Definition:</dt>
          <dd>
            <t keepWithNext="true">
                  This property is defined by the following notation:
            </t>
	    
<sourcecode type="abnf"><![CDATA[
participanttype   = "PARTICIPANT-TYPE" partvalueparam ":"
                     partvalue CRLF

partvalue    = ("ACTIVE"
               / "INACTIVE"
               / "SPONSOR"
               / "CONTACT"
               / "BOOKING-CONTACT"
               / "EMERGENCY-CONTACT"
               / "PUBLICITY-CONTACT"
               / "PLANNER-CONTACT"
               / "PERFORMER"
               / "SPEAKER"
               / iana-token)     ; Other IANA-registered
                                 ; values

partvalueparam   = *(";" other-param)
]]></sourcecode>
          </dd>
          <dt>Example:</dt>
          <dd>
            <t keepWithNext="true">
                  The following is an example of this property.
            </t>
<sourcecode type="abnf"><![CDATA[
PARTICIPANT-TYPE:SPEAKER
]]></sourcecode>
          </dd>
        </dl>
        <t>
          The registered values for the "PARTICIPANT-TYPE" property have
          the meanings described here:
        </t>
        <dl newline="false" spacing="normal">
          <dt>ACTIVE:</dt>
          <dd>A participant taking an active role -- for example, a team member.</dd>
          <dt>INACTIVE:</dt>
          <dd>
              A participant taking an inactive role -- for example, an audience member.
            </dd>
          <dt>SPONSOR:</dt>
          <dd>
              A sponsor of the event. The "ORDER" parameter may be used with this
              participant type to define the relative order of multiple sponsors.
            </dd>
          <dt>CONTACT:</dt>
          <dd>
              Contact information for the event. The "ORDER" parameter may be used with this
              participant type to define the relative order of multiple contacts.
            </dd>
          <dt>BOOKING-CONTACT:</dt>
          <dd>
              Contact information for reservations or payment.
            </dd>
          <dt>EMERGENCY-CONTACT:</dt>
          <dd>
              Contact in case of emergency.
            </dd>
          <dt>PUBLICITY-CONTACT:</dt>
          <dd>
              Contact for publicity.
            </dd>
          <dt>PLANNER-CONTACT:</dt>
          <dd>
              Contact for the event planner or organizer.
            </dd>
          <dt>PERFORMER:</dt>
          <dd>
              A performer -- for example, the soloist or the accompanist.  The
              "ORDER" parameter may be used with this participant type to define
              the relative order of multiple performers. For example, ORDER=1 could
              define the principal performer or soloist.
            </dd>
          <dt>SPEAKER:</dt>
          <dd>
              Speaker at an event.
            </dd>
        </dl>
      </section>
      <section anchor="restype" numbered="true" toc="default">
        <name>Resource Type</name>
        <dl newline="false" spacing="normal">
          <dt>Property Name:</dt>
          <dd>
              RESOURCE-TYPE
            </dd>
          <dt>Purpose:</dt>
          <dd>
              This property specifies the type of resource.
            </dd>
          <dt>Value Type:</dt>
          <dd>
              The value type for this property is TEXT.  The
              allowable values are defined below.
            </dd>
          <dt>Format Definition:</dt>
          <dd>
            <t keepWithNext="true">
                  This property is defined by the following notation:
            </t>
<sourcecode type="abnf"><![CDATA[
restypeprop   = "RESOURCE-TYPE" restypeparam ":"
                restypevalue CRLF

restypevalue  = ("ROOM"
               / "PROJECTOR"
               / "REMOTE-CONFERENCE-AUDIO"
               / "REMOTE-CONFERENCE-VIDEO"
               / iana-token)     ; Other IANA-registered
               ; values

restypeparam   = *(";" other-param)
]]></sourcecode>
          </dd>
          <dt>Description:</dt>
          <dd>
              <t>This property <bcp14>MAY</bcp14> be specified in "VRESOURCE" components and
              provides a way to differentiate multiple resources.</t>
              <t>The registered values are described below.
              New resource types <bcp14>SHOULD</bcp14> be
              registered in the manner laid down in this specification.</t>
            </dd>
          <dt>ROOM:</dt>
          <dd>A room for the event/meeting.</dd>
          <dt>PROJECTOR:</dt>
          <dd>Projection equipment.</dd>
          <dt>REMOTE-CONFERENCE-AUDIO:</dt>
          <dd>Audio remote conferencing facilities.</dd>
          <dt>REMOTE-CONFERENCE-VIDEO:</dt>
          <dd>Video remote conferencing facilities.</dd>
        </dl>
      </section>
      <section anchor="calendar-address" numbered="true" toc="default">
        <name>Calendar Address</name>
        <dl newline="false" spacing="normal">
          <dt>Property Name:</dt>
          <dd>
              CALENDAR-ADDRESS
            </dd>
          <dt>Purpose:</dt>
          <dd>
              This property specifies the calendar address for a participant.
            </dd>
          <dt>Value Type:</dt>
          <dd>
              CAL-ADDRESS
            </dd>
          <dt>Property Parameters:</dt>
          <dd>
              IANA-registered or nonstandard property parameters can be
              specified on this property.
            </dd>
          <dt>Conformance:</dt>
          <dd>
              This property <bcp14>MAY</bcp14> be specified once within a "PARTICIPANT" component.
            </dd>
          <dt>Description:</dt>
          <dd>
              This property provides a calendar user address for the
              participant. If there is an "ATTENDEE" property with the same
              value, then the participant is schedulable.
            </dd>
          <dt>Format Definition:</dt>
          <dd>
            <t keepWithNext="true">
                  This property is defined by the following notation:
            </t>
<sourcecode type="abnf"><![CDATA[
calendaraddress   = "CALENDAR-ADDRESS" caladdressparam ":"
               cal-address CRLF

caladdressparam   = *(";" other-param)
]]></sourcecode>
          </dd>
        </dl>
      </section>
      <section anchor="styled-description" numbered="true" toc="default">
        <name>Styled-Description</name>
        <dl newline="false" spacing="normal">
          <dt>Property Name:</dt>
          <dd>
              STYLED-DESCRIPTION
            </dd>
          <dt>Purpose:</dt>
          <dd>
              This property provides for one or more rich-text descriptions to
              replace that provided by the "DESCRIPTION" property.
            </dd>
          <dt>Value Type:</dt>
          <dd>
              There is no default value type for this property. The value type
              can be set to URI or TEXT. Other text-based value types
              can be used when defined in the future. Clients <bcp14>MUST</bcp14> ignore any properties
              with value types they do not understand.
            </dd>
          <dt>Property Parameters:</dt>
          <dd>
              IANA-registered, nonstandard, id, alternate text
              representation, format type, derived, and language property
              parameters can be specified on this property.
            </dd>
          <dt>Conformance:</dt>
          <dd>
              <t>The property can be specified multiple times in the "VEVENT", "VTODO",
              "VJOURNAL", "VFREEBUSY", "PARTICIPANT", or "VALARM" calendar components.</t>
              <t>If it does appear more than once, there <bcp14>MUST</bcp14> be exactly one
              instance of the property with no "DERIVED" parameter or DERIVED=FALSE.
              All others <bcp14>MUST</bcp14> have DERIVED=TRUE.</t>
              <t>Additionally, if there is one or more "STYLED-DESCRIPTION"
              property, then the "DESCRIPTION" property should either be absent
              or have the parameter DERIVED=TRUE.</t>
            </dd>
          <dt>Description:</dt>
          <dd>
              <t>This property supports rich-text descriptions, for example, HTML.
              Event publishers typically wish to provide more and better-formatted 
	      information about the event.</t>
              <t>This property is used in the "VEVENT" and "VTODO" components to
              capture lengthy textual descriptions associated with the activity.
              This property is used in the "VJOURNAL" calendar component to
              capture one or more textual journal entries.
              This property is used in the "VALARM" calendar component to
              capture the display text for a DISPLAY category of alarm and to
              capture the body text for an EMAIL category of alarm.
              In the "PARTICIPANT" component, it provides a detailed description
              of the participant.</t>
              <t>VALUE=TEXT is used to provide rich text inline as the property
              value.</t>
              <t>VALUE=URI is used to provide a link to rich-text content, which is
              expected to be displayed inline as part of the event.</t>
              <t>In either case, the "DESCRIPTION" property should be absent or
              contain a plain-text rendering of the styled text.</t>
              <t>Applications <bcp14>MAY</bcp14> attempt to guess the media type of the
              resource via inspection of its content if and only if the media
              type of the resource is not given by the "FMTTYPE" parameter.  If
              the media type remains unknown, calendar applications <bcp14>SHOULD</bcp14> treat
              it as type "text/html" and process the content as defined in
              <xref target="W3C.REC-html51-20171003" format="default"/>.</t>
              <t>Multiple "STYLED-DESCRIPTION" properties may be used to provide
              different formats or different language variants. However,
              all but one <bcp14>MUST</bcp14> have DERIVED=TRUE.</t>
            </dd>
          <dt>Format Definition:</dt>
          <dd>
            <t keepWithNext="true">
                  This property is defined by the following notation:
            </t>
<sourcecode type="abnf"><![CDATA[
styleddescription = "STYLED-DESCRIPTION" styleddescparam ":"
                   styleddescval CRLF

styleddescparam   = *( 
                   ; The following is REQUIRED
                   ; but MUST NOT occur more than once.
                   ;
                   (";" "VALUE" "=" ("URI" / "TEXT")) /
                   ;
                   ; The following are OPTIONAL
                   ; but MUST NOT occur more than once.
                   ;
                   (";" altrepparam) / (";" languageparam) /
                   (";" fmttypeparam) / (";" derivedparam) /
                   ;
                   ; The following is OPTIONAL
                   ; and MAY occur more than once.
                   ;
                   (";" other-param)
                   )

styleddescval   = ( uri / text )
;Value MUST match value type
]]></sourcecode>
          </dd>
          <dt>Example:</dt>
          <dd>
            <t keepWithNext="true">
                  The following is an example of this property.  It points to an
                  HTML description.
            </t>
<sourcecode type=""><![CDATA[
STYLED-DESCRIPTION;VALUE=URI:http://example.org/desc001.html
]]></sourcecode>
          </dd>
        </dl>
      </section>
      <section anchor="structured-data" numbered="true" toc="default">
        <name>Structured-Data</name>
        <dl newline="false" spacing="normal">
          <dt>Property Name:</dt>
          <dd>
              STRUCTURED-DATA
            </dd>
          <dt>Purpose:</dt>
          <dd>
              This property specifies ancillary data associated with 
              the calendar component.
            </dd>
          <dt>Value Type:</dt>
          <dd>
              There is no default value type for this property. The value type
              can be set to TEXT, BINARY, or URI.
            </dd>
          <dt>Property Parameters:</dt>
          <dd>
              IANA-registered, nonstandard, inline encoding, and value data type
              property parameters can be specified on this property. 
              The format type and schema parameters can be specified 
              on this property and <bcp14>MUST</bcp14> be present for text or inline
              binary encoded content information.
            </dd>
          <dt>Conformance:</dt>
          <dd>
              This property can be specified multiple times in an 
              iCalendar object. Typically, it would be used in the "VEVENT", 
              "VTODO", or "VJOURNAL" calendar components.
            </dd>
          <dt>Description:</dt>
          <dd>
              <t>The existing
              properties in iCalendar cover key elements of events and tasks,
              such as start time, end time, location, summary, etc. However,
              different types of events often have other specific "fields"
              that are useful to include in the calendar data. For example,
              an event representing an airline flight could include the airline,
              flight number, departure and arrival airport codes, check-in
              and gate-closing times, etc. As another example, a sporting event
              might contain information about the type of sport, the home and
              away teams, the league the teams are in, information about
              nearby parking, etc.</t>
              <t>This property is used to specify ancillary data in some
              structured format, either directly (inline) as a "TEXT" or 
              "BINARY" value or as a link via a "URI" value.</t>
              <t>Rather than define new iCalendar properties
              for the variety of event types that might occur, it would be
              better to leverage existing schemas for such data.
              For example, schemas available at <eref brackets="angle" target="https://schema.org"/> include
              different event types. By using standard schemas, interoperability
              can be improved between calendar clients and noncalendaring
              systems that wish to generate or process the data.</t>
              <t>This property allows the direct inclusion of ancillary data whose
              schema is defined elsewhere. This property also includes parameters
              to clearly identify the type of the schema being used so that
              clients can quickly and easily spot what is relevant within the
              calendar data and present that to users or process it within
              the calendaring system.</t>
              <t>iCalendar does support an "ATTACH" property, which can be used
              to include documents or links to documents within the calendar
              data. However, that property does not allow data to be included
              as a "TEXT" value (a feature that "STRUCTURED-DATA" does allow),
              plus attachments are often treated as "opaque" data to be
              processed by some other system rather than the calendar client.
              Thus, the existing "ATTACH" property is not sufficient to cover
              the specific needs of inclusion of schema data. Extending the
              "ATTACH" property to support a new value type would likely cause
              interoperability problems. Additionally, some implementations
              manage attachments by stripping them out and replacing with a
              link to the resource. Thus, a new property to support
              inclusion of schema data is warranted.</t>
            </dd>
          <dt>Format Definition:</dt>
          <dd>
            <t keepWithNext="true">
                  This property is defined by the following notation:
            </t>
<sourcecode name="abnf"><![CDATA[
sdataprop    = "STRUCTURED-DATA" sdataparam 
                 (
                   ";" "VALUE" "=" "TEXT"
                   ":" text
                 ) /
                 (
                   ";" "ENCODING" "=" "BASE64"
                   ";" "VALUE" "=" "BINARY"
                   ";" binary
                 ) /
                 (
                   ";" "VALUE" "=" "URI"
                   ":" uri
                 )
                 CRLF

sdataparam  = *(
                 ;
                 ; The following is OPTIONAL for a URI value,
                 ; REQUIRED for a TEXT or BINARY value,
                 ; and MUST NOT occur more than once.
                 ;
                 (";" fmttypeparam) /
                 (";" schemaparam) / 
                 ;
                 ; The following is OPTIONAL
                 ; and MAY occur more than once.
                 ;
                 (";" other-param)
                 ;
              )
]]></sourcecode>
          </dd>
          <dt>Example:</dt>
          <dd>
            <t>
              The following is an example of this property.
            </t>
<sourcecode type=""><![CDATA[
STRUCTURED-DATA;FMTTYPE=application/ld+json;
 SCHEMA="https://schema.org/SportsEvent";
 VALUE=TEXT:{\n
   "@context": "http://schema.org"\,\n
   "@type": "SportsEvent"\,\n
   "homeTeam": "Pittsburgh Pirates"\,\n
   "awayTeam": "San Francisco Giants"\n
 }\n
]]></sourcecode>
          </dd>
        </dl>
      </section>
    </section>
    <section anchor="new_components" numbered="true" toc="default">
      <name>New Components</name>
      <section anchor="participant" numbered="true" toc="default">
        <name>Participant</name>
        <dl newline="false" spacing="normal">
          <dt>Component name:</dt>
          <dd>PARTICIPANT</dd>
          <dt>Purpose:</dt>
          <dd>
              This component provides information about a participant
              in an event or task.
            </dd>
          <dt>Conformance:</dt>
          <dd>
              This component can be specified multiple times in a
              "VEVENT", "VTODO", "VJOURNAL", or "VFREEBUSY" calendar component.
            </dd>
          <dt>Description:</dt>
          <dd>
              <t>This component provides information about a participant
              in a calendar component. A participant may be an attendee
              in a scheduling sense, and the "ATTENDEE" property may be
              specified in addition.
              Participants can be individuals
              or organizations, for example, a soccer team, the spectators, or
              the musicians.</t>
              <t>"STRUCTURED-DATA" properties, if present, may refer to
              definitions of the participant -- such as a vCard.</t>
              <t>The "CALENDAR-ADDRESS" property, if present, will provide a
              cal-address. If an "ATTENDEE" property has the same value, the
              participant is considered schedulable. The "PARTICIPANT"
              component can be used to contain additional metadata 
              related to the attendee.</t>
            </dd>
          <dt>Format Definition:</dt>
          <dd>
            <t keepWithNext="true">
                  This component is defined by the following notation:
            </t>
<sourcecode type="abnf"><![CDATA[
participantc = "BEGIN" ":" "PARTICIPANT" CRLF
               partprop *locationc *resourcec
               "END" ":" "PARTICIPANT" CRLF

partprop     = *(
               ;
               ; The following are REQUIRED
               ; but MUST NOT occur more than once.
               ;
               participanttype / uid /
               ;
               ; The following are OPTIONAL
               ; but MUST NOT occur more than once.
               ;  
               calendaraddress / created / description / dtstamp /
               geo / last-mod / priority / seq /
               status / summary / url /
               ;
               ; The following are OPTIONAL
               ; and MAY occur more than once.
               ;
               attach / categories / comment
               contact / location / rstatus / related /
               resources / strucloc / strucres / 
               styleddescription / sdataprop / iana-prop
               ;
               )
]]></sourcecode>
          </dd>
          <dt>Note:</dt>
          <dd>
              When the "PRIORITY" property is supplied, it defines the ordering of
              "PARTICIPANT" components with the same value for the
              "PARTICIPANT-TYPE" property.
            </dd>
          <dt>Privacy Issues:</dt>
          <dd>
              When a "LOCATION" property is supplied, it provides information about
              the location of a participant at a given time or times.
              This may represent an unacceptable privacy risk for some
              participants. User agents <bcp14>MUST NOT</bcp14> broadcast this information
              without the express permission of the participants whose location would be 
              exposed. For further
              comments, see <xref target="privacy" format="default"/>.
          </dd>
          <dt>Example:</dt>
          <dd>
            <t keepWithNext="true">
                  The following is an example of this component. It 
                  contains a "STRUCTURED-DATA" property that points to a
                  vCard providing information about the event participant.
            </t>
<sourcecode type=""><![CDATA[
BEGIN:PARTICIPANT
UID: em9lQGZvb2GFtcGxlLmNvbQ
PARTICIPANT-TYPE:PERFORMER
STRUCTURED-DATA;VALUE=URI:
 http://dir.example.com/vcard/aviolinist.vcf
END:PARTICIPANT
]]></sourcecode>
          </dd>
          <dt>Example:</dt>
          <dd>
            <t keepWithNext="true">
                  The following is an example for the primary contact.
            </t>
<sourcecode type=""><![CDATA[
BEGIN:PARTICIPANT
UID: em9lQGZvb2GFtcGxlLmNvbQ
STRUCTURED-DATA;VALUE=URI;
 http://dir.example.com/vcard/contacts/contact1.vcf
PARTICIPANT-TYPE:CONTACT
DESCRIPTION:A contact
END:PARTICIPANT
]]></sourcecode>
          </dd>
          <dt>Example:</dt>
          <dd>
            <t keepWithNext="true">
                  The following is an example for a participant with
                  contact and location.
            </t>
<sourcecode type=""><![CDATA[
BEGIN:PARTICIPANT
UID: em9lQGZvb2GFtcGxlLmNdrt
STRUCTURED-DATA;VALUE=URI;
 http://dir.example.com/vcard/contacts/my-card.vcf
PARTICIPANT-TYPE:SPEAKER
DESCRIPTION:A participant
BEGIN:VLOCATION
UID:123456-abcdef-98765432
NAME:My home location
STRUCTURED-DATA;VALUE=URI:
 http://dir.example.com/addresses/my-home.vcf
END:VLOCATION
END:PARTICIPANT
]]></sourcecode>
          </dd>
        </dl>
        <section anchor="schedulable-participant" numbered="true" toc="default">
          <name>Schedulable Participant</name>
          <t>
            A "PARTICIPANT" component may represent someone or something that
            needs to be scheduled, as defined for ATTENDEE in <xref target="RFC5545" format="default"/>
            and <xref target="RFC5546" format="default"/>. The "PARTICIPANT" component may
            also represent someone or something that is NOT to receive
            scheduling messages.
          </t>
          <t>
            For backwards compatibility with existing clients and servers
            when used to schedule events and tasks,
            the "ATTENDEE" property <bcp14>MUST</bcp14> be used to specify the scheduling
            parameters as defined for that property.
          </t>
          <t>
            For other, future uses, the "CALENDAR-ADDRESS" property <bcp14>MUST</bcp14> be used
            to specify those parameters.
          </t>
          <t>
            A "PARTICIPANT" component is defined to be schedulable if:
          </t>
          <ul spacing="normal">
            <li>it contains a "CALENDAR-ADDRESS" property and</li>
            <li>that property value is the same as the value for an "ATTENDEE" property.</li>
          </ul>
          <t>
            If both of these conditions apply, then the participant defined
            by the value of the URL property will take part in scheduling
            operations, as defined in <xref target="RFC5546" format="default"/>.
          </t>
          <t>
            An appropriate use for the "PARTICIPANT" component in scheduling
            would be to store "SEQUENCE" and "DTSTAMP" properties associated with
            replies from each "ATTENDEE" property. A "LOCATION" property within the
            "PARTICIPANT" component might allow better selection of meeting times
            when participants are in different time zones.
          </t>
        </section>
      </section>
      <section anchor="vlocation" numbered="true" toc="default">
        <name>Location</name>
        <dl newline="false" spacing="normal">
          <dt>Component name:</dt>
          <dd>
              VLOCATION
            </dd>
          <dt>Purpose:</dt>
          <dd>
              This component provides rich information
              about the location of an event using the structured data
              property or, optionally, a plain-text typed value.
            </dd>
          <dt>Conformance:</dt>
          <dd>
              This component can be specified multiple times in a
              "VEVENT", "VTODO", "VJOURNAL", "VFREEBUSY", or
              "PARTICIPANT" calendar component.
            </dd>
          <dt>Description:</dt>
          <dd>
              <t>There may be a number of locations associated with an event.
              This component provides detailed information about a location.</t>
              <t>When used in a component, the value of this property provides
              information about the event venue or of related services, such as
              parking, dining, stations, etc.</t>
              <t>"STRUCTURED-DATA" properties, if present, may refer to
              representations of the location -- such as a vCard.</t>
            </dd>
          <dt>Format Definition:</dt>
          <dd>
            <t keepWithNext="true">
                  This component is defined by the following notation:
            </t>
	    
<sourcecode type="abnf"><![CDATA[
locationc    = "BEGIN" ":" "VLOCATION" CRLF
               locprop
               "END" ":" "VLOCATION" CRLF

locprop      = *(
               ;
               ; The following are REQUIRED
               ; but MUST NOT occur more than once.
               ;
               uid / 
               ;
               ; The following are OPTIONAL
               ; but MUST NOT occur more than once.
               ;
               description / geo / loctype / name
               ;
               ; The following are OPTIONAL
               ; and MAY occur more than once.
               ;
               sdataprop / iana-prop
            )  
]]></sourcecode>
              <t>The "NAME" property is defined in <xref target="RFC7986" format="default"/>.</t>
          </dd>
          <dt>Example:</dt>
          <dd>
            <t keepWithNext="true">
                  The following is an example of this component. It points to a
                  venue.
            </t>
<sourcecode type=""><![CDATA[
BEGIN:VLOCATION
UID:123456-abcdef-98765432
NAME:The venue
STRUCTURED-DATA;VALUE=URI:
 http://dir.example.com/venues/big-hall.vcf
END:VLOCATION
]]></sourcecode>
          </dd>
        </dl>
      </section>
      <section anchor="vresource" numbered="true" toc="default">
        <name>Resource</name>
        <dl newline="false" spacing="normal">
          <dt>Component name:</dt>
          <dd>
              VRESOURCE
            </dd>
          <dt>Purpose:</dt>
          <dd>
              This component provides a typed reference to external information
              about a resource or, optionally, a plain-text typed value.
              Typically, a resource is anything that
              might be required or used by a calendar entity and possibly has a
              directory entry.
            </dd>
          <dt>Conformance:</dt>
          <dd>
              This component can be specified multiple times in a
              "VEVENT", "VTODO", "VJOURNAL", "VFREEBUSY", or
              "PARTICIPANT" calendar component.
            </dd>
          <dt>Description:</dt>
          <dd>
              <t>When used in a component, this component provides
              information about resources used for the event, such as
              rooms, projectors, and conferencing capabilities.</t>
              <t>The RESOURCE-TYPE
              value registry provides a place in which resource types
              may be registered.</t>
              <t>"STRUCTURED-DATA" properties, if present, may refer to
              representations of the resource -- such as a vCard.</t>
            </dd>
          <dt>Format Definition:</dt>
          <dd>
            <t keepWithNext="true">
                  This component is defined by the following notation:
            </t>
<sourcecode type="abnf"><![CDATA[
resourcec    = "BEGIN" ":" "VRESOURCE" CRLF
               resprop
               "END" ":" "VRESOURCE" CRLF

resprop      = *(
               ;
               ; The following are REQUIRED
               ; but MUST NOT occur more than once.
               ;
               uid /
               ;
               ; The following are OPTIONAL
               ; but MUST NOT occur more than once.
               ;
               description / geo / name / restype /
               ;
               ; The following are OPTIONAL
               ; and MAY occur more than once.
               ;
               sdataprop / iana-prop
             )
]]></sourcecode>
              <t>The "NAME" property is defined in <xref target="RFC7986" format="default"/>.</t>
          </dd>
          <dt>Example:</dt>
          <dd>
            <t keepWithNext="true">
                  The following is an example of this component. It refers to a
                  projector.
            </t>
<sourcecode type=""><![CDATA[
BEGIN:VRESOURCE
UID:456789-abcdef-98765432
NAME:The projector
RESOURCE-TYPE:projector
STRUCTURED-DATA;VALUE=URI:http://dir.example.com/projectors/3d.vcf
END:VRESOURCE
]]></sourcecode>
          </dd>
        </dl>
      </section>
    </section>
    <section numbered="true" toc="default">
      <name>Extended Examples</name>
      <t>
       The following are some examples of the use of the properties defined in
       this specification. They include additional properties defined in
       <xref target="RFC7986" format="default"/>, which includes "IMAGE".
      </t>
      <section numbered="true" toc="default">
        <name>Example 1</name>
        <t keepWithNext="true">
            The following is an example of a "VEVENT" describing a concert.
            It includes location
            information for the venue itself, as well as references to parking and
            restaurants.
        </t>
<sourcecode type=""><![CDATA[
BEGIN:VEVENT
CREATED:20200215T145739Z
DESCRIPTION: Piano Sonata No 3\n
 Piano Sonata No 30
DTSTAMP:20200215T145739Z
DTSTART;TZID=America/New_York:20200315T150000Z
DTEND;TZID=America/New_York:20200315T163000Z
LAST-MODIFIED:20200216T145739Z
SUMMARY:Beethoven Piano Sonatas
UID:123456
IMAGE;VALUE=URI;DISPLAY=BADGE;FMTTYPE=image/png:h
 ttp://example.com/images/concert.png
BEGIN:PARTICIPANT
PARTICIPANT-TYPE:SPONSOR
UID:dG9tQGZvb2Jhci5xlLmNvbQ
STRUCTURED-DATA;VALUE=URI:http://example.com/sponsor.vcf
END:PARTICIPANT
BEGIN:PARTICIPANT
PARTICIPANT-TYPE:PERFORMER:
UID:em9lQGZvb2GFtcGxlLmNvbQ
STRUCTURED-DATA;VALUE=URI:http://www.example.com/people/johndoe.vcf
END:PARTICIPANT
BEGIN:VLOCATION
UID:123456-abcdef-98765432
NAME:The venue
STRUCTURED-DATA;VALUE=URI:http://dir.example.com/venues/big-hall.vcf
END:VLOCATION
BEGIN:VLOCATION
UID:123456-abcdef-87654321
NAME:Parking for the venue
STRUCTURED-DATA;VALUE=URI:http://dir.example.com/venues/parking.vcf
END:VLOCATION
END:VEVENT
]]></sourcecode>
      </section>
      <section numbered="true" toc="default">
        <name>Example 2</name>
        <t keepWithNext="true">
            The following is an example of a "VEVENT" describing a meeting.
            One of the attendees is a remote participant.
        </t>
<sourcecode type=""><![CDATA[
BEGIN:VEVENT
CREATED:20200215T145739Z
DTSTAMP:20200215T145739Z
DTSTART;TZID=America/New_York:20200315T150000Z
DTEND;TZID=America/New_York:20200315T163000Z
LAST-MODIFIED:20200216T145739Z
SUMMARY:Conference planning
UID:123456
ORGANIZER:mailto:a@example.com
ATTENDEE;PARTSTAT=ACCEPTED;CN=A:mailto:a@example.com
ATTENDEE;RSVP=TRUE;CN=B:mailto:b@example.com
BEGIN:PARTICIPANT
PARTICIPANT-TYPE:ACTIVE:
UID:v39lQGZvb2GFtcGxlLmNvbQ
STRUCTURED-DATA;VALUE=URI:http://www.example.com/people/b.vcf
LOCATION:At home
END:PARTICIPANT
END:VEVENT
]]></sourcecode>
      </section>
    </section>
    <section numbered="true" toc="default">
      <name>Security Considerations</name>
      <t>
        This specification extends <xref target="RFC5545" format="default"/> and makes further use of
        possibly linked data. While calendar data is not unique in this
        regard, it is worth reminding implementors of some of the dangers
        and safeguards.
      </t>
      <section anchor="security-uris" numbered="true" toc="default">
        <name>URIs</name>
        <t>
          See <xref target="RFC3986" format="default"/> for a discussion of the security
          considerations relating to URIs. Because of the issues discussed there and below,
          clients <bcp14>SHOULD NOT</bcp14> follow URIs and fetch content automatically
          and should only do so at the explicit request of the user.
        </t>
        <t>Fetching remote resources carries inherent risks.
          Connections must only be allowed on well-known ports,
          using allowed protocols (generally just HTTP/HTTPS on
          their default ports). The URL must be
          resolved externally and not allowed to access internal resources.
          Connecting to an external source reveals IP (and therefore
          generally location) information.
        </t>
        <t>
          A maliciously constructed iCalendar object may contain a very large
          number of URIs.  In the case of published calendars with a large
          number of subscribers, such objects could be widely distributed.
          Implementations should be careful to limit the automatic fetching of
          linked resources to reduce the risk of this being an amplification
          vector for a denial-of-service attack.
        </t>
      </section>
      <section anchor="security-malicious-content" numbered="true" toc="default">
        <name>Malicious Content</name>
        <t>
          For the "STRUCTURED-DATA" property, agents need to be aware
          that a client could attack underlying storage by sending extremely large
          values and could attack processing time by uploading a recurring
          event with a large number of overrides and then repeatedly adding,
          updating, and deleting structured data.
        </t>
        <t>
          Agents should set reasonable limits on storage size and number
          of instances and apply those constraints. Calendar protocols should
          ensure there is a way to report on such limits being exceeded.
        </t>
        <t>
          Malicious content could be introduced into the calendar server by way
          of the "STRUCTURED-DATA" property and propagated to many end users via
          scheduling.  Servers <bcp14>SHOULD</bcp14> check this property for malicious
          or inappropriate content.  Upon detecting such content, servers
          <bcp14>SHOULD</bcp14> remove the property.
        </t>
      </section>
      <section anchor="security-html" numbered="true" toc="default">
        <name>HTML Content</name>
        <t>
          When processing HTML content, applications need to be aware of the
          many security and privacy issues, as described in the IANA Considerations
          section of
          <xref target="W3C.REC-html51-20171003" format="default"/>.
        </t>
      </section>
    </section>
    <section anchor="privacy" numbered="true" toc="default">
      <name>Privacy Considerations</name>
      <section anchor="privacy-tracking" numbered="true" toc="default">
        <name>Tracking</name>
        <t>
          Properties with a "URI" value type can expose their users to
          privacy leaks, as any network access of the URI data can be
          tracked both by a network observer and by the
          entity hosting the remote resource.
          Clients <bcp14>SHOULD NOT</bcp14> automatically download data
          referenced by the URI without explicit instruction from users.
        </t>
        <t>
          To help alleviate some of the concerns, protocols and services
          could provide proxy services for downloading referenced data.
        </t>
      </section>
      <section anchor="privacy-locations" numbered="true" toc="default">
        <name>Revealing Locations</name>
        <t>
          The addition of location information to the new participant
          component provides information about the location of
          participants at a given time. This information <bcp14>MUST NOT</bcp14> be
          distributed to other participants without those participant's
          express permission. Note that there may be a number of
          participants who may be unaware of their inclusion in the
          data.
        </t>
        <t>
          Agents processing and distributing
          calendar data must be aware that it has the property of
          providing information about a future time when a given
          individual may be at a particular location, which could
          enable targeted attacks against that individual.
        </t>
        <t>
          The same may be true of other information contained in the
          participant component. In general, revealing only as much
          as is absolutely necessary should be the approach taken.
        </t>
        <t>
          For example, there may be some privacy considerations relating to the "ORDER"
          parameter, as it provides an indication of the
          organizer's perception of the relative importance of other
          participants.
        </t>
      </section>
    </section>
    <section anchor="iana_considerations" numbered="true" toc="default">
      <name>IANA Considerations</name>
      <section anchor="additional-icalendar-registrations" numbered="true" toc="default">
        <name>Additional iCalendar Registrations</name>
        <section anchor="property_registrations" numbered="true" toc="default">
          <name>Properties</name>
          <t>
            This document defines the following iCalendar properties 
            that have been added to the "Properties" registry defined in <xref target="RFC5545" format="default" sectionFormat="of" section="8.2.3"/>:
          </t>
          <table align="center">
	    <name>Additions to the Properties Registry</name>
            <thead>
              <tr>
                <th align="left">Property</th>
                <th align="left">Status</th>
                <th align="left">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td align="left">CALENDAR-ADDRESS</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="calendar-address" format="default"/></td>
              </tr>
              <tr>
                <td align="left">LOCATION-TYPE</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="loctype" format="default"/></td>
              </tr>
              <tr>
                <td align="left">PARTICIPANT-TYPE</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="participant-type" format="default"/></td>
              </tr>
              <tr>
                <td align="left">RESOURCE-TYPE</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="restype" format="default"/></td>
              </tr>
              <tr>
                <td align="left">STRUCTURED-DATA</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="structured-data" format="default"/></td>
              </tr>
              <tr>
                <td align="left">STYLED-DESCRIPTION</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="styled-description" format="default"/></td>
              </tr>
            </tbody>
          </table>
        </section>
        <section anchor="parameter_registrations" numbered="true" toc="default">
          <name>Parameters</name>
          <t>
            This document defines the following iCalendar property parameters
            that have been added to the "Parameters" registry defined in <xref target="RFC5545" format="default" sectionFormat="of" section="8.2.4"/>:
          </t>
          <table align="center">
	    <name>Additions to the Parameters Registry</name>
            <thead>
              <tr>
                <th align="left">Parameter</th>
                <th align="left">Status</th>
                <th align="left">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td align="left">ORDER</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="parameter_order" format="default"/></td>
              </tr>
              <tr>
                <td align="left">SCHEMA</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="parameter_schema" format="default"/></td>
              </tr>
              <tr>
                <td align="left">DERIVED</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="parameter_derived" format="default"/></td>
              </tr>
            </tbody>
          </table>
        </section>
        <section anchor="component_registrations" numbered="true" toc="default">
          <name>Components</name>
          <t>
            This document defines the following iCalendar components that have been
            added to the "Components" registry defined in <xref target="RFC5545" format="default" sectionFormat="of" section="8.3.1"/>:
          </t>
          <table align="center">
	    <name>Additions to the Components Registry</name>
            <thead>
              <tr>
                <th align="left">Component</th>
                <th align="left">Status</th>
                <th align="left">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td align="left">PARTICIPANT</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="participant" format="default"/></td>
              </tr>
              <tr>
                <td align="left">VLOCATION</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="vlocation" format="default"/></td>
              </tr>
              <tr>
                <td align="left">VRESOURCE</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="vresource" format="default"/></td>
              </tr>
            </tbody>
          </table>
        </section>
      </section>
      <section anchor="new_registration-tables" numbered="true" toc="default">
        <name>Participant Types and Resource Types Registries</name>
        <t>
          This section defines new registration tables for PARTICIPANT-TYPE
          and RESOURCE-TYPE values. These tables are updated using the same
          approaches laid down in <xref target="RFC5545" format="default" sectionFormat="of" section="8.2.1"/>.
        </t>
        <t>
          This document creates new IANA registries for participant and resource
          types.

          IANA will maintain these registries and, following the policies
          outlined in <xref target="RFC8126" format="default"/>, new tokens are
          assigned after Expert Review.  The Expert Reviewer will generally
          consult the IETF GEOPRIV Working Group mailing list or its designated
          successor.  Updates or deletions of tokens from the registration
          follow the same procedures.

          The Expert Review should be guided by a few common-sense
          considerations.  For example, tokens should not be specific to a
          country, region, organization, or company; they should be well
          defined and widely recognized.  The Expert's support of IANA will
          include providing IANA with the new token(s) when the update is
          provided only in the form of a schema and providing IANA with the
          new schema element(s) when the update is provided only in the form of
          a token.

          To ensure widespread usability across protocols, tokens <bcp14>MUST</bcp14> follow
          the character set restrictions for XML Names <xref target="W3C.REC-xml-20040204"/>.

          Each registration must include the name of the token and a brief
          description similar to the ones offered herein for the initial
          registrations contained this document.
        </t>
        <section anchor="participant_types_registry" numbered="true" toc="default">
          <name>Participant Types</name>
         
          <table align="center">
	    <name>Initial Contents of the Participant Types Registry</name>
            <thead>
              <tr>
                <th align="left">Participant Type</th>
                <th align="left">Status</th>
                <th align="left">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td align="left">ACTIVE</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="participant-type" format="default"/></td>
              </tr>
              <tr>
                <td align="left">INACTIVE</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="participant-type" format="default"/></td>
              </tr>
              <tr>
                <td align="left">SPONSOR</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="participant-type" format="default"/></td>
              </tr>
              <tr>
                <td align="left">CONTACT</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="participant-type" format="default"/></td>
              </tr>
              <tr>
                <td align="left">BOOKING-CONTACT</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="participant-type" format="default"/></td>
              </tr>
              <tr>
                <td align="left">EMERGENCY-CONTACT</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="participant-type" format="default"/></td>
              </tr>
              <tr>
                <td align="left">PUBLICITY-CONTACT</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="participant-type" format="default"/></td>
              </tr>
              <tr>
                <td align="left">PLANNER-CONTACT</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="participant-type" format="default"/></td>
              </tr>
              <tr>
                <td align="left">PERFORMER</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="participant-type" format="default"/></td>
              </tr>
              <tr>
                <td align="left">SPEAKER</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="participant-type" format="default"/></td>
              </tr>
            </tbody>
          </table>
        </section>
        <section anchor="resource_types_registry" numbered="true" toc="default">
          <name>Resource Types</name>
       
          <table align="center">
	    <name>Initial Contents of the Resource Types Registry</name>
            <thead>
              <tr>
                <th align="left">Resource Type</th>
                <th align="left">Status</th>
                <th align="left">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td align="left">PROJECTOR</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="restype" format="default"/></td>
              </tr>
              <tr>
                <td align="left">ROOM</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="restype" format="default"/></td>
              </tr>
              <tr>
                <td align="left">REMOTE-CONFERENCE-AUDIO</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="restype" format="default"/></td>
              </tr>
              <tr>
                <td align="left">REMOTE-CONFERENCE-VIDEO</td>
                <td align="left">Current</td>
                <td align="left">RFC 9073, <xref target="restype" format="default"/></td>
              </tr>
            </tbody>
          </table>
        </section>
      </section>
    </section>
  </middle>
  <back>
    <references>
      <name>Normative References</name>
      <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml"/>
      <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.6350.xml"/>
      <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.3986.xml"/>
      <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.4589.xml"/>
      <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.5234.xml"/>
      <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.5545.xml"/>
      <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.5546.xml"/>
      <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.7986.xml"/>
      <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8126.xml"/>
      <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8174.xml"/>
      <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8259.xml"/>

      <reference anchor="W3C.REC-html51-20171003" target="https://www.w3.org/TR/2017/REC-html51-20171003">
        <front>
          <title>HTML 5.1 2nd Edition</title>
          <author initials="S." surname="Faulkner" fullname="Steve Faulkner" role="editor">
            <organization/>
          </author>
          <author initials="A." surname="Eicholz" fullname="Arron Eicholz" role="editor">
            <organization/>
          </author>
          <author initials="T." surname="Leithead" fullname="Travis Leithead" role="editor">
            <organization/>
          </author>
          <author initials="A." surname="Danilo" fullname="Alex Danilo" role="editor">
            <organization/>
          </author>
          <date month="October" year="2017"/>
        </front>
        <seriesInfo name="World Wide Web Consortium Recommendation" value="REC-html51-20171003"/>
      </reference>

      <reference anchor="W3C.REC-xml-20081126" target="https://www.w3.org/TR/2008/REC-xml-20081126">
        <front>
          <title>Extensible Markup Language (XML) 1.0 (Fifth Edition)</title>
          <author initials="T." surname="Bray" fullname="Tim Bray" role="editor">
            <organization/>
          </author>
          <author initials="J." surname="Paoli" fullname="Jean Paoli" role="editor">
            <organization/>
          </author>
          <author initials="M." surname="Sperberg-McQueen" fullname="Michael Sperberg-McQueen" role="editor">
            <organization/>
          </author>
          <author initials="E." surname="Maler" fullname="Eve Maler" role="editor">
            <organization/>
          </author>
          <author initials="F." surname="Yergeau" fullname="Franois Yergeau" role="editor">
            <organization/>
          </author>
          <date month="November" year="2008"/>
        </front>
        <seriesInfo name="World Wide Web Consortium Recommendation" value="REC-xml-20081126"/>
      </reference>

      <reference anchor="W3C.REC-xml-20040204" target="https://www.w3.org/TR/2004/REC-xml-20040204">
        <front>
          <title>Extensible Markup Language (XML) 1.0 (Third Edition)</title>
          <author initials="M." surname="Sperberg-McQueen" fullname="Michael Sperberg-McQueen">
	                <organization/>
          </author>

	            <author initials="E." surname="Maler" fullname="Eve Maler">
            <organization/>
          </author>
	  
          <author initials="T." surname="Bray" fullname="Tim Bray">
            <organization/>
          </author>
          <author initials="J." surname="Paoli" fullname="Jean Paoli">
            <organization/>
          </author>


          <author initials="F." surname="Yergeau" fullname="Franois Yergeau">
            <organization/>
          </author>
          <date month="February" year="2004"/>
        </front>
        <seriesInfo name="World Wide Web Consortium Recommendation" value="REC-xml-20040204"/>
      </reference>
      
    </references>

    <section numbered="false" toc="default">
      <name>Acknowledgements</name>
      <t>
        The author would like to thank <contact fullname="Chuck Norris"/> of eventful.com for his work,
        which led to the development of this RFC.
      </t>
      <t>
        The author would also like to thank the members of CalConnect:
        The Calendaring and Scheduling Consortium,
        the Event Publication technical committee, and the following
        individuals for contributing their ideas and support:
      </t>
      <t>
        <contact fullname="Cyrus Daboo"/>, <contact fullname="John Haug"/>, <contact fullname="Dan Mendell"/>, <contact fullname="Ken Murchison"/>, and <contact fullname="Scott Otis"/>.
      </t>
    </section>
  </back>
</rfc>
