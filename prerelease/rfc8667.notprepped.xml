<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE rfc SYSTEM "rfc2629-xhtml.ent">
<rfc xmlns:xi="http://www.w3.org/2001/XInclude" submissionType="IETF" category="std" consensus="true" number="8667" ipr="trust200902" obsoletes="" updates="" xml:lang="en" tocInclude="true" symRefs="true" sortRefs="true" version="3" docName="draft-ietf-pce-segment-routing-16">
  <!-- xml2rfc v2v3 conversion 2.27.1 -->
  <front>
    <title abbrev="IS-IS Extensions for Segment Routing">IS-IS Extensions for
    Segment Routing</title>
    <seriesInfo name="RFC" value="8667"/>
    <author fullname="Stefano Previdi" initials="S." role="editor" surname="Previdi">
      <organization>Huawei Technologies</organization>
      <address>
        <postal>
          <street/>
          <city/>
          <code/>
          <country>Italy</country>
        </postal>
        <email>stefano@previdi.net</email>
      </address>
    </author>
    <author fullname="Les Ginsberg" initials="L." role="editor" surname="Ginsberg">
      <organization>Cisco Systems, Inc.</organization>
      <address>
        <postal>
          <street/>
          <city/>
          <code/>
          <country>United States of America</country>
        </postal>
        <email>ginsberg@cisco.com</email>
      </address>
    </author>
    <author fullname="Clarence Filsfils" initials="C." surname="Filsfils">
      <organization>Cisco Systems, Inc.</organization>
      <address>
        <postal>
          <street/>
          <city>Brussels</city>
          <region/>
          <code/>
          <country>Belgium</country>
        </postal>
        <email>cfilsfil@cisco.com</email>
      </address>
    </author>
    <author fullname="Ahmed Bashandy" initials="A." surname="Bashandy">
      <organization>Arrcus</organization>
      <address>
        <postal>
          <street/>
          <city/>
          <region/>
          <country/>
        </postal>
        <email>abashandy.ietf@gmail.com</email>
      </address>
    </author>
    <author fullname="Hannes Gredler" initials="H." surname="Gredler">
      <organization>RtBrick Inc.</organization>
      <address>
        <postal>
          <street/>
          <city/>
          <region/>
          <code/>
          <country/>
        </postal>
        <email>hannes@rtbrick.com</email>
      </address>
    </author>
    <author fullname="Bruno Decraene" initials="B." surname="Decraene">
      <organization>Orange</organization>
      <address>
        <postal>
          <street/>
          <city/>
          <code/>
          <country>France</country>
        </postal>
        <email>bruno.decraene@orange.com</email>
      </address>
    </author>
    <date year="2019" month="December"/>
    <area>Routing</area>
    <workgroup>IS-IS for IP Internets</workgroup>
    <keyword>MPLS</keyword>
    <keyword>SID</keyword>
    <keyword>IGP</keyword>
    <keyword>IS-IS</keyword>
    <keyword>Label advertisement</keyword>
    <keyword>Segment Routing</keyword>
    <abstract>
      <t>Segment Routing (SR) allows for a flexible definition of end-to-end
      paths within IGP topologies by encoding paths as sequences of
      topological sub-paths, called "segments". These segments are advertised
      by the link-state routing protocols (IS-IS and OSPF).</t>
      <t>This document describes the IS-IS extensions that need to be
      introduced for Segment Routing operating on an MPLS data plane.</t>
    </abstract>
  </front>
  <middle>
    <section numbered="true" toc="default">
      <name>Introduction</name>
      <t>Segment Routing (SR) allows for a flexible definition of end-to-end
      paths within IGP topologies by encoding paths as sequences of
      topological sub-paths, called "segments". These segments are advertised
      by the link-state routing protocols (IS-IS and OSPF). Prefix segments
      represent an ECMP-aware shortest path to a prefix (or a node), as per
      the state of the IGP topology. Adjacency segments represent a hop over a
      specific adjacency between two nodes in the IGP. A prefix segment is
      typically a multi-hop path while an adjacency segment, in most of the
      cases, is a one-hop path. SR's control plane can be applied to both IPv6
      and MPLS data planes and does not require any additional signaling
      (other than the regular IGP). For example, when used in MPLS networks,
      SR paths do not require any LDP or RSVP-TE signaling. Still, SR can
      interoperate in the presence of Label Switched Paths (LSPs) established with RSVP or LDP.</t>
      <t>There are additional segment types, e.g., the Binding SID as defined in
      <xref target="RFC8402" format="default"/>. This document also defines an advertisement
      for one type of Binding SID: the Mirror Context segment.</t>
      <t>This document describes the IS-IS extensions that need to be
      introduced for Segment Routing operating on an MPLS data plane.</t>
      <t>The Segment Routing architecture is described in <xref target="RFC8402" format="default"/>.  Segment Routing use cases are described in <xref target="RFC7855" format="default"/>.</t>
      <section numbered="true" toc="default">
        <name>Requirements Language</name>
        <t>The key words "<bcp14>MUST</bcp14>", "<bcp14>MUST NOT</bcp14>", "<bcp14>REQUIRED</bcp14>", "<bcp14>SHALL</bcp14>", "<bcp14>SHALL
    NOT</bcp14>", "<bcp14>SHOULD</bcp14>", "<bcp14>SHOULD NOT</bcp14>", "<bcp14>RECOMMENDED</bcp14>", "<bcp14>NOT RECOMMENDED</bcp14>",
    "<bcp14>MAY</bcp14>", and "<bcp14>OPTIONAL</bcp14>" in this document are to be interpreted as
    described in BCP 14 <xref target="RFC2119" format="default"/> <xref target="RFC8174" format="default"/> 
    when, and only when, they appear in all capitals, as shown here.</t>
      </section>
    </section>
    <section numbered="true" toc="default">
      <name>Segment Routing Identifiers</name>
      <t>The Segment Routing architecture <xref target="RFC8402" format="default"/> defines
      different types of Segment Identifiers (SIDs). This document defines the
      IS-IS encodings for the IGP-Prefix Segment, the IGP-Adjacency Segment,
      the IGP-LAN-Adjacency Segment, and the Binding Segment.</t>
      <section anchor="PREFIXSIDSUBTLV" numbered="true" toc="default">
        <name>Prefix Segment Identifier (Prefix-SID) Sub-TLV</name>
        <t>A new IS-IS sub-TLV is defined: the Prefix Segment Identifier
        (Prefix-SID) sub-TLV.</t>
        <t>The Prefix-SID sub-TLV carries the Segment Routing IGP-Prefix-SID
        as defined in <xref target="RFC8402" format="default"/>. The 'Prefix-SID' <bcp14>MUST</bcp14> be
        unique within a given IGP domain (when the L-Flag is not set).</t>
        <t>A Prefix-SID sub-TLV is associated to a prefix advertised by a node
        and <bcp14>MAY</bcp14> be present in any of the following TLVs: </t>

        <ul empty="true">
          <li>TLV-135 (Extended IPv4 reachability) defined in <xref target="RFC5305" format="default"/>.</li>
        
          <li>TLV-235 (Multi-topology IPv4 Reachability) defined in <xref target="RFC5120" format="default"/>.</li>
        
          <li>TLV-236 (IPv6 IP Reachability) defined in <xref target="RFC5308" format="default"/>.</li>
     
          <li>TLV-237 (Multi-topology IPv6 IP Reachability) defined in <xref target="RFC5120" format="default"/>.</li>
      
          <li>The Binding TLV and Multi-Topology Binding TLV are defined in Sections <xref target="BINDINGTLV" format="counter"/> and <xref target="MTBINDINGTLV" format="counter"/>,
            respectively.</li>
        </ul>

        <t>The Prefix-SID sub-TLV has the following format:</t>
        <artwork name="" type="" align="left" alt=""><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Type        |     Length    |     Flags     |   Algorithm   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                         SID/Index/Label (variable)            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
<t>where:</t>
<ul empty="true">
<li>
        <dl newline="false" spacing="normal" indent="9">
          <dt>Type:</dt><dd>3</dd>
          <dt>Length:</dt><dd>5 or 6 depending on the size of the SID (described
            below)</dd>
            <dt>
            Flags:</dt><dd><t> 1-octet field of the following flags:</t>

            <artwork name="" type="" align="left" alt=""><![CDATA[
       0 1 2 3 4 5 6 7 
      +-+-+-+-+-+-+-+-+
      |R|N|P|E|V|L|   | 
      +-+-+-+-+-+-+-+-+]]></artwork>
      <t> where: </t>
          <dl newline="false" spacing="normal" indent="9">
              <dt>R-Flag:</dt><dd>Re-advertisement Flag. If set, then the prefix to
                which this Prefix-SID is attached has been propagated by the
                router from either another level (i.e., from Level-1 to
                Level-2 or the opposite) or redistribution (e.g., from
                another protocol).</dd>
              <dt>N-Flag:</dt><dd>Node-SID Flag. If set, then the Prefix-SID refers
                to the router identified by the prefix. Typically, the N-Flag
                is set on Prefix-SIDs that are attached to a router loopback address.
                The N-Flag is set when the Prefix-SID is a Node-SID as
                described in <xref target="RFC8402" format="default"/>.</dd>
              <dt>P-Flag:</dt><dd>No-PHP 
(No Penultimate Hop-Popping) Flag. If set, then the penultimate hop <bcp14>MUST
                NOT</bcp14> pop the Prefix-SID before delivering the packet to the
                node that advertised the Prefix-SID.</dd>
              <dt>E-Flag:</dt><dd>Explicit NULL Flag. If set, any upstream neighbor
                of the Prefix-SID originator <bcp14>MUST</bcp14> replace the Prefix-SID with
              a Prefix-SID that has an Explicit NULL value (0 for IPv4 and 2
                for IPv6) before forwarding the packet.</dd>
              <dt>V-Flag:</dt><dd>Value Flag. If set, then the Prefix-SID carries a
                value (instead of an index). By default, the flag is UNSET.</dd>
              <dt>L-Flag:</dt><dd>Local Flag. If set, then the value/index carried by
                the Prefix-SID has local significance. By default, the flag is
                UNSET.</dd>
              <dt>Other bits:</dt><dd><bcp14>MUST</bcp14> be zero when originated and ignored when
                received.</dd>
          </dl>
        </dd>
       </dl>
      </li>
     </ul>
  	<ul empty="true">
          <li><dl newline="false" spacing="normal">

          <dt>Algorithm:</dt><dd>the router may use various algorithms when
            calculating reachability to other nodes or to prefixes attached to
            these nodes. Algorithm identifiers are defined in <xref target="SRALGOSUBTLV" format="default"/>. Examples of these algorithms are metric-based
            Shortest Path First (SPF), various sorts of Constrained SPF,
            etc. The Algorithm field of the Prefix-SID contains the identifier
            of the algorithm the router uses to compute the reachability of
            the prefix to which the Prefix-SID is associated.</dd>
           </dl></li></ul>

        <ul empty="true">
        <li>
          At origination, the Prefix-SID Algorithm field <bcp14>MUST</bcp14> be set to 0
            or to any value advertised in the SR-Algorithm sub-TLV (see <xref target="SRALGOSUBTLV" format="default"/>).</li>
         
          <li>A router receiving a Prefix-SID from a remote node and with an
            algorithm value that such remote node has not advertised in the
            SR-Algorithm sub-TLV (see <xref target="SRALGOSUBTLV" format="default"/>) <bcp14>MUST</bcp14> ignore
            the Prefix-SID sub-TLV.</li>
       
          <li>SID/Index/Label as defined in <xref target="VANDLFLAGS" format="default"/>.</li>
      </ul>
        <t>When the Prefix-SID is an index (and the V-Flag is not set), the value
        is used to determine the actual label value inside the set of all
        advertised label ranges of a given router. This allows a receiving
        router to construct the forwarding state to a particular destination
        router.</t>
        <t>In many use cases, a 'stable transport' address is overloaded as an
        identifier of a given node. Because Prefixes may be re-advertised into
        other levels, there may be some ambiguity (e.g., originating router vs. L1L2 router) for which node a particular IP prefix serves as the
        identifier. The Prefix-SID sub-TLV contains the necessary flags to
        disambiguate Prefix-to-node mappings. Furthermore, if a given node has
        several 'stable transport' addresses, there are flags to differentiate
        those among other Prefixes advertised from a given node.</t>

        <section anchor="FLAGS" numbered="true" toc="default">
          <name>Flags</name>
          <section anchor="VANDLFLAGS" numbered="true" toc="default">
            <name>V-Flag and L-Flag</name>
            <t>The V-Flag indicates whether the SID/Index/Label field is a
            value or an index.</t>

            <t>The L-Flag indicates whether the value/index in the
            SID/Index/Label field has local or global significance.</t>

            <t>The following settings for V-Flag and L-Flag are valid:</t>
        <ul empty="true"><li>
         <dl>
            <dt>The V-Flag and L-Flag are set to 0:</dt><dd>The SID/Index/Label
            field is a 4-octet index defining the offset in the SID/Label
            space advertised by this router using the encodings defined in
            <xref target="SRCAPSUBTLV" format="default"/>.</dd>

            <dt>The V-Flag and L-Flag are set to 1:</dt><dd>The SID/Index/Label
            field is a 3-octet local label where the 20 rightmost bits are
            used for encoding the label value.</dd>
         </dl>
        </li>
	</ul>

            <t>All other combinations of V-Flag and L-Flag are invalid, and any
            SID advertisement received with an invalid setting for the V-Flag and
            L-Flag <bcp14>MUST</bcp14> be ignored.</t>
          </section>

          <section anchor="RANDNFLAGS" numbered="true" toc="default">
            <name>R-Flag and N-Flag</name>
            <t>The R-Flag <bcp14>MUST</bcp14> be set for prefixes that are not local to the
            router and are advertised because of:</t>

            <ul empty="true">
              <li>propagation (Level-1 into Level-2);</li>
              <li>leaking (Level-2 into Level-1); or</li>
              <li>redistribution (e.g., from another protocol).</li>
            </ul>

            <t>In the case where a Level-1-2 router has local interface
            addresses configured in one level, it may also propagate these
            addresses into the other level. In such case, the Level-1-2 router
            <bcp14>MUST NOT</bcp14> set the R bit.</t>
            <t>The N-Flag is used in order to define a Node-SID. A router <bcp14>MAY</bcp14>
            set the N-Flag only if all of the following conditions are
            met:</t>

             <ul empty="true">
              <li>The prefix to which the Prefix-SID is attached is local to
                the router (i.e., the prefix is configured on one of the local
                interfaces, e.g., a 'stable transport' loopback).</li>
              <li>The prefix to which the Prefix-SID is attached has a Prefix
                length of either /32 (IPv4) or /128 (IPv6).</li>
            </ul>

            <t>The router <bcp14>MUST</bcp14> ignore the N-Flag on a received Prefix-SID if
            the prefix has a Prefix length different than /32 (IPv4) or /128
            (IPv6).</t>
            <t>The Prefix Attribute Flags sub-TLV <xref target="RFC7794" format="default"/>
            also defines the N-Flag and R-Flag and with the same semantics of the
            equivalent flags defined in this document. Whenever the Prefix
            Attribute Flags sub-TLV is present for a given prefix, the values
            of the N-Flag and R-Flag advertised in that sub-TLV <bcp14>MUST</bcp14> be used, and
            the values in a corresponding Prefix-SID sub-TLV (if present) <bcp14>MUST</bcp14>
            be ignored.</t>
          </section>
          <section anchor="EANDPFLAGS" numbered="true" toc="default">
            <name>E-Flag and P-Flag</name>
            <t>The following behavior is associated with the settings of the E-Flag
            and P-Flag:</t>
            <ul spacing="normal">
              <li>If the P-Flag is not set, then any upstream neighbor of the
                Prefix-SID originator <bcp14>MUST</bcp14> pop the Prefix-SID. This is
                equivalent to the "penultimate hop-popping" mechanism used in
                the MPLS data plane, which improves performance of the ultimate
                hop. MPLS EXP bits of the Prefix-SID are not preserved to the
                ultimate hop (the Prefix-SID being removed). If the P-Flag is
                unset, the received E-Flag is ignored.</li>
              <li>
                <t>If the P-Flag is set, then:</t>
                <ul spacing="normal">
                  <li>If the E-Flag is not set, then any upstream neighbor of
                    the Prefix-SID originator <bcp14>MUST</bcp14> keep the Prefix-SID on top
                    of the stack. This is useful when, e.g., the originator of
                    the Prefix-SID must stitch the incoming packet into a
                    continuing MPLS LSP to the final destination. This could
                    occur at an inter-area border router (prefix propagation
                    from one area to another) or at an interdomain border
                    router (prefix propagation from one domain to
                    another).</li>
                  <li>If the E-Flag is set, then any upstream neighbor of the
                    Prefix-SID originator <bcp14>MUST</bcp14> replace the Prefix-SID with a
                    Prefix-SID having an Explicit NULL value. This is useful,
                    e.g., when the originator of the Prefix-SID is the final
                    destination for the related prefix and the originator
                    wishes to receive the packet with the original EXP
                    bits.</li>
                </ul>
              </li>
            </ul>
            <t>When propagating (from either Level-1 to Level-2 or Level-2 to Level-1)
            a reachability advertisement originated by another IS-IS speaker,
            the router <bcp14>MUST</bcp14> set the P-Flag and <bcp14>MUST</bcp14> clear the E-Flag of the
            related Prefix-SIDs.</t>
          </section>
        </section>

        <section anchor="PROPAGATION" numbered="true" toc="default">
          <name>Prefix-SID Propagation</name>
          <t>The Prefix-SID sub-TLV <bcp14>MUST</bcp14> be included when the associated
          Prefix Reachability TLV is propagated across level boundaries.</t>
          <t>The Level-1-2 router that propagates the Prefix-SID sub-TLV
          between levels maintains the content (flags and SID), except as noted
          in Sections <xref target="RANDNFLAGS" format="counter"/> and <xref target="EANDPFLAGS" format="counter"/>.</t>
       </section>
      </section>
      <section numbered="true" toc="default">
        <name>Adjacency Segment Identifier</name>
        <t>A new IS-IS sub-TLV is defined: the Adjacency Segment Identifier (Adj-SID)
        sub-TLV.</t>
        <t>The Adj-SID sub-TLV is an optional sub-TLV carrying the Segment
        Routing IGP-Adjacency-SID as defined in <xref target="RFC8402" format="default"/> with
        flags and fields that may be used, in future extensions of Segment
        Routing, for carrying other types of SIDs.</t>
        <t>IS-IS adjacencies are advertised using one of the IS Neighbor TLVs
        below:</t>
        <ul empty="true">
          <li>TLV-22 (Extended IS reachability) <xref target="RFC5305" format="default"/></li>
          <li>TLV-222 (MT-ISN) <xref target="RFC5120" format="default"/></li>
          <li>TLV-23 (IS Neighbor Attribute) <xref target="RFC5311" format="default"/></li>
          <li>TLV-223 (MT IS Neighbor Attribute) <xref target="RFC5311" format="default"/></li>
          <li>TLV-141 (inter-AS reachability information) <xref target="RFC5316" format="default"/></li>
        </ul>
        <t>Multiple Adj-SID sub-TLVs <bcp14>MAY</bcp14> be associated with a single
        IS Neighbor.</t>

        <section anchor="ADJSIDSUBTLV" numbered="true" toc="default">
          <name>Adjacency Segment Identifier (Adj-SID) Sub-TLV</name>

          <t>The following format is defined for the Adj-SID sub-TLV:</t>
          <artwork name="" type="" align="left" alt=""><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Type        |     Length    |     Flags     |     Weight    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                         SID/Label/Index (variable)            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
<t>where:</t>
<ul empty="true"><li>
          <dl newline="false" spacing="normal" indent="9">
            <dt>Type:</dt><dd>31</dd>
            <dt>Length:</dt><dd>5 or 6 depending on size of the SID</dd>
            <dt>Flags:</dt><dd><t>1-octet field of the following flags:</t>
              <artwork name="" type="" align="left" alt=""><![CDATA[       0 1 2 3 4 5 6 7 
      +-+-+-+-+-+-+-+-+
      |F|B|V|L|S|P|   | 
      +-+-+-+-+-+-+-+-+]]></artwork>
              <t> where: </t>
              <dl newline="false" spacing="normal" indent="9">
   
                <dt>F-Flag:</dt><dd>Address-Family Flag. If unset, then the Adj-SID
                  is used when forwarding IPv4-encapsulated traffic to the
                  neighbor. If set, then the Adj-SID is used when forwarding
                  IPv6-encapsulated traffic to the neighbor.</dd>
    
                <dt>B-Flag:</dt><dd>Backup Flag. If set, the Adj-SID is eligible for
                  protection (e.g., using IP Fast Reroute (IPFRR) or MPLS Fast Reroute (MPLS-FRR)) as described in
                  <xref target="RFC8402" format="default"/>.</dd>
       
                <dt>V-Flag:</dt><dd>Value Flag. If set, then the Adj-SID carries a
                  value. By default, the flag is SET.</dd>
          
                <dt>L-Flag:</dt><dd>Local Flag. If set, then the value/index carried
                  by the Adj-SID has local significance. By default, the flag
                  is SET.</dd>
         
                <dt>S-Flag:</dt><dd>Set Flag. When set, the S-Flag indicates that the
                  Adj-SID refers to a set of adjacencies (and therefore <bcp14>MAY</bcp14> be
                  assigned to other adjacencies as well).</dd>
           
                <dt>P-Flag:</dt><dd>Persistent Flag. When set, the P-Flag indicates
                  that the Adj-SID is persistently allocated, i.e., the
                  Adj-SID value remains consistent across router restart
                  and/or interface flap.</dd>
              
                <dt>Other bits:</dt><dd><bcp14>MUST</bcp14> be zero when originated and ignored when
                  received.</dd>
              </dl>
            </dd>
	  </dl>
         </li>
	</ul>
          <ul empty="true">
          <li><dl newline="false" spacing="normal" indent="9">

            <dt>Weight:</dt><dd>1 octet. The value represents the weight of the
              Adj-SID for the purpose of load balancing. The use of the weight
              is defined in <xref target="RFC8402" format="default"/>.</dd>
           </dl>
          </li>
         </ul>

        <ul empty="true">
        <li>SID/Index/Label as defined in <xref target="VANDLFLAGS" format="default"/>.</li>
     
            <li>An SR-capable router <bcp14>MAY</bcp14> allocate an Adj-SID for each of its
              adjacencies.</li>
         
            <li>An SR-capable router <bcp14>MAY</bcp14> allocate more than one Adj-SID to an
              adjacency.</li>

            <li>An SR-capable router <bcp14>MAY</bcp14> allocate the same Adj-SID to
              different adjacencies.</li>
         
            <li>When the P-Flag is not set, the Adj-SID <bcp14>MAY</bcp14> be persistent.
              When the P-Flag is set, the Adj-SID <bcp14>MUST</bcp14> be persistent.</li>
         
            <li>Examples of Adj-SID sub-TLV use are described in <xref target="RFC8402" format="default"/>.</li>
         
            <li>The F-Flag is used in order for the router to advertise the
              outgoing encapsulation of the adjacency the Adj-SID is attached
              to.</li>
          </ul>
        </section>


        <section anchor="LANADJSIDSUBTLV" numbered="true" toc="default">
          <name>Adjacency Segment Identifier (LAN-Adj-SID) Sub-TLV</name>
          <t>In LAN subnetworks, the Designated Intermediate System (DIS) is
          elected and originates the Pseudonode LSP (PN LSP) including all
          neighbors of the DIS.</t>
          <t>When Segment Routing is used, each router in the LAN <bcp14>MAY</bcp14>
          advertise the Adj-SID of each of its neighbors. Since, on LANs, each
          router only advertises one adjacency to the DIS (and doesn't
          advertise any other adjacency), each router advertises the set of
          Adj-SIDs (for each of its neighbors) inside a newly defined sub-TLV
          that is a part of the TLV advertising the adjacency to the DIS (e.g.,
          TLV-22).</t>
          <t>The following new sub-TLV is defined: LAN Adjacency Segment Identifier (LAN-Adj-SID) containing the
          set of Adj-SIDs the router assigned to each of its LAN
          neighbors.</t>
          <t>The format of the LAN-Adj-SID sub-TLV is as follows:</t>
          <artwork name="" type="" align="left" alt=""><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Type        |     Length    |      Flags    |    Weight     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                  Neighbor System-ID (ID length octets)        |
+                               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                               | 
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                   SID/Label/Index (variable)                  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
  <t>where:</t>
  <ul empty="true"><li>
          <dl newline="false" spacing="normal" indent="9">
 
            <dt>Type:</dt><dd>32</dd>
         
            <dt>Length:</dt><dd>Variable</dd>
        
            <dt>Flags:</dt><dd><t> 1-octet field of the following flags:</t>


              <artwork name="" type="" align="left" alt=""><![CDATA[       0 1 2 3 4 5 6 7 
      +-+-+-+-+-+-+-+-+
      |F|B|V|L|S|P|   | 
      +-+-+-+-+-+-+-+-+]]></artwork>
              <t> where the F-Flag, B-Flag, V-Flag, L-Flag, S-Flag, and P-Flag are defined in <xref target="ADJSIDSUBTLV" format="default"/>. </t>
	    </dd>
           </dl>
          </li>
         </ul>
          <ul empty="true"><li>
              <dl newline="false" spacing="normal" indent="13">
              <dt>Other bits:</dt><dd><bcp14>MUST</bcp14> be zero when
              originated and ignored when received.</dd>
         
            <dt>Weight:</dt><dd>1 octet. The value represents the weight of the
              Adj-SID for the purpose of load balancing. The use of the weight
              is defined in <xref target="RFC8402" format="default"/>.</dd>
           
            <dt>Neighbor System-ID:</dt><dd>IS-IS System-ID of length "ID Length" as
              defined in <xref target="ISO10589" format="default"/>.</dd>
       
            <dt>SID/Index/Label:</dt><dd>As defined in <xref target="VANDLFLAGS" format="default"/>.</dd>
          </dl>
      </li>
     </ul>

          <t>Multiple LAN-Adj-SID sub-TLVs <bcp14>MAY</bcp14> be encoded.</t>
          <t>Note that this sub-TLV <bcp14>MUST NOT</bcp14> appear in TLV 141.</t>
          <t>In case TLV-22, TLV-23, TLV-222, or TLV-223 (reporting the adjacency to the
          DIS) can't contain the whole set of LAN-Adj-SID sub-TLVs, multiple
          advertisements of the adjacency to the DIS <bcp14>MUST</bcp14> be used, and all
          advertisements <bcp14>MUST</bcp14> have the same metric.</t>
          <t>Each router within the level, by receiving the DIS PN LSP as well
          as the non-PN LSP of each router in the LAN, is capable of
          reconstructing the LAN topology as well as the set of Adj-SIDs each
          router uses for each of its neighbors.</t>
        </section>
      </section>

      <section anchor="SIDLABELSUBTLV" numbered="true" toc="default">
        <name>SID/Label Sub-TLV</name>
        <t>The SID/Label sub-TLV may be present in the following TLVs/sub-TLVs
        defined in this document:</t>
        <ul empty="true">
        <li>SR-Capabilities sub-TLV (<xref target="SRCAPSUBTLV" format="default"/>)</li>
        <li>SR Local Block sub-TLV (<xref target="SRLBSUBTLV" format="default"/>)</li>
        <li>SID/Label Binding TLV (<xref target="BINDINGTLV" format="default"/>)</li>
        <li>Multi-Topology SID/Label Binding TLV (<xref target="MTBINDINGTLV" format="default"/>)</li>
        </ul>

        <t>Note that the codepoint used in all of the above cases is the
        SID/Label sub-TLV codepoint specified in the new "sub-TLVs for
        TLV 149 and 150" registry created by this document.</t>
        <t>The SID/Label sub-TLV contains a SID or an MPLS label. The SID/Label
        sub-TLV has the following format: </t>
        <artwork name="" type="" align="left" alt=""><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Type        |     Length    |  
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                          SID/Label (variable)                 |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
<t>where:</t>
          <ul empty="true"><li>
          <dl newline="false" spacing="normal" indent="12">
     
          <dt>Type:</dt><dd>1</dd>
       
          <dt>Length:</dt><dd>3 or 4</dd>
   
          <dt>SID/Label:</dt><dd>If the length is set to 3, then the 20 rightmost bits
            represent an MPLS label. If the length is set to 4, then the value is a
            32-bit index.</dd>
        </dl>
      </li>
     </ul>
      </section>

      <section anchor="BINDINGTLV" numbered="true" toc="default">
        <name>SID/Label Binding TLV</name>
        <t>The SID/Label Binding TLV <bcp14>MAY</bcp14> be originated by any router in an
        IS-IS domain. There are multiple uses of the SID/Label Binding
        TLV.</t>
        <t>The SID/Label Binding TLV may be used to advertise prefixes to
        SID/Label mappings. This functionality is called the Segment Routing
        Mapping Server (SRMS). The behavior of the SRMS is defined in <xref target="RFC8661" format="default"/>.</t>
        <t>The SID/Label Binding TLV may also be used to advertise a Mirror
        SID indicating the ability of a node to process traffic originally destined to
        another IGP node. This behavior is defined in <xref target="RFC8402" format="default"/>.</t>
        <t>The SID/Label Binding TLV has the following format:</t>

  
          <artwork name="" type="" align="left" alt=""><![CDATA[
   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |      Type     |     Length    |     Flags     |     RESERVED  |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |            Range              | Prefix Length |     Prefix    |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  //               Prefix (continued, variable)                  //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                    Sub-TLVs (variable)                        |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
     <t>where:</t>
       <ul empty="true"><li>
          <dl newline="false" spacing="normal" indent="12">
          <dt>Type:</dt><dd>149</dd>
          <dt>Length:</dt><dd>Variable</dd>
          <dt>Flags:</dt><dd>1 octet</dd>
          <dt>RESERVED:</dt><dd>1 octet (<bcp14>SHOULD</bcp14> be transmitted as 0 and <bcp14>MUST</bcp14> be
            ignored on receipt)</dd>
          <dt>Range:</dt><dd>2 octets</dd>
          <dt>Prefix Length:</dt><dd>1 octet</dd>
          <dt>Prefix:</dt><dd>0-16 octets</dd></dl>
          <t>sub-TLVs, where each sub-TLV consists of a sequence of:</t>
            <ul spacing="normal">
              <li>1 octet of sub-TLV type</li>
              <li>1 octet of length of the value field of the sub-TLV</li>
              <li>0-243 octets of value</li>
            </ul>
            </li>
            </ul>
 
        <section numbered="true" toc="default">
          <name>Flags</name>
          <t>Flags: 1-octet field of the following flags:</t>
          <artwork name="" type="" align="left" alt=""><![CDATA[
 0 1 2 3 4 5 6 7 
+-+-+-+-+-+-+-+-+
|F|M|S|D|A|     | 
+-+-+-+-+-+-+-+-+]]></artwork>
          <t> where: </t>
          <ul empty="true"><li>
          <dl newline="false" spacing="normal" indent="9">
       
            <dt>F-Flag:</dt><dd>Address-Family Flag. If unset, then the prefix
              carries an IPv4 prefix. If set, then the prefix carries an IPv6
              prefix.</dd>
          
            <dt>M-Flag:</dt><dd>Mirror Context Flag. Set if the advertised SID
              corresponds to a mirrored context. The use of a mirrored context
              is described in <xref target="RFC8402" format="default"/>.</dd>
          
            <dt>S-Flag:</dt><dd>If set, the SID/Label Binding TLV <bcp14>SHOULD</bcp14> be flooded
              across the entire routing domain. If the S-Flag is not set, the
              SID/Label Binding TLV <bcp14>MUST NOT</bcp14> be leaked between levels. This
              bit <bcp14>MUST NOT</bcp14> be altered during the TLV leaking.</dd>
         
            <dt>D-Flag:</dt><dd>When the SID/Label Binding TLV is leaked from Level-2
              to Level-1, the D-Flag <bcp14>MUST</bcp14> be set. Otherwise, this flag <bcp14>MUST</bcp14> be
              clear. SID/Label Binding TLVs with the D-Flag set <bcp14>MUST NOT</bcp14> be
              leaked from Level-1 to Level-2. This is to prevent TLV looping
              across levels.</dd>
         
            <dt>A-Flag:</dt><dd>Attached Flag. The originator of the SID/Label
              Binding TLV <bcp14>MAY</bcp14> set the A bit in order to signal that the
              prefixes and SIDs advertised in the SID/Label Binding TLV are
              directly connected to their originators. The mechanisms through
              which the originator of the SID/Label Binding TLV can figure out
              if a prefix is attached or not are outside the scope of this
              document (e.g., through explicit configuration). If the Binding
              TLV is leaked to other areas/levels, the A-Flag <bcp14>MUST</bcp14> be
              cleared.</dd>
	  </dl>
	</li>
       </ul>

          <ul empty="true">
            <li>An implementation may decide not to honor the S-Flag in order
              to not leak Binding TLVs between levels (for policy
              reasons).</li></ul>
          
         <ul empty="true"><li>
            <dl>
            <dt>Other bits:</dt><dd><bcp14>MUST</bcp14> be zero when originated and ignored when
              received.</dd>
	    </dl>
           </li>
          </ul>


        </section>
        <section numbered="true" toc="default">
          <name>Range</name>
          <t>The 'Range' field provides the ability to specify a range of
          addresses and their associated Prefix-SIDs. This advertisement
          supports the SRMS functionality. It is essentially a compression
          scheme to distribute a continuous prefix and their continuous,
          corresponding SID/Label Block. If a single SID is advertised, then
          the Range field <bcp14>MUST</bcp14> be set to one. For range advertisements &gt; 1,
          the Range field <bcp14>MUST</bcp14> be set to the number of addresses that need to
          be mapped into a Prefix-SID. In either case, the prefix is the first
          address to which a SID is to be assigned.</t>
        </section>
        <section numbered="true" toc="default">
          <name>Prefix Length, Prefix</name>
          <t>The 'Prefix' represents the Forwarding Equivalence Class at the
          tail end of the advertised path. The 'Prefix' does not need to
          correspond to a routable prefix of the originating node.</t>
          <t>The 'Prefix Length' field contains the length of the prefix in
          bits. Only the most significant octets of the prefix are encoded
          (i.e., 1 octet for prefix length 1 up to 8, 2 octets for prefix
          length 9 to up 16, 3 octets for prefix length 17 up to 24, 4 octets
          for prefix length 25 up to 32, ...., and 16 octets for prefix length 113
          up to 128).</t>
        </section>
        <section numbered="true" toc="default">
          <name>Mapping Server Prefix-SID</name>
          <t>The Prefix-SID sub-TLV is defined in <xref target="PREFIXSIDSUBTLV" format="default"/> and contains the SID/Index/Label value
          associated with the prefix and range. The Prefix-SID sub-TLV <bcp14>MUST</bcp14> be
          present in the SID/Label Binding TLV when the M-Flag is clear. The
          Prefix-SID sub-TLV <bcp14>MUST NOT</bcp14> be present when the M-Flag is set.</t>
          <section numbered="true" toc="default">
            <name>Prefix-SID Flags</name>
            <t>The Prefix-SID Flags are defined in <xref target="PREFIXSIDSUBTLV" format="default"/>. The Mapping Server <bcp14>MAY</bcp14> advertise a
            mapping with the N-Flag set when the prefix being mapped is known
            in the link-state topology with a mask length of 32 (IPv4) or 128
            (IPv6) and when the prefix represents a node. The mechanisms
            through which the operator defines that a prefix represents a node
            are outside the scope of this document (typically it will be
            through configuration).</t>
            <t>The other flags defined in <xref target="PREFIXSIDSUBTLV" format="default"/> are
            not used by the Mapping Server and <bcp14>MUST</bcp14> be ignored at
            reception.</t>
          </section>
          <section anchor="MSPHP" numbered="true" toc="default">
            <name>PHP Behavior when Using Mapping Server Advertisements</name>
            <t>As the Mapping Server does not specify the originator of a
            prefix advertisement, it is not possible to determine PHP behavior
            solely based on the Mapping Server Advertisement. However, if
            additional information is available, PHP behavior may safely be
            done. The required information consists of:</t>
            <ul spacing="normal">
              <li>A prefix reachability advertisement for the prefix has been
                received, which includes the Prefix Attribute Flags sub-TLV
                <xref target="RFC7794" format="default"/>.</li>
              <li>X-Flag and R-Flag are both set to 0 in the Prefix Attribute
                Flags sub-TLV.</li>
            </ul>
            <t>In the absence of a Prefix Attribute Flags sub-TLV <xref target="RFC7794" format="default"/>, the A-Flag in the Binding TLV indicates that
            the originator of a prefix reachability advertisement is directly
            connected to the prefix; thus, PHP <bcp14>MUST</bcp14> be done by the neighbors
            of the router originating the prefix reachability advertisement.
            Note that the A-Flag is only valid in the original area in which the
            Binding TLV is advertised.</t>
          </section>
          <section numbered="true" toc="default">
            <name>Prefix-SID Algorithm</name>
            <t>The Algorithm field contains the identifier of the algorithm
            associated with the SIDs for the prefix(es) in the range. Use of
            the Algorithm field is described in <xref target="PREFIXSIDSUBTLV" format="default"/>.</t>
          </section>
        </section>
        <section anchor="BSIDSUBTLV" numbered="true" toc="default">
          <name>SID/Label Sub-TLV</name>
          <t>The SID/Label sub-TLV (Type: 1) contains the SID/Label value as
          defined in <xref target="SIDLABELSUBTLV" format="default"/>. It <bcp14>MUST</bcp14> be present in
          the SID/Label Binding TLV when the M-Flag is set in the Flags field
          of the parent TLV.</t>
        </section>
        <section anchor="BSIDEXAMPLE" numbered="true" toc="default">
          <name>Example Encodings</name>
          <t>Example 1: If the following IPv4 router addresses (loopback
          addresses) need to be mapped into the corresponding Prefix-SID
          indexes, then: </t>

<ul empty="true">
<li>Router-A: 192.0.2.1/32, Prefix-SID: Index 1</li>
<li>Router-B: 192.0.2.2/32, Prefix-SID: Index 2</li>
<li>Router-C: 192.0.2.3/32, Prefix-SID: Index 3</li>
<li>Router-D: 192.0.2.4/32, Prefix-SID: Index 4</li>
</ul>

          <artwork name="" type="" align="left" alt=""><![CDATA[
   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |      Type     |     Length    |0|0|0|0|0|     |     RESERVED  |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |            Range = 4          |        32     |      192      |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |        0      |         2     |        1      |Prefix-SID Type|
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  | Sub-TLV Length|     Flags     |   Algorithm   |               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                                             1 |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ ]]></artwork>
          <t>Example 2: If the following IPv4 prefixes need to be mapped into
          the corresponding Prefix-SID indexes, then: </t>

<ul empty="true">       
<li>10.1.1/24, Prefix-SID: Index 51</li>
<li>10.1.2/24, Prefix-SID: Index 52</li>
<li>10.1.3/24, Prefix-SID: Index 53</li>
<li>10.1.4/24, Prefix-SID: Index 54</li>
<li>10.1.5/24, Prefix-SID: Index 55</li>
<li>10.1.6/24, Prefix-SID: Index 56</li>
<li>10.1.7/24, Prefix-SID: Index 57</li>
</ul>

          <artwork name="" type="" align="left" alt=""><![CDATA[
   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |      Type     |     Length    |0|0|0|0|0|     |     RESERVED  |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |            Range = 7          |        24     |      10       |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |        1      |         1     |Prefix-SID Type| Sub-TLV Length|
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |    Flags      | Algorithm     |                               |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                           51  |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
          <t>Example 3: If the following IPv6 prefixes need to be mapped into
          the corresponding Prefix-SID indexes, then: </t>

<ul empty="true">       
<li>2001:db8:1/48, Prefix-SID: Index 151</li>
<li>2001:db8:2/48, Prefix-SID: Index 152</li>
<li>2001:db8:3/48, Prefix-SID: Index 153</li>
<li>2001:db8:4/48, Prefix-SID: Index 154</li>
</ul>

          <artwork name="" type="" align="left" alt=""><![CDATA[
   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |      Type     |     Length    |1|0|0|0|0|     |     RESERVED  |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |            Range = 4          |        48     |     0x20      |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |       0x01    |       0x0d    |       0xb8    |     0x00      |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |    0x01       |Prefix-SID Type| Sub-TLV Length|  Flags        |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  | Algorithm     |                 0                             |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |       151     |
  +-+-+-+-+-+-+-+-+]]></artwork>
          <t>It is not expected that a network operator will be able to keep
          fully continuous Prefix/SID/Index mappings. In order to support
          noncontinuous mapping ranges, an implementation <bcp14>MAY</bcp14> generate several
          instances of Binding TLVs.</t>
          <t>For example, if a router wants to advertise the following ranges:
          </t>
     <ul empty="true"><li>
          <dl newline="false" spacing="normal" indent="12">
           
            <dt>Range 16:</dt><dd>{ 192.0.2.1-15, Index 1-15 }</dd>
          
            <dt>Range 6:</dt><dd>{ 192.0.2.22-27, Index 22-27 }</dd>
          
            <dt>Range 41:</dt><dd>{ 192.0.2.44-84, Index 80-120 }</dd>
          </dl>
	</li>
      </ul>
          <t> a router would need to advertise three instances of the
          Binding TLV.</t>
        </section>
      </section>
      <section anchor="MTBINDINGTLV" numbered="true" toc="default">
        <name>Multi-Topology SID/Label Binding TLV</name>
        <t>The Multi-Topology SID/Label Binding TLV allows the support of
        Multi-Topology IS-IS (M-ISIS) as defined in <xref target="RFC5120" format="default"/>. The Multi-Topology
        SID/Label Binding TLV has the same format as the SID/Label Binding TLV
        defined in <xref target="BINDINGTLV" format="default"/> with the difference consisting
        of a Multi-topology Identifier (MT ID) as defined here below:</t>
      
          <artwork name="" type="" align="left" alt=""><![CDATA[
   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |      Type     |     Length    |             MT ID             |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |     Flags     |     RESERVED  |            Range              |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  | Prefix Length |            Prefix (variable)                 //
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  |                    Sub-TLVs (variable)                        |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
      <t>where: </t>
      <ul empty="true"><li>
        <dl newline="false" spacing="normal" indent="9">
      
          <dt>Type:</dt><dd>150</dd>
  
          <dt>Length:</dt><dd>Variable</dd>
	</dl>

           <t>MT ID is the Multi-topology Identifier defined as:</t>

            <artwork name="" type="" align="left" alt=""><![CDATA[
   0                   1               
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
  | RESVD |         MT ID         |
  +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
              <ul empty="true"><li>
              <dl newline="false" spacing="normal" indent="9">
           
              <dt>RESVD:</dt><dd>Reserved bits. <bcp14>MUST</bcp14> be reset on transmission and
                ignored on receive.</dd>
       
              <dt>MT ID:</dt><dd>A 12-bit field containing the non-zero ID of the
                topology being announced. The TLV <bcp14>MUST</bcp14> be ignored if the ID is
                zero. This is to ensure the consistent view of the standard
                unicast topology.</dd>
	      
             </dl>
           </li>
         </ul>
       </li>
      </ul>

        <ul empty="true"><li>
          <t>The other fields and sub-TLVs are defined in <xref target="BINDINGTLV" format="default"/>.</t>
	</li></ul>

      </section>
    </section>
    <section numbered="true" toc="default">
      <name>Router Capabilities</name>
      <t>This section defines sub-TLVs that are inserted into the IS-IS
      Router Capability that is defined in <xref target="RFC7981" format="default"/>.</t>
      <section anchor="SRCAPSUBTLV" numbered="true" toc="default">
        <name>SR-Capabilities Sub-TLV</name>
        <t>Segment Routing requires each router to advertise its SR data plane
        capability and the range of MPLS label values it uses for Segment
        Routing in the case where global SIDs are allocated (i.e., global
        indexes). Data plane capabilities and label ranges are advertised
        using the newly defined SR-Capabilities sub-TLV.</t>
        <t>The Router Capability TLV specifies flags that control its
        advertisement. The SR-Capabilities sub-TLV <bcp14>MUST</bcp14> be propagated
        throughout the level and <bcp14>MUST NOT</bcp14> be advertised across level
        boundaries. Therefore, Router Capability TLV distribution flags are set
        accordingly, i.e., the S-Flag in the Router Capability TLV <xref target="RFC7981" format="default"/> <bcp14>MUST</bcp14> be unset.</t>
        <t>The SR-Capabilities sub-TLV has the following format:</t>
        <artwork name="" type="" align="left" alt=""><![CDATA[
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Type        |     Length    |    Flags      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                     Range                     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
//                SID/Label Sub-TLV (variable)                 //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
         <ul empty="true"><li>
         <dl newline="false" spacing="normal" indent="9">
         <dt>Type:</dt><dd>2</dd>
    
          <dt>Length:</dt><dd>Variable</dd>
        
          <dt>Flags:</dt><dd><t>1 octet of flags. The following are defined: </t>

            <artwork name="" type="" align="left" alt=""><![CDATA[    0 1 2 3 4 5 6 7 
   +-+-+-+-+-+-+-+-+
   |I|V|           | 
   +-+-+-+-+-+-+-+-+]]></artwork>	 

          </dd></dl>
         </li>
        </ul>
             <ul empty="true"><li>
             <t>where: </t>
             <ul empty="true"><li>
             <dl newline="false" spacing="normal" indent="9">
              <dt>I-Flag:</dt><dd>MPLS IPv4 Flag. If set, then the router is capable
                of processing SR-MPLS-encapsulated IPv4 packets on all
                interfaces.</dd>
      
              <dt>V-Flag:</dt><dd>MPLS IPv6 Flag. If set, then the router is capable
                of processing SR-MPLS-encapsulated IPv6 packets on all
                interfaces.</dd>
            </dl>
	  </li></ul></li></ul>

            <ul empty="true"><li>
            <t>One or more Segment Routing Global Block (SRGB) Descriptor entries, each of which have the
            following format:</t>

             <ul empty="true"><li>
             <dl newline="false" spacing="normal" indent="9">
              <dt>Range:</dt><dd>3 octets</dd>
              <dt>SID/Label sub-TLV:</dt><dd>MPLS label as defined in <xref target="SIDLABELSUBTLV" format="default"/></dd>
            </dl>
         </li>
       </ul>
     </li>
   </ul>

        <t>The SID/Label sub-TLV contains the first value of the SRGB while the
        range contains the number of SRGB elements. The range value <bcp14>MUST</bcp14> be
        higher than 0.</t>
        <t>The SR-Capabilities sub-TLV <bcp14>MAY</bcp14> be advertised in an LSP of any
        number, but a router <bcp14>MUST NOT</bcp14> advertise more than one SR-Capabilities
        sub-TLV. A router receiving multiple SR-Capabilities sub-TLVs from the
        same originator <bcp14>SHOULD</bcp14> select the first advertisement in the lowest-numbered
        LSP.</t>
        <t>When multiple SRGB Descriptors are advertised, the entries define an
        ordered set of ranges on which a SID index is to be applied. For this
        reason, changing the order in which the descriptors are advertised will
        have a disruptive effect on forwarding.</t>
        <t>When a router adds a new SRGB Descriptor to an existing
        SR-Capabilities sub-TLV, the new descriptor <bcp14>SHOULD</bcp14> add the newly
        configured block at the end of the sub-TLV and <bcp14>SHOULD NOT</bcp14> change the
        order of previously advertised blocks. Changing the order of the
        advertised descriptors will create label churn in the FIB and
        black hole / misdirect some traffic during the IGP convergence. In
        particular, if a range that is not the last is extended, it's
        preferable to add a new range rather than extending the previously
        advertised range.</t>
        <t>The originating router <bcp14>MUST</bcp14> ensure the order is unchanged after a
        graceful restart (using checkpointing, non-volatile storage, or any
        other mechanism).</t>
        <t>The originating router <bcp14>MUST NOT</bcp14> advertise overlapping ranges.</t>
        <t>When a router receives multiple overlapping ranges, it <bcp14>MUST</bcp14> conform
        to the procedures defined in <xref target="RFC8660" format="default"/>.</t>

        <t>Here follows an example of the advertisement of multiple ranges:</t>
 
  <ul empty="true" spacing="normal">
          <li>
            <ul empty="true" spacing="normal">
             <li>The originating router advertises the following ranges:</li>
             <li>SR-Cap: range: 100, SID value: 100 </li>
             <li>SR-Cap: range: 100, SID value: 1000</li>
             <li>SR-Cap: range: 100, SID value: 500</li>
       	</ul>
     </li>
  </ul>

  <ul empty="true" spacing="normal">
          <li>
   The receiving routers concatenate the ranges in the received 
   order and build the SRGB as follows:</li>
  </ul>

  <artwork name="" type="" align="left" alt=""><![CDATA[
   SRGB = [100, 199]
          [1000, 1099]
          [500, 599]]]></artwork>

 <ul empty="true" spacing="normal">
 <li>The indexes span multiple ranges:</li>
 </ul>

  <artwork name="" type="" align="left" alt=""><![CDATA[
      index 0   means label 100
      ...
      index 99  means label 199
      index 100 means label 1000 
      index 199 means label 1099
      ...
      index 200 means label 500
      ...]]></artwork>

      </section>
      <section anchor="SRALGOSUBTLV" numbered="true" toc="default">
        <name>SR-Algorithm Sub-TLV</name>
        <t>The router may use various algorithms when calculating reachability
        to other nodes or to prefixes attached to these nodes. Examples of
        these algorithms are metric-based SPF, various
        sorts of Constrained SPF, etc. The SR-Algorithm sub-TLV allows the
        router to advertise the algorithms that the router is currently using.
        Algorithm values are defined in the "IGP Algorithm Type" registry
        defined in <xref target="RFC8665" format="default"/>.
        The following values have been defined:</t>

        <ul empty="true" spacing="normal"><li>
          <dl newline="false" spacing="normal">
          <dt>0:</dt><dd>SPF algorithm based on link metric.
            This is the well-known shortest path algorithm as computed by the
            IS-IS Decision Process. Consistent with the deployed practice for
            link-state protocols, algorithm 0 permits any node to overwrite
            the SPF path with a different path based on local policy.</dd>
          <dt>1:</dt><dd>Strict SPF algorithm based on link
            metric. The algorithm is identical to algorithm 0, but algorithm 1
            requires that all nodes along the path will honor the SPF routing
            decision. Local policy <bcp14>MUST NOT</bcp14> alter the forwarding decision
            computed by algorithm 1 at the node claiming to support algorithm
            1.</dd>
	  </dl>
	</li>
        </ul>
        <t>The Router Capability TLV specifies flags that control its
        advertisement. The SR-Algorithm <bcp14>MUST</bcp14> be propagated throughout the
        level and <bcp14>MUST NOT</bcp14> be advertised across level boundaries. Therefore,
        Router Capability TLV distribution flags are set accordingly, i.e.,
        the S-Flag <bcp14>MUST</bcp14> be unset.</t>
        <t>The SR-Algorithm sub-TLV is optional. It <bcp14>MUST NOT</bcp14> be advertised
        more than once at a given level. A router receiving multiple
        SR-Algorithm sub-TLVs from the same originator <bcp14>SHOULD</bcp14> select the first
        advertisement in the lowest-numbered LSP.</t>
        <t>When the originating router does not advertise the SR-Algorithm
        sub-TLV, it implies that algorithm 0 is the only algorithm supported by the routers
        that support the extensions defined in this document.</t>
        <t>When the originating router does advertise the SR-Algorithm
        sub-TLV, then algorithm 0 <bcp14>MUST</bcp14> be present while non-zero algorithms
        <bcp14>MAY</bcp14> be present.</t>
        <t>The SR-Algorithm sub-TLV has the following format: </t>
        <artwork name="" type="" align="left" alt=""><![CDATA[
  0                   1                   2                   3
  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 |   Type        |     Length    |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
 | Algorithm 1   |  Algorithm 2  | Algorithm ... |  Algorithm n  |
 +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
        <t> where: </t>
        <ul empty="true"><li>
        <dl newline="false" spacing="normal" indent="12">
         
          <dt>Type:</dt><dd>19</dd>
      
          <dt>Length:</dt><dd>Variable</dd>
       
          <dt>Algorithm:</dt><dd>1 octet of algorithm</dd>
        </dl></li></ul>
      </section>
      <section anchor="SRLBSUBTLV" numbered="true" toc="default">
        <name>SR Local Block Sub-TLV</name>
        <t>The SR Local Block (SRLB) sub-TLV contains the range of labels the
        node has reserved for Local SIDs. Local SIDs are used, e.g., for
        Adj-SIDs, and may also be allocated by components other than the
        IS-IS protocol. As an example, an application or a controller may
        instruct the router to allocate a specific Local SID. Therefore, in
        order for such applications or controllers to know what Local
        SIDs are available in the router, it is required that the router
        advertises its SRLB.</t>
        <t>The SRLB sub-TLV is used for this purpose and has following
        format:</t>
        <artwork name="" type="" align="left" alt=""><![CDATA[ 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Type        |     Length    |    Flags      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                     Range                     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
//                SID/Label Sub-TLV (variable)                 //
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
      <ul empty="true"><li>
       <dl newline="false" spacing="normal" indent="9">
          <dt>Type:</dt><dd>22</dd>
        
          <dt>Length:</dt><dd>Variable</dd>
    
          <dt>Flags:</dt><dd>1 octet of flags. None are defined at this stage.</dd>
          </dl>
	</li>
      </ul>
           <ul empty="true"><li>
            <t>One or more SRLB Descriptor entries, each of which have the
            following format:</t>

            <ul empty="true"><li>
            <dl newline="false" spacing="normal" indent="9">
            
              <dt>Range:</dt><dd>3 octets</dd>
          
              <dt>SID/Label sub-TLV:</dt><dd>MPLS label as defined in <xref target="SIDLABELSUBTLV" format="default"/></dd>
            </dl>
      </li>
    </ul>
  </li>
</ul>
        <t>The SID/Label sub-TLV contains the first value of the SRLB while the
        range contains the number of SRLB elements. The range value <bcp14>MUST</bcp14> be
        higher than 0.</t>
        <t>The SRLB sub-TLV <bcp14>MAY</bcp14> be advertised in an LSP of any number, but a
        router <bcp14>MUST NOT</bcp14> advertise more than one SRLB sub-TLV. A router
        receiving multiple SRLB sub-TLVs, from the same originator, <bcp14>SHOULD</bcp14>
        select the first advertisement in the lowest-numbered LSP.</t>
        <t>The originating router <bcp14>MUST NOT</bcp14> advertise overlapping ranges.</t>
        <t>When a router receives multiple overlapping ranges, it <bcp14>MUST</bcp14> conform
        to the procedures defined in <xref target="RFC8660" format="default"/>.</t>
        <t>It is important to note that each time a SID from the SRLB is
        allocated, it should also be reported to all components (e.g.,
        controller or applications) in order for these components to have an
        up-to-date view of the current SRLB allocation and to avoid
        collision between allocation instructions.</t>
        <t>Within the context of IS-IS, the reporting of Local SIDs is done
        through IS-IS sub-TLVs such as the Adj-SID. However, the
        reporting of allocated Local SIDs may also be done through other means
        and protocols that are outside the scope of this document.</t>
        <t>A router advertising the SRLB sub-TLV may also have other label
        ranges, outside the SRLB, for its local allocation purposes that are
        NOT advertised in the SRLB. For example, it is possible that an
        Adj-SID is allocated using a local label not part of the
        SRLB.</t>
      </section>
      <section anchor="SRMSPREFSUBTLV" numbered="true" toc="default">
        <name>SRMS Preference Sub-TLV</name>
        <t>The SRMS Preference sub-TLV is
        used in order to associate a preference with SRMS advertisements from
        a particular source.</t>
        <t>The SRMS Preference sub-TLV has the following format:</t>
        <artwork name="" type="" align="left" alt=""><![CDATA[ 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|   Type        |    Length     | Preference    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+]]></artwork>
     <ul empty="true"><li>  
     <dl newline="false" spacing="normal" indent="13">
          <dt>Type:</dt><dd>24</dd>
       
          <dt>Length:</dt><dd>1</dd>
    
          <dt>Preference:</dt><dd>1 octet and unsigned 8-bit SRMS preference.</dd>
        </dl>
      </li>
     </ul>
        <t>The SRMS Preference sub-TLV <bcp14>MAY</bcp14> be advertised in an LSP of any
        number, but a router <bcp14>MUST NOT</bcp14> advertise more than one SRMS Preference
        sub-TLV. A router receiving multiple SRMS Preference sub-TLVs, from
        the same originator, <bcp14>SHOULD</bcp14> select the first advertisement in the
        lowest-numbered LSP.</t>
        <t>The use of the SRMS preference during the SID selection process is
        described in <xref target="RFC8661" format="default"/>.</t>
      </section>
    </section>
    <section anchor="IANA" numbered="true" toc="default">
      <name>IANA Considerations</name>
      <t>Per this document, IANA has allocated the following TLVs and
      sub-TLVs.</t>
      <section numbered="true" toc="default">
        <name>Sub-TLVs for Types 22, 23, 25, 141, 222, and 223</name>
        <t>This document makes the following registrations in the "Sub-TLVs
        for TLV 22, 23, 25, 141, 222, and 223" registry.</t>


<table anchor="IANA_table_1" align="left">
  <thead>
    <tr>
      <th align='center'>Type</th>
      <th align='left'>Description</th>
      <th align='center'>22</th>
      <th align='center'>23</th>
      <th align='center'>25</th>
      <th align='center'>141</th>
      <th align='center'>222</th>
      <th align='center'>223</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="center">31</td>
      <td align="left">Adjacency Segment Identifier</td>
      <td align="center">y</td>
      <td align="center">y</td>
      <td align="center">n</td>
      <td align="center">y</td>
      <td align="center">y</td>
      <td align="center">y</td>
    </tr>
    <tr> 
      <td align="center">32</td>
      <td align="left">LAN Adjacency Segment Identifier</td>
      <td align="center">y</td>
      <td align="center">y</td>
      <td align="center">n</td>
      <td align="center">y</td>
      <td align="center">y</td>
      <td align="center">y</td>
    </tr>
  </tbody>
</table>

      </section>

      <section numbered="true" toc="default">
        <name>Sub-TLVs for Types 135, 235, 236, and 237</name>
        <t>This document makes the following registrations in the "Sub-TLVs
        for TLV 135, 235, 236, and 237" registry.</t>


<table anchor="IANA_table_2" align="left">
  <thead>
    <tr>
      <th align='center'>Type</th>
      <th align='left'>Description</th>
      <th align='center'>135</th>
      <th align='center'>235</th>
      <th align='center'>236</th>
      <th align='center'>237</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="center">3</td>
      <td align="left">Prefix Segment Identifier</td>
      <td align="center">y</td>
      <td align="center">y</td>
      <td align="center">y</td>
      <td align="center">y</td>
  </tr>
  </tbody>
</table>

      </section>
      <section numbered="true" toc="default">
        <name>Sub-TLVs for Type 242</name>
        <t>This document makes the following registrations in the "Sub-TLVs
        for TLV 242" registry.</t>

<table anchor="IANA_table_3" align="left">
  <thead>
    <tr>
      <th align='center'>Type</th>
      <th align='left'>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="center">2</td>
      <td align="left">Segment Routing Capability</td>
  </tr>
  <tr>
      <td align="center">19</td>
      <td align="left">Segment Routing Algorithm</td>
  </tr>
  <tr>
      <td align="center">22</td>
      <td align="left">Segment Routing Local Block (SRLB)</td>
  </tr>
 <tr>
      <td align="center">24</td>
      <td align="left">Segment Routing Mapping Server Preference (SRMS Preference)</td>
  </tr>
  </tbody>
</table>
       
      </section>
      <section numbered="true" toc="default">
        <name>New TLV Codepoint and Sub-TLV Registry</name>
        <t>This document registers the following TLV:</t>

<table anchor="IANA_table_4" align="left">
  <thead>
    <tr>
      <th align='center'>Value</th>
      <th align='left'>Name</th>
      <th align='center'>IIH</th>
      <th align='center'>LSP</th>
      <th align='center'>SNP</th>
      <th align='center'>Purge</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="center">149</td>
      <td align="left">Segment Identifier / Label Binding</td>
      <td align="center">n</td>
      <td align="center">y</td>
      <td align="center">n</td>
      <td align="center">n</td>
  </tr>
 <tr>
      <td align="center">150</td>
      <td align="left">Multi-Topology Segment Identifier / Label Binding</td>
      <td align="center">n</td>
      <td align="center">y</td>
      <td align="center">n</td>
      <td align="center">n</td>
  </tr>
  </tbody>
</table>
        <t>This document creates the following sub-TLV Registry:</t>
       
<dl>
  <dt>Name:</dt>
  <dd>Sub-TLVs for TLVs 149 and 150</dd>
  <dt>Registration Procedure:</dt>
  <dd>Expert Review <xref target="RFC8126" format="default"/></dd>
</dl>

<table anchor="IANA_table_5" align="left">
  <thead>
    <tr>
      <th align='center'>Type</th>
      <th align='center'>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="center">0</td>
      <td align="left">Reserved</td>
  </tr>
 <tr>
      <td align="center">1</td>
      <td align="left">SID/Label</td>
  </tr>
 <tr>
      <td align="center">2</td>
      <td align="left">Unassigned</td>
  </tr>
 <tr>
      <td align="center">3</td>
      <td align="left">Prefix Segment Identifier</td>
  </tr>
 <tr>
      <td align="center">4-255</td>
      <td align="left">Unassigned</td>
  </tr>
  </tbody>
</table>
      </section>
    </section>

    <section anchor="Security" numbered="true" toc="default">
      <name>Security Considerations</name>
      <t>With the use of the extensions defined in this document, IS-IS
      carries information that will be used to program the MPLS data plane
      <xref target="RFC3031" format="default"/>. In general, the same type of attacks that can be carried out
      on the IP/IPv6 control plane can be carried out on the MPLS control
      plane, resulting in traffic being misrouted in the respective data
      planes. However, the latter may be more difficult to detect and
      isolate.</t>
      <t>Existing security extensions as described in <xref target="RFC5304" format="default"/>
         and <xref target="RFC5310" format="default"/> apply to these Segment Routing extensions.</t>
    </section>
  </middle>
  <back>


    <references>
      <name>References</name>
      <references>
        <name>Normative References</name>

<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml"/>
<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.3031.xml"/>
<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.5304.xml"/>
<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.5310.xml"/>
<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.5120.xml"/>
<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.7981.xml"/>
<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.7794.xml"/>
<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8174.xml"/>
<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8402.xml"/>


        <reference anchor="ISO10589">
          <front>
            <title>Information technology -- Telecommunications and information exchange between systems -- Intermediate system to Intermediate system intra-domain
          routeing information exchange protocol for use in conjunction with
          the protocol for providing the connectionless-mode network service
          (ISO 8473)</title>
            <seriesInfo name="ISO/IEC 10589:2002," value="Second Edition"/>
            <author>
              <organization abbrev="ISO">International Organization for Standardization</organization>
            </author>
            <date month="November" year="2002"/>
          </front>
        </reference>
        
        <!--draft-ietf-ospf-segment-routing-extensions">; companion document RFC 8665 -->
        <reference anchor="RFC8665" target="https://www.rfc-editor.org/info/rfc8665">
          <front>
            <title>OSPF Extensions for Segment Routing</title>
            <seriesInfo name="DOI" value="10.17487/RFC8665"/>
            <seriesInfo name="RFC" value="8665"/>
            <author initials="P" surname="Psenak" fullname="Peter Psenak" role="editor">
              <organization/>
            </author>
            <author initials="S" surname="Previdi" fullname="Stefano Previdi" role="editor">
              <organization/>
            </author>
            <author initials="C" surname="Filsfils" fullname="Clarence Filsfils">
              <organization/>
            </author>
            <author initials="H" surname="Gredler" fullname="Hannes Gredler">
              <organization/>
            </author>
            <author initials="R" surname="Shakir" fullname="Rob Shakir">
              <organization/>
            </author>
            <author initials="W" surname="Henderickx" fullname="Wim Henderickx">
              <organization/>
            </author>
            <author initials="J" surname="Tantsura" fullname="Jeff Tantsura">
              <organization/>
            </author>
            <date month="December" year="2019"/>
          </front>
        </reference>

        <!--draft-ietf-spring-segment-routing-mpls">; companion document RFC 8660-->
        <reference anchor="RFC8660" target="https://www.rfc-editor.org/info/rfc8660">
          <front>
            <title>Segment Routing with the MPLS Data Plane</title>
            <seriesInfo name="DOI" value="10.17487/RFC8660"/>
            <seriesInfo name="RFC" value="8660"/>
            <author initials="A" surname="Bashandy" fullname="Ahmed Bashandy" role="editor">
              <organization/>
            </author>
            <author initials="C" surname="Filsfils" fullname="Clarence Filsfils" role="editor">
              <organization/>
            </author>
            <author initials="S" surname="Previdi" fullname="Stefano Previdi">
              <organization/>
            </author>
            <author initials="B" surname="Decraene" fullname="Bruno Decraene">
              <organization/>
            </author>
            <author initials="S" surname="Litkowski" fullname="Stephane Litkowski">
              <organization/>
            </author>
            <author initials="R" surname="Shakir" fullname="Rob Shakir">
              <organization/>
            </author>
            <date month="December" year="2019"/>
          </front>
        </reference>

        <!--draft-ietf-spring-segment-routing-ldp-interop">; companion document RFC 8661-->
        <reference anchor="RFC8661" target="https://www.rfc-editor.org/info/rfc8661">
          <front>
            <title>Segment Routing MPLS Interworking with LDP</title>
            <seriesInfo name="DOI" value="10.17487/RFC8661"/>
            <seriesInfo name="RFC" value="8661"/>
            <author initials="A" surname="Bashandy" fullname="Ahmed Bashandy" role="editor">
              <organization/>
            </author>
            <author initials="C" surname="Filsfils" fullname="Clarence Filsfils" role="editor">
              <organization/>
            </author>
            <author initials="S" surname="Previdi" fullname="Stefano Previdi">
              <organization/>
            </author>
            <author initials="B" surname="Decraene" fullname="Bruno Decraene">
              <organization/>
            </author>
            <author initials="S" surname="Litkowski" fullname="Stephane Litkowski">
              <organization/>
            </author>
            <date month="December" year="2019"/>
          </front>
        </reference>
      </references>

      <references>
        <name>Informative References</name>

<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.5305.xml"/>
<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.5308.xml"/>
<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.5311.xml"/>
<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.5316.xml"/>
<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.7855.xml"/>
<xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8126.xml"/>
      </references>
    </references>
    <section anchor="Acknowledgements" numbered="false" toc="default">
      <name>Acknowledgements</name>
      <t>We would like to thank Dave Ward, Dan Frost, Stewart Bryant, Pierre
      Francois, and Jesper Skrivers for their contribution to the content of
      this document.</t>
    </section>
    <section anchor="Contributors" numbered="false" toc="default">
      <name>Contributors</name>
      <t>The following people gave a substantial contribution to the content
      of this document and should be considered as coauthors:</t>
      <artwork name="" type="" align="left" alt=""><![CDATA[Stephane Litkowski
Orange
France
Email: stephane.litkowski@orange.com]]></artwork>

<artwork name="" type="" align="left" alt=""><![CDATA[
Jeff Tantsura
Apstra, Inc.
Email: jefftant@gmail.com]]></artwork>

<artwork name="" type="" align="left" alt=""><![CDATA[
Peter Psenak
Cisco Systems Inc.
United States of America
Email: ppsenak@cisco.com]]></artwork>

<artwork name="" type="" align="left" alt=""><![CDATA[
Martin Horneffer
Deutsche Telekom
Germany
Email: Martin.Horneffer@telekom.de]]></artwork>

<artwork name="" type="" align="left" alt=""><![CDATA[
Wim Henderickx
Nokia
Belgium
Email: wim.henderickx@nokia.com]]></artwork>

<artwork name="" type="" align="left" alt=""><![CDATA[
Edward Crabbe
Oracle
United States of America
Email: edward.crabbe@oracle.com]]></artwork>

<artwork name="" type="" align="left" alt=""><![CDATA[
Rob Shakir
Google
United Kingdom
Email: robjs@google.com]]></artwork>

<artwork name="" type="" align="left" alt=""><![CDATA[
Igor Milojevic
Individual
Serbia
Email: milojevicigor@gmail.com]]></artwork>

<artwork name="" type="" align="left" alt=""><![CDATA[
Saku Ytti
TDC
Finland
Email: saku@ytti.fi]]></artwork>

    </section>
  </back>
</rfc>
