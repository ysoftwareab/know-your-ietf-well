<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>A Framework for Distributed Conferencing</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="A Framework for Distributed Conferencing">
<meta name="keywords" content="Distributed, Conferencing, XCON (Centralized Conferencing)">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">S P. Romano</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">A. Amirante</td></tr>
<tr><td class="header">Expires: December 22, 2008</td><td class="header">T. Castaldi</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">L. Miniero</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">University of Napoli</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">A. Buono</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">CRIAI Consortium</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">June 20, 2008</td></tr>
</table></td></tr></table>
<h1><br />A Framework for Distributed Conferencing<br />draft-romano-dcon-framework-03</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on December 22, 2008.</p>

<h3>Abstract</h3>

<p> 
    
        This document defines the framework for Distributed 
        Conferencing (DCON). The framework draws inspiration from the 
        work carried out in the XCON working group, which has defined a 
        complete architecture for centralized conferencing.
        DCON is based on the idea that a distributed conference can be setup by 
        appropriately orchestrating the operation of a number of XCON 
        focus elements, each in charge of managing a certain number of 
        participants. Interaction between each participant and the 
        corresponding conference focus is based on the standard XCON 
        framework, whereas inter-focus interaction is defined in this document.
    
    
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#sec-intro">1.</a>&nbsp;
Introduction<br />
<a href="#sec-conv">2.</a>&nbsp;
Conventions<br />
<a href="#sec-teminology">3.</a>&nbsp;
Terminology<br />
<a href="#sec-overview">4.</a>&nbsp;
Overview<br />
<a href="#sec-dcon">5.</a>&nbsp;
Towards Distributed Conferencing<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-setup">5.1.</a>&nbsp;
Setting up a distributed conferencing environment<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-examples">5.2.</a>&nbsp;
Use-case scenarios and examples<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-newconf">5.2.1.</a>&nbsp;
Creating a new distributed conference<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-getconf">5.2.2.</a>&nbsp;
Retrieving information about available conferences<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-joinconf">5.2.3.</a>&nbsp;
Joining a conference hosted by a foreign island<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#sec-dispatchconf">5.2.4.</a>&nbsp;
Dispatching XCON protocols in DCON<br />
<a href="#sec-security">6.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">7.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">7.1.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">7.2.</a>&nbsp;
Informational References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="sec-intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p> 

This document presents an architecture capable to move the XCON 
scenario towards a distributed framework. The requirements 
for DCON are presented in a separate document <a class='info' href='#I-D.romano-dcon-requirements'>[I&#8209;D.romano&#8209;dcon&#8209;requirements]<span> (</span><span class='info'>Romano, S., Amirante, A., Castaldi, T., Miniero, L., and A. Buono, &ldquo;Requirements for Distributed Conferencing,&rdquo; January&nbsp;2010.</span><span>)</span></a>. In such an architecture 
a number of entities are used to manage conference setup in the 
presence of clients which are distributed across a geographical 
network. Each managing entity plays the role of a conference 
focus as defined in the XCON working group documents <a class='info' href='#I-D.ietf-xcon-framework'>[I&#8209;D.ietf&#8209;xcon&#8209;framework]<span> (</span><span class='info'>Barnes, M., Boulton, C., and O. Levin, &ldquo;A Framework for Centralized Conferencing,&rdquo; April&nbsp;2008.</span><span>)</span></a>.

<br />
<br />


Indeed, an XCON focus is in charge of managing a certain number 
of clients falling under its own "realm". In order to move the 
XCON scope towards a distributed environment, we introduce 
inter-focus coordination, which is needed to effectively setup 
and manage conference instantiation and coordination. As in the 
centralized case, we define logical entities and naming 
conventions. An appropriate data model for distributed 
conferencing will be defined in a subsequent document and will extend, when needed, the XCON data model <a class='info' href='#I-D.ietf-xcon-common-data-model'>[I&#8209;D.ietf&#8209;xcon&#8209;common&#8209;data&#8209;model]<span> (</span><span class='info'>Novo, O., Camarillo, G., Morgan, D., and J. Urpalainen, &ldquo;Conference Information Data Model for Centralized Conferencing (XCON),&rdquo; February&nbsp;2010.</span><span>)</span></a>. 
Furthermore, we propose the adoption of a suitable set of 
protocols which are complementary to the call signaling protocols 
and are needed to support advanced conferencing applications.


</p>
<a name="sec-conv"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Conventions</h3>

<p> 

In this document, the key words "MUST", "MUST NOT", "REQUIRED", 
"SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT 
RECOMMENDED", "MAY", and "OPTIONAL" are to be interpreted as 
described in BCP 14, RFC 2119 <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> and 
indicate requirement levels for compliant implementations. 


</p>
<a name="sec-teminology"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Terminology</h3>

<p>
		Distributed conferencing uses, when appropriate, and expands on the
		terminology introduced in the both the SIPPING <a class='info' href='#RFC4353'>[RFC4353]<span> (</span><span class='info'>Rosenberg, J., &ldquo;A Framework for Conferencing with the Session Initiation Protocol (SIP),&rdquo; February&nbsp;2006.</span><span>)</span></a>
		and XCON conferencing frameworks.
		The following additional terms are defined for specific use within the
		distributed conferencing context.
	
</p>
<blockquote class="text"><dl><br />
<br />

<dt>Conferencing Cloud:</dt>
<dd>
		<br />

		
		A specific pair composed of a centralized focus entity (XCON) and
		its associated distributed focus (DCON). We will herein indifferently 
		use both "cloud" and "island" to refer to a conferencing cloud.
		
		
</dd><br />

<dt>DCON Focus:</dt>
<dd>
	<br />

	
		A specific entity enabling communication of a centralized conferencing
		system with the outside world. A DCON focus allows for the construction
		of a distributed conferencing system as a federation of centralized
		conferencing components.
	
	
</dd><br />

<dt>Focus Discovery:</dt>
<dd>
	<br />

	
		The capability to detect the presence of new focus entities in a 
		distributed conferencing framework.
	
	
</dd><br />

<dt>Information Spreading:</dt>
<dd>
	<br />

	
		The spreading of conference related information
		among the focus entities in a distributed environment.
	
	
</dd><br />

<dt>Protocol Dispatching:</dt>
<dd>
	<br />

	
		The capabilty to appropriately forward/distribute messages of 
		a natively centralized protocol in order to let them spread across a
		distributed environment.	
		
	
</dd><br />

<dt>Label Swapping:</dt>
<dd>
	<br />

	
		The opportune swap of labels assigned to a specific resource, needed
		to avoid conflicts in the assignment of labels across several point-to-point
		communications regarding the same resource.
	
	
</dd>
</dl></blockquote>
<a name="sec-overview"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Overview</h3>

<p> 

In order to build distributed conferencing on top of the already 
available centralized conferencing framework, we basically need 
to introduce two major functions: (i) a coordination level among 
conference focus entities; (ii) a way to effectively distribute 
conference state information.

As to the first point above, the coordination level is needed in 
order to manage a distributed conference along its entire 
life-cycle. For instance, once a user decides to 
create a new conference, the corresponding conference focus has 
to distribute conference information to all other foci, in such a 
way as to enable other potential participants to retrieve the 
needed data and possibly subscribe to the event. We herein assume 
that all the operations needed inside a single conference cloud
are managed via the protocols and interfaces defined inside the 
XCON working group. Hence, each single cloud keeps on being based 
on a star-topology graph for all what concerns the call signaling 
part. The various available stars are then connected through an 
upper-layer mesh-based topology providing inter-focus 
communication. As depicted in <a class='info' href='#fig-dcon-star'>Figure&nbsp;1<span> (</span><span class='info'>DCON architecture overview</span><span>)</span></a>, the 
overall topology of the distributed conferencing scenario thus 
looks like an overlay network of focus entities, each managing
an underlying "centralized" conferencing island. 
In the most general case, we envisage to exploit extended 
Instant Messaging (IM) protocols for inter-focus communication.


</p><br /><hr class="insert" />
<a name="fig-dcon-star"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>


                o      o     o
                 \     |    /
                  \    |   /
                   +------+
               o---| XCON |---o
                   +---^--+
                       |
                   +---v--+
                   | DCON |
                   +------+
                 //        \\
                //          \\
               //            \\
              //              \\
             //                \\
            //                  \\
           //                    \\
          //                      \\
         //                        \\
     +------+                   +------+
     | DCON |===================| DCON |
     +---^--+                   +---^--+
         |                          |
     +---v--+                   +---v--+
 o---| XCON |---o           o---| XCON |---o
     +------+                   +------+
    /    |   \                 /    |   \
   /     |    \               /     |    \
  o      o     o             o      o     o


</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1: DCON architecture overview&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>

As to the second point mentioned above, it looks clear that a way 
to propagate information about conferences is needed when 
switching the view from a centralized to a distributed 
perspective. Indeed, whenever a new conference is created (or an 
active conference changes its state) such an event has to be 
communicated to all interested (or active) participants. Given 
the intrinsic nature of the distributed framework (which actually 
expands the centralized one through the introduction of an 
overlay network of focus entities), the actual flow of 
information will always foresee the interaction among conference 
focus entities for both conference information exchanging and 
state changes notifications. The same obviously applies also to the 
involved natively centralized protocols defined in the XCON framework. 
A suitable mechanism has to be defined allowing for the dispatching
of such centralized messages across the DCON network. The 
mechanism in question must be fully compliant with the existing 
operation of XCON clouds, which must keep their local participants
totally unaware of the potential distributed nature of conferences.


</p>
<p>
Conference state propagation can take place in a number of 
alternative ways. For instance, each focus might flood the 
received information across the inter-focus communication mesh, 
thus guaranteeing that potential participants belonging to 
heterogeneous islands can be reached. In such case, focus 
entities are "stateful", i.e. each of them stores information 
about current sessions and forwards such information to all 
peering entities in order to get them up-to-date with respect to 
available conference sessions.


</p>
<p>
On the other hand, a distributed repository might be employed for 
the sake of storing conference information. Focus entities would 
access such repository, both to publish (either upon creation of 
a new conference, or to notify a change in the state of an active 
conference) and to retrieve information about active conferences 
(e.g. when a new participant wants to access the list of 
ongoing/scheduled conference sessions he might be interested to 
join). In this last case, focus entities are "stateless".

</p>
<p>
Finally, a pure peer-to-peer approach can also be exploited for the 
purpose of conference state information spreading.

</p>
<a name="sec-dcon"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Towards Distributed Conferencing</h3>

<p>

In this section we first describe the overall architecture of a
distributed conferencing framework, by highlighting both the
involved entities and their interrelations. Then, we delve into
the details of some key use cases which help understand the
typical interaction paradigm of a decentralized environment.

</p>
<p>
As to the architecture, <a class='info' href='#fig-dcon'>Figure&nbsp;2<span> (</span><span class='info'>Distributed conferencing framework</span><span>)</span></a> depicts how
various XCON islands (just two in the picture to avoid confusion)
can interact through the exchanging of synchronization messages
between each pair of conferencing systems. Such messages are
needed in order to circulate conference information among all
involved entities. A dedicated protocol is obviously needed to take care
of the communication between each pair: since its task is
to synchronize the XCON and DCON pair, it will from now on be called
XCON-DCON Synchronization Protocol (XDSP). The requirements for this
protocol are further analyzed in a companion draft <a class='info' href='#I-D.romano-dcon-xdsp-reqs'>[I&#8209;D.romano&#8209;dcon&#8209;xdsp&#8209;reqs]<span> (</span><span class='info'>Romano, S., Amirante, A., Castaldi, T., Miniero, L., and A. Buono, &ldquo;Requirements for the XCON-DCON Synchronization Protocol,&rdquo; January&nbsp;2010.</span><span>)</span></a>.

</p>
<p>
Inter-island coordination can be achieved via a number of
available solutions (e.g. SIP/SIMPLE, XMPP). In this document we propose
the exploitation of IM-based interaction. More precisely, we
think that the Server-to-Server (S2S) module based on the XMPP
protocol perfectly satisfies the requirements imposed by the new
architecture.

</p>
<p>
Finally, media streams will directly flow between the XCON clouds
once a distributed conference has been setup. Distributed mixing,
however, will be only marginally discussed in this draft, in
favour of the distribution of signaling and control messages.

</p><br /><hr class="insert" />
<a name="fig-dcon"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>


 +-DCON-----------+                                 +-DCON-----------+
 | +------------+ |                                 | +------------+ |
 | | Dispatcher | &lt;=== Inter-focus communication ===&gt; | Dispatcher | |
 | +------------+ |                                 | +------------+ |
 +----------^-----+                                 +----^-----------+
    ^       |                                            |        ^
    |       | XDSP                                  XDSP |        |
    |       |                                            |        |
+---|-------|----XCON-+                         +-XCON---|--------|---+
|   |     +-v-------+ |                         | +------v--+     |   |
|   |     | Gateway | |                         | | Gateway |     |   |
|   |     +--^---^--+ |                         | +--^---^--+     |   |
|   |    BFCP|   |CCP |                         | CCP|   |BFCP    |   |
|   |        |   |    |                         |    |   |        |   |
|   |     +--v---v--+ |                         | +--v---v--+     |   |
|   +-----o Conf.   | |                         | | Conf.   o-----+   |
|  Notify | Object  |&lt;======= Media Flow ========&gt;| Object  | Notify  |
|         |         | |                         | |         |         |
|         +---------+ |                         | +---------+         |
+---------------------+                         +---------------------+

    XCON Cloud 1                                      XCON Cloud 2


</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;2: Distributed conferencing framework&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="sec-setup"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.1"></a><h3>5.1.&nbsp;
Setting up a distributed conferencing environment</h3>

<p> 
		
		In the following we are going to describe the typically required
		steps to setup a distributed conferencing environment. As described
		in the introductory sections, an overlay network of focus entities,
		each managing an underlying "centralized" conferencing island, will
		be needed, and the following points will help clarify how
		to effectively setup a distributed conferencing and manage it.
		
	
</p><br />
<br />
<br />

<ol class="text">
<li>
			
			Overlay Creation and Management
			
			<br />
<br />

			
			To enable effective operation of the distributed conferencing framework, an overlay network made of all interconnected conferencing clouds MUST be created. As an example, the mentioned overlay MAY be built by interconnecting all focus entities (with each such entity being the root of a local centralized conferencing cloud) through a full-meshed topology. Once the overlay is created, appropriate management of its structure SHOULD be envisaged; this includes, for example, dynamic updating of the topology information at the occurrence of relevant events (grafting/pruning of new centralized conferencing islands, etc.).
			
		
</li><br />
<br />

<li>
			Focus Discovery
			<br />
<br />

			
			An appropriate mechanism for the discovery of peering focus entities SHOULD be  provided. Given the sensitive nature of the shared information, an appropriate authentication mechanism SHOULD be adopted. The trigger of the discovery process MAY be related to the concept of "presence"; in such case, an Instant Messaging (IM) based paradigm is RECOMMENDED. Alternatively, a logically centralized, physically distributed repository (e.g. UDDI) MAY be employed as a single reference point for the discovery of peering entities. A pure peer-to-peer approach can also be exploited for the same purpose.
			
		
</li><br />
<br />

<li>
			Self-configuration
			
			<br />
<br />

			
			At the occurrence of events like the grafting of a new cloud onto the overlay distributed conferencing network, the needed configuration steps SHOULD be performed in an automated fashion. This entails that all the news are appropriately exchanged across the overlay and, if needed, notified to the underlying centralized clouds as well. 
			
		
</li><br />
<br />

<li>
			Information Sharing
			
			<br />
<br />

			
			The core of the operation of a distributed conferencing framework resides in the possibility to exchange information among all involved entities. The information sharing process SHOULD be made as effective as possible, e.g. by limiting the information that is forwarded outside a single centralized conferencing cloud to the data that are strictly necessary in order to guarantee that the overall state of the overaly is consistent, yet not redundant. Information sharing MAY be achieved either by exploiting a request/response paradigm, or through the adoption of asynchronous notification messages. A combined use of both the aforementioned paradigms is RECOMMENDED.
			
		
</li><br />
<br />

<li>
			Dynamic Update
			
			<br />
<br />

			
			All the clouds participating in the distributed overlay MUST keep the peers updated with respect to worth-noting events happening in their local realm. This MAY be achieved either by exploiting a request/response paradigm, or through the adoption of asynchronous notification messages. A combined use of both the aforementioned paradigms is RECOMMENDED. A pure peer-to-peer approach can also be exploited for the same purpose.
			
		
</li><br />
<br />

<li>
			Distributed Conference Management
			
			<br />
<br />

			
			In order to allow users' access to remotely created conferences, appropriate mechanisms MUST be provided by the framework. Such mechanisms SHOULD enable transparent management of both locally- and remotely-created conference instances. A pure peer-to-peer approach can be exploited for the same purpose.
			
		
</li><br />
<br />

<li>
			Centralized Protocols Routing and Dispatching
			
			<br />
<br />

			
			Focus entities MUST forward any centralized protocol message 
			to their related peer in the distributed overlay whenever the message
			is directed to a receiver who does not belong to the local centralized 
			system. Natively centralized protocol messages include, but are not limited to, 
			any protocol defined and specified in the XCON framework (e.g. 
			conference control management and floor control) as well as DTMF 
			messages propagation. An example could be BFCP <a class='info' href='#RFC4582'>[RFC4582]<span> (</span><span class='info'>Camarillo, G., Ott, J., and K. Drage, &ldquo;The Binary Floor Control Protocol (BFCP),&rdquo; November&nbsp;2006.</span><span>)</span></a> messages the local floor control server might need to send to a user who is
			remotely participating in the conference (because she/he does not belong to the current XCON cloud). Another example concerns BFCP messages a local
			user might send to the remote floor control server handling
			the remote distributed conference she/he is involved in.
			Any message sent by local entities to local entities has to be treated
			in the usual centralized way according to the relative protocol 
			specifications (i.e. dispatching shall not be involved).
			
		
</li><br />
<br />

<li>
			Distributed Mixing
			
			<br />
<br />

			
			As soon as two or more centralized conferencing islands get connected in order
			to provide for a distributed conferencing scenario, the need arises to cope with the issue of mixing media flows generated by the conference participants. This challenging issue is currently considered out-of-scope in this document, which mainly focuses on the distribution of conference signalling/control information rather than addressing media management.
		
</li>
</ol>
<a name="sec-examples"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2"></a><h3>5.2.&nbsp;
Use-case scenarios and examples</h3>

<p> 

In this subsection we provide some examples of the operation of 
the distributed conferencing framework.


</p>
<a name="sec-newconf"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2.1"></a><h3>5.2.1.&nbsp;
Creating a new distributed conference</h3>

<p> 

<a class='info' href='#fig-newconf'>Figure&nbsp;3<span> (</span><span class='info'>Creating a new conference</span><span>)</span></a> illustrates how a distributed 
conference can be created and managed in a distributed 
environment. A participant contacts its corresponding focus 
entity in order to request the creation of a new conference 
instance. With respect to the centralized scenario, upon 
conference instantiation, in this case the focus has to publish 
conference information by notifying its related DCON focus. This is 
done in order to allow other remote focus entities to get up-to-date 
information about available conferencing sessions.


</p><br /><hr class="insert" />
<a name="fig-newconf"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>


Client                    XCON                    DCON
  |                         |                       |
  |  Request creation of    |                       |
  |  a new XCON conference  |                       |
  |------------------------&gt;|                       |
  |                         |--+ Schedule           |
  |                         |  | new XCON           |
  |                         |&lt;-+ conference         |
  |                         |                       |
  |                         |  Notify scheduling    |
  |                         |  of new conference    |
  |                         |----------------------&gt;|
  |                         |                       |--+ Manage
  |                         |                       |  | new XCON
  |                         |                       |&lt;-+ conference
  |                         |                       |
  |                         |                       | Spread new
  |                         |                       | information
  |                         |                       |--------&gt;  ~~~
  .                         .                       .
  .                         .                       .


</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;3: Creating a new conference&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="sec-getconf"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2.2"></a><h3>5.2.2.&nbsp;
Retrieving information about available conferences</h3>

<p>

<a class='info' href='#fig-getconf'>Figure&nbsp;4<span> (</span><span class='info'>Retrieving information about available conferences</span><span>)</span></a> illustrates how information about 
available centralized and distributed conferences can be retrieved. A 
participant contacts its corresponding focus entity in order to 
request the above information. With respect to the centralized 
scenario, upon reception of a participant's request, the XCON focus 
has to forward the request to the related DCON focus. It will be
up to the distributed focus entity to provide such information,
which will include the list of both centralized (local) and
distributed (remote) conferences. This way, a participant will
be able to transparently keep on contacting the XCON focus to
get all the information she/he needs in both cases.


</p><br /><hr class="insert" />
<a name="fig-getconf"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>


Client                    XCON                     DCON
  |                         |                        |
  | Request list of         |                        |
  | available conferences   |                        |
  |------------------------&gt;|                        |
  |                         |--+ Process             |
  |                         |  | client's            |
  |                         |&lt;-+ request             |
  |                         |                        |
  |                         | Forward request        |
  |                         | to DCON focus          |
  |                         |-----------------------&gt;|
  |                         |                        |--+ Process
  |                         |                        |  | forwarded
  |                         |                        |&lt;-+ request
  |                         |  Send conferences list |
  |   Send conferences list |&lt;-----------------------|
  |&lt;------------------------|                        |
  .                         .                        .
  .                         .                        .


</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;4: Retrieving information about available conferences&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="sec-joinconf"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2.3"></a><h3>5.2.3.&nbsp;
Joining a conference hosted by a foreign island</h3>

<p> 

<a class='info' href='#fig-joinconf'>Figure&nbsp;5<span> (</span><span class='info'>Joining a foreign conference</span><span>)</span></a> illustrates how a participant can 
join a conference which is managed by a focus entity belonging to 
a foreign centralized island. The whole sequence diagram has been
split in three parts to better help understanding all the required
steps. A participant contacts its
corresponding focus entity in order to send the join request.
With respect to the centralized scenario, upon reception of the 
participant's request, the local focus has to forward join 
information to the focus entity belonging to the island in which 
the conference in question was created.


</p>
<p>
	The following steps are performed in sequence:
	<br />
<br />


</p>
<ol class="text"><br />
<br />

<li>
		once the client has locally joined the distributed conference by placing
		a SIP call to the focus she/he belongs to (XCON (A)), the focus
		chooses a new label for the client (A) which will be needed to
		opportunely dispatch all the messages related to her/him;
	
</li><br />
<br />

<li>
		XCON (A) at this point forwards the join request to its related DCON
		focus entity (DCON (A)); in this example this is done by sending,
		through the XDSP protocol, a message called AddUser containing the newly
		assigned client's label A;
	
</li><br />
<br />

<li>
		DCON (A) receives the join request; since it regards a new client, the DCON focus
		entity chooses a new label (e.g. XYZ) and associates it with the just received
		label A; depending on the distributed conference the client wants to join,
		it associates the label (XYZ) with the DCON focus entity managing the XCON focus
		physically hosting the conference (DCON (B)) and forwards the join request to it;
	
</li><br />
<br />

<li>
		DCON (B) receives the forwarded message through the XMPP-based S2S channel;
		since it regards a new client, DCON (B) chooses a new label (e.g. B) and associates
		it with the just received label XYZ; since the conference the remote client (A) wants to
		join is physically hosted by XCON (B), the join request is forwarded there using
		the XDSP protocol, with an AddUser message containing the newly assigned label B which
		identifies the remote client;
	
</li><br />
<br />

<li>
		XCON (B) receives the request, and thus associates the received label B with
		the remote Client (A); all the operations  needed to add the new user to the conference
		are performed, and the new information is sent back to the client through the same
		path. All the involved labels (B, XYZ, A) will be opportunely swapped to route all
		the XCON protocols messages between the two entities.
	
</li><br />
<br />

</ol>
<p>
	Once XCON (A) receives the confirmation that the user has been successfully added to the remote
	conference, together with the needed information, the client (A) is updated through a SIP
	REINVITE containing the BFCP information she/he will need to communicate with the Floor
	Control Server. All BFCP messages sent from now on by the client to the Floor Control Server
	will be intercepted by the gateway, and then forwarded to the Floor Control Server of XCON (B).
	This case will be furtherly presented and discussed in the next section.
	
</p><br /><hr class="insert" />
<a name="fig-joinconf"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>


Client(A)             XCON(A)          DCON(A)                DCON(B)
  |                     |                 |                      |
  |  SIP INVITE         |                 |                      |
  |--------------------&gt;|                 |                      |
  |         SIP Trying  |                 |                      |
  |&lt;--------------------|                 |                      |
  |             SIP OK  |                 |                      |
  |&lt;--------------------|                 |                      |
  |  SIP ACK            |                 |                      |
  |--------------------&gt;|                 |                      |
  |                     |--+ Choose a     |                      |
  |                     |  | Label (A)    |                      |
  |                     |&lt;-+ for new user |                      |
  |                     |                 |                      |
  |                     |  AddUser (A)    |                      |
  |                     |----------------&gt;|                      |
  |                     |                 |--+ Choose a Label    |
  |                     |                 |  | (XYZ) and find    |
  |                     |                 |  | destination       |
  |                     |                 |&lt;-+ (DCON (B))        |
  |                     |                 |                      |
  |                     |                 |--+ Label             |
  |                     |                 |  | Swap              |
  |                     |                 |&lt;-+ (A=&gt;XYZ)          |
  |                     |                 |                      |
  |                     |                 |  XMPP (AddUser)      |
  |                     |                 |----  ~~(S2S)~~  ----&gt;|
  |                     |                 |                      |
  .                     .                 .                      .
  .                     .                 .                      .



          DCON(A)              DCON(B)             XCON(B)
            .                    .                    .
            .                    .                    .
            |                    |                    |
            |--+ Label           |                    |
            |  | Swap            |                    |
            |&lt;-+ (A=&gt;XYZ)        |                    |
            |                    |                    |
            |  XMPP (AddUser)    |                    |
            |---  ~~(S2S)~~  ---&gt;|                    |
            |                    |--+ Choose a        |
            |                    |  | Label (B)       |
            |                    |&lt;-+ for new user    |
            |                    |                    |
            |                    |  AddUser           |
            |                    |-------------------&gt;|
            |                    |                    |--+ Assign new
            |                    |                    |  | User ID
            |                    |                    |  | to remote
            |                    |                    |&lt;-+ participant
            |                    |      UserAdded (B) |
            |                    |&lt;-------------------|
            |           Label +--|                    |
            |            Swap |  |                    |
            |        (B=&gt;XYZ) +-&gt;|                    |
            |                    |                    |
            |  XMPP (UserAdded)  |                    |
            |&lt;---  ~~(S2S)~~  ---|                    |
   Label +--|                    |                    |
    Swap |  |                    |                    |
(XYZ=&gt;A) +-&gt;|                    |                    |
            |                    |                    |
            .                    .                    .
            .                    .                    .




Client(A)             XCON(A)          DCON(A)                DCON(B)
  .                     .                 .                      .
  .                     .                 .                      .
  |                     |                 |                      |
  |                     |                 |     XMPP (UserAdded) |
  |                     |                 |&lt;----  ~~(S2S)~~  ----|
  |                     |        Label +--|                      |
  |                     |         Swap |  |                      |
  |                     |     (XYZ=&gt;A) +-&gt;|                      |
  |                     |                 |                      |
  |                     |   UserAdded (A) |                      |
  |                     |&lt;----------------|                      |
  |  Manage received +--|                 |                      |
  | info on new user |  |                 |                      |
  |       (e.g. IDs) +-&gt;|                 |                      |
  |                     |                 |                      |
  |                     |                 |                      |
  |SIP REINVITE (+BFCP) |                 |                      |
  |&lt;--------------------|                 |                      |
  |  SIP Trying         |                 |                      |
  |--------------------&gt;|                 |                      |
  |  SIP OK             |                 |                      |
  |--------------------&gt;|                 |                      |
  |            SIP ACK  |                 |                      |
  |&lt;--------------------|                 |                      |
  |                     |                 |                      |
  .                     .                 .                      .
  .                     .                 .                      .
  .                     .                 .                      .


</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;5: Joining a foreign conference&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="sec-dispatchconf"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5.2.4"></a><h3>5.2.4.&nbsp;
Dispatching XCON protocols in DCON</h3>

<p> 
		
		<a class='info' href='#fig-dcon-dispatching'>Figure&nbsp;6<span> (</span><span class='info'>Centralized protocols dispatching</span><span>)</span></a> illustrates how natively
		centralized XCON protocols (BFCP, in the figure) can be opportunely
		dispatched in order to let them spread across a distributed environment.
		Such mechanism would allow users participating in distributed
		conferences to avoid knowing the transport addresses needed to
		communicate with remote focus entities, and to keep transparently
		referring to the local focus entity instead.
	
</p>
<p>
		In order to understand who the actual receiver of a message shall
		be, all messages are intercepted by a logical entity, called Gateway,
		belonging to the XCON focus. The Gateway will understand whether a
		message is directed to a local entity (e.g. a user belonging to the
		XCON focus, or the local Floor Control Server) or to a remote entity
		belonging to another focus (e.g. a remotely participating user, or
		a remote Floor Control Server).
	
</p><br /><hr class="insert" />
<a name="fig-dcon-dispatching"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>


+---------------------------------------------------------+
| Client 1: Label A (Server Leg: FCS)                     |
| Client 2: Label B (Server Leg: Remote FCS--&gt;Dispatcher) |
| Client 3: Label C (Server Leg: FCS)                     |
+---------------------------------------------------------+

                +--DCON-------------+
                |                   |
                |    +------------+ |
                |    | Dispatcher |&lt;=== (BFCP: Label Swap) ===...&gt;
                |    +------------+ |
                +-------------^-----+
                              |
                              |  XDSP Message: Label B
                              | (BFCP encoded in Base64)
                              |
                        +-----|-------------------XCON--+
                        |     |                         |
                        |     +--- Notify (B) ---+      |
                        |     |                  |      |
+----------+            |     v                  v      |
| Client 1 |&lt;---+       | +---------+       +---------+ |
+----------+    |       | |  Floor  |&lt;--A--&gt;|  Floor  | |
                +-A------&gt;| Control |       | Control | |
+~~~~~~~~~~+            | |  Server |&lt;--C--&gt;|  Server | |
 Client 2 &lt;------B-----&gt;| Gateway |       +---------+ |
+~~~~~~~~~~+            | +---------+                   |
                        +---^---------------------------+
+----------+                |
| Client 3 |&lt;-------C-------+
+----------+


</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;6: Centralized protocols dispatching&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>
	  To make the whole thing clearer, the example in figure
	  <a class='info' href='#fig-bfcp-dispatching'>Figure&nbsp;7<span> (</span><span class='info'>An example: dispatching a BFCP message</span><span>)</span></a> will be used.
	  As in the previous case, the whole sequence diagram has been split in
	  three parts to better help understand all the required steps.
	  In this example, a user (Client (A)) belonging to XCON (A)
	  is remotely participating to a distributed conference hosted
	  by XCON (B). Since XCON (B) is physically hosting the conference,
	  floor control will be entirely managed by its Floor Control Server.
	  To allow Client (A) to communicate with Floor Control Server (B)
	  and viceversa, appropriate dispatching of BFCP messages between
	  the two peers will be needed. We have already seen how labels
	  are assigned and swapped: the same labels will be used for
	  dispatching.
  
</p>
<p>
	  <br />
<br />

	  The flow of a typical message exchange can be seen as follows:
	  <br />
<br />

  
</p>
<ol class="text"><br />
<br />

<li>
		  The Client (A) sends a BFCP message to the Floor Control Server;
		  the message is intercepted by XCON (A)'s gateway; the label assigned to client (A)
		  is retrieved, and used to forward the BFCP message to the DCON (A) Dispatcher;
		  of course, since BFCP messages are binary, an opportune treatment (e.g. through
		  Base64 encoding) should be done to encapsulate the message in a text-based
		  protocol message (as XDSP will probably be);
	  
</li><br />
<br />

<li>
		  Once DCON (A) receives the encapsulated BFCP message, the labels are opportunely
		  swapped (in this case, A=>XYZ) and the message is routed to the right destination
		  (DCON (B));
	  
</li><br />
<br />

<li>
		  DCON (B) will receive the message and swap labels again (XYZ=>B); at this point,
		  the encapsulated message will be forwarded to the underlying XCON (B) Gateway to be
		  further processed there;
	  
</li><br />
<br />

<li>
		  The XCON (B) Gateway will receive the encapsulated (and probably Base64-encoded)
		  BFCP message; after decoding it (if needed), the Gateway will analyze the
		  label marked in the message (B, in this case), and will understand it is
		  a message sent by a remote user (Client (A)) to the local Floor Control Server. It will forward the (now 'natively' binary) message there, where it will
		  be processed;
	  
</li><br />
<br />

<li>
		  In case the FCS (B) needs to send a message to Client (A), exactly
		  the same operations will be performed, and the same path will be followed
		  through the needed label swaps among the involved peers. FCS (A), while not
		  actually managing the floors related to the remote conference Client (A) is
		  participanting in, will however be notified upon each floor status change,
		  so to opportunely update the local media mixes when needed (e.g. to
		  mute Client (A) excluding her/him from XCON (A)'s local mix if FCS (B) has
		  decided so).
	  
</li><br />
<br />

</ol><br /><hr class="insert" />
<a name="fig-bfcp-dispatching"></a>
<div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>


Client(A)           XCON(A)               DCON(A)               DCON(B)
  |                (Gateway)                |                     |
  |                    |                    |                     |
  |  BFCP Message      |                    |                     |
  |-------------------&gt;|                    |                     |
  |                    |--+ Get Label (A)   |                     |
  |                    |  | assigned to     |                     |
  |                    |&lt;-+ client/FCS      |                     |
  |                    |                    |                     |
  |                    |  BFCP encoded      |                     |
  |                    |  in Base64         |                     |
  |                    |--(Label A)--------&gt;|                     |
  |                    |                    |--+ Label            |
  |                    |                    |  | Swap             |
  |                    |                    |&lt;-+ (A=&gt;XYZ)         |
  |                    |                    |                     |
  |                    |                    |--+ Get destination  |
  |                    |                    |  | from label XYZ   |
  |                    |                    |&lt;-+ (DCON B)         |
  |                    |                    |                     |
  |                    |                    | XMPP                |
  |                    |                    | (BFCP in Base64)    |
  |                    |                    |----  ~~(S2S)~~  ---&gt;|
  |                    |                    |                     |
  .                    .                    .                     .
  .                    .                    .                     .



DCON(A)               DCON(B)            XCON(B)             XCON(B)
  |                     |               (Gateway)             (FCS)
  .                     .                   .                   .
  .                     .                   .                   .
  | XMPP                |                   |                   |
  | (BFCP in Base64)    |                   |                   |
  |---  ~~(S2S)~~  ----&gt;|                   |                   |
  |                     |                   |                   |
  |                     |--+ Label          |                   |
  |                     |  | Swap           |                   |
  |                     |&lt;-+ (XYZ=&gt;B)       |                   |
  |                     |                   |                   |
  |                     |  BFCP encoded     |                   |
  |                     |  in Base64        |                   |
  |                     |-----(Label B)----&gt;|                   |
  |                     |                   |--+ Check Label (B)|
  |                     |                   |  | assigned to    |
  |                     |                   |&lt;-+ FCS/client     |
  |                     |                   |                   |
  |                     |                   |  BFCP Message     |
  |                     |                   |------------------&gt;|
  .                     .                   .                   .
  .                     .                   .                   .
  |                     |                   |     BFCP Message  |
  |                     |                   |&lt;------------------|
  |                     |  Get Label (B) +--|                   |
  |                     |    assigned to |  |                   |
  |                     |     FCS/client +-&gt;|                   |
  |                     |                   |                   |
  |                     |      BFCP encoded |                   |
  |                     |         in Base64 |                   |
  |                     |&lt;-----(Label B)----|                   |
  |            Label +--|                   |                   |
  |             Swap |  |                   |                   |
  |         (B=&gt;XYZ) +-&gt;|                   |                   |
  |                     |                   |                   |
  |  Get destination +--|                   |                   |
  |   from label XYZ |  |                   |                   |
  |         (DCON A) +-&gt;|                   |                   |
  |                     |                   |                   |
  |                XMPP |                   |                   |
  |    (BFCP in Base64) |                   |                   |
  |&lt;---  ~~(S2S)~~  ----|                   |                   |
  |                     |                   |                   |
  .                     .                   .                   .
  .                     .                   .                   .



Client(A)           XCON(A)               DCON(A)               DCON(B)
  |                (Gateway)                |                     |
  |                    |                    |                     |
  |                    |                    |                XMPP |
  |                    |                    |    (BFCP in Base64) |
  |                    |                    |&lt;----  ~~(S2S)~~  ---|
  |                    |           Label +--|                     |
  |                    |            Swap |  |                     |
  |                    |        (XYZ=&gt;A) +-&gt;|                     |
  |                    |                    |                     |
  |                    |       BFCP encoded |                     |
  |                    |          in Base64 |                     |
  |                    |&lt;---------(Label A)-|                     |
  | Check Label (A) +--|                    |                     |
  |     assigned to |  |                    |                     |
  |      client/FCS +-&gt;|                    |                     |
  |                    |                    |                     |
  |      BFCP Message  |                    |                     |
  |&lt;-------------------|                    |                     |
  |                    |                    |                     |
  .                    .                    .                     .
  .                    .                    .                     .
  .                    .                    .                     .


</pre></div><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;7: An example: dispatching a BFCP message&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="sec-security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p> 

TBD...


</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.1.&nbsp;References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2234">[RFC2234]</a></td>
<td class="author-text"><a href="mailto:dcrocker@imc.org">Crocker, D., Ed.</a> and <a href="mailto:paulo@turnpike.com">P. Overell</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2234">Augmented BNF for Syntax Specifications: ABNF</a>,&rdquo; RFC&nbsp;2234, November&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2234.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2234.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2234.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2434">[RFC2434]</a></td>
<td class="author-text"><a href="mailto:narten@raleigh.ibm.com">Narten, T.</a> and <a href="mailto:Harald@Alvestrand.no">H. Alvestrand</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2434">Guidelines for Writing an IANA Considerations Section in RFCs</a>,&rdquo; BCP&nbsp;26, RFC&nbsp;2434, October&nbsp;1998 (<a href="http://www.rfc-editor.org/rfc/rfc2434.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2434.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2434.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4353">[RFC4353]</a></td>
<td class="author-text">Rosenberg, J., &ldquo;<a href="http://tools.ietf.org/html/rfc4353">A Framework for Conferencing with the Session Initiation Protocol (SIP)</a>,&rdquo; RFC&nbsp;4353, February&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4353.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4582">[RFC4582]</a></td>
<td class="author-text">Camarillo, G., Ott, J., and K. Drage, &ldquo;<a href="http://tools.ietf.org/html/rfc4582">The Binary Floor Control Protocol (BFCP)</a>,&rdquo; RFC&nbsp;4582, November&nbsp;2006 (<a href="http://www.rfc-editor.org/rfc/rfc4582.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.romano-dcon-requirements">[I-D.romano-dcon-requirements]</a></td>
<td class="author-text">Romano, S., Amirante, A., Castaldi, T., Miniero, L., and A. Buono, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-romano-dcon-requirements-06.txt">Requirements for Distributed Conferencing</a>,&rdquo; draft-romano-dcon-requirements-06 (work in progress), January&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-romano-dcon-requirements-06.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.romano-dcon-xdsp-reqs">[I-D.romano-dcon-xdsp-reqs]</a></td>
<td class="author-text">Romano, S., Amirante, A., Castaldi, T., Miniero, L., and A. Buono, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-romano-dcon-xdsp-reqs-06.txt">Requirements for the XCON-DCON Synchronization Protocol</a>,&rdquo; draft-romano-dcon-xdsp-reqs-06 (work in progress), January&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-romano-dcon-xdsp-reqs-06.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.2.&nbsp;Informational References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="I-D.ietf-xcon-framework">[I-D.ietf-xcon-framework]</a></td>
<td class="author-text">Barnes, M., Boulton, C., and O. Levin, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-xcon-framework-11.txt">A Framework for Centralized Conferencing</a>,&rdquo; draft-ietf-xcon-framework-11 (work in progress), April&nbsp;2008 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-xcon-framework-11.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.ietf-xcon-common-data-model">[I-D.ietf-xcon-common-data-model]</a></td>
<td class="author-text">Novo, O., Camarillo, G., Morgan, D., and J. Urpalainen, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-ietf-xcon-common-data-model-18.txt">Conference Information Data Model for Centralized Conferencing (XCON)</a>,&rdquo; draft-ietf-xcon-common-data-model-18 (work in progress), February&nbsp;2010 (<a href="http://www.ietf.org/internet-drafts/draft-ietf-xcon-common-data-model-18.txt">TXT</a>).</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Simon Pietro Romano</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">University of Napoli</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Via Claudio 21</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Napoli  80125</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Italy</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:spromano@unina.it">spromano@unina.it</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Alessandro Amirante</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">University of Napoli</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Via Claudio 21</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Napoli  80125</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Italy</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:alessandro.amirante@unina.it">alessandro.amirante@unina.it</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Tobia Castaldi</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">University of Napoli</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Via Claudio 21</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Napoli  80125</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Italy</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:tobia.castaldi@unina.it">tobia.castaldi@unina.it</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Lorenzo Miniero</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">University of Napoli</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Via Claudio 21</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Napoli  80125</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Italy</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:lorenzo.miniero@unina.it">lorenzo.miniero@unina.it</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Alfonso Buono</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">CRIAI Consortium</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Piazzale E. Fermi</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Napoli  80100</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Italy</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:alfonso.buono@criai.it">alfonso.buono@criai.it</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
