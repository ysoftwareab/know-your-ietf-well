<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Parameterized Nameserver Delegation with NS2 and NS2T</title>
<meta content="Tim April" name="author">
<meta content="
       Within the DNS, there is no mechanism for authoritative servers to advertise which transport methods they are capable of. If secure transport methods are adopted by authoritative operators, transport signaling would be required to negotiate how authoritative servers would be contacted by resolvers. This document provides two new Resource Record Types, NS2 and NS2T, to facilitate this negotiation by allowing zone owners to signal how the authoritative nameserver(s) for their zone(s) may accept queries. 
    " name="description">
<meta content="xml2rfc 2.46.0" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-tapril-ns2-01" name="ietf.draft">
<link href="/tmp/draft-tapril-ns2-md0t8e8o.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code {
  background-color: #f9f9f9;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">NS2</td>
<td class="right">July 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">April</td>
<td class="center">Expires 14 January 2021</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">dnsop</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-tapril-ns2-01</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2020-07-13" class="published">13 July 2020</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2021-01-14">14 January 2021</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">T. April</div>
<div class="org">Akamai Technologies</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Parameterized Nameserver Delegation with NS2 and NS2T</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">Within the DNS, there is no mechanism for authoritative servers to advertise which transport methods they are capable of. If secure transport methods are adopted by authoritative operators, transport signaling would be required to negotiate how authoritative servers would be contacted by resolvers. This document provides two new Resource Record Types, NS2 and NS2T, to facilitate this negotiation by allowing zone owners to signal how the authoritative nameserver(s) for their zone(s) may accept queries.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-discussion-venues">
<a href="#name-discussion-venues" class="section-name selfRef">Discussion Venues</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">Source for this draft and an issue tracker can be found at
  <a href="https://github.com/timapril/ns2">https://github.com/timapril/ns2</a>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 14 January 2021.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-introductory-examples" class="xref">Introductory Examples</a><a href="#section-toc.1-1.1.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="xref">1.2</a>.  <a href="#name-goal-of-the-ns2-and-ns2t-re" class="xref">Goal of the NS2 and NS2T Records</a><a href="#section-toc.1-1.1.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.1.2.3">
                <p id="section-toc.1-1.1.2.3.1" class="keepWithNext"><a href="#section-1.3" class="xref">1.3</a>.  <a href="#name-terminology" class="xref">Terminology</a><a href="#section-toc.1-1.1.2.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-ns2-and-ns2t-record-types" class="xref">NS2 and NS2T Record Types</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-difference-between-the-reco" class="xref">Difference between the records</a><a href="#section-toc.1-1.2.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-aliasform-record-type" class="xref">AliasForm Record Type</a><a href="#section-toc.1-1.2.2.2.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.2.2.2.2.1">
                    <p id="section-toc.1-1.2.2.2.2.1.1"><a href="#section-2.2.1" class="xref">2.2.1</a>.  <a href="#name-multiple-service-providers" class="xref">Multiple Service Providers</a><a href="#section-toc.1-1.2.2.2.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty compact" id="section-toc.1-1.2.2.2.2.2">
                    <p id="section-toc.1-1.2.2.2.2.2.1"><a href="#section-2.2.2" class="xref">2.2.2</a>.  <a href="#name-loop-prevention" class="xref">Loop Prevention</a><a href="#section-toc.1-1.2.2.2.2.2.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-serviceform-record-type" class="xref">ServiceForm Record Type</a><a href="#section-toc.1-1.2.2.3.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.2.2.3.2.1">
                    <p id="section-toc.1-1.2.2.3.2.1.1"><a href="#section-2.3.1" class="xref">2.3.1</a>.  <a href="#name-svcfieldpriority" class="xref">SvcFieldPriority</a><a href="#section-toc.1-1.2.2.3.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty compact" id="section-toc.1-1.2.2.3.2.2">
                    <p id="section-toc.1-1.2.2.3.2.2.1"><a href="#section-2.3.2" class="xref">2.3.2</a>.  <a href="#name-svcdomainname" class="xref">SvcDomainName</a><a href="#section-toc.1-1.2.2.3.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty compact" id="section-toc.1-1.2.2.3.2.3">
                    <p id="section-toc.1-1.2.2.3.2.3.1"><a href="#section-2.3.3" class="xref">2.3.3</a>.  <a href="#name-svcparamkeys" class="xref">SvcParamKeys</a><a href="#section-toc.1-1.2.2.3.2.3.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="xref">2.4</a>.  <a href="#name-deployment-considerations" class="xref">Deployment Considerations</a><a href="#section-toc.1-1.2.2.4.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.2.2.4.2.1">
                    <p id="section-toc.1-1.2.2.4.2.1.1"><a href="#section-2.4.1" class="xref">2.4.1</a>.  <a href="#name-aliasform-and-serviceform-i" class="xref">AliasForm and ServiceForm in the Parent</a><a href="#section-toc.1-1.2.2.4.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty compact" id="section-toc.1-1.2.2.4.2.2">
                    <p id="section-toc.1-1.2.2.4.2.2.1"><a href="#section-2.4.2" class="xref">2.4.2</a>.  <a href="#name-rollout" class="xref">Rollout</a><a href="#section-toc.1-1.2.2.4.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty compact" id="section-toc.1-1.2.2.4.2.3">
                    <p id="section-toc.1-1.2.2.4.2.3.1"><a href="#section-2.4.3" class="xref">2.4.3</a>.  <a href="#name-availability" class="xref">Availability</a><a href="#section-toc.1-1.2.2.4.2.3.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty compact" id="section-toc.1-1.2.2.4.2.4">
                    <p id="section-toc.1-1.2.2.4.2.4.1"><a href="#section-2.4.4" class="xref">2.4.4</a>.  <a href="#name-multiple-serviceform-record" class="xref">Multiple ServiceForm records for the same host or IP address</a><a href="#section-toc.1-1.2.2.4.2.4.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-responses-with-ns2" class="xref">Responses with NS2</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-response-size-consideration" class="xref">Response Size Considerations</a><a href="#section-toc.1-1.3.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-when-to-include-glue" class="xref">When to include glue</a><a href="#section-toc.1-1.3.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-dnssec-and-ns2" class="xref">DNSSEC and NS2</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-privact-considerations" class="xref">Privact Considerations</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-availability-of-zones-witho" class="xref">Availability of zones without NS</a><a href="#section-toc.1-1.6.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-reflection-attacks" class="xref">Reflection Attacks</a><a href="#section-toc.1-1.6.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-parsing" class="xref">Parsing</a><a href="#section-toc.1-1.6.2.3.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="xref">6.4</a>.  <a href="#name-availability-2" class="xref">Availability</a><a href="#section-toc.1-1.6.2.4.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.6.2.5">
                <p id="section-toc.1-1.6.2.5.1"><a href="#section-6.5" class="xref">6.5</a>.  <a href="#name-connetion-failures" class="xref">Connetion Failures</a><a href="#section-toc.1-1.6.2.5.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-new-registry-for-ns2-transp" class="xref">New registry for NS2 transports</a><a href="#section-toc.1-1.7.2.1.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.7.2.1.2.1">
                    <p id="section-toc.1-1.7.2.1.2.1.1"><a href="#section-7.1.1" class="xref">7.1.1</a>.  <a href="#name-procedure" class="xref">Procedure</a><a href="#section-toc.1-1.7.2.1.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="toc ulEmpty compact" id="section-toc.1-1.7.2.1.2.2">
                    <p id="section-toc.1-1.7.2.1.2.2.1"><a href="#section-7.1.2" class="xref">7.1.2</a>.  <a href="#name-initial-contents" class="xref">Initial Contents</a><a href="#section-toc.1-1.7.2.1.2.2.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-new-svcparamkey-values" class="xref">New SvcParamKey Values</a><a href="#section-toc.1-1.7.2.2.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-appendix.a" class="xref">Appendix A</a>.  <a href="#name-acknowledgements" class="xref">Acknowledgements</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-appendix.b" class="xref">Appendix B</a>.  <a href="#name-todo" class="xref">TODO</a><a href="#section-toc.1-1.10.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-appendix.c" class="xref">Appendix C</a>.  <a href="#name-change-log" class="xref">Change Log</a><a href="#section-toc.1-1.11.1" class="pilcrow">¶</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-appendix.d" class="xref">Appendix D</a>.  <a href="#name-discussions" class="xref">Discussions</a><a href="#section-toc.1-1.12.1" class="pilcrow">¶</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-d.1" class="xref">D.1</a>.  <a href="#name-port-numbers" class="xref">Port Numbers</a><a href="#section-toc.1-1.12.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-d.2" class="xref">D.2</a>.  <a href="#name-cns2" class="xref">CNS2</a><a href="#section-toc.1-1.12.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.12.2.3">
                <p id="section-toc.1-1.12.2.3.1"><a href="#section-d.3" class="xref">D.3</a>.  <a href="#name-second-record-name" class="xref">Second Record Name</a><a href="#section-toc.1-1.12.2.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-appendix.e" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a><a href="#section-toc.1-1.13.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">Resolvers currently rely on the NS records in the parent and child zones to provide and confirm the nameservers that are authoritative for each zone. The Nameserver version 2 (NS2) record extends the functionality of the NS record to include additional information about how authoritative zone information can be queried, whether that be over alternate protocols or by using alternate protocol parameters. The NS2 record may be present at zone cuts but can also redirect resolvers to other nameservers for further redirection via the Nameserver Version 2 Target (NS2T) record, which does not indicate a zone cut.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">The NS2 and NS2T records uses the SVCB record format defined in <span>[<a href="#I-D.draft-ietf-dnsop-svcb-https-00" class="xref">I-D.draft-ietf-dnsop-svcb-https-00</a>]</span>, using a subset of the already defined service parameters as well as new parameters described in this document. Some, but not all, of the existing service parameters will also be available for NS2 and NS2T records. This document will outline the available parameters and their usage.<a href="#section-1-2" class="pilcrow">¶</a></p>
<div id="introductory-examples">
<section id="section-1.1">
        <h3 id="name-introductory-examples">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-introductory-examples" class="section-name selfRef">Introductory Examples</a>
        </h3>
<p id="section-1.1-1">To introduce the NS2 and NS2T records, this example shows a possible response from an authoritative in the authority section of the DNS response when delegating to another nameserver.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-1.1-2">
<pre>
example.com.  86400  IN NS2    2 ns2.example.com. ( transports=dot,
                dnsTlsFingerprints=["MIIS987SSLKJ...123===",
                    "MII3SODKSLKJ...456==="] )
example.com.  86400  IN NS2    3 ns3.example.com. ( transports=doh,
                dnsDohURITemplate="https://ns.example.net/q/{?dns}" )
example.com.  86400  IN NS     ns1.example.com.
ns1.example.com.    86400   IN  NS  192.0.2.1
ns2.example.com.    86400   IN  NS  192.0.2.2
ns3.example.com.    86400   IN  NS  192.0.2.3
</pre><a href="#section-1.1-2" class="pilcrow">¶</a>
</div>
<p id="section-1.1-3">In this example, the authoritative nameserver is delegating to both a DNS-over-TLS and DNS-over-HTTPS service running on ns2.example.net and ns3.example.com respectively, for resolvers that support NS2, and also delegating to ns1.example.com which will serve unencrypted DNS over port 53 for those that do not.<a href="#section-1.1-3" class="pilcrow">¶</a></p>
<p id="section-1.1-4">Like in SVCB, NS2 and NS2T also offer the ability to use the Alias form delegation. The example below shows an example where example.com is being delegated with a NS2 AliasForm record which can then be further resolved to locate the authroitative nameserver(s).<a href="#section-1.1-4" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-1.1-5">
<pre>
example.com.  86400  IN NS2 0   ns2.example.net.
example.com.  86400  IN NS     ns1.example.com.
ns1.example.com.    86400   IN  NS  192.0.2.1
</pre><a href="#section-1.1-5" class="pilcrow">¶</a>
</div>
<p id="section-1.1-6">The example.net authoritative server may return the following NS2T records in response to a query as deirected by the above records.<a href="#section-1.1-6" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-1.1-7">
<pre>
ns2.example.net 3600    IN NS2T ns2.example.org. ( transports=dot,
                dnsTlsFingerprints=["MIIS987SSLKJ...123==="] )
ns2.example.net 3600    IN NS2T ns3.example.org. ( transports=doh,
                ddnsDohURITemplate="https://ns.example.net/q/{?dns}")
</pre><a href="#section-1.1-7" class="pilcrow">¶</a>
</div>
<p id="section-1.1-8">The avbove records indicate to the client that the authoritative nameservers for zones that Alias to ns2.example.net are ns1.example.org and ns2.example.rg with the configuration provided.<a href="#section-1.1-8" class="pilcrow">¶</a></p>
<p id="section-1.1-9">Later sections of this document will go into more detail on the resolution process using these records.<a href="#section-1.1-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="goal-of-the-ns2-and-ns2t-records">
<section id="section-1.2">
        <h3 id="name-goal-of-the-ns2-and-ns2t-re">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-goal-of-the-ns2-and-ns2t-re" class="section-name selfRef">Goal of the NS2 and NS2T Records</a>
        </h3>
<p id="section-1.2-1">The primary goal of the NS2 and NS2T records is to provide zone owners a way to signal to clients how they may receive queries for the records for which they are authoritative. The NS2 and NS2T records are machine readable, can coexist with NS records in the same zone, and do not break software that does not support them.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
<p id="section-1.2-2">NS2 and NS2T are designed to allow child zones to publish NS2 and NS2T records, even without support in the parent zone. Lack of parent zone support for NS2 records may arise for technical or policy reasons.<a href="#section-1.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="terminology">
<section id="section-1.3">
        <h3 id="name-terminology">
<a href="#section-1.3" class="section-number selfRef">1.3. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
        </h3>
<p id="section-1.3-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
"SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and
"OPTIONAL" in this document are to be interpreted as described in  
BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they appear in
all capitals, as shown here.<a href="#section-1.3-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="ns2-and-ns2t-record-types">
<section id="section-2">
      <h2 id="name-ns2-and-ns2t-record-types">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-ns2-and-ns2t-record-types" class="section-name selfRef">NS2 and NS2T Record Types</a>
      </h2>
<p id="section-2-1">The SVCB record allows for two types of records, the AliasForm and the ServiceForm. The NS2 record takes advantage of both and each will be described below in depth.<a href="#section-2-1" class="pilcrow">¶</a></p>
<div id="difference-between-the-records">
<section id="section-2.1">
        <h3 id="name-difference-between-the-reco">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-difference-between-the-reco" class="section-name selfRef">Difference between the records</a>
        </h3>
<p id="section-2.1-1">This document introduces two different resource record types. Both records have the same functionality, with the difference between them being that the NS2 record MUST only be used at a delegation point while the NS2T, is NS2 Target, record does not indicate that the label is being delegated. For example, take the following NS2 record:<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-2.1-2">
<pre>
example.com.  86400  IN NS2 1   ns2.example.net. ( transports=dot )
</pre><a href="#section-2.1-2" class="pilcrow">¶</a>
</div>
<p id="section-2.1-3">When a client receives the above record, the resolver should send queries for any name under example.com to the nameserver at ns2.example.com unless further delegated. By contrast, when presented with the records below:<a href="#section-2.1-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-2.1-4">
<pre>
example.com.  86400  IN NS2 0   customer.example.org.
customer.example.org.  86400  IN NS2T 1   ns2.example.net. ( transports=dot )
</pre><a href="#section-2.1-4" class="pilcrow">¶</a>
</div>
<p id="section-2.1-5">A resolver trying to resolve a name under example.com would get the first record above from the parent authoritative server, .COM, indicating that the NS2T records found at customer.example.org should be used to locate the authoritative nameservers of example.com. The second record above dictates that the authoritative nameserver from records that have aliased to customer.example.org is ns2.example.net, which only accepts queries over DNS-over-TLS. The primary difference between the two records is that the NS2 record means that anything under the record label should be queried at the delegated server while the NS2T record is just for redirection purposes, and any names under the record's label should still be resolved using the same server unless otherwise delegated.<a href="#section-2.1-5" class="pilcrow">¶</a></p>
<p id="section-2.1-6">It should be noted that both NS2 and NS2T records may exist for the same label. Below is an example of this:<a href="#section-2.1-6" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-2.1-7">
<pre>
example.com.  86400  IN NS2 0   c1.example.org.
c1.example.org.  86400  IN NS2T 1   ns2.example.net. ( transports=dot )
c1.example.org.  86400  IN NS2  1   ns3.example.net. ( transports=dot )
test.c1.example.org. 600 IN A 192.0.2.1
</pre><a href="#section-2.1-7" class="pilcrow">¶</a>
</div>
<p id="section-2.1-8">In the above case, the NS2 record for c1.example.org would only be used when trying to resolve names below c1.example.org. This reason is why when an AliasForm NS2 or NS2T record is encountered, the resolver MUST query for the NS2T record associated with the given name.<a href="#section-2.1-8" class="pilcrow">¶</a></p>
<p id="section-2.1-9">Since the NS2 record is indicative of a zone cut while NS2T is not, names MUST NOT have but NS2 and NS2T records at the same time.<a href="#section-2.1-9" class="pilcrow">¶</a></p>
</section>
</div>
<div id="aliasform-record-type">
<section id="section-2.2">
        <h3 id="name-aliasform-record-type">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-aliasform-record-type" class="section-name selfRef">AliasForm Record Type</a>
        </h3>
<p id="section-2.2-1">In order to take full advantage of the AliasForm of NS2 and NS2T, the parent, child and resolver must support these records. When supported, the use of the AliasForm will allow zone owners to delegate their zones to another operator with a single record in the parent. AliasForm NS2 records SHOULD appear in the child zone when used in the parent. If a resolver were to encounter an AliasForm NS2 or NS2T record, it would then resolve the name in the SvcDomainName of the original record using NS2T RR type to receive the either another AliasForm record or a ServiceForm NS2T record.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<p id="section-2.2-2">For example, if the name www.example.com was being resolved, the .com zone may issue a referral by returning the following record:<a href="#section-2.2-2" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-2.2-3">
<pre>
example.com.    86400    IN  NS2     0   customer1.example.net.
</pre><a href="#section-2.2-3" class="pilcrow">¶</a>
</div>
<p id="section-2.2-4">The above record would indicate to the resolver that in order to obtain the authoritative nameserver records for example.com, the resolver should resolve the RR type NS2T for the name customer1.example.net.<a href="#section-2.2-4" class="pilcrow">¶</a></p>
<div id="multiple-service-providers">
<section id="section-2.2.1">
          <h4 id="name-multiple-service-providers">
<a href="#section-2.2.1" class="section-number selfRef">2.2.1. </a><a href="#name-multiple-service-providers" class="section-name selfRef">Multiple Service Providers</a>
          </h4>
<p id="section-2.2.1-1">Some zone owners may wish to use multiple providers to serve their zone, in which case multiple NS2 AliasForm records can be used. In the event that multiple NS2 AliasForm records are encountered, the resolver SHOULD pick one of the records at random. For example, to split traffic between two providers, the zone owner for example.com could have the following NS2 records:<a href="#section-2.2.1-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-2.2.1-2">
<pre>
example.com.    86400    IN  NS2     0   customer1.example.net.
example.com.    86400    IN  NS2     0   customer1.example.org.
</pre><a href="#section-2.2.1-2" class="pilcrow">¶</a>
</div>
<p id="section-2.2.1-3">DRAFT NOTE: SVCB says that there "SHOULD only have a single RR". This ignores that but keep the randomization part. Section 2.5p1 of SVCB<a href="#section-2.2.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="loop-prevention">
<section id="section-2.2.2">
          <h4 id="name-loop-prevention">
<a href="#section-2.2.2" class="section-number selfRef">2.2.2. </a><a href="#name-loop-prevention" class="section-name selfRef">Loop Prevention</a>
          </h4>
<p id="section-2.2.2-1">Special care should be taken by both the zone owner and the delegated zone operator to ensure that a lookup loop is not created by having two AliasForm records rely on each other to serve the zone. Doing so may result in a resolution loop, and likely a denial of service. Any clients implementing NS2 and NS2T SHOULD implement a per-resolution limit of how many AliasForm records may be traversed when looking up a delegation to prevent infinite looping. When a loop is detected, like with the handling of CNAME or NS, the server should respond to the client with SERVFAIL.<a href="#section-2.2.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="serviceform-record-type">
<section id="section-2.3">
        <h3 id="name-serviceform-record-type">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-serviceform-record-type" class="section-name selfRef">ServiceForm Record Type</a>
        </h3>
<p id="section-2.3-1">The ServiceForm of the NS2 and NS2T records are likely to be the more popular of the two. They work the same way as the SVCB or HTTPSSVC records do by providing a priority and list of parameters associated with the SvcDomainName. In addition to being able to identify which protocols are supported by the authoriatative server, the ServiceForm record will also allow providers to operate different protocols on different addresses.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
<div id="svcfieldpriority">
<section id="section-2.3.1">
          <h4 id="name-svcfieldpriority">
<a href="#section-2.3.1" class="section-number selfRef">2.3.1. </a><a href="#name-svcfieldpriority" class="section-name selfRef">SvcFieldPriority</a>
          </h4>
<p id="section-2.3.1-1">As defined in the DNS SVCB document <span>[<a href="#I-D.draft-ietf-dnsop-svcb-httpssvc-00" class="xref">I-D.draft-ietf-dnsop-svcb-httpssvc-00</a>]</span>, the SvcFieldPriority values SHOULD be used to dictate the priority when multiple NS2 or NS2T records are returned.<a href="#section-2.3.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="svcdomainname">
<section id="section-2.3.2">
          <h4 id="name-svcdomainname">
<a href="#section-2.3.2" class="section-number selfRef">2.3.2. </a><a href="#name-svcdomainname" class="section-name selfRef">SvcDomainName</a>
          </h4>
<p id="section-2.3.2-1">As defined in the SVCB document <span>[<a href="#I-D.draft-ietf-dnsop-svcb-httpssvc-00" class="xref">I-D.draft-ietf-dnsop-svcb-httpssvc-00</a>]</span>, the SvcDomainName provides the hostname to which the NS2 or NS2T record refers. The wire format must be the a-label format of the name. When presented, the u-label may be presented, but the the a-label should also be displayed displaying the u-label. The SvcDomainName field MUST be set and MUST NOT be "." for NS2 records. Records with a SvcDomainName of "." SHOULD be discarded.<a href="#section-2.3.2-1" class="pilcrow">¶</a></p>
<p id="section-2.3.2-2">DRAFT NOTE: Should u-label and a-label be expanded? I'm leaning towards not expanding.<a href="#section-2.3.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="svcparamkeys">
<section id="section-2.3.3">
          <h4 id="name-svcparamkeys">
<a href="#section-2.3.3" class="section-number selfRef">2.3.3. </a><a href="#name-svcparamkeys" class="section-name selfRef">SvcParamKeys</a>
          </h4>
<p id="section-2.3.3-1">The following DNS SVCB parameters are defined for the NS2 and NS2T ServiceForms.<a href="#section-2.3.3-1" class="pilcrow">¶</a></p>
<div id="transports">
<section id="section-2.3.3.1">
            <h5 id="name-transports">
<a href="#section-2.3.3.1" class="section-number selfRef">2.3.3.1. </a><a href="#name-transports" class="section-name selfRef">"transports"</a>
            </h5>
<p id="section-2.3.3.1-1">The "transports" SvcParamKey defines the list of transports offered by the nameserver named in the SvcDomainName.<a href="#section-2.3.3.1-1" class="pilcrow">¶</a></p>
<p id="section-2.3.3.1-2">The existing "alpn" SvcParamKey was not reused for NS2 and NS2T due to the restriction that the "alpn" SvcParamValues are limited to those defined in the TLS Application-Layer Protocol Negotiation (ALPN) Protocol IDs registry. Plaintext DNS traffic is not, and should not be listed in that registry, but is required to support the transition to encrypted transport in NS2 and NS2T records.<a href="#section-2.3.3.1-2" class="pilcrow">¶</a></p>
<p id="section-2.3.3.1-3">Below is a list of the transport values defined in this document:<a href="#section-2.3.3.1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2.3.3.1-4.1">"do53": indicates that a server supports plaintext, unencrypted DNS traffic over UDP or UDP as defined in <span>[<a href="#RFC1035" class="xref">RFC1035</a>]</span> and <span>[<a href="#RFC1034" class="xref">RFC1034</a>]</span> and the updates to those RFCs.<a href="#section-2.3.3.1-4.1" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.3.3.1-4.2">"dot": indicates that the server supports encrypted DNS traffic over DNS-over-TLS as defined in <span>[<a href="#RFC7858" class="xref">RFC7858</a>]</span>.<a href="#section-2.3.3.1-4.2" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.3.3.1-4.3">"doh": indicates that the server supports encrypted DNS traffic over DNS-over-HTTPS as defined in <span>[<a href="#RFC8484" class="xref">RFC8484</a>]</span>. Records that use the DoH service form may be further redirected with HTTPSSVC records in the delegated zone.<a href="#section-2.3.3.1-4.3" class="pilcrow">¶</a>
</li>
              <li class="normal" id="section-2.3.3.1-4.4">"doq": indicates that the server supports encrypted DNS traffic over DNS over Dedicated QUIC Connections <span>[<a href="#I-D.draft-huitema-quic-dnsoquic-07" class="xref">I-D.draft-huitema-quic-dnsoquic-07</a>]</span><a href="#section-2.3.3.1-4.4" class="pilcrow">¶</a>
</li>
            </ul>
<p id="section-2.3.3.1-5">The order of the keys in the list dictate the order which the nameserver SHOULD be contacted in. The client SHOULD compare the order of available transports with the set of transports it supports to determine how to contact the selected nameserver.<a href="#section-2.3.3.1-5" class="pilcrow">¶</a></p>
<p id="section-2.3.3.1-6">The presentation format of the SvcParamValue is a comma delimited quoted string of the available transport names. The wire format for the SvcParamValue is a string of 16-bit integers representing the TransportKey values as described in the "NS2/NS2T Transport Parameter Registry".<a href="#section-2.3.3.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="dnsdotearlydata">
<section id="section-2.3.3.2">
            <h5 id="name-dnsdotearlydata">
<a href="#section-2.3.3.2" class="section-number selfRef">2.3.3.2. </a><a href="#name-dnsdotearlydata" class="section-name selfRef">"dnsDotEarlyData"</a>
            </h5>
<p id="section-2.3.3.2-1">The "dnsDotEarlyData" SvcParamKey indicates if the server will accept requests with TLS 1.3 Early Data as described in <span>[<a href="#I-D.draft-ghedini-dprive-early-data-01" class="xref">I-D.draft-ghedini-dprive-early-data-01</a>]</span>. If the "dot" transport is enabled on the record but this value is not present, the default value is that the server will not accept early data.<a href="#section-2.3.3.2-1" class="pilcrow">¶</a></p>
<p id="section-2.3.3.2-2">The presentation format of the SvcParamValue is the string "true" or "false". The wire format of the SvcParamValue is to not have the key present or a single octet with the value of 0x00 when early data is not allowed and a 0x01 value when early data is allowed. All other values should be treated as an error and revert the value to the default of not supported.<a href="#section-2.3.3.2-2" class="pilcrow">¶</a></p>
<p id="section-2.3.3.2-3">DRAFT NOTE: Should this be "ns2flags" and just have a 16 bit field for boolean values?<a href="#section-2.3.3.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="dnsdohuritemplate">
<section id="section-2.3.3.3">
            <h5 id="name-dnsdohuritemplate">
<a href="#section-2.3.3.3" class="section-number selfRef">2.3.3.3. </a><a href="#name-dnsdohuritemplate" class="section-name selfRef">"dnsDohURITemplate"</a>
            </h5>
<p id="section-2.3.3.3-1">The "dnsDohURITemplate" SvcParamKey defines the URI template to be used for issuing DNS-over-HTTPS queries to the nameserver defined in the record. The host portion of the "dnsDohURITemplate" value SHOULD match the SvcDomainName field.<a href="#section-2.3.3.3-1" class="pilcrow">¶</a></p>
<p id="section-2.3.3.3-2">In the event that the host portion of the "dnsDohURITemplate" SvcParamValues and SvcDomainName field do not match, the SvcDomainName value SHOULD be used for resolving the host and provide host portion of the "dnsDohURITemplate" template SvcParamValue for the TLS ServerNameIndication header and the HTTP Host header. For example, in the below NS2 delegation, the client SHOULD resolve the name ns.example.net and provide the host header and TLS ServerNameIndication header of doh.example.org:<a href="#section-2.3.3.3-2" class="pilcrow">¶</a></p>
<p id="section-2.3.3.3-3">example.com.  86400  IN NS2    3 ns.example.net. ( transports=doh,
                 dnsDohURITemplate="https://doh.example.org/q/{?dns}" )<a href="#section-2.3.3.3-3" class="pilcrow">¶</a></p>
<p id="section-2.3.3.3-4">The presentation format of the SvcParamValue is a quoted string. The wire form of the SvcParamValue is an octet string of the URI template as defined in <span>[<a href="#RFC8484" class="xref">RFC8484</a>]</span>.<a href="#section-2.3.3.3-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="esniconfig">
<section id="section-2.3.3.4">
            <h5 id="name-esniconfig">
<a href="#section-2.3.3.4" class="section-number selfRef">2.3.3.4. </a><a href="#name-esniconfig" class="section-name selfRef">"esniconfig"</a>
            </h5>
<p id="section-2.3.3.4-1">The "esnikeys" SvcParamKey is defined in <span>[<a href="#I-D.draft-ietf-dnsop-svcb-httpssvc-00" class="xref">I-D.draft-ietf-dnsop-svcb-httpssvc-00</a>]</span>. It can be used to provide the ESNI key for DoT, DoH and/or future protocols which may make use of ESNI for session establishment. See <span>[<a href="#I-D.draft-ietf-dnsop-svcb-httpssvc-00" class="xref">I-D.draft-ietf-dnsop-svcb-httpssvc-00</a>]</span> for the usage, wire, and display formatting for this SvcParamKey.<a href="#section-2.3.3.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="dnstlsfingerprints">
<section id="section-2.3.3.5">
            <h5 id="name-dnstlsfingerprints">
<a href="#section-2.3.3.5" class="section-number selfRef">2.3.3.5. </a><a href="#name-dnstlsfingerprints" class="section-name selfRef">"dnsTlsFingerprints"</a>
            </h5>
<p id="section-2.3.3.5-1">The "dnsTlsFingerprints" SvcParamKey is a list of fingerprints for the TLS certificates that may be presented by the nameserver. This record SHOULD match the TLSA record as described in <span>[<a href="#RFC6698" class="xref">RFC6698</a>]</span>. Due to bootstrapping concerns, this SvcParamKey has been added to the NS2 record as the TLSA records would only be resolveable after the initial connetion to the delegated nameserver was established. When this field is not present, certificate validation should be performed by either DANE or by traditional TLS certification validation using trusted root certification authorities.<a href="#section-2.3.3.5-1" class="pilcrow">¶</a></p>
<p id="section-2.3.3.5-2">The presentation and wire format of the SvcParamValue is the same as the presentation and wire format described for the TLSA record as defined in <span>[<a href="#RFC6698" class="xref">RFC6698</a>]</span>, sections 2.1 and 2.2 respectively.<a href="#section-2.3.3.5-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="deployment-considerations">
<section id="section-2.4">
        <h3 id="name-deployment-considerations">
<a href="#section-2.4" class="section-number selfRef">2.4. </a><a href="#name-deployment-considerations" class="section-name selfRef">Deployment Considerations</a>
        </h3>
<p id="section-2.4-1">The NS2 and NS2T records intends to replace the NS record while also adding additional functionality in order to support additional transports for the DNS. Below are discussions of considerations for deployment.<a href="#section-2.4-1" class="pilcrow">¶</a></p>
<div id="aliasform-and-serviceform-in-the-parent">
<section id="section-2.4.1">
          <h4 id="name-aliasform-and-serviceform-i">
<a href="#section-2.4.1" class="section-number selfRef">2.4.1. </a><a href="#name-aliasform-and-serviceform-i" class="section-name selfRef">AliasForm and ServiceForm in the Parent</a>
          </h4>
<p id="section-2.4.1-1">Both the AliasForm and ServiceForm records MUST NOT be returned for the same record when not in delegated zone. In the case where both are present, the ServiceForm MUST be used and the AliasForm ignored.<a href="#section-2.4.1-1" class="pilcrow">¶</a></p>
<p id="section-2.4.1-2">DRAFT NOTE: This is in direct conflict with SVCB. I'm currently of the opinion that it should stay as it is for reliability reasons. If it is decided that this should contradict SVCB, maybe we should try to change SVCB.<a href="#section-2.4.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="rollout">
<section id="section-2.4.2">
          <h4 id="name-rollout">
<a href="#section-2.4.2" class="section-number selfRef">2.4.2. </a><a href="#name-rollout" class="section-name selfRef">Rollout</a>
          </h4>
<p id="section-2.4.2-1">When introduced, the NS2 and NS2T record will likely not be supported by the Root or second level operators, and may not be for some time. In the interim, zone owners may place these records into their zones, both for their own zone and any of their child zones. If a resolver supports alternative transports, it MAY, when delegated to another server, issue a query for NS2 or NS2T records and potentially use those records for further query processing.<a href="#section-2.4.2-1" class="pilcrow">¶</a></p>
<p id="section-2.4.2-2">DRAFT NOTE: Should we include something here that an authoritative MAY include NS2 records in the additionals section of responses to encourage resolvers to upgrade? What about an ECS option from the authority to signal that it is capable of alternat transports?<a href="#section-2.4.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="availability">
<section id="section-2.4.3">
          <h4 id="name-availability">
<a href="#section-2.4.3" class="section-number selfRef">2.4.3. </a><a href="#name-availability" class="section-name selfRef">Availability</a>
          </h4>
<p id="section-2.4.3-1">If a zone operator removes all NS records before NS2 and NS2T records are implemented by all clients, the availability of their zones will be impacted for the clients that are using non-supporting resolvers. In some cases, this may be a desired quality, but should be noted by zone owners and operators.<a href="#section-2.4.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="multiple-serviceform-records-for-the-same-host-or-ip-address">
<section id="section-2.4.4">
          <h4 id="name-multiple-serviceform-record">
<a href="#section-2.4.4" class="section-number selfRef">2.4.4. </a><a href="#name-multiple-serviceform-record" class="section-name selfRef">Multiple ServiceForm records for the same host or IP address</a>
          </h4>
<p id="section-2.4.4-1">As described in the "transport" SvcParamKey section above, a host or IP address may support multiple different transport methods. This can be represented in two ways. The first is to list all supported transports in the order of diminishing desire in the same record. The second is to use multiple NS2 or NS2T records.<a href="#section-2.4.4-1" class="pilcrow">¶</a></p>
<p id="section-2.4.4-2">When those records have different SvcFieldPriority values, as in <span>[<a href="#I-D.draft-ietf-dnsop-svcb-httpssvc-00" class="xref">I-D.draft-ietf-dnsop-svcb-httpssvc-00</a>]</span>, lower-numbered priorities express a higher preference for that record.<a href="#section-2.4.4-2" class="pilcrow">¶</a></p>
<p id="section-2.4.4-3">NS2 and NS2T records may have multiple values for the "dnsTlsFingerprints" SvcParamKey. Records that are identical other than the "dnsTlsFingerprints" SvcParamValues may be joined together including multiple "dnsTlsFingerprints" as seen in this example:<a href="#section-2.4.4-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-2.4.4-4">
<pre>
example.com.  86400  IN NS2    2 ns.example.net. ( transports=dot,
                dnsTlsFingerprints="MIIS987SSLKJ...123===" )
example.com.  86400  IN NS2    2 ns.example.net. ( transports=dot,
                dnsTlsFingerprints="MII3SODKSLKJ...456===" )
example.com.  86400  IN NS2    3 ns.example.net. ( transports=doh,
                dnsDohURITemplate="https://dns.example.org/q/{?dns}" )
</pre><a href="#section-2.4.4-4" class="pilcrow">¶</a>
</div>
<p id="section-2.4.4-5">are the same as:<a href="#section-2.4.4-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-2.4.4-6">
<pre>
example.com.  86400  IN NS2    2 ns.example.net. ( transports=dot,
                dnsTlsFingerprints=["MIIS987SSLKJ...123===",
                    "MII3SODKSLKJ...456==="] )
example.com.  86400  IN NS2    3 ns.example.net. ( transports=doh,
                dnsDohURITemplate="https://dns.example.org/q/{?dns}" )
</pre><a href="#section-2.4.4-6" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="responses-with-ns2">
<section id="section-3">
      <h2 id="name-responses-with-ns2">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-responses-with-ns2" class="section-name selfRef">Responses with NS2</a>
      </h2>
<p id="section-3-1">The NS2 and NS2T records are intended to supersede the NS record. As such, the NS2 records should be included in the response in the following situations, assuming the records exist in the servers zone:<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">1) If the qtype is for NS2 or NS2T, the server should respond with NS2 or NS2T respectively in the authority section of the response.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">2) For queries over unencrypted TCP port 53, any of the NS2 and NS2T records SHOULD be included in the additional section of the response.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">3) For queries over unencrypted UDP port 53, any of the NS2 and NS2T records SHOULD be included in the additional section of the response unless doing so would result in a truncated response. For responses that would require truncation, the resolver operator and/or implementor may decide to truncate the response or exclude the records from the response.<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">4) If encrypted transports are supported on the authority, the any NS2 and NS2T records should be included in the authority section of the respose.<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6">DRAFT NOTE: It is unknown how resolvers will handle multiple authoritative RRTypes in the authority section of the response, leaving 2 and 3 as the additional section until either testing is done or a consensus is determined in DNSOP/DPRIVE.<a href="#section-3-6" class="pilcrow">¶</a></p>
<p id="section-3-7">DRAFT NOTE: Suggesting authority for encrypted transport since it would more closely align with the NS record.<a href="#section-3-7" class="pilcrow">¶</a></p>
<div id="response-size-considerations">
<section id="section-3.1">
        <h3 id="name-response-size-consideration">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-response-size-consideration" class="section-name selfRef">Response Size Considerations</a>
        </h3>
<p id="section-3.1-1">For latency-conscious zones, the overall packet size of the delegation records from a parent zone to child zone should be taken into account when configuring the NS, NS2 and NS2T records. Resolvers that wish to receive NS2 and NS2T records in response SHOULD advertise and support a buffer size that is as large as possible, ideally 4096 bytes, to allow the authoritative server to respond without truncating whenever possible.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="when-to-include-glue">
<section id="section-3.2">
        <h3 id="name-when-to-include-glue">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-when-to-include-glue" class="section-name selfRef">When to include glue</a>
        </h3>
<p id="section-3.2-1">Like with NS, when a parent is delegating to a child that is in bailiwick, glue records should be included with responses to enable the client to continue to resolve the names.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">The ServiceForm version of NS2 returnes sufficent information to the client communicate with the delegated nameserver over a transport other than Do53, but the AliasForm does not. For this reason, the most common use of the AliasForm record would be to alias to a name that is out of bailiwick to the requested zone, which SHOULD be resolveable without relying on the originally queried zone. In the event of an in-bailiwick AliasForm record, the client must either have a pre-agreed upon configuration for the server or attempt opprotunisitic upgrade of the connection to use non-Do53 for the initial setup.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="dnssec-and-ns2">
<section id="section-4">
      <h2 id="name-dnssec-and-ns2">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-dnssec-and-ns2" class="section-name selfRef">DNSSEC and NS2</a>
      </h2>
<p id="section-4-1">Like with NS records, the NS2 records in the child zone SHOULD be signed when the zone is DNSSEC signed. The NS2 records that appear in the parent zone are glue and would not be signed, as is the case with NS records.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">NS2T records, SHOULD be signed in a zone which is signed by DNSSEC.<a href="#section-4-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="privact-considerations">
<section id="section-5">
      <h2 id="name-privact-considerations">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-privact-considerations" class="section-name selfRef">Privact Considerations</a>
      </h2>
<p id="section-5-1">All of the information handled or transmitted by this protocol is public information published in the DNS.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">While the records are transmitting public infomration, resolvers which are making use of records may be attemping to keep the information they are querying private from on-path observers. Privacy consious resolvers should query for this record at the apex of a zone when delegated from the parent to help establish an encrypted channel to the authority.<a href="#section-5-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-considerations">
<section id="section-6">
      <h2 id="name-security-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-6-1">TODO: Fill this section out<a href="#section-6-1" class="pilcrow">¶</a></p>
<div id="availability-of-zones-without-ns">
<section id="section-6.1">
        <h3 id="name-availability-of-zones-witho">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-availability-of-zones-witho" class="section-name selfRef">Availability of zones without NS</a>
      </h3>
</section>
</div>
<div id="reflection-attacks">
<section id="section-6.2">
        <h3 id="name-reflection-attacks">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-reflection-attacks" class="section-name selfRef">Reflection Attacks</a>
      </h3>
</section>
</div>
<div id="parsing">
<section id="section-6.3">
        <h3 id="name-parsing">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-parsing" class="section-name selfRef">Parsing</a>
      </h3>
</section>
</div>
<div id="availability-1">
<section id="section-6.4">
        <h3 id="name-availability-2">
<a href="#section-6.4" class="section-number selfRef">6.4. </a><a href="#name-availability-2" class="section-name selfRef">Availability</a>
      </h3>
</section>
</div>
<div id="connetion-failures">
<section id="section-6.5">
        <h3 id="name-connetion-failures">
<a href="#section-6.5" class="section-number selfRef">6.5. </a><a href="#name-connetion-failures" class="section-name selfRef">Connetion Failures</a>
        </h3>
<p id="section-6.5-1">When a resolver attempts to access nameserver delegated by a NS2 or NST2 record, if a connection error occurs, such as a certificate mismatch or unreachable server, the resolver SHOULD attempt to connect to the other nameservers delegated to until either exhausting the list or the resolver's policy indicates that they should treat the resoltion as failed.<a href="#section-6.5-1" class="pilcrow">¶</a></p>
<p id="section-6.5-2">The failure action when failing to resolve a name with NS2/NS2T due to connection erros is dependant on the resolver operators policies. For resolvers which strongly favor privacy, the operators may wish to return a SERVFAIL when the NS2/NS2T resoltion process completes without successfully contacting a delegated nameserver(s) while opportunisitic privacy resolvers may wish to attempt resolution using any NS records that may be present.<a href="#section-6.5-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="iana-considerations">
<section id="section-7">
      <h2 id="name-iana-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<div id="new-registry-for-ns2-transports">
<section id="section-7.1">
        <h3 id="name-new-registry-for-ns2-transp">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-new-registry-for-ns2-transp" class="section-name selfRef">New registry for NS2 transports</a>
        </h3>
<p id="section-7.1-1">The "NS2/NS2T Transport Parameter Registry" defines the namespace for parameters, including string representations and numeric values. This registry applies to the "transports" DNS SVCB format, currently impacting the NS2 RR Type.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1-2">ACTION: create and include a reference to this registry.<a href="#section-7.1-2" class="pilcrow">¶</a></p>
<div id="procedure">
<section id="section-7.1.1">
          <h4 id="name-procedure">
<a href="#section-7.1.1" class="section-number selfRef">7.1.1. </a><a href="#name-procedure" class="section-name selfRef">Procedure</a>
          </h4>
<p id="section-7.1.1-1">A registration MUST include the following fields:<a href="#section-7.1.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.1.1-2.1">Name: The transport type key name<a href="#section-7.1.1-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-7.1.1-2.2">TransportKey: A numeric identifier (range 0-65535)<a href="#section-7.1.1-2.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-7.1.1-2.3">Meaning: a short description<a href="#section-7.1.1-2.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-7.1.1-2.4">Protocol Specification<a href="#section-7.1.1-2.4" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-7.1.1-2.5">Pointer to specification text<a href="#section-7.1.1-2.5" class="pilcrow">¶</a>
</li>
          </ul>
</section>
</div>
<div id="initial-contents">
<section id="section-7.1.2">
          <h4 id="name-initial-contents">
<a href="#section-7.1.2" class="section-number selfRef">7.1.2. </a><a href="#name-initial-contents" class="section-name selfRef">Initial Contents</a>
          </h4>
<p id="section-7.1.2-1">The "NS2/NS2T Transport Parameter Registry" shall initially be populated with the registrations below:<a href="#section-7.1.2-1" class="pilcrow">¶</a></p>
<table class="center" id="table-1">
            <caption><a href="#table-1" class="selfRef">Table 1</a></caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1">TransportKey</th>
                <th class="text-left" rowspan="1" colspan="1">Name</th>
                <th class="text-left" rowspan="1" colspan="1">Meaning</th>
                <th class="text-left" rowspan="1" colspan="1">Protocol Specification</th>
                <th class="text-left" rowspan="1" colspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">0</td>
                <td class="text-left" rowspan="1" colspan="1">key0</td>
                <td class="text-left" rowspan="1" colspan="1">Reserved</td>
                <td class="text-left" rowspan="1" colspan="1">Reserved</td>
                <td class="text-left" rowspan="1" colspan="1">(This Document)</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">1</td>
                <td class="text-left" rowspan="1" colspan="1">do53</td>
                <td class="text-left" rowspan="1" colspan="1">Unencrypted, Plaintext DNS over UDP or TCP</td>
                <td class="text-left" rowspan="1" colspan="1">RFC1035</td>
                <td class="text-left" rowspan="1" colspan="1">(This Document)</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">2</td>
                <td class="text-left" rowspan="1" colspan="1">dot</td>
                <td class="text-left" rowspan="1" colspan="1">DNS-over-TLS</td>
                <td class="text-left" rowspan="1" colspan="1">RFC7858</td>
                <td class="text-left" rowspan="1" colspan="1">(This Document)</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">3</td>
                <td class="text-left" rowspan="1" colspan="1">doh</td>
                <td class="text-left" rowspan="1" colspan="1">DNS-over-HTTPS</td>
                <td class="text-left" rowspan="1" colspan="1">RFC8484</td>
                <td class="text-left" rowspan="1" colspan="1">(This Document)</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">4</td>
                <td class="text-left" rowspan="1" colspan="1">doq</td>
                <td class="text-left" rowspan="1" colspan="1">DNS over Dedicated QUIC Connections</td>
                <td class="text-left" rowspan="1" colspan="1">
                  <span>[<a href="#DOQ-I-D" class="xref">DOQ-I-D</a>]</span>
</td>
                <td class="text-left" rowspan="1" colspan="1"> </td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">65280-65534</td>
                <td class="text-left" rowspan="1" colspan="1">keyNNNNN</td>
                <td class="text-left" rowspan="1" colspan="1">Private Use</td>
                <td class="text-left" rowspan="1" colspan="1">Private Use</td>
                <td class="text-left" rowspan="1" colspan="1">(This Document)</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">65535</td>
                <td class="text-left" rowspan="1" colspan="1">key65535</td>
                <td class="text-left" rowspan="1" colspan="1">Reserved</td>
                <td class="text-left" rowspan="1" colspan="1">Reserved</td>
                <td class="text-left" rowspan="1" colspan="1">(This Document)</td>
              </tr>
            </tbody>
          </table>
</section>
</div>
</section>
</div>
<div id="new-svcparamkey-values">
<section id="section-7.2">
        <h3 id="name-new-svcparamkey-values">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-new-svcparamkey-values" class="section-name selfRef">New SvcParamKey Values</a>
        </h3>
<p id="section-7.2-1">This document defines new SvcParamKey values in the "Service Binding (SVCB) Parameter Registry".<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<table class="center" id="table-2">
          <caption><a href="#table-2" class="selfRef">Table 2</a></caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">SvcParamKey</th>
              <th class="text-left" rowspan="1" colspan="1">NAME</th>
              <th class="text-left" rowspan="1" colspan="1">Meaning</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">TBD1</td>
              <td class="text-left" rowspan="1" colspan="1">transports</td>
              <td class="text-left" rowspan="1" colspan="1"> </td>
              <td class="text-left" rowspan="1" colspan="1">(This Document)</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">TBD2</td>
              <td class="text-left" rowspan="1" colspan="1">dnsDotEarlyData</td>
              <td class="text-left" rowspan="1" colspan="1"> </td>
              <td class="text-left" rowspan="1" colspan="1">(This Document)</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">TBD3</td>
              <td class="text-left" rowspan="1" colspan="1">dnsDohURITemplate</td>
              <td class="text-left" rowspan="1" colspan="1"> </td>
              <td class="text-left" rowspan="1" colspan="1">(This Document)</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">TBD4</td>
              <td class="text-left" rowspan="1" colspan="1">dnsTlsFingerprints</td>
              <td class="text-left" rowspan="1" colspan="1"> </td>
              <td class="text-left" rowspan="1" colspan="1">(This Document)</td>
            </tr>
          </tbody>
        </table>
</section>
</div>
</section>
</div>
<section id="section-8">
      <h2 id="name-informative-references">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
      </h2>
<dl class="references">
<dt id="I-D.draft-ietf-dnsop-svcb-https-00">[I-D.draft-ietf-dnsop-svcb-https-00]</dt>
      <dd>
<span class="refAuthor">Schwartz, B.</span><span class="refAuthor">, Bishop, M.</span><span class="refAuthor">, and E. Nygren</span>, <span class="refTitle">"Service binding and parameter specification via the DNS (DNS SVCB and HTTPS RRs)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-dnsop-svcb-https-00</span>, <time datetime="2020-06-12" class="refDate">12 June 2020</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-ietf-dnsop-svcb-https-00.txt">http://www.ietf.org/internet-drafts/draft-ietf-dnsop-svcb-https-00.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
      <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
      <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.draft-ietf-dnsop-svcb-httpssvc-00">[I-D.draft-ietf-dnsop-svcb-httpssvc-00]</dt>
      <dd>
<span class="refAuthor">Schwartz, B.</span><span class="refAuthor">, Bishop, M.</span><span class="refAuthor">, and E. Nygren</span>, <span class="refTitle">"Service binding and parameter specification via the DNS (DNS SVCB and HTTPSSVC)"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-dnsop-svcb-httpssvc-00</span>, <time datetime="2019-10-31" class="refDate">31 October 2019</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-ietf-dnsop-svcb-httpssvc-00.txt">http://www.ietf.org/internet-drafts/draft-ietf-dnsop-svcb-httpssvc-00.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC1035">[RFC1035]</dt>
      <dd>
<span class="refAuthor">Mockapetris, P.V.</span>, <span class="refTitle">"Domain names - implementation and specification"</span>, <span class="seriesInfo">STD 13</span>, <span class="seriesInfo">RFC 1035</span>, <span class="seriesInfo">DOI 10.17487/RFC1035</span>, <time datetime="1987-11" class="refDate">November 1987</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1035">https://www.rfc-editor.org/info/rfc1035</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC1034">[RFC1034]</dt>
      <dd>
<span class="refAuthor">Mockapetris, P.V.</span>, <span class="refTitle">"Domain names - concepts and facilities"</span>, <span class="seriesInfo">STD 13</span>, <span class="seriesInfo">RFC 1034</span>, <span class="seriesInfo">DOI 10.17487/RFC1034</span>, <time datetime="1987-11" class="refDate">November 1987</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc1034">https://www.rfc-editor.org/info/rfc1034</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7858">[RFC7858]</dt>
      <dd>
<span class="refAuthor">Hu, Z.</span><span class="refAuthor">, Zhu, L.</span><span class="refAuthor">, Heidemann, J.</span><span class="refAuthor">, Mankin, A.</span><span class="refAuthor">, Wessels, D.</span><span class="refAuthor">, and P. Hoffman</span>, <span class="refTitle">"Specification for DNS over Transport Layer Security (TLS)"</span>, <span class="seriesInfo">RFC 7858</span>, <span class="seriesInfo">DOI 10.17487/RFC7858</span>, <time datetime="2016-05" class="refDate">May 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7858">https://www.rfc-editor.org/info/rfc7858</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8484">[RFC8484]</dt>
      <dd>
<span class="refAuthor">Hoffman, P.</span><span class="refAuthor"> and P. McManus</span>, <span class="refTitle">"DNS Queries over HTTPS (DoH)"</span>, <span class="seriesInfo">RFC 8484</span>, <span class="seriesInfo">DOI 10.17487/RFC8484</span>, <time datetime="2018-10" class="refDate">October 2018</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8484">https://www.rfc-editor.org/info/rfc8484</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.draft-huitema-quic-dnsoquic-07">[I-D.draft-huitema-quic-dnsoquic-07]</dt>
      <dd>
<span class="refAuthor">Huitema, C.</span><span class="refAuthor">, Shore, M.</span><span class="refAuthor">, Mankin, A.</span><span class="refAuthor">, Dickinson, S.</span><span class="refAuthor">, and J. Iyengar</span>, <span class="refTitle">"Specification of DNS over Dedicated QUIC Connections"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-huitema-quic-dnsoquic-07</span>, <time datetime="2019-09-07" class="refDate">7 September 2019</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-huitema-quic-dnsoquic-07.txt">http://www.ietf.org/internet-drafts/draft-huitema-quic-dnsoquic-07.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="I-D.draft-ghedini-dprive-early-data-01">[I-D.draft-ghedini-dprive-early-data-01]</dt>
      <dd>
<span class="refAuthor">Ghedini, A.</span>, <span class="refTitle">"Using Early Data in DNS over TLS"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ghedini-dprive-early-data-01</span>, <time datetime="2019-07-06" class="refDate">6 July 2019</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-ghedini-dprive-early-data-01.txt">http://www.ietf.org/internet-drafts/draft-ghedini-dprive-early-data-01.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6698">[RFC6698]</dt>
      <dd>
<span class="refAuthor">Hoffman, P.</span><span class="refAuthor"> and J. Schlyter</span>, <span class="refTitle">"The DNS-Based Authentication of Named Entities (DANE) Transport Layer Security (TLS) Protocol: TLSA"</span>, <span class="seriesInfo">RFC 6698</span>, <span class="seriesInfo">DOI 10.17487/RFC6698</span>, <time datetime="2012-08" class="refDate">August 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6698">https://www.rfc-editor.org/info/rfc6698</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DOQ-I-D">[DOQ-I-D]</dt>
    <dd>
<span class="refAuthor">Huitema, C.</span><span class="refAuthor">, Shore, M.</span><span class="refAuthor">, Mankin, A.</span><span class="refAuthor">, Dickinson, S.</span><span class="refAuthor">, and J. Iyengar</span>, <span class="refTitle">"Specification of DNS over Dedicated QUIC Connections"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-huitema-quic-dnsoquic-07</span>, <time datetime="2019-09-07" class="refDate">7 September 2019</time>, <span>&lt;<a href="http://www.ietf.org/internet-drafts/draft-huitema-quic-dnsoquic-07.txt">http://www.ietf.org/internet-drafts/draft-huitema-quic-dnsoquic-07.txt</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<div id="acknowledgements">
<section id="section-appendix.a">
      <h2 id="name-acknowledgements">
<a href="#section-appendix.a" class="section-number selfRef">Appendix A. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-appendix.a-1">Thank you to John Levine, Erik Nygren, Ralf Weber, Jon Reed, Ben Kaduk, Mashooq Muhaimen, Jason Moreau, Jerrod Wiesman, Billy Tiemann, Gordon Marx and Brian Wellington for their comments and suggestions on this draft.<a href="#section-appendix.a-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="todo">
<section id="section-appendix.b">
      <h2 id="name-todo">
<a href="#section-appendix.b" class="section-number selfRef">Appendix B. </a><a href="#name-todo" class="section-name selfRef">TODO</a>
      </h2>
<span class="break"></span><dl class="dlParallel" id="section-appendix.b-1">
        <dt id="section-appendix.b-1.1">RFC EDITOR:</dt>
        <dd id="section-appendix.b-1.2">
  PLEASE REMOVE THE THIS SECTION PRIOR TO PUBLICATION.<a href="#section-appendix.b-1.2" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<ul class="normal">
<li class="normal" id="section-appendix.b-2.1">Discussion about TTLs and what they should be and how that might impact performance<a href="#section-appendix.b-2.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.b-2.2">Discuss the cacheability of the Alias form records.<a href="#section-appendix.b-2.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.b-2.3">Remove all "DRAFT NOTES:" in the document.<a href="#section-appendix.b-2.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.b-2.4">Write a security considerations section<a href="#section-appendix.b-2.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.b-2.5">add prohibition of AliasForm referring to AliasForm<a href="#section-appendix.b-2.5" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.b-2.6">add out-of-bailiwick requirement for AliasForm<a href="#section-appendix.b-2.6" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.b-2.7">worked out resolution example including alias form delegation<a href="#section-appendix.b-2.7" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.b-2.8">DoH URI teamplte does not include post<a href="#section-appendix.b-2.8" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.b-2.9">If NS2 is authoritative in the parent, does that mean that it will not be a referral anymore? Probably a question for the working group<a href="#section-appendix.b-2.9" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<div id="change-log">
<section id="section-appendix.c">
      <h2 id="name-change-log">
<a href="#section-appendix.c" class="section-number selfRef">Appendix C. </a><a href="#name-change-log" class="section-name selfRef">Change Log</a>
      </h2>
<span class="break"></span><dl class="dlParallel" id="section-appendix.c-1">
        <dt id="section-appendix.c-1.1">RFC EDITOR:</dt>
        <dd id="section-appendix.c-1.2">
  PLEASE REMOVE THE THIS SECTION PRIOR TO PUBLICATION.<a href="#section-appendix.c-1.2" class="pilcrow">¶</a>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-appendix.c-2">pre-00<a href="#section-appendix.c-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-appendix.c-3.1">Initial draft.<a href="#section-appendix.c-3.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.c-3.2">Wire and Presentation formats for all new SvcParamKeys and SvcParamValues<a href="#section-appendix.c-3.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.c-3.3">IANA considerations first pass<a href="#section-appendix.c-3.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.c-3.4">Added a section about SvcFieldPriority<a href="#section-appendix.c-3.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.c-3.5">Added the "ds" and "dnskey" SvcParamKey options to support the deprecation of the DS in the parent.<a href="#section-appendix.c-3.5" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.c-3.6">Added notes on DNSSEC signing of NS2<a href="#section-appendix.c-3.6" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.c-3.7">Removed multi-provider sharding example, with performance measurements the distribution probably wouldn't work<a href="#section-appendix.c-3.7" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.c-3.8">Reworked the introduction to try and make it easier to parse<a href="#section-appendix.c-3.8" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.c-3.9">Removed the port fields for each transport option<a href="#section-appendix.c-3.9" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.c-3.10">Added a discussion about when to include NS2 records.<a href="#section-appendix.c-3.10" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.c-3.11">Add an example early in the draft. Introduction area<a href="#section-appendix.c-3.11" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.c-3.12">Add section about port numbers discussion<a href="#section-appendix.c-3.12" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.c-3.13">collapse udp and tcp to the do53<a href="#section-appendix.c-3.13" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.c-3.14">added a second record (NS2 and NS2T)<a href="#section-appendix.c-3.14" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-appendix.c-4">-01<a href="#section-appendix.c-4" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-appendix.c-5.1">Removed DS and DNSKEY SvcParamFields. Avoids issues with DNSSEC signing in the parent.<a href="#section-appendix.c-5.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.c-5.2">Removed IPv{4,6}Hints SvcParamFields. There was a discussion on DNSOP about how glue is required<a href="#section-appendix.c-5.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.c-5.3">Updating when to sign the NS2 / NS2T records (removed signing in the parent)<a href="#section-appendix.c-5.3" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.c-5.4">Attempting to clean up the introduction, goals and motivations of the document<a href="#section-appendix.c-5.4" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.c-5.5">Adding a privacy considerations section<a href="#section-appendix.c-5.5" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.c-5.6">Adding more clairty around when to include/expect the NS2/NS2T records<a href="#section-appendix.c-5.6" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.c-5.7">Adding this note that CNS2 will not be included in this draft<a href="#section-appendix.c-5.7" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.c-5.8">Prohibiting NS2 and NS2T from existing at the same name<a href="#section-appendix.c-5.8" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-appendix.c-5.9">Making the statement about the parent records being glue and should not be signed<a href="#section-appendix.c-5.9" class="pilcrow">¶</a>
</li>
      </ul>
</section>
</div>
<div id="discussions">
<section id="section-appendix.d">
      <h2 id="name-discussions">
<a href="#section-appendix.d" class="section-number selfRef">Appendix D. </a><a href="#name-discussions" class="section-name selfRef">Discussions</a>
      </h2>
<p id="section-appendix.d-1">Editor Note: Remove this full section before publication.<a href="#section-appendix.d-1" class="pilcrow">¶</a></p>
<div id="port-numbers">
<section id="section-d.1">
        <h2 id="name-port-numbers">
<a href="#section-d.1" class="section-number selfRef">D.1. </a><a href="#name-port-numbers" class="section-name selfRef">Port Numbers</a>
        </h2>
<p id="section-d.1-1">Originally, I had added SvcParamKeys for port numbers for each of the protocols. There was a discussion that resulted in removing the port numbers, since it was added complexity that had little perceived use in the wild. These can be added back if there is a desire to have them. The original author included them as a way to provide the nameserver operator a way to differentiate incoming traffic when using the aliasform with lower TTLs and intelligent responses based on the client IP.<a href="#section-d.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="cns2">
<section id="section-d.2">
        <h2 id="name-cns2">
<a href="#section-d.2" class="section-number selfRef">D.2. </a><a href="#name-cns2" class="section-name selfRef">CNS2</a>
        </h2>
<p id="section-d.2-1">Client NS2, similar to CDS might be a way to provide support for getting NS2 records into the parent zone before going through the registrars, but that might be a tough thing to agree on at this point.<a href="#section-d.2-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="second-record-name">
<section id="section-d.3">
        <h2 id="name-second-record-name">
<a href="#section-d.3" class="section-number selfRef">D.3. </a><a href="#name-second-record-name" class="section-name selfRef">Second Record Name</a>
        </h2>
<p id="section-d.3-1">Selected NS2T for Nameserver 2 Target since the record defines the target authoritative servers.<a href="#section-d.3-1" class="pilcrow">¶</a></p>
<p id="section-d.3-2">~~~
01234567890123456789012345678901234567890123456789012345678901234567891<a href="#section-d.3-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.e">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Tim April</span></div>
<div dir="auto" class="left"><span class="org">Akamai Technologies</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:ietf@tapril.net" class="email">ietf@tapril.net</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
