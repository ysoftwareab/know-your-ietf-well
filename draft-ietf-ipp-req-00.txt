

          INTERNET DRAFT                 F.D. Wright, Lexmark International
          <draft-ietf-ipp-req-00.txt>
          March 24, 1997                             Expires: Sept 24, 1997


                   Requirements for an Internet Printing Protocol




          STATUS OF THIS MEMO

          This document is an Internet-Draft.  Internet-Drafts are working
          documents of the Internet Engineering Task Force (IETF), its
          areas, and its working groups.  Note that other groups may also
          distribute working documents as Internet-Drafts.

          Internet-Drafts are draft documents valid for a maximum of six
          months and may be updated, replaced, or obsoleted by other
          documents at any time.  It is inappropriate to use Internet-
          Drafts as reference material or to cite them other than as ''work
          in progress.''

          To learn the current status of any Internet-Draft, please check
          the ''1id-abstracts.txt'' listing contained in the Internet-
          Drafts Shadow Directories on ftp.is.co.za (Africa), nic.nordu.net
          (Europe), munnari.oz.au (Pacific Rim), ds.internic.net (US East
          Coast), or ftp.isi.edu (US West Coast).

          ABSTRACT

          This document is one of a set of documents which together
          describe all aspects of a new Internet Printing Protocol (IPP).
          IPP is an application level protocol that can be used for
          distributed printing on the Internet. The protocol is heavily
          influenced by the printing model introduced in the Document
          Printing Application (ISO/IEC 10175 DPA) standard. Although DPA
          identifies the both end user and administrative features, IPP is
          initially focused only on the end user functionality.

          The full set of IPP documents include:

          Internet Printing Protocol/1.0: Requirements
          Internet Printing Protocol/1.0: Model and Semantics
          Internet Printing Protocol/1.0: Security
          Internet Printing Protocol/1.0: Protocol Specification
          Internet Printing Protocol/1.0: Directory Schema







          Wright              draft-ietf-ipp-req-00.txt            [Page 1]

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996




          This document describes the requirements for an Internet printing
          protocol.  It describes the end-user, operator and administrator
          wants and needs in the context of printing documents from a
          variety of sources.  These sources include standard desktop
          applications (e.g. word processors, spreadsheets, and browsers),
          documents selected by reference (e.g. URL) and documents created
          by batch or background applications.  Additionally, requirements
          for light-weight printer status and management and job status and
          management services will be discussed.







































          Wright              draft-ietf-ipp-req-00.txt            [Page 2]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996




                                  TABLE OF CONTENTS

          1. TERMINOLOGY..................................................5
          2. REQUIREMENTS.................................................6
           2.1. END-USER.................................................6
             2.1.1. Finding or locating a printer........................6
             2.1.2. Create an instance of the printer....................7
             2.1.3. Viewing the status of a printer......................7
             2.1.4. Submitting a print job...............................8
             2.1.5. Viewing the status of a submitted print job..........9
             2.1.6. Canceling a Print Job................................9
           2.2. OPERATOR.................................................9
             2.2.1. Alerting............................................10
             2.2.2. Changing Print and Job Status.......................10
           2.3. ADMINISTRATOR...........................................10
          3. IPP SCENARIOS...............................................12
           3.1. PRINTER DISCOVERY.......................................13
           3.2. DRIVER INSTALLATION.....................................14
           3.3. SUBMITTING A PRINT JOB..................................14
           3.4. GETTING STATUS/CAPABILITIES.............................15
           3.5. ASYNCHRONOUS NOTIFICATION...............................16
           3.6. JOB CANCELING...........................................16
          4. OBJECTIVES OF THE PROTOCOL..................................18
           4.1. SECURITY................................................18
           4.2. INTERACTION WITH LPD (RFC1179)..........................18
           4.3. EXTENSIBILITY...........................................19
           4.4. FIREWALLS...............................................19
           4.5. INTERNATIONALIZATION....................................20
          5. REFERENCES..................................................21
          6. ACKNOWLEDGMENTS.............................................21
          7. AUTHOR'S ADDRESS............................................21
          8. APPENDIX - DETAILED SCENARIOS...............................22
           8.1. PRINTER DISCOVERY WITHIN AN ENTERPRISE..................22
           8.2. PRINTER DISCOVERY ACROSS ENTERPRISES....................24
           8.3. PRINTER DISCOVERY ON THE INTERNET -LOGICAL OPERATIONS...25
           8.4. PRINTER DISCOVERY ON THE INTERNET - AUTHENTICATION......26
           8.5. DRIVER DOWNLOAD.........................................28
           8.6. SUBMITTING A PRINT JOB AS A FILE........................29
           8.7. SUBMITTING A PRINT JOB WITH TWO DOCUMENTS...............30
           8.8. SUBMITTING A PRINT JOB AS A FILE, PRINTING FAILS........31
           8.9. SUBMITTING A PRINT JOB WITH AUTHENTICATION, PRIVACY AND
           PAYMENT......................................................32
           8.10. SUBMITTING A PRINT JOB WITH DECRYPTION ERROR...........33
           8.11. SUBMITTING A PRINT JOB WITH AUTHENTICATION.............35
           8.12. SUBMITTING A PRINT JOB GENERATED DYNAMICALLY...........36



          Wright              draft-ietf-ipp-req-00.txt            [Page 3]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996




           8.13. SUBMITTING A PRINT JOB WITH A PRINTER JAM - CANCELED...37
           8.14. SUBMITTING A PRINT JOB WITH A PRINTER JAM - RECOVERED..38
           8.15. SUBMITTING A PRINT JOB WITH SERVER PULL................39
           8.16. SUBMITTING A PRINT JOB WITH REFERENCED RESOURCES.......40
           8.17. GETTING CAPABILITIES...................................41
             8.17.1. Submission Attributes..............................41
             8.17.2. Printer Capabilities...............................41
           8.18. GETTING STATUS.........................................42
             8.18.1. Printer State/Status...............................42
             8.18.2. Job Status.........................................42
             8.18.3. Status of All My Jobs..............................42
           8.19. ASYNCHRONOUS NOTIFICATION..............................44
             8.19.1. Job Completion.....................................44
             8.19.2. Job Complete with Data.............................44
             8.19.3. Print Job Fails....................................44
           8.20. CANCEL A JOB...........................................45
           8.21. END TO END SCENARIO - WITHIN AN ENTERPRISE.............46
           8.22. END TO END SCENARIO - ACROSS ENTERPRISES...............48
           8.23. END TO END SCENARIO - ON THE INTERNET..................51





























          Wright              draft-ietf-ipp-req-00.txt            [Page 4]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          1.   TERMINOLOGY


          Internet Printing for the purposes of this document is the
          application of World Wide Web tools, programs, servers and
          networks to allow end-users to print to a remote printer using,
          after initial setup or configuration, the same methods,
          operations and paradigms as would be used for a locally attached
          or a local area network attached printer.  This could include the
          use of HTTP servers and browsers for providing static, dynamic
          and interactive printer locating services, user installation,
          selection, configuration, print job submission, printer
          capability inquiry and status inquiry of remote printers and
          jobs.

          For the purposes of this document, a WEB Browser is software
          available from a number of sources including but not limited to
          the following: Microsoft Internet Explorer, NCSA Mosaic, Netscape
          Navigator, Sun Hot Java!.  The major task of these products is to
          use the Hypertext Transport Protocol (HTTP) to retrieve,
          interpret and display Hypertext Markup Language (HTML).

          Throughout this document, 'printer' shall be interpreted to
          include any device which is capable of marking on a piece of
          media using any available technology.  No assumption is made
          about multi-tiered printing solutions involving servers (single
          or multiple) logically in front of the actual printing device and
          all such configurations shall be supported but shall appear to
          the end-user as only a single device.

          Throughout this document, certain requirements will be identified
          as not being a part of version 1.0 (or V1.0) of the protocol or
          as being satisfied by means outside of IPP.  For example printer
          instance creation is not performed by but is enabled by the
          protocol.  Globally, none of the operator or administrators
          requirements will be included in version 1.0.  Some of the end-
          user requirements may also be excluded from version 1.0 and will
          be so noted in the description of that requirement.  Subsequent
          versions of the protocol (e.g. V2.0) may include support for
          these initially excluded requirements.








          Wright              draft-ietf-ipp-req-00.txt            [Page 5]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          2.   REQUIREMENTS


          The next three sections identify the requirements of an Internet
          printing protocol from three roles assumed by humans: end-user,
          operator, and administrator.  The requirements defined here are
          only those that need to be addressed by an application level
          Internet printing protocol.  Other requirements, such as that the
          operator needs physical access to the printer (e.g. to be able to
          load paper or clear jams) are not covered by this document.
          Section 3 contains scenarios which provide more detailed examples
          of the entire process including discovery, status, printing and
          end-of-job reporting.

          2.1. END-USER


          An end-user of a printer accepting jobs through the Internet is
          one of the roles in which humans act.  The end-user is the person
          that will submit a job to be printed on the printer.

          The requirements of the end-user are broken down into six
          categories: finding/locating, local instance, viewing printer
          status, viewing printer capabilities, submitting a print job,
          viewing job status, altering the attributes of a print job.


          2.1.1.                  Finding or locating a printer.


          end-users want to be able to find and locate printers to which
          they are authorized to print.  They want to be able to perform
          this function using a standard WEB browser or other application.
          Multiple criteria can be applied to find the printers needed.
          These criteria include but are not limited to:

          - by name (Printer 1, Joes-color-printer, etc.)
          - by geographic location (bldg 1, Kentucky, etc.)
          - by capability or attribute (color, duplex, legal paper, etc.)

          Additionally, end-users want to be able to limit the scope of
          their searching to:

          - inside a functional sub-domain
          - include only a particular domain (lexmark.com)
          - exclude specified domains



          Wright              draft-ietf-ipp-req-00.txt            [Page 6]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996






          2.1.2.                  Create an instance of the printer.


          After finding the desired printer, an end-user needs to be able
          to create a local instance of that printer within the end-user
          operating system or desktop.  This local instance will vary
          depending upon the printing paradigm of the operating system.
          For example, some UNIX users will only want a queue or a
          reference to a remote printer created on their machine while
          other UNIX users and Windows NT users will want the queue and
          also the necessary icons and registry entries to be created and
          initialized.  Where required, drivers may need to be downloaded
          from some repository and installed on the computer.  All
          necessary decompressing, unpacking, and other installation
          actions should occur without end-user interaction or intervention
          excepting initial approval by the end-user.  Once the local
          instance of the printer has been installed, it shall appear to
          the end-user of operating system and to the applications running
          there as any other printer (local, local area network connected,
          or network operating system connected) on the end-user desktop or
          environment.  An Internet Printing Protocol's role in this
          requirement is to enable (by providing configuration information,
          driver location, etc.) the creation of the printer instance
          rather than the actual creation of the printer instance.


          2.1.3.                  Viewing the status and capabilities of a printer.


          Before using a selected printer or, in fact at any time, the end-
          user needs the ability to verify the characteristics and status
          of both printers and jobs queued for that printer.  When checking
          the characteristics of a printer, the end-user typically wants to
          be able to determine the capability of the device, e.g.:

          - loaded media, commonly paper, by size and type
          - paper handling capability, e.g. duplex, collating, finishing
          - color capability

          When checking the status of the printer, the end-user typically
          wants to be able to determine:

          - is the printer on-line?
          - what are the defaults to be used for printing?



          Wright              draft-ietf-ipp-req-00.txt            [Page 7]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          When checking the status on jobs queued for the printer, the end-
          user typically wants to be able to determine:

          - how many jobs are queued for the printer?
          - how are job priorities assigned?


          2.1.4.                  Submitting a print job.


          Once the desired printer has been located and installed, the end-
          user wants to print to that printer from normal applications
          using standard methods.  These normal applications include such
          programs as word processors, spreadsheets, data-base
          applications, WEB browsers, production printing applications,
          etc.  In addition to printing from an application, the end-user
          needs to have the ability to submit a print job by reference.
          Printing by reference is defined to mean as submitting a job by
          providing a reference to an existing document.  The reference, a
          URL, will be resolved before the actual print process occurs.

          Some means shall be provided to determine if the format of a job
          matches the capability of the printer.  This can be done by one
          of the following:

               - the end-user selects the correct printer driver
               - the printer automatically selects the proper interpreter
               - the end-user uses some other manual procedure.

          A standard action shall be defined should the job's requirements
          not match the capabilities of the printer.

          Because the end-user does not want to know the details of the
          underlying printing process, the protocol must support job-to-
          printer capability matching (all implementations are not
          necessarily required to implement this function.)  This matching
          capability requires knowing both the printer's capabilities and
          attributes and those capabilities and attributes required by the
          job.  Actions taken when a print job requires capabilities or
          attributes that are not available on the printer vary and can
          include but are not limited to:

          - rejecting the print job
          - redirecting the print job to another printer




          Wright              draft-ietf-ipp-req-00.txt            [Page 8]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996




          - printing the job, accepting differences in the appearance

          Print jobs will also be submitted by background or batch
          applications without human intervention.  Any application level
          Internet printing application must support this type of printing.

          end-users need the ability to set certain print job parameters at
          the time the job is submitted.  These parameters include but are
          not limited to:

          - number of copies
          - single or two sided printing
          - finishing
          - job priority



          2.1.5.                  Viewing the status of a submitted print job.


          After a job has been submitted to a printer, the end-user needs a
          way to view the status of that job (i.e. job waiting, job
          printing, job done) and to determine where the job is in the
          print queue.

          In addition to the need to inquire about the status of a print
          job, automatic notification of the completion of that job is also
          required.  New notification means are not defined by the protocol
          but the protocol must provide a means of enabling and disabling
          the notification.


          2.1.6.                  Canceling a Print Job


          While a job is waiting to be printing or has been started but not
          yet completed, the original creator/submitter of the print job
          (i.e. the end-user) shall be able to cancel the job entirely (job
          is waiting) or the remaining portion of it (job is printing.)
          Altering the print job itself is not a V1.0 requirement.



          2.2. OPERATOR





          Wright              draft-ietf-ipp-req-00.txt            [Page 9]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996




          An operator of a printer accepting jobs through the Internet is
          one of the roles in which humans act.  The operator has the
          responsibility of monitoring the status of the printer as well as
          managing and controlling the jobs at the device.  These
          responsibilities include but are not limited to the replenishing
          of supplies (ink, toner, paper, etc.), the clearing of minor
          errors (paper jams, etc.) and the re-prioritization of end-user
          jobs.  Operator requirements will not be addressed by V1.0 of the
          protocol.

          The requirements of the operator include all those of the end-
          user but may include additional privileges.  For example, an
          operator may be able to view all print jobs on a printer while
          the end-user may only see his own jobs.


          2.2.1.                  Alerting.


          One of the required operator functions is having the ability to
          discover or to be alerted to changes in the status of a printer
          particularly those changes that cause a printer to stop printing
          and to be able to correct those problems.  As such, an Internet
          printing protocol shall be able to alert a designated operator or
          operators to these conditions such as ‘out of paper’, ‘out of
          ink’, etc.  Additionally. the operator shall be able to,
          asynchronous to other printer activity, inquire as to a printer's
          or a job's status.


          2.2.2.                  Changing Print and Job Status.


          Another of the required operator functions is the ability to
          affect changes to printer and job status remotely.  For example,
          the operator will need to be able to re-prioritize or cancel any
          print jobs on a printer to which the operator has authority.


          2.3. ADMINISTRATOR


          An administrator of a printer accepting jobs through the Internet
          is one of the roles in which humans act.  The administrator has
          the responsibility of creating the printer instances and
          controlling the authorization of other




          Wright              draft-ietf-ipp-req-00.txt           [Page 10]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996




          end-users and operators.  Administrator requirements will not be
          addressed by V1.0 of the protocol.

          The requirements of the administrator include all those of the
          end-user and, in some environments, some or all of those of the
          operator.  Minimally, the administrator must also have the tools,
          programs, utilities and supporting protocols available to be able
          to:

          - create an instance of a printer
          - create, edit and maintain the list of authorized end-users
          - create, edit and maintain the list of authorized operators
          - create, edit and maintain the list of authorized
             administrators
          - create, customize, change or otherwise alter the manner in
             which the status capabilities and other information about
             printers and jobs are presented
          - create, customize, or change other printer or job features
          - administrate billing or other charge-back mechanisms
          - create sets of defaults
          - create sets of capabilities

          The administrator must have the capability to perform all the
          above tasks locally or remotely to the printer.
























          Wright              draft-ietf-ipp-req-00.txt           [Page 11]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          3.   IPP SCENARIOS


          Each of the scenarios in this section describes a specific IPP
          operation, such as submitting a print job. Section 8.0 contains
          several detailed flows for each scenario to provide additional
          detail.  The examples should not be considered exhaustive, but
          illustrative of the functions and features required in the
          protocol.  Flows are intended to be protocol neutral. It is not
          assumed that all of the functions and features described in these
          scenarios will necessarily be supported directly by IPP or in
          version 1.0 of IPP.

          These scenarios support one of three physical configurations:

          - An IPP client talking to an IPP Printer object imbedded in a
            single, physical output device.
          - An IPP Client talking to a server containing one or more IPP
            Printer objects. Each Printer object is associated with
            exactly one physical output device supported by the server.
            The protocol between the server and the output devices is
            undefined.
          - An IPP Client talking to an IPP Printer object in a server.
            The Printer object is associated with one or more physical
            output devices, but the client only sees the Printer object,
            which is an abstraction and represents all of the associated
            physical output devices. The protocol between the server and
            the physical output devices is undefined.

          Clients and Printers may or may not be behind firewalls, i.e. not
          directly on the Internet. At least the following should be
          considered:

          - Client and Printer are behind the same firewall.
          - Client is behind one firewall and Printer is behind another.
          - Client is behind a firewall and Printer is not.
          - Printer is behind a firewall and the client is not.
          - Neither Client nor Printer are behind a firewall.

          See draft-ietf-ipp-security-01.txt for more details on these and
          other configurations of clients, servers and firewalls.







          Wright              draft-ietf-ipp-req-00.txt           [Page 12]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          3.1. PRINTER DISCOVERY


          Client                                               Directory
          Service                                                Service

           +----------------------------------------------------------- >
              give me information on printers with these characteristics


           < -----------------------------------------------------------+
               Information on Printers matching these characteristics


          The objective of printer discovery is to locate printers that
          meet the client’s requirements. The directory Service should
          provide enough information for the client to make an initial
          choice. The client may have to connect to each individual Printer
          offered to get more detail.

          The actual protocol used between client and Directory or Name
          service is considered outside the scope of IPP. Printer Discover
          is included in the scenarios to provide requirements for the
          directory schema for IPP Printers and to further define Printer
          attributes.

          Characteristics that might be considered when locating a Printer
          include:

          - capabilities of the Printer, e.g. PDLs supported
          - physical location, e.g. in building 010
          - driver required and location
          - cost per page to print
          - whether or not printer is access controlled
          - whether or not usage requires client authentication
          - whether or not Printer can be authenticated
          - whether or not payment is required for printing
          - maximum job size (spool size)
          - whether or not Printer support compression
          - whether or not Printer supports encryption
          - administrative limits on this Printer
               - maximum number of copies per job
               - maximum number of pages per job





          Wright              draft-ietf-ipp-req-00.txt           [Page 13]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996




          Responses could additionally include:

          - how to get more information
               - web page
               - telephone number
               - help desk


          3.2. DRIVER INSTALLATION


          Client                                               Printer

           +----------------------------------------------------------- >
              Where can I find a driver & software to install it?


           < -----------------------------------------------------------+
               URLs for drivers and install software


          Driver here refers to the code installed in the client operating
          system to generate the print data stream for the intended
          printer. The actual details for installing a printer driver are
          operating system independent and are beyond the scope of IPP.
          However, an IPP printer or a directory service advertising an IPP
          Printer should be capable of telling a client what drivers are
          required, where they can be found, and provide pointers to
          installation instructions, installation code or initialization
          strings required to install the driver.


          3.3. SUBMITTING A PRINT JOB


          Client                                               IPP Printer

           +----------------------------------------------------------- >
              Here is a Print Job
               - Job and document attributes
               - Print data


           < -----------------------------------------------------------+
               Response




          Wright              draft-ietf-ipp-req-00.txt           [Page 14]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996




          The protocol must support these sources of client data:

          - Print data is a file submitted with the job
          - Print data is generated on the fly by an application
          - Print data is a file referenced by a URL

          The protocol must handle overrun conditions in the printer and
          must support overlapped printing and downloading of the file in
          devices that are unable to spool files before printing them.

          Every print request will have a response. Responses will indicate
          success or failure of the request and provide information on
          failures when they occur. Responses would include things like:

          - Got the print job and queued it
          - Got the print job and am printing it
          - Got the print job, started to print it, but printing failed
               - why it failed (e.g. unrecoverable PostScript error)
               - state of the printer
               - how much printed
          - Got the print job but couldn’t print it
               - why it can’t be printed
               - state of the printer
          - Got the print job but don’t know what to do with it
          - Didn’t get a complete print job (e.g. communication failure)


          3.4. GETTING STATUS/CAPABILITIES


          Client                                               IPP Printer

           +----------------------------------------------------------- >
              Get status and/or capabilities of Printer


           < -----------------------------------------------------------+
               Status/Capabilities


          Clients will need to get information about

          - Static capabilities of the device (e.g. marking technology)
          - Dynamic state of the Printer (e.g. out of paper)
          - State of a specific job owned by this client




          Wright              draft-ietf-ipp-req-00.txt           [Page 15]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996




          - State of all jobs owned by this client
               - queued
               - printing
               - completed
          - Job submission attributes supported/required
               - scheduling attributes (e.g. priority)
               - production attributes (e.g. number of copies)
           

          3.5. ASYNCHRONOUS NOTIFICATION


          Client                                               IPP Printer

           +----------------------------------------------------------- >
              Use the following method to notify me of Printer events

                                        .
                                        .
                                        .
           < -----------------------------------------------------------+
               Asynchronous notification of Printer event


          Clients must be able to request asynchronous notification for
          Printer events such as

          - job completion
          - a fatal error that requires the job to be resubmitted
          - a condition that severely impacts a queued job for this client
               e.g. printer is out of paper

          Note: end-user notification is a V1.0 requirement while operator
          notification is for V2.0.



          3.6. JOB CANCELING


          Client                                               IPP Printer

           +----------------------------------------------------------- >
              Modify the named job as indicated





          Wright              draft-ietf-ipp-req-00.txt           [Page 16]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996




           < -----------------------------------------------------------+
               Response (did it or not)

          Clients must be able to make changes to jobs which have been
          submitted and are queued for printing.  Changing of job
          attributes should also be supported.  Job modifications, holding
          and releasing of jobs will not be required in IPP v1.0.









































          Wright              draft-ietf-ipp-req-00.txt           [Page 17]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          4.   OBJECTIVES OF THE PROTOCOL


          The protocol to be defined by an Internet printing working group
          will address the requirements of the end-user (V1.0).  It will
          not, at least initially, address the operator or administrator
          requirements (V2.0).

          The protocol defined shall be independent of the operating system
          of both the client and the server.  Any platform capable of
          supporting a WEB Browser shall be supported as a client.  Any
          platform providing a WEB/HTTP server and printing services shall
          be supported as a server.  Usage of the WEB Browser and Server is
          not required for IPP; the operating system, operating system
          extensions or other applications may provide IPP functionality
          directly.

          In many environments such as Windows 95, Windows NT and OS/2, the
          print data is created and transmitted to the printer ''on the
          fly'' rather than being created, spooled and then transmitted to
          the printer (a typical UNIX method.)  The Internet Printing
          Protocol must properly handle this methodology and make this
          transparent to the end-user.


          4.1. SECURITY


          Security definitions, issues and requirements are discussed in a
          separate draft.  See ''draft-ietf-ipp-security-00.txt'' for these
          requirements.  Authentication shall be required in V1.0.
          Privacy, payment, and other aspects of security are not required
          for V1.0.


          4.2. INTERACTION WITH LPD (RFC1179)


          Many versions of UNIX and in fact other operating systems provide
          a means of printing as described in RFC1179 (Line Printer Daemon
          Protocol.)  This document describes the file formats for the
          control and data files as well as the messages used by the
          protocol.  Because of the simplistic approach taken by this
          protocol, many manufacturers have include proprietary
          enhancements and extensions to 'lpd.'  Because of this divergence
          and due to other requirements described in this document, there



          Wright              draft-ietf-ipp-req-00.txt           [Page 18]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996




          is no requirement for backward compatibility or interoperability
          with 'lpd'.  However, a mapping of LPD functionality and IPP
          functionality shall be provided so as to enable a gateway between
          LPD and IPP.


          4.3. EXTENSIBILITY


          The Internet Printing Protocol shall be extensible by several
          means that facilitates interworking and prevents implementation
          collisions:

               - by providing a process whereby implementers can submit
               proposals for registration of new attributes, new enumerated
               values for existing attributes and new tags for attributes
               or attribute values

               - that require review and approval.  The Internet Assigned
               Number Authority (IANA) will be the repository for such
               accepted registration proposals after review.

               - that do not require review and approval.  IANA will be the
               repository for such registrations.

               - by providing syntax in the protocol so that implementers
               may add private (i.e. unregistered) attributes, enumerated
               attribute values, and tags.

               - by providing versioning and negotiation so as to enable
               future implementations of IPP to interoperate with
               implementations of version 1.0 of IPP.


          4.4. FIREWALLS


          As stated in the end-user requirements section, Internet printing
          shall by definition support printing from one enterprise to
          another.  As such, the Internet printing protocol must be capable
          of passing through firewalls and/or proxy servers (where enabled
          by the firewall administrator) preferably without modification to
          the existing firewall technology.






          Wright              draft-ietf-ipp-req-00.txt           [Page 19]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996




          4.5. INTERNATIONALIZATION


          Users of Internet printing will come from all over the world.  As
          such, where appropriate, internationalization and localization
          will be enabled for the protocol.











































          Wright              draft-ietf-ipp-req-00.txt           [Page 20]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          5.   REFERENCES


          RFC1179 - Line Printer Daemon Protocol
          RFC1759 - Printer MIB
          ISO/IEC 10175, Document Printing Application


          6.   ACKNOWLEDGMENTS


          This document draws heavily from preliminary work done by others
          especially in the Printer Working Group (PWG).  The author
          gratefully acknowledges the specific contributions of:

          Scott Isaacson                   Roger Debry
          Novell                           IBM
          scott_isaacson@novell.com        rdebry@us1.ibm.com

          Carl-Uno Manros                  Robert Herriot
          Xerox                            Sun
          manros@cp10.es.xerox.com         Robert.Herriot@eng.sun.com

          Tom Hastings                     Peter Zehler
          Xerox                            Xerox
          hastings%cp10.es.xerox.com       Peter_Zehler@wb.xerox.com



          7.   AUTHOR'S ADDRESS


          F.D. (Don) Wright
          Lexmark International
          C14/035-3
          740 New Circle Rd
          Lexington, KY  40511

          Phone: 606-232-4808
          Fax: 606-232-6740
          E-mail: don@lexmark.com








          Wright              draft-ietf-ipp-req-00.txt           [Page 21]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          8.   APPENDIX - DETAILED SCENARIOS


          The following are more detailed scenarios illustrating how the
          Internet Printing Protocol is expected to be used.  The
          information contained herein is meant to be generic.  There may
          not be an exact wording or terminology match between these
          scenarios and the implementation documents.


          8.1. PRINTER DISCOVERY WITHIN AN ENTERPRISE


          A user wants to find a color Postscript printer in his/her
          enterprise  which will print transparencies. The client,
          directory service, and Printer are all behind the same corporate
          firewall. Because color foils are expensive, Printers of this
          type are access controlled and require an account to be
          established so that printing can be billed back to the using
          department. Note the request to find a Printer usable by Dept.
          J15. Drivers for all supported Printers are available from the
          server they are associated with. A help desk is provided for end
          user support.  The printer is unattended.


          Client                                  Directory Service

             +---------------------------------------------------------- >
               Find a Printer with these characteristics
               - prints color, prints transparencies
               - prints Postscript
               - is in building 003
               - usable by department J15

             < ----------------------------------------------------------+
               Printer ‘                       ‘Color-A’                                ’
               - prints color, prints transparencies
               - prints Postscript
               - in room H-6, building 003
               - driver ABC-Postscript-V1.3 required, here is URL
               - cost is $.45 per page for color transparencies
               - limit is 10 pages per job
               - authentication required to use printer
               - printer is unattended
               - help desk at x5001



          Wright              draft-ietf-ipp-req-00.txt           [Page 22]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





                Printer ‘                        ‘Color-B’                                 ’
               - prints color, prints transparencies
               - prints Postscript
               - in room J-10, building 003
               - driver XYZ-Postscript-V2.4 required, here is URL
               - cost is $1.25 page for color transparencies
               - limit is 5 pages per job
               - authentication is required to use printer
               - printer is unattended
               - help desk at x5001





































          Wright              draft-ietf-ipp-req-00.txt           [Page 23]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          8.2. PRINTER DISCOVERY ACROSS ENTERPRISES


          A user in Company A wants to find a public printer in a business
          partner’s enterprise (Company B) on which to print a purchase
          order. The client is behind one corporate firewall and the
          directory service and the Printer are behind a different
          corporate firewall. Drivers for all supported Printers are
          available from the server they are associated with. A web page is
          provided for end user support for public printers.


          Client                        Company B Directory Service

             +---------------------------------------------------------- >
               Find a Printer with these characteristics
               - prints black and white
               - is in El Segundo, building A
               - is a public printer (accessible from outside firewall)

             < ----------------------------------------------------------+
               Printer ‘                       ‘Public-A’                                 ’
               - prints black and white
               - prints Postscript
               - in El Segundo, room H-6, building A
               - driver ABC-Postscript-V1.3 required, here is URL
               - printer is public
               - help available at http://xerox/elSegundo/publicPrinters

                Printer ‘                        ‘Public-B’                                  ’
               - prints black and white
               - prints PCL/5e
               - is in El Segundo, room J-10, building A
               - driver XYZ-PCL-V2.4 required, here is URL
               - printer is public
               - help available at http://xerox/elSegundo/publicPrinters












          Wright              draft-ietf-ipp-req-00.txt           [Page 24]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996




           

          8.3. PRINTER DISCOVERY ON THE INTERNET -LOGICAL OPERATIONS


          A student wants to print a paper on a printer at his neighborhood
          Kinko’s print shop. The report was written using Microsoft Word.
          The student is interested in the cost of printing since his
          budget is limited. Note the use of logical operators to find this
          information.

          Client                          Kinko’s Directory Service

             +---------------------------------------------------------- >
               Find a Printer with these characteristics
               - prints color or black and white
               - costs less than $.50 per page
               - tell me about resolution and marking technology

             < ----------------------------------------------------------+
               Printer ‘                       ‘Color-A’                                ’
               - prints color
               - 600 dpi laser printer
               - prints Postscript
               - driver ABC-Postscript-V1.3 required, here is URL
               - cost is $.50 per page for color
               - payment required prior to submitting print job
               - here is URL for more information on Kinko’s

                Printer ‘                        ‘Mono-B’                                ’
               - prints black and white
               - 300 dpi inkjet printer
               - prints Postscript
               - driver XYZ-Postscript-V2.4 required, here is URL
               - cost is $0.35 page for black and white
               - payment required prior to submitting print job
               - here is URL for more information on Kinko’s












          Wright              draft-ietf-ipp-req-00.txt           [Page 25]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996






          8.4. PRINTER DISCOVERY ON THE INTERNET - AUTHENTICATION


          An executive in her hotel room is finishing an important
          presentation on her laptop computer. She connects to a local
          print shop through the web to get a copy of her charts printed
          for tomorrow’s presentation. She must find a print shop that is
          convenient to her hotel and can print color transparencies. She
          wants to be sure that the printer can be authenticated and can
          accept encrypted data.



          Client                        SirSpeedy Directory Service

             +---------------------------------------------------------- >
               Find a Printer with these characteristics
               - prints color transparencies
               - is in Downtown Boulder, Colorado
               - Printer can be authenticated
               - Printer supports encryption
                
               Give me the Printer’s public key
               Tell me when you are open for business

             < ----------------------------------------------------------+
               Printer ‘                       ‘Color-A’                                ’
               - prints color transparencies
               - prints Postscript
               - driver ABC-Postscript-V1.3 required, here is URL
               - payment required prior to submitting print job
               - Printer can be authenticated
               - Data can be encrypted
               - Printer’s public key = ‘                                         ‘CG&89Hj$#004?’                                                        ’
               - Located at 1670 Pearl Street, Boulder, CO
               - This Branch is open 24 hours a day


               Printer ‘                       ‘Color-B’                                ’
               - prints color transparencies
               - prints Postscript
               - driver ABC-Postscript-V1.3 required, here is URL
               - payment required prior to submitting print job




          Wright              draft-ietf-ipp-req-00.txt           [Page 26]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996




               - Printer can be authenticated
               - Data can be encrypted
               - Printer’s public key = ‘                                         ‘CG&7%%j$#003’                                                       ’
               - Located at 1220 Arapahoe, Boulder, CO
               - This Branch is open from 9:00am to 6:30pm











































          Wright              draft-ietf-ipp-req-00.txt           [Page 27]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996






          8.5. DRIVER DOWNLOAD


          An end user in an enterprise wants to print a lengthy report on a
          newly installed high speed PostScript printer. Since she will
          likely use this printer often, she would like to download a
          driver and install it on her workstation. She is running Windows
          95.  Note:  Driver download is not a V1.0 requirement.


          Client                                        IPP Printer

             +---------------------------------------------------------- >
               Tell me where to find print drivers for you
               I am using Windows 95 version 1.2


             < ----------------------------------------------------------+
               Driver install file is at
               http://www.ibm.com/drivers/NP12a/Win95



























          Wright              draft-ietf-ipp-req-00.txt           [Page 28]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996






          8.6. SUBMITTING A PRINT JOB AS A FILE


          An end-user wants to submit a print job. The print file already
          exists on his workstation. The client and Printer are behind the
          same corporate firewall. The printer is available to anyone
          behind the firewall and no authorization or authentication is
          required. The data is pushed to the Printer. The Printer is
          capable of spooling the output. No errors occur.

          Client                                        IPP Printer

             +---------------------------------------------------------- >
               Here is a print job
               - job name = MyJob
               - notify me by email when done printing
               - print on iso-a4-white paper
               - print on both sides of the paper
               - return status of the printer in response
               - document is in Postscript format
               - here is the document to print

             < ----------------------------------------------------------+
               Print job accepted and spooled
               - job id = #12345
               - current state of print job = spooled
               - submission time = 02/12/97, 15:35
               - printer state = printing



















          Wright              draft-ietf-ipp-req-00.txt           [Page 29]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          8.7. SUBMITTING A PRINT JOB WITH TWO DOCUMENTS


          An end-user wants to submit a print job. The print file already
          exists on his workstation. The client and Printer are behind the
          same corporate firewall. The printer is available to anyone
          behind the firewall and no authorization or authentication is
          required. The data is pushed to the Printer. The job consists of
          two separate documents. The Printer is capable of spooling the
          output. No errors occur.

          Client                                        IPP Printer

             +---------------------------------------------------------- >
               Here is a print job
               - job name = MyJob
               - notify me by email when done printing
               - print on iso-a4-white paper
               - print on both sides of the paper
               - return status of the printer in response
               - document #1 is in Postscript format
               - here is the document to print
               - document #2 is in Postscript format
               - here is the document to print

             < ----------------------------------------------------------+
               Print job accepted and spooled
               - job id = #12345
               - current state of print job = spooled
               - submission time = 02/12/97, 15:35
               - printer state = printing

















          Wright              draft-ietf-ipp-req-00.txt           [Page 30]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          8.8. SUBMITTING A PRINT JOB AS A FILE, PRINTING FAILS


          An end-user wants to submit a print job. The print file already
          exists on his workstation. The client and Printer are behind the
          same corporate firewall. The printer is available to anyone
          behind the firewall and no authorization or authentication is
          required. The data is pushed to the Printer. The Printer is not
          capable of spooling the output so it begins printing while still
          receiving the file. An error occurs and the printer cannot
          complete printing (in this case the user requires A4 paper and
          that paper size is not available on the printer.)

          Client                                        IPP Printer

             +---------------------------------------------------------- >
               Here is a print job
               - job name = MyJob
               - notify me by email when done printing
               - print on iso-a4-white paper
               - print on both sides of the paper
               - return status of the printer in response
               - document is in Postscript format
               - here is the document to print

             < ----------------------------------------------------------+
                    Print job accepted - printing failed - current state of
          print job = canceled (A4 not available)
               - submission time = 02/12/97, 15:35
               - printer state = ready


















          Wright              draft-ietf-ipp-req-00.txt           [Page 31]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          8.9. SUBMITTING A PRINT JOB WITH AUTHENTICATION, PRIVACY AND
          PAYMENT


          A traveling executive needs to print a set of transparencies for
          an important business meeting. The charts are in Lotus Freelance
          format on his notebook computer. He has located a SirSpeedy print
          shop near his hotel that will print color transparencies. Because
          the information on the charts is sensitive, he wants to be sure
          that his data is sent to the Printer in an encrypted format. He
          also wants to authenticate the Printer. The Printer also
          authenticates the user. Payment occurs across the Internet.


          Client    IPP Printer   +----------------------------------------
          ------------------ >
             < ----------------------------------------------------------+
               Mutual authentication and exchange of secret keys


             +---------------------------------------------------------- >
               Here is a print job
               - job name = MyJob
               - notify me by email when done printing
               - print on iso-a4-white paper
               - print on both sides of the paper
               - return status of the printer in response
               - tell me where to pick up output
               - document is in Postscript format
               - here is the document to print (encrypted)

             < ----------------------------------------------------------+
               Print job accepted and spooled
               - job id = #12345
               - current state of print job = spooled
               - submission time = 02/12/97, 15:35
               - printer state = printing
               - payment required to proceed with job
               - pick up at 230 East Main after 3:30pm today

             +---------------------------------------------------------- >
             < ----------------------------------------------------------+
               Payment transaction





          Wright              draft-ietf-ipp-req-00.txt           [Page 32]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          8.10.                 SUBMITTING A PRINT JOB WITH DECRYPTION ERROR


          A traveling executive needs to print a set of transparencies for
          an important business meeting. The charts are in Lotus Freelance
          format on his notebook computer. He has located a SirSpeedy print
          shop near his hotel that will print color transparencies. Because
          the information on the charts is sensitive, he wants to be sure
          that his data is sent to the Printer in an encrypted format. He
          also wants to authenticate the Printer. The Printer also
          authenticates the user. Payment occurs across the Internet. An
          error occurs during decryption.


          Client                                        IPP Printer

             +---------------------------------------------------------- >
             < ----------------------------------------------------------+
               Mutual authentication and exchange of secret keys


             +---------------------------------------------------------- >
               Here is a print job
               - job name = MyJob
               - notify me by email when done printing
               - print on iso-a4-white paper
               - print on both sides of the paper
               - return status of the printer in response
               - tell me where to pick up output
               - document is in Postscript format
               - here is the document to print (encrypted)

             < ----------------------------------------------------------+
               Print job accepted and spooled
               - job id = #12345
               - current state of print job = spooled
               - submission time = 02/12/97, 15:35
               - printer state = printing
               - payment required to proceed with job
               - pick up at 230 East Main after 3:30pm today

             +---------------------------------------------------------- >
             < ----------------------------------------------------------+
               Payment transaction




          Wright              draft-ietf-ipp-req-00.txt           [Page 33]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996




               .
               .
               .
             < ----------------------------------------------------------+
               Asynchronous response (email in this case)
               - decryption failed on job #12345
               - no pages printed
               - current state of job = aborted








































          Wright              draft-ietf-ipp-req-00.txt           [Page 34]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          8.11.                 SUBMITTING A PRINT JOB WITH AUTHENTICATION


          An end-user wants to submit a print job. The print file already
          exists on his workstation. The client and Printer are behind the
          same corporate firewall. The printer is available to anyone
          behind the firewall but authentication and authorization is
          required. Authorization takes place using the authenticated end-
          user’s name. The data is pushed to the Printer. The Printer is
          capable of spooling the output.


          Client                                        IPP Printer

             +---------------------------------------------------------- >
             < ----------------------------------------------------------+
               Authentication

               Note: An authentication failure would end the transaction at
                         this point.

             +---------------------------------------------------------- >
               Here is a print job
               - job name = MyJob
               - notify me by email when done printing
               - print on iso-a4-white paper
               - print on both sides of the paper
               - return status of the printer in response
               - tell me where to pick up output
               - document is in Postscript format
               - here is the document to print

             < ----------------------------------------------------------+
               Print job accepted and spooled
               - job id = #12345
               - current state of print job = spooled
               - submission time = 02/12/97, 15:35
               - printer state = printing










          Wright              draft-ietf-ipp-req-00.txt           [Page 35]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          8.12.                 SUBMITTING A PRINT JOB GENERATED DYNAMICALLY


          An end-user wants to submit a print job. The print data is
          generated dynamically and is being transmitted by a printer
          driver on the client workstation as available. The client and
          Printer are behind the same corporate firewall. The printer is
          available to anyone behind the firewall and no authentication and
          authorization is required. The data is pushed to the Printer. The
          Printer is capable of spooling the output. No error occurs.


          Client                                        IPP Printer

             +---------------------------------------------------------- >
               Here is a print job
               - job name = MyJob
               - notify me by email when done printing
               - print on iso-a4-white paper
               - print on both sides of the paper
               - return status of the printer in response
               - document is in Postscript format
               - here is the print job


             < ----------------------------------------------------------+
               Print data accepted and spooling started
               - job id = #12345
               - current job state = spooled
               - submission time = 02/12/97, 15:35
               - printer state = printing

















          Wright              draft-ietf-ipp-req-00.txt           [Page 36]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          8.13.                 SUBMITTING A PRINT JOB WITH A PRINTER JAM - CANCELED


          An end-user wants to submit a print job. The print data is
          generated dynamically and is being transmitted by a printer
          driver on the client workstation as available. The client and
          Printer are behind the same corporate firewall. The printer is
          available to anyone behind the firewall and no authentication and
          authorization is required. The data is pushed to the Printer. The
          Printer is not capable of spooling the output. The printer jams
          notifies the user and the user chooses to cancel the job.


          Client                                            IPP Printer
             +---------------------------------------------------------- >
               Here is a print job
               - job name = MyJob
               - notify me by email when done printing
               - print on iso-a4-white paper
               - print on both sides of the paper
               - return status of the printer in response
               - document is in Postscript format
               - here is the document to print

             < ----------------------------------------------------------+
               Print data accepted and printing started
               - job id = #12345

             +---------------------------------------------------------- >
               - What is the status of print job #12345?

             < --------------------------------------------------------- +
               - Job #12345 accepted but printer jammed, cannot continue

             +---------------------------------------------------------- >
               - Cancel job #12345

             * Printer flushes remaining data
             < ----------------------------------------------------------+
                Print job terminated
               - current job state = canceled
               - submission time = 02/12/97, 15:35
               - printer state = jammed





          Wright              draft-ietf-ipp-req-00.txt           [Page 37]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          8.14.                 SUBMITTING A PRINT JOB WITH A PRINTER JAM - RECOVERED


          An end-user wants to submit a print job. The print data is
          generated dynamically and is being transmitted by a printer
          driver on the client workstation as available. The client and
          Printer are behind the same corporate firewall. The printer is
          available to anyone behind the firewall and no authentication and
          authorization is required. The data is pushed to the Printer. The
          Printer is not capable of spooling the output. The printer jams,
          notifies the user and the user clears the jam and elects to
          continue.


          Client                                        IPP Printer

             +---------------------------------------------------------- >
               Here is a print job
               - job name = MyJob
               - notify me by email when done printing
               - print on iso-a4-white paper
               - print on both sides of the paper
               - return status of the printer in response
               - document is in Postscript format
               - here is the document to print

             < ----------------------------------------------------------+
               Print data accepted and printing started
               - job id = #12345

             < --------------------------------------------------------- +
               - Notification: printer jammed, cannot continue

             * Jam is clear by human intervention, printing continues

             +---------------------------------------------------------- >
                Here is the last part of the document to print

             < ----------------------------------------------------------+
                Print job received
               - current job state = printing
               - submission time = 02/12/97, 15:35
               - printer state = printing





          Wright              draft-ietf-ipp-req-00.txt           [Page 38]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          8.15.                 SUBMITTING A PRINT JOB WITH SERVER PULL


          An end-user wants to submit a print job. The print data is in a
          file and is publicly available. It is pulled by the Printer. The
          client and Printer are behind the same corporate firewall. The
          printer is available to anyone behind the firewall and no
          authentication and authorization is required. The Printer is
          capable of spooling the output. Printing may start before the
          entire job has been pulled.

          Client                                        IPP Printer

             +---------------------------------------------------------- >
               Here is a print job
               - job name = MyJob
               - notify me by email when done printing
               - print on iso-a4-white paper
               - print on both sides of the paper
               - return status of the printer in response
               - here is a reference to the data to be printed

             < ----------------------------------------------------------+
               Print data accepted and printing started
               - job id = #12345
               - current state of job = spooled
               - submission time = 02/12/97, 13:15
               - printer state = printing

               .
               .
              < ----------------------------------------------------------+
               Get the file to be printed

              +---------------------------------------------------------- >
               Here it is

               Note: Failure to find the file, would end the transaction
                         with an error at this point and an asynchronous
                         notification would be send to the Client.

              < ----------------------------------------------------------+
                Data received





          Wright              draft-ietf-ipp-req-00.txt           [Page 39]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          8.16.                 SUBMITTING A PRINT JOB WITH REFERENCED RESOURCES


          An end-user wants to submit a print job. The print data is on a
          file on the user’s workstation. It is pushed by the client, but
          printing requires some resources not included in the print file,
          e.g. a high resolution image or a font resource. Printer. The
          client and Printer are behind the same corporate firewall. The
          printer is available to anyone behind the firewall and no
          authentication and authorization is required. The Printer is
          capable of spooling the output. No errors occur.


          Client                                        IPP Printer

             +---------------------------------------------------------- >
               Here is a print job
               - job name = MyJob
               - notify me by email when done printing
               - print on iso-a4-white paper
               - print on both sides of the paper
               - return status of the printer in response
               - external resource required - here is URL
               - here is the data to be printed
                   - (with an external data reference)


             < ----------------------------------------------------------+
               Print data accepted and printing started
               - job id = #12345
               - current state of job = spooled
               - submission time = 02/12/97, 13:15
               - printer state = printing

               .
               .
              < ----------------------------------------------------------+
                Get the external resource

              +---------------------------------------------------------- >
                Here it is







          Wright              draft-ietf-ipp-req-00.txt           [Page 40]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          8.17.                 GETTING CAPABILITIES


          8.17.1.                   Submission Attributes


          An end-user wants to get the production and scheduling attributes
          that are supported or required when submitting jobs to this
          Printer. The client will use these attributes when forming the
          subsequent print request.

          Client                                        IPP Printer
             +---------------------------------------------------------- >
               I’m going to submit a Postscript job
               give me your job submission attributes

             < ----------------------------------------------------------+
               Postscript production attributes for this Printer are:
               - medium-select = us-letter-white, us-legal-white
                  - default is us-letter-white
                  -   copies = 1,2,3,4,5
                  - default is 1
                       - print-quality = draft, normal, high
                  - default is draft
                       - sides = 1-sided, 2-sided-long-edge
                  - default is 2-sided-long-edge
               - Job scheduling attributes for this Printer are:
                    - job-priority = 1,2,3
                  - default = 3

          8.17.2.                   Printer Capabilities


          An end-user wants to determine the resolution, marking
          technology, and PDLs supported by the printer.

          Client                                        IPP Printer
             +---------------------------------------------------------- >
               Please tell me the
               - resolution of the printer
               - the marking technology of the printer
               - PDLs supported
             < ----------------------------------------------------------+
               Printer resolution  = 600 dpi
               Marking Technology = laser
               PDLS supported = Postscript level 2, PCL/6



          Wright              draft-ietf-ipp-req-00.txt           [Page 41]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996






          8.18.                 GETTING STATUS


          8.18.1.                  Printer State/Status


          An end-user wants to determine the state or status of the
          printer.

          Client                                        IPP Printer

             +---------------------------------------------------------- >
               What is the state of the printer?

             < ----------------------------------------------------------+
               Printer state = out-of-paper


          8.18.2.                   Job Status


          An end user wants to get the status of a job he has submitted.

          Client                                        IPP Printer

             +---------------------------------------------------------- >
               Please tell me the status of job #12345

             < ----------------------------------------------------------+
               Job #12345 is queued
               it is number 3 in the queue
               printer state = printing



          8.18.3.                   Status of All My Jobs


          An end user wants to get a list of all of the jobs he has
          submitted to this Printer.

          Client                                        IPP Printer

             +---------------------------------------------------------- >
               Please tell me the status of my jobs




          Wright              draft-ietf-ipp-req-00.txt           [Page 42]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996




             < ----------------------------------------------------------+
               Job #00012 is complete
               Printed at 12:35 on 01/23/97

               Job #09876 is printing

               Job #12345 is queued
               it is number 3 in the queue

               Job #34567 is queued
               it is number 7 in the queue





































          Wright              draft-ietf-ipp-req-00.txt           [Page 43]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          8.19.                 ASYNCHRONOUS NOTIFICATION


          8.19.1.                   Job Completion


          An end-user wants to get notification of events that affect his
          print jobs. Print job completes without error.

          Client                                        IPP Printer

             < ----------------------------------------------------------+
               Print job #123 completed


          8.19.2.                   Job Complete with Data


          An end-user wants to get notification of events that affect his
          print jobs. Print job completes, users asked for all end of job
          information.

          Client                                        IPP Printer

             < ----------------------------------------------------------+
               Print job #123 completed
               - total pages printed = 15
               - number of copies printed = 3
               - total cost to print = $7.45
               - pick up copies in room H-6, building 005


          8.19.3.                   Print Job Fails


          An end-user wants to get notification of events that affect his
          print jobs. Print job fails. Printer is unattended.

          Client                                        IPP Printer

             < ----------------------------------------------------------+
               Print job #123 failed
               - total pages printed = 15
               - number of pages submitted = 25
               - printer-state = jammed





          Wright              draft-ietf-ipp-req-00.txt           [Page 44]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          8.20.                 CANCEL A JOB


          The end-user submits a print job and later decides to cancel it.

          Client                                        IPP Printer

             +---------------------------------------------------------- >
             < ----------------------------------------------------------+
               Authentication.


             +---------------------------------------------------------- >
               Cancel job #1234

             < ----------------------------------------------------------+
               Job #1234 Canceled































          Wright              draft-ietf-ipp-req-00.txt           [Page 45]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          8.21.                 END TO END SCENARIO - WITHIN AN ENTERPRISE


          An office worker prints on shared departmental printers. All
          printers in the office are public, that is, no authentication or
          authorization is required. Printers are protected from external
          access by a firewall. No billing or accounting is required. Most
          printing is done from desktop applications. A help desk is
          provided for printing problems. Standard operating systems and
          applications are used. Drivers are available, but are installed
          manually by support personnel. This scenario assumes that drivers
          have been installed and that drivers are not IPP aware, that is,
          they cannot communicate across an IPP connection to obtain status
          and capabilities. IPP printers appear in application pull-down
          menus. Printer configuration data is hard wired into the driver.

          Client                                        IPP Printer

          End-user selects print from the application pull down menu. An
          IPP printer is selected from the list of Printers offered

          The driver puts up a dialogue with hard-wired set of options
          for this printer. The end-user makes choices and submits job.


             +---------------------------------------------------------- >
               Here is a print job
               - job-name = memo-to-boss
               - notify me by email when job is complete
               - print on us-letter-white paper
               - print 1 copy
               - print at normal quality
               - print on 1 side
               - give me the state of the printer in response

          The driver generates the print data and passes it to the IPP
          driver a piece at a time as it is generated.

             +---------------------------------------------------------- >
               Here is the print data


             < ----------------------------------------------------------+
               Print data received, file is spooled




          Wright              draft-ietf-ipp-req-00.txt           [Page 46]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996




               - printer state = printing
               - time submitted = 2/12/97, 15:35
               - current job state = spooled


          Client adds this job to list of current jobs. List of jobs and
          state of each is available on a pull-down menu on the client.

          End-user selects job #1234 from list and clicks on it to see its
          status.

             +---------------------------------------------------------- >
               Give me the state of job #1234
               and the state of the Printer

             < ----------------------------------------------------------+
               Job #1234 state = spooled
               - it is number 3 in the queue
               - printer state = printing

          The job completes without error

             < ----------------------------------------------------------+
               Job #1234 completed
               12 of 12 pages printed























          Wright              draft-ietf-ipp-req-00.txt           [Page 47]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996






          8.22.                 END TO END SCENARIO - ACROSS ENTERPRISES


          An office worker in Company A needs to print an office document
          on a ‘               ‘public’                       ’ printer at Company B, a business partner. Both
          companies have corporate firewalls so the print request must flow
          out of A’s firewall and into B’s firewall. The office worker can
          look at public printers in Company B’s directory service. The
          document is generated by a desktop application. Since the printer
          is ‘             ‘public’                     ’ no authentication or authorization is required.  A
          driver is downloaded. The driver is IPP aware, that is, it can
          communicate dynamically through the IPP protocol layer to obtain
          information about the printer.

          Client                      Company B’s Directory Service

          End user connects to B’s Directory service

             +---------------------------------------------------------- >
               Find a Printer with these characteristics
               - public (no authorization or authentication required)
               - is in Lexington, building 004
               - prints black and white

             < ----------------------------------------------------------+
               Printer ‘                       ‘Public-A’                                 ’
               - http://www.lexmark.com/pubprinter/a

               Printer ‘                       ‘Public-B’                                 ’
               - http://www.lexmark.com/pubprinter/b

          End user selects Public-A

          Client                                           Public-A

             +---------------------------------------------------------- >
               I am using OS/2 V4.5, where can I find a driver for you?

             < ----------------------------------------------------------+
               Drivers at http://www.lexmark.com/pubprinters/a/os245

          End user gets driver and installs it on his PC.





          Wright              draft-ietf-ipp-req-00.txt           [Page 48]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996




          End-user selects print from the application pull down menu.
          ‘          ‘Public-A’                    ’ is selected from the list of Printers offered

             +---------------------------------------------------------- >
               I’m going to submit a print job
               give me your job submission attributes

             < ----------------------------------------------------------+
               Production attributes for this Printer are:
               - medium-select = us-letter-white, us-legal-white
                  - default is us-letter-white
                  -   copies = 1,2,3,4,5
                  - default is 1
                       - print-quality = draft, normal, high
                  - default is draft
                       - sides = 1-sided, 2-sided-long-edge
                  - default is 2-sided-long-edge

               Job scheduling attributes for this Printer are:
               - job-priority = 1,2,3
                  default = 3

          Driver puts up dialogue with available options and fills in the
          defaults.

          End-user makes choices and submits job

             +---------------------------------------------------------- >
               Here is a print job
               - job-name = memo-to-Don-Wright
               - notify me by email when job is complete
               - print on us-letter-white paper
               - print 1 copy
               - print at normal quality
               - print on 1 side
               - give me the state of the printer in response


          The driver generates the print data and passes it to the IPP
          driver a piece at a time.

             +---------------------------------------------------------- >
               Here is the print data

             < ----------------------------------------------------------+



          Wright              draft-ietf-ipp-req-00.txt           [Page 49]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996




               Print data received, and spooling started
               print job id = #1234

               Print data received, file is spooled

               - printer state = printing
               - time submitted = 2/12/97, 15:35
               - current job state = spooled


          Client adds this job to list of current jobs.  List of jobs and
          state of each is available on a pull-down menu on the client.

          End-user selects job #1234 from list and clicks on it to see its
          status.

             +---------------------------------------------------------- >
               Give me the state of job #1234
               and the state of the Printer

             < ----------------------------------------------------------+
               Job #1234 state = spooled
               - it is number 3 in the queue
               - printer state = printing

              * The job completes without error
             < ----------------------------------------------------------+
               Job #1234 completed
               12 of 12 pages printed



















          Wright              draft-ietf-ipp-req-00.txt           [Page 50]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996





          8.23.                 END TO END SCENARIO - ON THE INTERNET


          An executive in her hotel room is finishing an important
          presentation on her laptop computer. She connects to a local
          print shop through the web to get a copy of her charts printed
          for tomorrow’s presentation. She must find a print shop that is
          convenient and can print color transparencies. She must download
          and temporarily install a driver in order to generate the PDL
          required by the print shop. Mutual authentication is required by
          the printshop and payment must be made in advance. The job is
          encrypted on the wire to prevent eavesdropping.

          End-user completes presentation. She goes to the web and connects
          to the SirSpeedy home page.

             Client                     SirSpeedy Directory Service
             +---------------------------------------------------------- >

               Find me a printer with these characteristics
               - Near Market Street in San Jose
               - Prints color transparencies
               - drivers can be downloaded
               - supports privacy (encryption)
               - takes my VISA card
               - give me rough cost per page

          Available Printers matching these characteristics are looked up
          in the Directory Service

             < ----------------------------------------------------------+

               Printer ‘                       ‘Color-A’                                ’
               - located at 123 First Street in San Jose
               - URL is http://www.SirSpeedy.com/FirstStreet/Color-A
               - prints color transparencies
               - 600 dpi laser
               - driver ABC-Postscript-V1.3 available at this URL
               - cost = $.75 per page
               - authentication required to use printer
               - payment required prior to printing
               - printer’s public key = ‘                                         ‘!@8778961’                                                    ’

               Printer ‘                       ‘Color-B’                                ’




          Wright              draft-ietf-ipp-req-00.txt           [Page 51]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996




               - located at 67 San Carlos Street, San Jose
               - URL is http://www.SirSpeedy.com/SanCarlos/Color-B
               - prints color transparencies
               - 1200 dpi laser
               - driver XYZ-Poscscript-V4.3 available at this URL
               - cost = $1.25 per page
               - authentication required to use printer
               - payment required prior to printing
               - printer’s public key = ‘                                         ‘!@#$%78961’                                                     ’
               - more information at this URL

          The user decides to use the first printer because it is closer.
          She connects to the URL given to get a driver.

          Client                                         Driver URL

             +---------------------------------------------------------- >
               I need a driver for ‘                                   ‘Color-A’                                            ’
               I am using Windows 95

             < ----------------------------------------------------------+
                Driver installation files

               Driver is installed

               User connects to
               ‘               ‘Color-A’                        ’

          Client                             IPP Printer ‘                                                         ‘Color-A’                                                                  ’

             +---------------------------------------------------------- >
             < ----------------------------------------------------------+
               Mutual authentication and exchange of secret keys

             +---------------------------------------------------------- >
               I’m going to submit a print job
               give me your job submission attributes

             < ----------------------------------------------------------+
               Production attributes for this Printer are:
               - medium-select = us-letter-white, us-legal-white
                    - default is us-letter-white
               - copies = 1,2,3,4,5
                    - default is 1
               - print-quality = draft, normal, high



          Wright              draft-ietf-ipp-req-00.txt           [Page 52]
                               Expires: Sept 24, 1997

          INTERNET DRAFT   Internet Printing Requirements   March 24, 1996




                    - default is draft
               - sides = 1-sided, 2-sided-long-edge
                    - default is 2-sided-long-edge
           
               Job scheduling attributes for this Printer are:
               - job-priority = 1,2,3
                  default = 3

          Driver puts up dialogue with available options and fills in the
          defaults.

          End-user makes choices and submits job

             +---------------------------------------------------------- >
                Here is a print job
               - job-name = presentation
               - notify me by email when job is complete
               - print on us-letter-transparency
               - print 1 copy
               - print at high quality
               - print by 9:00 am tomorrow morning
               - give me the state of the printer in response

          The driver generates the print data and passes it to the IPP
          driver a piece at a time.

             +---------------------------------------------------------- >
              Here is the print data

              < ---------------------------------------------------------+
              Print data received, and spooling started
              print job id = #1234

              Print data received, file is spooled
               - printer state = printing
               - time submitted = 2/12/97, 15:35
               - current job state = held, waiting for payment

             +---------------------------------------------------------- >
             < ----------------------------------------------------------+
               Payment transaction

             < ----------------------------------------------------------+
               Job is scheduled to print, pick up after 9:00am tomorrow
               Thank you for using SirSpeedy



          Wright              draft-ietf-ipp-req-00.txt           [Page 53]
                               Expires: Sept 24, 1997
