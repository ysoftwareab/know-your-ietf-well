<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Signaling 3 PCN states with baseline encoding</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Signaling 3 PCN states with baseline encoding">
<meta name="keywords" content="PCN, experimental, coding, marking">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Internet Engineering Task Force</td><td class="header">R. Geib</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">Deutsche Telekom</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">September 19, 2008</td></tr>
<tr><td class="header">Expires: March 23, 2009</td><td class="header">&nbsp;</td></tr>
</table></td></tr></table>
<h1><br />Signaling 3 PCN states with baseline encoding<br />draft-geib-baseline-encoding-3state-00</h1>

<h3>Status of this Memo</h3>
<p>
By submitting this Internet-Draft,
each author represents that any applicable patent or other IPR claims of which
he or she is aware have been or will be disclosed,
and any of which he or she becomes aware will be disclosed,
in accordance with Section&nbsp;6 of BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on March 23, 2009.</p>

<h3>Abstract</h3>

<p>Layer 2 transport services like MPLS offer only 2 states to encode 
      ECN state, if DiffServ based Class of Service is operated. Still, 
      a mechanism by which PCN egress nodes can differentiate between the normal 
      behaviour state, admission stop state control state and flow termination 
      state, by using PCN marking of packets is desirable. 
      This document describes how threshold and excess marking 
      can be combined with PCN baseline encoding. A minimalistic approach like 
      the one described in the following has some obvious shortcomings. 
      These shortcomings are also presented and discussed. Currently, the aim 
      of this document is to trigger experimentation feasability studies. 
      Standardisation will be pursued in the future based on the results of 
      the studies. 
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#anchor1">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.1.</a>&nbsp;
Requirements Language<br />
<a href="#anchor3">2.</a>&nbsp;
Terminology<br />
<a href="#anchor4">3.</a>&nbsp;
Signaling 3 PCN states with baseline encoding<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor5">3.1.</a>&nbsp;
Three state signaling with PCN baseline encoding<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor6">3.2.</a>&nbsp;
Benefits of three state signaling with PCN baseline encoding<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">3.3.</a>&nbsp;
Simple experimental deployment<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">3.4.</a>&nbsp;
Known issues of three state signalling with PCN baseline encoding<br />
<a href="#Acknowledgements">4.</a>&nbsp;
Acknowledgements<br />
<a href="#IANA">5.</a>&nbsp;
IANA Considerations<br />
<a href="#Security">6.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">7.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">7.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">7.2.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Author's Address<br />
<a href="#rfc.copyright">&#167;</a>&nbsp;
Intellectual Property and Copyright Statements<br />
</p>
<br clear="all" />

<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>DiffServ and MPLS are state of the art technologies operated in many carrier backbones. 
      Following  <a class='info' href='#RFC5129'>RFC 5129<span> (</span><span class='info'>Davie, B., Briscoe, B., and J. Tay, &ldquo;Explicit Congestion Marking in MPLS,&rdquo; January&nbsp;2008.</span><span>)</span></a> [RFC5129], only PCN 
      <a class='info' href='#pcn-baseline-encoding'>baseline encoding<span> (</span><span class='info'>Moncaster, T., Briscoe, B., and M. Menth, &ldquo;Baseline Encoding and Transport of Pre-Congestion Information,&rdquo; July&nbsp;2008.</span><span>)</span></a> [pcn&#8209;baseline&#8209;encoding] is applicable within MPLS 
      networks. Still, it may be desirable to differentiate operation of a pre congested PCN 
      domain interface in the admission stop state from operation in the termination state at 
      the egress and do so without any extra signaling but "M/CE" marked PCN packets.
</p>
<p>This draft proposes a method to combine threshold and excess marking with PCN baseline 
      encoding. As the PCN egress node must infer the operational state of a domain's 
      pre-congested PCN interface(s) by marking patterns, shortcomings of the proposed 
      method are obvious. They will be discussed briefly in this document. The intent of this
      draft is to start experimentation rather than standardisation. Any form of 
      standardisation will only be started, if experiments show, that the known drawbacks 
      of the proposed two state marking with PCN baseline encoding can be overcome without 
      introducing complex solutions.
      
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Requirements Language</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
        document are to be interpreted as described in <a class='info' href='#RFC2119'>RFC 2119<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a> [RFC2119].
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Terminology</h3>

<p> This draft does not introduce any new functionalities. The 
      terminology in this document follows the one used by the PCN WG 
      at the time of writing,  in detail:
</p>
<p></p>
<ul class="text">
<li><a class='info' href='#pcn-architecture'>draft-ietf-pcn-architecture-06<span> (</span><span class='info'>Eardley, P., &ldquo;Pre-Congestion Notification Architecture,&rdquo; August&nbsp;2008.</span><span>)</span></a> [pcn&#8209;architecture],
</li>
<li><a class='info' href='#pcn-baseline-encoding'>draft-moncaster-pcn-baseline-encoding-02<span> (</span><span class='info'>Moncaster, T., Briscoe, B., and M. Menth, &ldquo;Baseline Encoding and Transport of Pre-Congestion Information,&rdquo; July&nbsp;2008.</span><span>)</span></a> [pcn&#8209;baseline&#8209;encoding],
</li>
<li><a class='info' href='#pcn-marking-behaviour'>draft-eardley-pcn-marking-behaviour-01<span> (</span><span class='info'>Eardley, P., &ldquo;Marking behaviour of PCN-nodes,&rdquo; June&nbsp;2008.</span><span>)</span></a> [pcn&#8209;marking&#8209;behaviour], and
</li>
<li><a class='info' href='#pcn-psdm-encoding'>draft-menth-pcn-psdm-encoding-00<span> (</span><span class='info'>Menth, M., Babiarz, J., Moncaster, T., and B. Briscoe, &ldquo;PCN Encoding for Packet-Specific Dual Marking (PSDM),&rdquo; July&nbsp;2008.</span><span>)</span></a> [pcn&#8209;psdm&#8209;encoding].
</li>
</ul>

<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Signaling 3 PCN states with baseline encoding</h3>

<p> PCN based admission control functions best with threshold marking. This 
      means, that once PCN traffic is above a links PCN-threshold-rate, all PCN packets 
      passing this link are marked. With baseline encoding, only two codepoints are
      available to signal a links pre-congestion state. As all PCN traffic is marked
      with the single available codepoint to indicate any (pre) congestion state, there's little 
      solution space to further differentiate crossing of the PCN-excess-rate by a codepoint
      or by excess marking (the latter being the more suitable marking behaviour to indicate that a 
      links PCN load reached termination state).       
      
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Three state signaling with PCN baseline encoding</h3>

<p>Admission control is realised by threshold marking of PCN traffic, once the PCN 
      traffic is above a links PCN-treshold-rate. If <a class='info' href='#pcn-psdm-encoding'>PSDM<span> (</span><span class='info'>Menth, M., Babiarz, J., Moncaster, T., and B. Briscoe, &ldquo;PCN Encoding for Packet-Specific Dual Marking (PSDM),&rdquo; July&nbsp;2008.</span><span>)</span></a> [pcn&#8209;psdm&#8209;encoding] 
      is applied, no PCN egress measurement functionalities need to be supported to 
      operate admission control. Admission control is thus operated as suggested by combining 
      mechanisms already proposed for standardisation.
</p>
<p>Assuming that the PCN rate is strictly limited above the PCN-excess-rate 
      by the links physical bandwidth or by a policer and further assuming this PCN rate 
      limit to be, say, no more than 10% above the PCN-excess-rate, then excess marking 
      would result in no more than 10% of the packets above PCN-excess-rate to 
      be marked. If admission control is applied to path coupled signaling packets 
      with a piggybacked probing functionality between PCN boundary nodes (which 
      consists of setting the ECN field of that signaling packet), starting to mark 
      only packets above the PCN-excess-rate as "M/CE" once the latter is passed 
      doesn't result in desirable operational conditions. As only a small percentage
      of traffic is marked, most PSDM coded admission requests have a good 
      chance to pass the pre-congested link without being marked and lead to 
      admission of new PCN traffic. If however the operational regime of the 
      excess rate marker is "inverted", and the percentage of traffic excessing the 
      PCN-excess-rate is left unmarked (i.e. "NM" coded), then PSDM admission 
      control will prevent admission of 90% or more of the user sessions requesting 
      admission. Please note, that the threshold marker still continues to mark all 
      packets crossing the link and so the excess marker would indeed have to unmark
      packets again (if marking is realised eg. by sequential single rate token 
      buckets).
</p>
<p>The marking behaviour as described in <a class='info' href='#pcn-marking-behaviour'>pcn-marking-behaviour<span> (</span><span class='info'>Eardley, P., &ldquo;Marking behaviour of PCN-nodes,&rdquo; June&nbsp;2008.</span><span>)</span></a> [pcn&#8209;marking&#8209;behaviour]
      has to further be changed in the following way to support the functionalities 
      specified by this document.
</p>
<p>Two encoding states are available:
</p>
<p></p>
<ul class="text">
<li>one for "PCN-marked"
</li>
<li>one for "not PCN-marked".
</li>
</ul>

<p>The metering and marking function MUST be implemented to support the 
      following threshold and excess-traffic marking functions:
</p>
<p>All PCN packets MUST be counted by the PCN meter.
</p>
<p>Threshold marking MUST be executed prior to (or simultaneously with) excess 
      traffic marking.
</p>
<p>To threshold mark a packet, its PCN mark is set to "PCN-marked" (M/CE following
      <a class='info' href='#pcn-baseline-encoding'>pcn-baseline-encoding<span> (</span><span class='info'>Moncaster, T., Briscoe, B., and M. Menth, &ldquo;Baseline Encoding and Transport of Pre-Congestion Information,&rdquo; July&nbsp;2008.</span><span>)</span></a> [pcn&#8209;baseline&#8209;encoding]).
</p>
<p>To excess-traffic mark a packet, its PCN mark is set to "not PCN-marked" 
      (NM/ECT0 following <a class='info' href='#pcn-baseline-encoding'>pcn-baseline-encoding<span> (</span><span class='info'>Moncaster, T., Briscoe, B., and M. Menth, &ldquo;Baseline Encoding and Transport of Pre-Congestion Information,&rdquo; July&nbsp;2008.</span><span>)</span></a> [pcn&#8209;baseline&#8209;encoding]).
</p>
<p>Additionally, this document has outlined already, that two marking behaviours 
      are combined with PCN baseline encoding and this so far isn't part of 
      <a class='info' href='#pcn-marking-behaviour'>pcn-marking-behaviour<span> (</span><span class='info'>Eardley, P., &ldquo;Marking behaviour of PCN-nodes,&rdquo; June&nbsp;2008.</span><span>)</span></a> [pcn&#8209;marking&#8209;behaviour].
</p>
<p>The concept is illustrated by <a class='info' href='#Figure 1'>Figure&nbsp;1</a>.
</p><br /><hr class="insert" />
<a name="Figure 1"></a>

<p style='text-align: center'> 
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
         Rate of    ^
    PCN-traffic on  |
   bottleneck link  |                             (as below and also)
                    |     (as below)              Drop some PCN-pkts
                    |
    scheduler rate -| -----------------------------------------------
   (for PCN-traffic)|
                    |    Some pkts                Terminate some
                    |  "not PCN-marked"           admitted flows
                    |         &amp;                        &amp;
                    |     Rest of pkts         Block most new flows
                    |    "PCN-marked"
                    |
   PCN-excess-rate -|------------------------------------------------
                    |
                    |      All pkts               Block new flows
                    |    "PCN-marked"
                    |
PCN-threshold-rate -|------------------------------------------------
                    |
                    |      All pkts               Admit new flows
                    |   "not PCN-marked"
</pre></div>
<p style='text-align: center'>Schematic of how PCN's baseline encoding-3state 
        admission control and flow termination mechanisms kick in as the 
        rate of PCN-traffic increases, for a PCN-domain with three encoding 
        states (modified from [architecture]). <a class='info' href='#pcn-architecture'>pcn-architecture<span> (</span><span class='info'>Eardley, P., &ldquo;Pre-Congestion Notification Architecture,&rdquo; August&nbsp;2008.</span><span>)</span></a> [pcn&#8209;architecture].
</p><table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Figure&nbsp;1&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<p>A way to further increase the probability of blocking new flows 
      requesting admission, while a PCN interface reached termination state is 
      to generally "unmark" only a known share of the excess traffic (say 50% 
      or 10% of the packets to be unmarked at the excess rate instead of all 
      of them). This however may make it more difficult for an egress node 
      to correctly determine the termination rate of a small PCN aggregate 
      that has passed a link in termination state.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Benefits of three state signaling with PCN baseline encoding</h3>

<p>If the behaviour exposed in the case of termination marking allows an egress 
      node to non ambiguously identify termination state for an aggregate, then it 
      can request the sources to terminate (or reduce) their traffic. 
</p>
<p>As only a single code point is used to signal pre congestion states and two 
      different marking behaviours indicate the pre-congestion status, this 
      solution may be deployed within MPLS networks, where only 8 Codepoints are 
      available to support DiffServ and ECN.
</p>
<p>Finally, it should be noted that by support of PSDM no rate measurements are 
      required for admission control and that for termination, the egress node is 
      able to measure traffic rates and take decisions on termination without 
      having to provide feedback to another PCN node within its PCN domain.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Simple experimental deployment</h3>

<p> Experimental simulation may not require the development of new code for 
      policers if egress and ingress policers can be simulated on both ends of a PCN 
      link. The egress policer of the PCN egress interface operates the threshold 
      policer at the PCN-threshold-rate. The ingress policer of the ingress interface 
      of the PCN node connected by the link is set to meter packets marked as 
      "PCN/CE". Operated in "excess mode", it starts to mark packets as "PCN/NM",
      once the rate of PCN/CE marked packets crosses the "PCN-excess-rate" 
      which it is configured for. Obviously, the termination threshold MUST be 
      bigger or equal to the admissible rate configured at the other end of the
      link.
</p>
<p>Routers supporting ingress and egress policing could also be used, which 
      would allow experiments with real equipment, if desired.
      
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
Known issues of three state signalling with PCN baseline encoding</h3>

<p>The question, whether it is at all possible to infer the current 
      operational state of one or more pre-congested interface(s) of a 
      PCN domain by interpretation of the marking behaviour observed by the
      PCN egress nodes can't be answered yet. This section lists a few 
      operational conditions under which the proposed two state marking 
      three state signaling method must work reliably or reasonably 
      stable, respectively.
      
</p>
<p></p>
<ul class="text">
<li>Differing oscillating "admission"/"admission stop" state from 
          termination state. This operational condition is likely to be 
          present and the egress node MUST be able to reliably differ 
          admission stop state from termination, if such oscillating 
          "admission"/"admission stop" state is occurring.
</li>
<li>Admission of sessions during termination state. As a 
          certain percentage of packets will pass the pre congested 
          interface unmarked during termination state, a number of new 
          sessions will be admitted while others are terminated. The 
          egress nodes MUST be able to terminate more traffic swiftly 
          to push the PCN traffic rate below the PCN-excess-rate despite 
          admission of new sessions while this link is in termination state.
</li>
<li>If traffic that has passed a PCN interface in termination 
          state later on passes a PCN interface in admission stop state, 
          an end node will no longer be able to recognise the termination
          state of the prior PCN node, as all packets passing the 
          interface in admission stop state will be "PCN-marked".
</li>
<li>If traffic that has passed a PCN interface in termination 
          state later on passes another PCN interface in termination state, 
          an end node will only recognise the termination state of the 
          last PCN node by the relation of "not PCN-marked" to 
          "PCN-marked" packets as created by the last interface in 
          termination mode.
          
</li>
</ul>

<a name="Acknowledgements"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Acknowledgements</h3>

<p>Thanks to Ana Charney, Bob Briscoe and Joe Babiarz for brief 
      discussions on the idea and thanks to Steven Blake for the 
      opportunity to present 3 slides on the idea. Thanks also to 
      Mayutan Arumaithurai of University of GÃ¶ttingen for a 
      review of this draft.
</p>
<a name="IANA"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
IANA Considerations</h3>

<p>This memo includes no request to IANA.
</p>
<a name="Security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Security Considerations</h3>

<p>The security section of <a class='info' href='#pcn-architecture'>pcn-architecture<span> (</span><span class='info'>Eardley, P., &ldquo;Pre-Congestion Notification Architecture,&rdquo; August&nbsp;2008.</span><span>)</span></a> [pcn&#8209;architecture]
        applies also to this draft. It does not introduce additional 
        security issues.
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>7.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC5129">[RFC5129]</a></td>
<td class="author-text">Davie, B., Briscoe, B., and J. Tay, &ldquo;<a href="http://tools.ietf.org/html/rfc5129">Explicit Congestion Marking in MPLS</a>,&rdquo; RFC&nbsp;5129, January&nbsp;2008 (<a href="http://www.rfc-editor.org/rfc/rfc5129.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="pcn-architecture">[pcn-architecture]</a></td>
<td class="author-text">Eardley, P., &ldquo;Pre-Congestion Notification Architecture,&rdquo; draft&nbsp;-ietf-pcn-architecture-05, (work in progress), August&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="pcn-baseline-encoding">[pcn-baseline-encoding]</a></td>
<td class="author-text">Moncaster, T., Briscoe, B., and M. Menth, &ldquo;Baseline Encoding and Transport of Pre-Congestion Information,&rdquo; draft&nbsp;-moncaster-pcn-baseline-encoding-02, (work in progress), July&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="pcn-marking-behaviour">[pcn-marking-behaviour]</a></td>
<td class="author-text">Eardley, P., &ldquo;Marking behaviour of PCN-nodes,&rdquo; draft&nbsp;-eardley-pcn-marking-behaviour-01 (work in progress), June&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="pcn-psdm-encoding">[pcn-psdm-encoding]</a></td>
<td class="author-text">Menth, M., Babiarz, J., Moncaster, T., and B. Briscoe, &ldquo;PCN Encoding for Packet-Specific Dual Marking (PSDM),&rdquo; draft&nbsp;-menth-pcn-psdm-encoding-00 (work in progress), July&nbsp;2008.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Author's Address</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Ruediger Geib</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Deutsche Telekom</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Heinrich Hertz Str. 3-7</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Darmstadt,   64295</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Germany</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+49 6151 628 2747</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:Ruediger.Geib@telekom.de">Ruediger.Geib@telekom.de</a></td></tr>
</table>
<a name="rfc.copyright"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Full Copyright Statement</h3>
<p class='copyright'>
Copyright &copy; The IETF Trust (2008).</p>
<p class='copyright'>
This document is subject to the rights,
licenses and restrictions contained in BCP&nbsp;78,
and except as set forth therein,
the authors retain all their rights.</p>
<p class='copyright'>
This document and the information contained herein are provided
on an &ldquo;AS IS&rdquo; basis and THE CONTRIBUTOR,
THE ORGANIZATION HE/SHE REPRESENTS
OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST
AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT
THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE.</p>
<h3>Intellectual Property</h3>
<p class='copyright'>
The IETF takes no position regarding the validity or scope of any
Intellectual Property Rights or other rights that might be claimed
to pertain to the implementation or use of the technology
described in this document or the extent to which any license
under such rights might or might not be available; nor does it
represent that it has made any independent effort to identify any
such rights.
Information on the procedures with respect to
rights in RFC documents can be found in BCP&nbsp;78 and BCP&nbsp;79.</p>
<p class='copyright'>
Copies of IPR disclosures made to the IETF Secretariat and any
assurances of licenses to be made available,
or the result of an attempt made to obtain a general license or
permission for the use of such proprietary rights by implementers or
users of this specification can be obtained from the IETF on-line IPR
repository at <a href='http://www.ietf.org/ipr'>http://www.ietf.org/ipr</a>.</p>
<p class='copyright'>
The IETF invites any interested party to bring to its attention
any copyrights,
patents or patent applications,
or other
proprietary rights that may cover technology that may be required
to implement this standard.
Please address the information to the IETF at <a href='mailto:ietf-ipr@ietf.org'>ietf-ipr@ietf.org</a>.</p>
</body></html>
