   mobileip working group                                      M. Kassi-Lahlou
   Internet Draft                                                C. Jacquenet 
   Document: draft-kassi-mobileip-dmi-01.txt                       L. Beloeil 
   Category: Experimental                                   France Telecom R&D 
                                                                 X. Brouckaert 
   Expires June 2003                            University of Louvain-la-Neuve 
                                                                  January 2003 


                              Dynamic Mobile IP (DMI) 
                          <draft-kassi-mobileip-dmi-01.txt> 


Status of this Memo 

   This document is an Internet-Draft and is in full conformance with all
   provisions of Section 10 of RFC 2026 [1]. 

   Internet-Drafts are working documents of the Internet Engineering Task Force
   (IETF), its areas, and its working groups. Note that other groups may also
   distribute working documents as Internet Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months and may
   be updated, replaced, or obsoleted by other documents at any time. It is
   inappropriate to use Internet Drafts as reference material or to cite them
   other than as "work in progress". 

   The list of current Internet-Drafts can be accessed at 
   http://www.ietf.org/ietf/1id-abstracts.txt. 

   The list of Internet-Draft Shadow Directories can be accessed at 
   http://www.ietf.org/shadow.html. 

Abstract 

   This draft introduces a different mode for the mobility usage in IP networks.
   This mode does not modify the Mobile IP protocol specifications [2], but makes
   their use more efficient according to the movements of the mobile node as far
   as its communications are concerned. 

   The Mobile IP mechanisms will be used only for the ongoing communications while
   the mobile node is in motion. That is, the Mobile IP mechanisms will be used
   for the communications established from an IP sub-network and which continue 
   whenever the mobile node moves to another IP sub-network. For all the
   communications that are opened and closed in the same IP sub-network there is
   no need to use Mobile IP mechanisms even if the mobile node is away from its
   home network. 








      Kassi-Lahlou et al.  Experimental - Exp. June 2003              

      Internet Draft             Dynamic Mobile IP               January 2003 


                                    Table of Contents 


   1.      Introduction.............................................2 

   2.      Conventions..............................................2 

   3.      Motivation...............................................3 

   4.      Terminology..............................................4 

   5.      Overview.................................................4 

   6.      Operation................................................5 
   6.1.    Initial Phase............................................5 
   6.2.    Connection Phase.........................................5 
   6.2.1.  Connecting to the permanent sub-home network.............5 
   6.2.2.  Connecting to a temporary home sub-network...............5 
   6.2.3.  On the necessity of using Mobile IP......................6 
   6.3.    Mobility Phase...........................................6 

   7.      Input connections........................................7 

   8.      Security Considerations..................................7 

   9.      References...............................................8 

   10.     Authors' Addresses.......................................8 

   Annex A - Changes since the previous version of the draft........9 

   Annex B - Scalability considerations.............................9 
   B.1 Mobile Node side.............................................9 
   B.2 Correspondent Node side.....................................11 

    Annex C - Preliminary results..................................11 
















      Kassi-Lahlou et al.  Experimental - Exp. June 2003             [Page 1] 


      Internet Draft             Dynamic Mobile IP               January 2003 


1. Introduction 

   This draft aims at defining a different mode for the mobility usage in IP 
   networks. This mode does not modify the Mobile IP protocol specifications, but 
   makes their use more efficient according to the movements of the mobile node as 
   far as its communications are concerned. 

   Indeed, the purpose of this draft is to address the following issue. When a 
   Mobile Node (MN) is on a visited network, is it necessary to use the Mobile IP 
   mechanisms to open a communication with a new correspondent node (CN)? 

   It is certainly more effective to open the communication with the new 
   correspondent node directly, by using the Care-of-Address as a source address, 
   and classical IPv6 forwarding and routing mechanisms [3] without using the 
   Mobile IP mechanisms.  

   This limits the exchanges of Binding Update/Binding Acknowledgement (BU/BA) 
   messages for the communication between the MN and a new CN, moreover both the 
   Home Address and Routing Header options for exchanging data should be less 
   used.

   The Mobile IP mechanisms will be used only for the ongoing communications while 
   the mobile node is in motion between different IP sub-networks. That is, the 
   Mobile IP mechanisms will be used for the communications established from an IP 
   sub-network, and which continue when the mobile node moves to another IP sub- 
   network.

   For all the communications that are opened and closed in the same IP sub- 
   network, there is no need to use Mobile IP mechanisms even if the mobile node 
   is away from home. Within this specific context, it is expected that this 
   proposal make the connection establishment time better, while the volume of 
   control messages should be reduced (please refer to annex C for further 
   details).

   Furthermore, the number of binding cache entries to be maintained by the CN 
   nodes is also reduced, which is useful in case the CN happens to be a well- 
   known Web server, for example. 

   The Dynamic Mobile IP (DMI) approach that is described in this draft is 
   designed to increase the performance of Mobile IPv6 architectures, but DMI can 
   also be adapted within the context of Mobile IPv4 architectures [4]. 


2. Conventions 

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", 
   "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in this document are to be 
   interpreted as described in RFC 2119 [5]. 



      Kassi-Lahlou et al.  Experimental - Exp. June 2003             [Page 2] 


      Internet Draft             Dynamic Mobile IP               January 2003 


3. Motivation 

   Within the context of a wide deployment of IP mobility-based services (like 
   telephony, videoconferencing, interactivity, etc.), there may be a subset of 
   communications that will take place without mobility at the IP level (Fig. 1), 
   i.e. without changing the IP sub-network when moving. 

   It is also very likely that some of the communications open and close while 
   the mobile node keeps being connected to the same IP sub-network. It does not 
   mean that the mobile node does not move during its communications. In the case 
   of wireless networks, the mobile node can move inside a zone of radio cells 
   without connecting/re-connecting to different IP sub-networks and therefore, 
   without changing its IP address. In such cases, the MN does not need to use the 
   Mobile IP mechanisms. 

   The Mobile IP mechanisms will be used only for the communications established 
   from an IP sub-network, and which will be kept opened while the mobile node 
   moves to another IP sub-network. DMI is expected to reduce the connection 
   establishment times, and, in many cases, it reduces the number of control 
   messages exchanged between the mobile node and its correspondent nodes. 

   The Mobile IP mechanisms will be used only when they are necessary to maintain 
   the communications opened between the mobile node and its correspondents while 
   it moves between various IP sub-networks. 


                      /--------------------------------------------\ 
                     |                   IP network                 | 
                      \--------------------------------------------/ 
                                  /                     \ 
                                 /                       \ 
                                /                         \ 
                       /-----------------\         /-----------------\ 
                      | radio sub-network |       | radio sub-network | 
                       \-----------------/         \-----------------/ 

                                                  <--------------------> 
                                             Movement at the radio link level 

                              <----------------------------> 
                                Movement at the IP level 

                             Figure 1: Mode of operation. 









      Kassi-Lahlou et al.  Experimental - Exp. June 2003             [Page 3] 


      Internet Draft             Dynamic Mobile IP               January 2003 


4. Terminology 

   This document frequently uses the following terms in addition to those defined 
   in [2]: 

     - Permanent home sub-network: home link in the Mobile IP terminology. This is 
       the IP sub-network on which a mobile node's permanent home address is 
       defined. 

     - Permanent home address: home address in the Mobile IP terminology. This is 
       the IP address that allows each CN to contact the mobile node without 
       having to know its current location. 

     - Permanent home agent: home agent in the Mobile IP terminology. This is the 
       mobility agent on the permanent home sub-network. In particular, it acts as 
       a home agent for the communications that have been opened from the 
       permanent home sub-network, and which continue when the mobile node moves 
       to another IP sub-network. 

     - Temporary home sub-network: a foreign link (in the Mobile IP terminology) 
       from which a mobile node has opened a communication with an additional CN. 

     - Temporary home address: a Care-of-Address (in the Mobile IP terminology) 
       that is associated to a MN on the temporary home sub-network. The mobile 
       node uses this address as its source address to directly open a connection 
       with an additional correspondent node without using Mobile IP mechanisms. 

     - Temporary home agent: a mobility agent on the foreign link from which the 
       mobile node has opened connections with additional correspondent nodes. 
       Temporary home agent acts as a home agent for these connections, until they 
       close, when the mobile node moves to another IP sub-network. These home 
       agents will forward the traffic to the MN while moving to another network, 
       and while the CN is not aware of MN's new location yet. 


5. Overview 

   When a mobile node is connected to a given IP sub-network, it establishes 
   connections with additional correspondent nodes by using the IP address 
   obtained in the IP sub-network to which it is attached. Two situations can 
   occur: 

     1. The communication ends while the mobile node is still connected to the 
        same IP sub-network. In this case, it does not have to use the Mobile IP 
        mechanisms. 

     2. The communication continues while the mobile node moves and changes from 
        the IP sub-network to another. In this case, it has to use the Mobile IP 
        mechanisms to maintain the communication opened. 


      Kassi-Lahlou et al.  Experimental - Exp. June 2003             [Page 4] 


      Internet Draft             Dynamic Mobile IP               January 2003 


6. Operation 

6.1. Initial Phase 

   In this initial phase, the mobile node is connected to the permanent home sub- 
   network, gets its permanent home address and the address of its permanent home 
   agent. Note that the mobile node can be configured with all the aforementioned 
   parameters without being connected to its permanent home sub-network. 

6.2. Connection Phase 

   When the mobile node connects to a physical sub-network, it can be located on 
   its permanent home sub-network, or on a temporary home sub-network. 

6.2.1. Connecting to the permanent sub-home network 

   In this case, the mobile node discovers that it is connected to its permanent 
   home sub-network and it discovers its permanent home agent. As long as it 
   remains connected to its permanent home sub-network and for all the 
   communications that have been opened with additional correspondent nodes, it 
   uses classical IP forwarding and routing mechanisms without using the Mobile IP 
   mechanisms. 

6.2.2. Connecting to a temporary home sub-network 

   In this case, the mobile node discovers that it is connected to a foreign sub- 
   network and it discovers a mobility agent on this sub-network. The MN gets a 
   Care-of-Address and sends a Binding Update (BU) message to its permanent home 
   agent. To send Binding Update messages, it uses Mobile IP mechanisms. 

   As long as the MN remains connected to this foreign sub-network, it opens all 
   the IP communications with additional correspondent nodes by using the Care-of- 
   Address as its source address, and it uses classical IP forwarding and routing 
   mechanisms without using the Mobile IP mechanisms.

   The difference between Mobile IPv6 and DMI is that data directed from the MN to 
   the correspondent node does not contain destination options ''Home Address''.  
   This implies that data from the correspondent node to the MN does not contain 
   ''Routing Header'' extensions, as the correspondent is not aware of the Home 
   Address of the mobile node.

   In this case, the foreign sub-network, the mobility agent on this sub-network, 
   and the Care-of-Address are called "temporary home sub-network", "temporary 
   home agent" and "temporary home address", respectively. 







      Kassi-Lahlou et al.  Experimental - Exp. June 2003             [Page 5] 


      Internet Draft             Dynamic Mobile IP               January 2003 


6.2.3. On the necessity of using Mobile IP 

   In both previous cases (sections 6.2.1 and 6.2.2), the mobile node opens all 
   the connections with additional correspondent nodes by using the address 
   obtained in the sub-network it is attached to as the source address. For a 
   given communication, two situations can occur: 

     1. The communication ends while the mobile node remains connected to the same 
        IP sub-network, then it does not need to use the Mobile IP mechanisms. 

     2. The communication continues while the mobile node gets connected to a 
        different IP sub-network, then it becomes necessary to use the Mobile IP 
        mechanisms.

6.3. Mobility Phase 

   When a mobile node moves from a sub-network (home or foreign) towards another 
   sub-network (home or foreign): 

     - It discovers its movement and the change of the IP sub-network, 

     - It discovers a home agent (new, permanent or the still active and previous 
       temporary one) of the IP sub-network it has just connected to, 

     - It gets an address (new, permanent or the still active and previous 
       temporary one) with the prefix of the IP sub-network it has just 
       connected to, 

     - It exchanges Binding Update/Binding Acknowledgement messages with its 
       permanent home agent. 

   1.For a correspondent node with whom an ongoing communication has been 
     established before the arrival on this IP sub-network, a mobile node uses 
     Mobile IP mechanisms to maintain this communication opened. The adaptation of 
     Mobile IP consists in (among other features): 

     - Exchanging Binding Update/Binding Acknowledgement messages with the 
       temporary home agent of the IP sub-network from which this communication 
       was opened (if it is different from the permanent home agent and if such 
       temporary home agent has been found) until all communications using 
       temporary home address close. The Home Address field will contain the Care-
       of-Address that has been used in the previously visited network (just like 
       the Mobile IPv6 specification), 

     - Exchanging Binding Update/Binding Acknowledgement messages with a home 
       agent on the link where the previous Care-of-Address is located so as to 
       forward packets from the previous Care-of-Address, in the case where this 
       previous home agent is different from both the permanent home agent and the 
       above temporary one, 


      Kassi-Lahlou et al.  Experimental - Exp. June 2003             [Page 6] 


      Internet Draft             Dynamic Mobile IP               January 2003 


     - Exchanging Binding Update/Binding Acknowledgement messages with the 
       correspondent node himself. The Home Address field will contain the Care-
       of-Address used when the first communication with the CN started.  The MN 
       maintains then a new association so as to know which Temporary Home Address 
       is used with that CN, 

     - Using the Home Address and Routing Header options to exchange packets with 
       this correspondent. 

   2.For the communications with new correspondents (i.e. these new CN nodes are 
     not in the BU list), a mobile node does not use the Mobile IP mechanisms: 

     - It establishes a communication with these new CN nodes by using the 
       classical IP forwarding and routing mechanisms instead, 

     - It uses the address acquired in the IP sub-network it is attached to as the 
       source address, 

     - It does not add any specific Mobile IP option. 


7. Input connections 

   Permanent Home Agent and Temporary Home Agent MUST act as classical Home Agent 
   [2] until they have no more valid Binding Update for the Mobile Node. In such a 
   case, for ongoing and/or new communications, packets must be intercepted by the 
   permanent and/or temporary home agent and tunnelled towards the mobile node 
   current location. 


   8. Security Considerations 

   Dynamic Mobile IP does not introduce any additional security issue compared to 
   the current Mobile IP specifications. When the mobile node uses Mobile IP 
   mechanisms, the security requirements are the same as for mobile IP 
   specifications, and when it does not use these mechanisms, the security 
   requirements are the same as for classical IP forwarding and routing 
   specifications. 

   Nevertheless, when a CN performs a source address-based authentication, an 
   issue is raised with the use of DMI, because the CN node will not be aware of 
   the Permanent Home Address of the MN. 









      Kassi-Lahlou et al.  Experimental - Exp. June 2003             [Page 7] 


      Internet Draft             Dynamic Mobile IP               January 2003 


9. References 

   [1] Bradner, S., "The Internet Standards Process -- Revision 3", BCP 9,
       RFC 2026, October 1996. 

   [2] Johnson, D., Perkins, C., Arkko, J., "Mobility Support in IPv6", 
       draft-ietf-mobileip-ipv6-19.txt, Work in Progress, May 2002.  

   [3] Deering, S., Hinden, R, "Internet Protocol, Version 6 (IPv6)
       Specification", RFC 2460, December 1998. 

   [4] Perkins, C., et al., "IP Mobility Support for IPv4", RFC 3220, 
       January 2002. 

   [5] Bradner, S., "Key words for use in RFCs to Indicate Requirement Levels", 
       BCP 14, RFC 2119, March 1997. 


10. Authors' Addresses 

   Mohammed Kassi-Lahlou 
   France Telecom R & D 
   42, rue des Coutures 
   BP 6243 
   14066 Caen Cedex 4 
   France 
   Phone: +33 2 31 75 93 03

   Email: mohamed.kassilahlou@francetelecom.com 

   Christian Jacquenet 
   France Telecom R & D 
   42, rue des Coutures 
   BP 6243 
   14066 Caen Cedex 4 
   France 
   Phone: +33 2 31 75 94 28 

   Email: christian.jacquenet@francetelecom.com 

   Luc Beloeil 
   France Telecom R & D 
   42, rue des Coutures 
   BP 6243 
   14066 Caen Cedex 4 
   France 
   Phone: +33 2 31 75 93 91 

   Email: luc.beloeil@francetelecom.com 


      Kassi-Lahlou et al.  Experimental - Exp. June 2003             [Page 8] 


      Internet Draft             Dynamic Mobile IP               January 2003 


   Xavier Brouckaert 
   Universit‰ catholique de Louvain         
   D‰partement d'Ing‰nierie Informatique    
   Reaumur, Place Sainte-Barbe, 2           
   B-1348 Louvain-la-Neuve, Belgium 
   Phone : +32 10 47 91 08 


Annex A - Changes since the previous version of the draft 

   This new version of the draft introduces the following changes: 

   - Changes have been removed to Annex A 

   - A new annex has been added to reflect the performance results of a Dynamic 
     Mobile IP (DMI) implementation, 

   - Both reference and authors' lists have been updated, 

   - Text has been cleaned up, and remaining typos have been corrected. 


Annex B - Scalability considerations 

B.1 Mobile Node side 

   One identified issue when using this mechanism is that the mobile node should 
   maintain information concerning the temporary home agent of the network from 
   which an ongoing communication was established. We assume that this additional 
   information does not dramatically increase the amount of information being 
   maintained by the mobile node concerning its communications. 

   Indeed, for every correspondent node with whom a communication is in progress 
   while the mobile node is moving, an entry is maintained by the MN in its 
   mobility cache, whenever it moves to another sub-network. When the MN 
   establishes communications with new CN nodes, it must keep track of the Home 
   address that has been used for the ongoing communications, hence new entries in 
   the BU list.

   On the other hand, the number of entries in the mobility cache will decrease 
   because only those correspondent nodes with whom the communications will be 
   kept opened while the mobile node is moving between various IP sub-networks 
   have one entry in this cache. 

   For example, let's consider a mobile node that leaves its permanent home 
   network and connects to a temporary network, and that has not yet established 
   any communication. It opens a communication with a new correspondent node, and 
   this communication ends before the mobile node connects to another point of 
   attachment in the IP sub-network. 


      Kassi-Lahlou et al.  Experimental - Exp. June 2003             [Page 9] 


      Internet Draft             Dynamic Mobile IP               January 2003 


For this communication: 

   1. If the mobile node uses the Mobile IP mechanisms it implies: 

     - The creation of an entry in the mobile node Binding Update List as well as 
       in the correspondent node Binding Cache, 

     - Binding Update messages are sent periodically to the correspondent node 

     - The use of the Home Address and Routing Header options for the exchanges of 
       packets. 

   2. If the mobile node has established the communication without using Mobile IP 
      mechanisms and by using its temporary home address as the source address, 
      the procedures are simplified: the MN must keep track of the Home Address it 
      uses with the new CN, but the volume of control traffic is decreased. 

Example: 

   For IP-based mobile services being deployed over large wireless networks, the 
   interest of this mobility management facility is going to depend: 

     - On the range of the wireless areas that actually correspond to an IP sub-
       network, 

     - On the duration of the communication when the mobile node is in motion. 


                      /--------------------------------------------\ 
                     |                  IP network                  | 
                      \--------------------------------------------/ 
                                  /                     \ 
         IP sub-network (1)      /                       \ IP sub-network (2) 
                                /                         \ 
                       /-----------------\         /-----------------\ 
                      |  wireless area 1  |       |  wireless area 2  | 
                       \-----------------/         \-----------------/ 

                                                  <--------------------> 
                                                      No IP mobility 

                              <----------------------------> 
                                      IP mobility 

            Figure 2: Using the mobility management facility within a large 
                                  wireless network. 





      Kassi-Lahlou et al.  Experimental - Exp. June 2003             [Page 10] 


     Internet Draft             Dynamic Mobile IP               January 2003 


   This mode consists in using the Mobile IP mechanisms only for the
   communications that continue after changing the point of attachment in the IP 
   network, and it is more efficient for the IP mobility management in the case of 
   large networks, especially when the number of the communications that comprise 
   a change of the point of attachment in the IP network remains relatively low, 
   compared to the global number of communications which are opened and closed 
   inside a single IP sub-network. 

   It's also worth mentioning that DMI-capable mobile nodes can still communicate 
   with nodes that are not DMI-capable, hence a complete backwards compatibility. 

B.2 Correspondent Node side 

   The correspondent should maintain, in a cache, information concerning the 
   movements of the mobile node during the communication. If the correspondent is 
   a server, who can have several simultaneous communications with several mobile 
   nodes, the storage of this information will generate cache scalability problems 
   and then performance problems. If mobile nodes establish their communications 
   directly (i.e. without MobileIP) with the server this will reduce these 
   problems. 


Annex C - Preliminary results 

   Our DMI implementation is based on HUT MIPL one (MIPL version pre-0.9.1). Only 
   the Mobile Node code has been modified. 

   In addition to MIPL behaviors, our implementation had to take into account, 
   which sockets are opened and which addresses were used when the sockets were 
   opened as long as the MN maintains a session with a correspondent. In fact, in 
   the binding update list of DMI-adapted MIPL, a Temporary Home Address is 
   associated with each CN as long as any session with the CN is alive. 

   From CN point of view, we observed that fewer entries are maintained in binding 
   cache list in comparison with Mobile IP behavior. We observed that this feature 
   is critical for client-server application from server point of view. Moreover 
   we observed that traffic used to manage mobility is reduced. 













      Kassi-Lahlou et al.  Experimental - Exp. June 2003             [Page 11] 


      Internet Draft             Dynamic Mobile IP               January 2003 


Full Copyright Statement 

   Copyright (C) The Internet Society (2002). All Rights Reserved. 

   This document and translations of it may be copied and furnished to 
   others, and derivative works that comment on or otherwise explain it 
   or assist its implementation may be prepared, copied, published and 
   distributed, in whole or in part, without restriction of any kind, 
   provided that the above copyright notice and this paragraph are 
   included on all such copies and derivative works. However, this 
   document itself may not be modified in any way, such as by removing 
   the copyright notice or references to the Internet Society or other 
   Internet organizations, except as needed for the purpose of 
   developing Internet standards in which case the procedures for 
   copyrights defined in the Internet Standards process must be 
   followed, or as required to translate it into languages other than 
   English. 

   The limited permissions granted above are perpetual and will not be 
   revoked by the Internet Society or its successors or assigns. 

   This document and the information contained herein is provided on an 
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING 
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING 
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION 
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF 
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
























      Kassi-Lahlou et al.  Experimental - Exp. June 2003             [Page 12] 

