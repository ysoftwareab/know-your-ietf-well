<!DOCTYPE html>
<html>
    <link rel="profile" href="http://gmpg.org/xfn/11" />
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />        <title>RFC Errata Report &raquo; RFC Editor</title> 
        <meta name="generator" content="WordPress 5.0.3" /> <!-- leave this for stats -->
        <link rel="stylesheet" type="text/css" media="screen" href="https://www.rfc-editor.org/wp-content/themes/techozoic-fluid/style.css" />
                <!--[if IE]>
                <style type="text/css">
                #headerimg{ filter:alpha(opacity=80);}
                .top img{ filter:alpha(opacity=60);}
                .top img:hover{ filter:alpha(opacity=100);}
                ul.comment-preview li{ filter:alpha(opacity=70);}
                ul.comment-preview li:hover{ filter:alpha(opacity=100);}
                #commentform input[type="text"],#commentform .comment-form-author .required, 
                #commentform .comment-form-email .required{padding-left: 65px !important;}
                .top a {position: relative;top: 2px;}
                </style>
        <![endif]-->
        <!--[if IE 7]>
                <style type="text/css">
                #headerimgwrap{ position:absolute;left:20%}
                .hleft{position:absolute;}
                .hright{position:absolute; right:0;}
                .top:hover {bottom: -30px;}
                </style>
        <![endif]-->
        <!--[if IE 8 ]>
                <style type="text/css">
                .top:hover {bottom: -30px;}
                </style>
        <![endif]-->
        <link rel="pingback" href="https://www.rfc-editor.org/xmlrpc.php" />
        <link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="RFC Editor &raquo; Feed" href="https://www.rfc-editor.org/feed/" />
<link rel="alternate" type="application/rss+xml" title="RFC Editor &raquo; Comments Feed" href="https://www.rfc-editor.org/comments/feed/" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/www.rfc-editor.org\/wp-includes\/js\/wp-emoji-release.min.js?ver=5.0.3"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='wp-block-library-css'  href='https://www.rfc-editor.org/wp-includes/css/dist/block-library/style.min.css?ver=5.0.3' type='text/css' media='all' />
<link rel='stylesheet' id='tech-mobile-css'  href='https://www.rfc-editor.org/wp-content/themes/techozoic-fluid/css/mobile.css?ver=0.1' type='text/css' media='all' />
<link rel='stylesheet' id='google_fonts-css'  href='https://fonts.googleapis.com/css?family=Noto+Sans%7C&#038;ver=5.0.3' type='text/css' media='screen' />
<script type='text/javascript' src='https://www.rfc-editor.org/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='https://www.rfc-editor.org/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<link rel='https://api.w.org/' href='https://www.rfc-editor.org/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://www.rfc-editor.org/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://www.rfc-editor.org/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 5.0.3" />
<script type="text/javascript">
        jQuery(document).ready(function($){
	/* toggle nav */
	$("#menu-icon").on("click", function(){
		$(".top-menu").slideToggle();
		$(this).toggleClass("active");
	});

        });
        </script>
<style type="text/css">/*Variable Styles*/
#page{ 
background:#FFFFFF url() repeat top center scroll;
}
body{
font:normal 14px/1.3em Noto Sans, Sans-Serif;
background:#FFFFFF url() repeat top center scroll;
}
.techozoic_font_size{
font-size: 14px;
}
.narrowcolumn .entry,.widecolumn .entry, .top {
font:normal 14px/1.5em Noto Sans, Sans-Serif;
color: #2C4353;
}
.noclass,.home .narrowcolumn .entry, home .widecolumn .entry, .top,.post .singlepost,.archive .narrowcolumn .entry, .archive .widecolumn .entry, .top{
background-color:#E3E3E3;
border-top:1px #A0B3C2 solid;
}
.top{
border:none;
}
.blog_title, .blog_title a, .blog_title a:hover, .blog_title a:visited{
font:normal 40px/1.3em Courier, Sans-Serif;
color:  	#000000;
}
h1.post_title{
font:bold 30px/1.4em Noto Sans, Sans-Serif;
color:#2C4353 !important;
}
.post_title a{
font:bold 30px/1.4em Noto Sans, Sans-Serif;
color:#2C4353 !important;
}
.entry h1{
font:bold 3em/2.2em Noto Sans, Sans-Serif;
color: #2C4353 !important;
}
.entry h2{
font:bold 2em/2em Noto Sans, Sans-Serif;
color: #2C4353 !important;
}
.entry h3{
font:bold 1.4em/1.6em Noto Sans, Sans-Serif;
color: #2C4353 !important;
}
.entry h4{
font:bold 1.3em/1.4em Noto Sans, Sans-Serif;
color: #2C4353 !important;
}
.entry h5{
font:bold 1.2em/1.3em Noto Sans, Sans-Serif;
color: #2C4353 !important;
}
.sidebar h2, .sidebar h3, #footer h2{
font: bold 18px/1.3em Noto Sans, Sans-Serif;
color:#2C4353;
}
.widgettitle {
font-size: 18px;
margin: 1px 0;
}
#content {
font-size: 14px;
}
acronym,abbr,span.caps,small,.trackback li,.sidebar, .postmetadata {
font-size: 12px;
}
.postmetadata{
font: normal 12px/1.3em Noto Sans, Sans-Serif;
color: #777777;
}
ul#nav a, ul#admin a, #dropdown li.current_page_item a:hover, .top-menu li.current-menu-item a:hover, #dropdown li.current_page_item ul a, .top-menu li.current-menu-item ul a, ul#nav li.current_page_item a:hover, {
color: #A0B3C2;
}
.commenlist .author,#searchform #s, #searchsubmit:hover,#catsubmit:hover,#wp-submit:hover,#TB_ajaxContent {
background-color: #A0B3C2 ;
}
ul#admin li, ul#dropdown li, #navmenu .top-menu li{
/*background-color: #E3E3E3;*/
}
ul#admin li a, ul#dropdown li a, #navmenu .top-menu li a{
font-style: bold; 
font-size:14px;
font-family: Noto Sans, Sans-Serif;
color:#A0B3C2;
}
ul#admin li a:hover, ul#dropdown li a:hover, #navmenu .top-menu li a:hover{
color: #A0B3C2;
}
#dropdown > li, ul.top-menu > li{
margin: 0 3px;
}
.ribbon ul.top-menu > li, .square ul.top-menu > li, #dropdown > li{
margin: 0;
padding: 0 3px;
}
.ribbon ul.top-menu > li.has_children:hover:after, .square ul.top-menu > li.has_children:hover:after, #dropdown > li.has_children:hover:after {
border-bottom: 5px solid #E3E3E3;
}
#dropdown ul, .top-menu ul{
background-color: #E3E3E3;
}
.ribbon, .square, #dropdown{
background-color: #E3E3E3;
background-image: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#E3E3E3), to(#CCCCCC));
background-image: -webkit-linear-gradient(top, #E3E3E3, #CCCCCC);
background-image:    -moz-linear-gradient(top, #E3E3E3, #CCCCCC);
background-image:     -ms-linear-gradient(top, #E3E3E3, #CCCCCC);
background-image:      -o-linear-gradient(top, #E3E3E3, #CCCCCC);
background-image:         linear-gradient(top, #E3E3E3, #CCCCCC);
filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#E3E3E3', endColorstr='#CCCCCC');
}
.ribbon ul.top-menu:before{
border-right: 10px solid #CCCCCC;
}
.ribbon ul.top-menu:after{
border-left: 10px solid #CCCCCC;
}.ribbon ul.top-menu > li:last-child, .square ul.top-menu > li:last-child, #dropdown > li:last-child{
margin-right: 100px;
}#navmenu .top-menu li, #navmenu .top-menu ul.sub-menu, ul#admin li, #navmenu #dropdown li{
background-color: #E3E3E3;
}       
#navmenu #dropdown li.current_page_item, #navmenu .top-menu li.current-menu-item, #navmenu .top-menu ul.sub-menu li.current-menu-item {
background-color: #A0B3C2 ;
}
#navmenu #dropdown li:hover, #navmenu .top-menu li:hover, #navmenu .top-menu ul.sub-menu > li:hover {
background-color:#EFEFEF;
}
#navmenu #dropdown li.current_page_item > a:hover, #navmenu .top-menu li.current-menu-item > a:hover, #navmenu .top-menu li.current-menu-item:hover > a, #navmenu .top-menu li:hover > a, #navmenu #dropdown li:hover > a {
color:#A0B3C2;
}
#navmenu #dropdown li.current_page_item > a, #navmenu .top-menu li.current-menu-item > a{
color:#F7F7F7;
}
ul#admin li:hover{
background:#EFEFEF;
box-shadow:2px 1px 3px rgba(0, 0, 0, 0.3);
-moz-box-shadow:2px 1px 3px rgba(0, 0, 0, 0.3);
-webkit-box-shadow:2px 1px 3px rgba(0, 0, 0, 0.3);
}#dropdown li ul li, .top-menu li ul li, #dropdown li ul , .top-menu li ul{
width: 250px !important;
}
#dropdown li ul ul, .top-menu li ul ul{
left:250px ; 
}
.tags {
border-bottom:1px #A0B3C2 solid;
border-top:1px #A0B3C2 solid;
}
a,h2 a:hover,h3 a:hover,#user_login,#user_pass, #sidenav a:visited {
color:#597EAA; 
text-decoration:none;
}
#searchform #s {
color:#E3E3E3; 
text-decoration:none;
}
a:hover {
color:#114477; 
text-decoration:underline;
}
a:visited{
color:#476588;
}
.description {
color:#A0B3C2;
}
#headerimg {
;
float:left;margin-left:10px;
}
#header-logo{
float:left;margin-left:10px;
padding-top:0px;
padding-left:0px;
}
.single .blog_title a:hover {
cursor:default;
text-decoration:none;
}
.noclass{
-moz-box-shadow:none !important;
box-shadow:none !important;
-webkit-box-shadow: none !important;
opacity:1 !important;
border: none !important;
}#headerimgwrap{
top:20%;
}  #page {
width: 90%;
}
.narrowcolumn {
float:left;
margin:0;
padding:25px 3% 20px 2%;
width:75%;
}
#l_sidebar {
float:left;
padding:25px 1% 0 2%;
width:17%
}#dropdown, .top-menu{
text-align:left;
}#header {
background-repeat: no-repeat;  
background-position: center center;
height: 110px;
}
.hleft, .hright {
height: 70px;
}table.statictable {
        font-family: verdana,arial,sans-serif;
        font-size:12px;
        color:#333333;
        border-width: 1px;
        border-color: #666666;
        border-collapse: collapse;
      
}
table.statictable th {
        border-width: 1px;
        padding: 8px;
        border-style: solid;
        border-left: 1em;
        border-right: 1em;
        border-color: #D2D2D2;
        background-color: #CACACA;
}
table.statictable td {
        border-width: 1px;
        padding: 8px;
        border-style:solid;
        border-left: 1em;
        border-right: 1em;
        border-color: #D2D2D2;
      
}



table.statictable tr{
        background-color: #F6F6F6;
}

table.statictable td.special {
          font-weight: bold;
          color:grey
}
table.statictable td.title {
         font-weight: bold;
         letter-spacing: inherit
}

table.statictable .boldtext {
       font-weight: bold;
       color: #597eaa;
}

table.dynamictable {
        font-family: verdana,arial,sans-serif;
        font-size:12px;
        color:#333333;
        border-width: 1px;
        border-color: #666666;
        border-collapse: collapse;
      
}
table.dynamictable th {
        border-width: 1px;
        padding: 8px;
        border-style: solid;
        border-left: 1em;
        border-right: 1em;
        border-color: #D2D2D2;
        background-color: #FEFEFEFE;
}
table.dynamictable td {
        border-width: 1px;
        padding: 8px;
        border-style:solid;
        border-left: 1em;
        border-right: 1em;
        border-color: #D2D2D2;
      
}

table.dynamictable tr.even{
        background-color: #ffffff;
}
table.dynamictable tr.odd{
        background-color: #F6F6F6;
}
table.erratasearch {
        font-family: verdana,arial,sans-serif;
        font-size:12px;
        color:#333333;
        border-color: #666666;
        border-collapse: collapse;
        text-align:center;
}
table.erratasearch th {
        border-width: 1px;
        padding: 8px;
        
        text-decoration: underline;
        border-color: #666666;
        //background-color: #ffffff;
        background-color: silver;
}

table.erratasearch td {
        border-width: 1px;
        padding: 8px;
        border-color: #666666;
        background-color: #ffffff;
        text-align:left;
}
table.erratasearch td.sbar { 
          background-color: silver;
          text-align: center;
        }


.nosidebar{
    float:left;
    margin:0 10%;
    padding:0 0 10px;
    width:70%;
}

input[type="button"], .button, div#infinite-handle span {
    display: inline-block;
    zoom: 1; /* zoom and *display = ie7 hack for display:inline-block */
    *display: inline;
    vertical-align: baseline;
    margin: 0 2px;
    outline: none;
    cursor: pointer;
    text-align: center;
    text-decoration: none;
    padding: .3em 1em .35em;
    text-shadow: 0 1px 1px rgba(0,0,0,.3);
    -webkit-border-radius: .25em; 
    -moz-border-radius: .25em;
    border-radius: .25em;
    -webkit-box-shadow: 0 1px 2px rgba(0,0,0,.2);
    -moz-box-shadow: 0 1px 2px rgba(0,0,0,.2);
    box-shadow: 0 1px 2px rgba(0,0,0,.2);
    color: #505050;
    border: solid 1px #b7b7b7;
    background: #fff;
    background: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#ededed));
    background: -moz-linear-gradient(top,  #fff,  #ededed);
    filter:  progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#ededed');
}
input[type="button"]:hover, .button:hover, div#infinite-handle span:hover {
    text-decoration: none;
    background: #ededed;
    background: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#dcdcdc));
    background: -moz-linear-gradient(top,  #fff,  #dcdcdc);
    filter:  progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#dcdcdc');
}
input[type="button"]:active, .button:active, div#infinite-handle span: active {
    position: relative;
    top: 1px;
    color: #999;
    background: -webkit-gradient(linear, left top, left bottom, from(#ededed), to(#fff));
    background: -moz-linear-gradient(top,  #ededed,  #fff);
    filter:  progid:DXImageTransform.Microsoft.gradient(startColorstr='#ededed', endColorstr='#ffffff');
}

.search_label_bold { text-align: left;
                     border-style: none;
                     font-weight: bold;
                   }

.error { font-weight: bold; color: red; }

textarea {
   font-family: inherit;
   font-size: inherit;
}
/*DIV to hold scroll tables*/
.scrolltable{
   width:95%

}

/*--------------------------------------------------------------------------------
----------------------------RFCMETA PAGE  Styles---------------------------------------
-------------------------------------------------------------------------------*/
 body.rfcmeta {
font-family: 'Noto Sans', sans-serif;
color: #2C4353;
width: 100%;}

 body.rfcmeta #page {
width: 100%;
box-shadow:none;
margin-top: 0px;}

 body.rfcmeta .hright { height:120px;}

 body.rfcmeta #header {width: 100%;
 background-color: #fff;
 box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    -moz-box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        margin-bottom: 0px;;}

 body.rfcmeta .singlepost.entry {padding-top: 0px!important;}
 body.rfcmeta .singlepost.entry dl,  body.rfcmeta .singlepost.entry p, body.rfcmeta .singlepost.entry h2, body.rfcmeta .singlepost.entry h3 { margin-left:40px;
 margin-right: 20px; }

 body.rfcmeta .singlepost.entry dt{
         font-weight: bold!important;
         margin-top: 15px;}

          body.rfcmeta .singlepost.entry dd{
         margin-left: 15px;}

 body.rfcmeta a{
color: #597eaa;}
  body.rfcmeta .entryheader {background-color:#2C4353 !important;
  border-bottom: 10px solid #FFF !important;
  margin-top: 0px;
  padding-top: 20px !important;
  padding-bottom: 20px !important;}

   body.rfcmeta .entryheader h2 a, body.rfcmeta .entryheader h2 {color: #fff  !important;
   font-size: 50px;
   padding: 0px !important;
   line-height: 1.2;
   font:bold !important;}

   body.rfcmeta .entryheader h2 a:hover {color: #aob3c2 !important;}

   body.rfcmeta .entryheader h3 {color: #fff  !important;
   font-size: 18px;
   padding: 0px;
   line-height: 1.2;
   padding-top: 10px;
   }

      body.rfcmeta .entryheader h3 span {font-weight: normal;
          font-size: 14px;
          text-transform: uppercase;}
    h2 {font-weight: bold;}

 body.rfcmeta   #search_query_separator_id  {padding-bottom: 5px;
 padding-top: 5px;}

 body.rfcmeta .page {margin-top: 0px!important;
 padding-top: 0px!important;}

    /*--------------------------------------------------------------------------------
----------------------------end RFCMETA PAGE Styles---------------------------------------
-------------------------------------------------------------------------------*/

.cluster_heading {
 font-size: 14px;
}
</style>    <style type="text/css">
        #header {
            background-image: url();
        }
    </style>
    <script src="/scripts/validate_rfcsearch.js" type="text/javascript">
</script>    </head>
    <body class="errata report">
        <a id="top"></a>
        <div id="page">
                
            <div id="header">
                <div class="hright">
<div class="hwidget widget_text"><h2 class="widgettitle">Search RFCs</h2>			<div class="textwidget"><form id="search_query_separator_id" name="search_query_separator_name"  action="/search/rfc_search_detail.php" method="POST" onsubmit="return validateComboBox(this);"> 
<input type="text" id ="combo_box_id" name="combo_box"  maxlength="40" size ="35" placeholder="number, title, keyword, or author surname"></form>
<a href="/search/rfc_search.php">Advanced Search</a>
</div>
		</div></div>
      
                <div id="headerimgwrap">
                      
                    <div id="headerimg">
                        <h1 class="blog_title">                            <a href="https://www.rfc-editor.org/">RFC Editor</a>
                            </h1>                    </div><!--end headerimg-->
                </div><!--end headerimgwrap-->


            </div><!--end header-->

            <div id="l_sidebar" class="sidebar"> 
    <ul>
        <li id="nav_menu-3" class="widget widget_nav_menu"><h2 class="widgettitle">The Series</h2>
<div class="menu-the-series-container"><ul id="menu-the-series" class="menu"><li id="menu-item-186" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-186"><a href="https://www.rfc-editor.org/retrieve/">Document Retrieval</a></li>
<li id="menu-item-191" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-191"><a href="/errata.php">Errata</a></li>
<li id="menu-item-187" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-187"><a href="https://www.rfc-editor.org/faq/">FAQ</a></li>
<li id="menu-item-2191" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2191"><a href="https://www.rfc-editor.org/rse/format-faq/">Format Change FAQ</a></li>
<li id="menu-item-188" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-188"><a href="https://www.rfc-editor.org/history/">History</a></li>
<li id="menu-item-189" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-189"><a href="https://www.rfc-editor.org/about/">About Us</a></li>
<li id="menu-item-190" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-190"><a href="https://www.rfc-editor.org/other/">Other Information</a></li>
</ul></div></li>
<li id="nav_menu-4" class="widget widget_nav_menu"><h2 class="widgettitle">For Authors</h2>
<div class="menu-for-authors-container"><ul id="menu-for-authors" class="menu"><li id="menu-item-159" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-159"><a href="https://www.rfc-editor.org/pubprocess/">Publication Process</a></li>
<li id="menu-item-99" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-99"><a href="https://www.rfc-editor.org/current_queue.php">Publication Queue</a></li>
<li id="menu-item-86" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-86"><a href="https://www.rfc-editor.org/styleguide/">Style Guide</a></li>
<li id="menu-item-2190" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2190"><a href="/materials/FAQ-xml2rfcv3.html">xml2rfc FAQ</a></li>
</ul></div></li>
<li id="text-9" class="widget widget_text"><h2 class="widgettitle">Sponsor</h2>
			<div class="textwidget"><a href="//www.internetsociety.org"><img alt="Internet Society (ISOC)" 
src="/wp-content/uploads/ISOC-Dark-RGB_Logo_2016-08-01_EN_FINAL_v01.png" width="120" border="0"></a></div>
		</li>
    </ul>
</div>
<div id="content" class="narrowcolumn">
     <h1 class="post_title">RFC Errata</h1>

     <div class="post-127 page type-page status-publish hentry post clear" id="post-127">
     <div class="singlepost entry">

<br>
<form method="get" id="query" action="/errata_search.php" onsubmit="return validateRFCSearchForm(this);">
  <table  align="center" class="erratasearch">
     <tr>
       <th colspan="4"><h3>Errata Search</h3></th>
     </tr>
     <tr class="ibar">
       <td class="search_label_bold" colspan="2">
         <label for="rfc">RFC Number:</label>
         <input type="text" id="rfc" name="rfc" size="4" maxlength="4" value="5661" />
        </td>
       <td  class="search_label_bold" colspan="2">
         <label for="eid">Errata ID:</label>
         <input type="text" id="eid" name="eid" size="4" maxlength="4" />
       </td>
     </tr>
    <tr><td colspan="4">&nbsp;</td></tr>
     <tr>
       <td style="text-decoration: underline;">Source of RFC</td>

       <td>&nbsp;</td>       <td><label for="rec_status">Status:</label></td>
       <td>
           <select name="rec_status" id="rec_status">             <option value="15">All/Any</option>
<option value="0" >Verified+Reported</option>             <option value="1">Verified</option>
             <option value="2">Reported</option>
             <option value="3">Held for Document Update</option>
             <option value="9">Rejected</option>
           </select>
       </td>
     </tr>
     <tr>
       <td><label for="area_acronym">Area Acronym:</label></td>
       <td class="userdata">
           <select name="area_acronym" id="area_acronym"><option value="" selected="selected">All/Any</option>
             <option value="app">app</option>
             <option value="art">art</option>
             <option value="gen">gen</option>
             <option value="int">int</option>
             <option value="ops">ops</option>
             <option value="rai">rai</option>
             <option value="rtg">rtg</option>
             <option value="sec">sec</option>
             <option value="tsv">tsv</option>
            </select>
       </td>
       <td>
          <label for="errata_type">Type:</label>
       </td>
       <td class="userdata">
           <select name="errata_type" id="errata_type">
             <option value="" selected="selected">All/Any</option>             <option value="1">Editorial</option>
             <option value="2">Technical</option>
           </select>
        </td>
     </tr>
     <tr>
       <td>
          <label for="wg_acronym">WG Acronym:</label>
       </td>
       <td class="userdata">
          <input id="wg_acronym" size="6" type="text" name="wg_acronym" maxlength="10" />
         </td>
       <td>
          <label for="submitter_name">Submitter Name:</label>
       </td>
       <td class="userdata">
          <input id="submitter_name" size="20" type="text" name="submitter_name" maxlength="60" />
       </td>
     </tr>
     <tr>
       <td>
          <label for="stream_name">Other:</label>
       </td>
       <td class="userdata">
          <select name="stream_name" id="stream_name"><option value="" selected="selected">All/Any</option>
            <option value="IAB">IAB</option>
            <option value="INDEPENDENT">INDEPENDENT</option>
            <option value="IRTF">IRTF</option>
            <option value="Legacy">Legacy</option>
          </select>
       </td>
       <td>
          <label for="submit_date">Date Submitted:</label>
       </td>
       <td class="userdata">
          <input id="submit_date" size="8" type="text" name="submit_date" maxlength="10" />
       </td>
     </tr>
     <tr>
       <td colspan="4" class="sbar">
         <div>
        Summary Table<input type="radio" name="presentation"  id="presentationT" value="table">
        Full Records<input type="radio" name="presentation"  id="presentationR" checked="on" value="records">
         </div>
         <input type="submit" value="Search" />
         <input type="button" value="Reset Fields" onclick="return clearAdvSearchForm(document.forms.query);" />
       </td>
     </tr>
  </table>
</form>
<script type="text/javascript">
<!--
           document.forms.query.rfc.focus();
//-->
</script>
<p>Found 42 records.</p>
<h2>Status: <a href="status_type_desc.html">Verified</a> (21)</h2>
<h3><a href="http://www.rfc-editor.org/rfc/rfc5661.txt" target="_blank">RFC&nbsp;5661</a>, "Network File System (NFS) Version 4 Minor Version 1 Protocol", January 2010</h3>
<p><b>Note: This RFC has been obsoleted by  <a href="/info/rfc8881">RFC&nbsp;8881</a></b></p>
<a href="/source/">Source of RFC</a>: nfsv4 (tsv)<br />
<p>
Errata ID: <a href="/errata/eid2291">2291</a><br />
<b>Status: Verified<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Michael Eisler<br />
Date Reported: 2010-05-27<br />
Verifier Name: Lars Eggert<br />
Date Verified: 2011-03-07<br />
</p>
<p>Section 18.36.3. says:
</p>
<pre class="rfctext">
      The server
      MUST specify an ONC RPC program number equal to csa_cb_program and
      an ONC RPC version number equal to 4 in callbacks sent to the
      client.
</pre>
<p>It should say:</p>
<pre class="rfctext">
      The server
      MUST specify an ONC RPC program number equal to csa_cb_program and
      an ONC RPC version number equal to 1 in callbacks sent to the
      client.
</pre>
<p>Notes:</p>
<p class="simpleindent">
RFC5661 disagrees with RFC5662. The latter specifies a version number of 1.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid2005">2005</a><br />
<b>Status: Verified<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Michael Eisler<br />
Date Reported: 2010-01-17<br />
Verifier Name: Lars Eggert<br />
Date Verified: 2011-03-07<br />
</p>
<p>Section 15.1.11.3 says:
</p>
<pre class="rfctext">
The highest_slot argument in a Sequence operation exceeds the replier's enforced
highest_slotid.
</pre>
<p>It should say:</p>
<pre class="rfctext">
The highest_slot argument in a Sequence operation exceeds the replier's enforced
highest_slotid. Also, the rsa_target_highest_slotid argument in a CB_RECALL_SLOT
operation exceeds maximum enforced slot ID of the session's fore channel.
</pre>
<p>Notes:</p>
<p class="simpleindent">
The NFSv4.1 specification permits the client to return NFS4ERR_BAD_HIGH_SLOT in<br />
the event rsa_target_highest_slotid is higher the highest slot ID of the<br />
session's fore channel. Arguably this is an unnecessary complication; the client<br />
can return NFS4_OK to sucvh a CB_RECALL_SLOT operation, and then send a<br />
SEQUENCE operation with an sa_highest_slotid argument that is less than or<br />
equal to rsa_target_highest_slotid. NFSv4.2 should specify this simplification.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid2299">2299</a><br />
<b>Status: Verified<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Michael Eisler<br />
Date Reported: 2010-06-03<br />
Verifier Name: Lars Eggert<br />
Date Verified: 2011-03-07<br />
</p>
<p>Section 18.45.3. says:
</p>
<pre class="rfctext">
If SECINFO_STYLE4_PARENT is passed, then
   SECINFO_NO_NAME is querying for the required security of the current
   filehandle's parent
</pre>
<p>It should say:</p>
<pre class="rfctext">
If SECINFO_STYLE4_PARENT is passed, then
   SECINFO_NO_NAME is querying for the required security of the current
   filehandle's parent, where the current filehandle MUST be that of directory (an object of type NF4DIR).
</pre>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid2326">2326</a><br />
<b>Status: Verified<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Tom Haynes<br />
Date Reported: 2010-07-13<br />
Verifier Name: Lars Eggert<br />
Date Verified: 2011-03-07<br />
</p>
<p>Section 15.1.16.3 says:
</p>
<pre class="rfctext">
NFS4ERR_NXIO (Error Code 5) 
</pre>
<p>It should say:</p>
<pre class="rfctext">
NFS4ERR_NXIO (Error Code 6) 
</pre>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid2327">2327</a><br />
<b>Status: Verified<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Tom Haynes<br />
Date Reported: 2010-07-13<br />
Verifier Name: Lars Eggert<br />
Date Verified: 2011-03-07<br />
</p>
<p>Section 6.4.3.1 says:
</p>
<pre class="rfctext">
   If the object being created is not a directory, the inherited ACL
   SHOULD NOT inherit ACEs from the parent directory ACL unless the
   ACE4_FILE_INHERIT_FLAG is set.
</pre>
<p>It should say:</p>
<pre class="rfctext">
   If the object being created is not a directory, the inherited ACL
   SHOULD NOT inherit ACEs from the parent directory ACL unless the
   ACE4_FILE_INHERIT_ACE is set.
</pre>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid3208">3208</a><br />
<b>Status: Verified<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Benny Halevy<br />
Date Reported: 2012-05-02<br />
Verifier Name: Martin Stiemerling<br />
Date Verified: 2015-12-16<br />
</p>
<p>Throughout the document, when it says:
</p>
<pre class="rfctext">

</pre>
<p>Notes:</p>
<p class="simpleindent">
Section 12.5.2. says:<br />
   The first successful LAYOUTGET<br />
   processed by the server using a non-layout stateid as an argument<br />
   MUST have the &quot;seqid&quot; field of the layout stateid in the response set<br />
   to one.  Thereafter, the client MUST use a layout stateid (see<br />
   Section 12.5.3) on future invocations of LAYOUTGET on the file, and<br />
   the &quot;seqid&quot; MUST NOT be set to zero.<br />
<br />
It should say:<br />
   The first successful LAYOUTGET<br />
   processed by the server using a non-layout stateid as an argument<br />
   MUST have the &quot;seqid&quot; field of the layout stateid in the response set<br />
   to one.  Thereafter, the client MUST use a layout stateid (see<br />
   Section 12.5.3) on future invocations of LAYOUTGET on the file, and<br />
   the &quot;seqid&quot; MUST NOT be set to zero.<br />
|  The client MUST serialize LAYOUTGET operations using a non-layout<br />
|  stateid with any other operation affecting the layout state on the file,<br />
|  including CB_LAYOUTRECALL, to allow consistent initialization of the<br />
|  layout state.<br />
<br />
Add the following paragraph to section 12.5.3.:<br />
|  A client MAY always forget its layout state and associated<br />
|  layout stateid at any time (See also section 12.5.5.1).<br />
|  In such case, the client MUST use a non-layout stateid for the next<br />
|  LAYOUTGET operation.  This will signal the server that the client has<br />
|  no more layouts on the file and its respective layout state can be<br />
|  released before issuing a new layout in response to LAYOUTGET.<br />
<br />
Section 12.5.5.2.1. says:<br />
   One critical issue with regard to layout operations sequencing<br />
   concerns callbacks.  The protocol must defend against races between<br />
   the reply to a LAYOUTGET or LAYOUTRETURN operation and a subsequent<br />
   CB_LAYOUTRECALL.  A client MUST NOT process a CB_LAYOUTRECALL that<br />
   implies one or more outstanding LAYOUTGET or LAYOUTRETURN operations<br />
   to which the client has not yet received a reply.  The client detects<br />
   such a CB_LAYOUTRECALL by examining the &quot;seqid&quot; field of the recall's<br />
   layout stateid.  If the &quot;seqid&quot; is not exactly one higher than what<br />
   the client currently has recorded, and the client has at least one<br />
   LAYOUTGET and/or LAYOUTRETURN operation outstanding, the client knows<br />
   the server sent the CB_LAYOUTRECALL after sending a response to an<br />
   outstanding LAYOUTGET or LAYOUTRETURN.<br />
<br />
It should say:<br />
   One critical issue with regard to layout operations sequencing<br />
   concerns callbacks.  The protocol must defend against races between<br />
   the reply to a LAYOUTGET or LAYOUTRETURN operation and a subsequent<br />
   CB_LAYOUTRECALL.  A client MUST NOT process a CB_LAYOUTRECALL that<br />
   implies one or more outstanding LAYOUTGET or LAYOUTRETURN operations<br />
   to which the client has not yet received a reply.  The client detects<br />
   such a CB_LAYOUTRECALL by examining the &quot;seqid&quot; field of the recall's<br />
   layout stateid.  If the &quot;seqid&quot; is not exactly one higher than what<br />
   the client currently has recorded, and the client has at least one<br />
   LAYOUTGET and/or LAYOUTRETURN operation outstanding,<br />
|  or if the client has a outstanding LAYOUTGET with a non-layout stateid,<br />
   the client knows<br />
   the server sent the CB_LAYOUTRECALL after sending a response to an<br />
   outstanding LAYOUTGET or LAYOUTRETURN.<br />
<br />
Section 12.5.5.2.1.1. says:<br />
   It is permissible for the client to send multiple parallel LAYOUTGET<br />
   operations for the same file or multiple parallel LAYOUTRETURN<br />
   operations for the same file or a mix of both.<br />
<br />
It should say:<br />
    It is permissible for the client to send multiple parallel LAYOUTGET<br />
    operations for the same file<br />
|   using the layout stateid<br />
    or multiple parallel LAYOUTRETURN<br />
    operations for the same file or a mix of both.<br />
<br />
Section 12.5.5.2.1.2. says:<br />
   Note<br />
   that in the first case, the &quot;seqid&quot; in the layout stateid of the<br />
   recall is two greater than what the client has recorded;<br />
<br />
It should say:<br />
   Note<br />
   that in the first case, the &quot;seqid&quot; in the layout stateid of the<br />
   recall is two greater than what the client has recorded,<br />
|  or the client has an outstanding LAYOUTGET using a non-layout stateid;<br />
<br />

</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid3379">3379</a><br />
<b>Status: Verified<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Asmita Karandikar<br />
Date Reported: 2012-10-15<br />
Verifier Name: Magnus Westerlund<br />
Date Verified: 2019-10-25<br />
</p>
<p>Section 18.50.3 says:
</p>
<pre class="rfctext">
If there are
sessions (both idle and non-idle), opens, locks, delegations, 
layouts, and/or wants (Section 18.49) associated with the unexpired 
lease of the client ID, the server MUST return NFS4ERR_CLIENTID_BUSY.
</pre>
<p>It should say:</p>
<pre class="rfctext">
If there are 
sessions (both idle and non-idle), opens, locks, delegations, 
and/or wants (Section 18.49) associated with the unexpired 
lease of the client ID, the server MUST return NFS4ERR_CLIENTID_BUSY.
</pre>
<p>Notes:</p>
<p class="simpleindent">
Should not include layouts.<br />
A forgetful client may not return LAYOUTS. In this case, a server will always return NFS4ERR_CLIENTID_BUSY on DESTROY_CLIENTID and end up persisting the clientâ€™s lease until it expires although the client is explicitly asking us not to.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid4711">4711</a><br />
<b>Status: Verified<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Tom Haynes<br />
Date Reported: 2016-06-16<br />
Verifier Name: Magnus Westerlund<br />
Date Verified: 2020-09-03<br />
</p>
<p>Section 15.1.5.5 says:
</p>
<pre class="rfctext">
A stateid with a non-zero seqid value does match the current seqid
   for the state designated by the user.
</pre>
<p>It should say:</p>
<pre class="rfctext">
A stateid with a non-zero seqid value is not the most current seqid
   for the state.
</pre>
<p>Notes:</p>
<p class="simpleindent">
Two issues here:<br />
<br />
1) The negation of the fact, i.e., &quot;does not match&quot;.<br />
2) The state is not associated with an user.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid5040">5040</a><br />
<b>Status: Verified<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Jonathan Price<br />
Date Reported: 2017-06-12<br />
Verifier Name: Magnus Westerlund<br />
Date Verified: 2020-09-03<br />
</p>
<p>Section 18.46.3 says:
</p>
<pre class="rfctext">
Operations other than SEQUENCE, BIND_CONN_TO_SESSION, EXCHANGE_ID,
CREATE_SESSION, and DESTROY_SESSION, MUST NOT appear as the first
operation in a COMPOUND.  
</pre>
<p>It should say:</p>
<pre class="rfctext">
Operations other than SEQUENCE, BIND_CONN_TO_SESSION, 
EXCHANGE_ID, DESTROY_CLIENTID, CREATE_SESSION, and 
DESTROY_SESSION, MUST NOT appear as the first 
operation in a COMPOUND.  
</pre>
<p>Notes:</p>
<p class="simpleindent">
In the section for DESTROY_CLIENTID (18.50.3), the following text exists (see snipped section below).<br />
This means that DESTROY_CLIENTID must also be in the list for operations that are allowed<br />
in the first operation of a compound.<br />
<br />
&lt;...snip...&gt;<br />
   If DESTROY_CLIENTID is not prefixed by SEQUENCE, it MUST be the only<br />
   operation in the COMPOUND request (otherwise, the server MUST return<br />
   NFS4ERR_NOT_ONLY_OP).  If the operation is sent without a SEQUENCE<br />
   preceding it, a client that retransmits the request may receive an<br />
   error in response, because the original request might have been<br />
   successfully executed.<br />
&lt;...snip...&gt;
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid5467">5467</a><br />
<b>Status: Verified<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Trond Myklebust<br />
Date Reported: 2018-08-17<br />
Verifier Name: Spencer Dawkins<br />
Date Verified: 2018-08-17<br />
</p>
<p>Section 15.2 says:
</p>
<pre class="rfctext">
   | LAYOUTGET            | NFS4ERR_ACCESS, NFS4ERR_ADMIN_REVOKED,     |
   |                      | NFS4ERR_BADIOMODE, NFS4ERR_BADLAYOUT,      |
   |                      | NFS4ERR_BADXDR, NFS4ERR_BAD_STATEID,       |
   |                      | NFS4ERR_DEADSESSION, NFS4ERR_DELAY,        |
   |                      | NFS4ERR_DELEG_REVOKED, NFS4ERR_DQUOT,      |
   |                      | NFS4ERR_FHEXPIRED, NFS4ERR_GRACE,          |
   |                      | NFS4ERR_INVAL, NFS4ERR_IO,                 |
   |                      | NFS4ERR_LAYOUTTRYLATER,                    |
   |                      | NFS4ERR_LAYOUTUNAVAILABLE, NFS4ERR_LOCKED, |
   |                      | NFS4ERR_MOVED, NFS4ERR_NOFILEHANDLE,       |
   |                      | NFS4ERR_NOSPC, NFS4ERR_NOTSUPP,            |
   |                      | NFS4ERR_OLD_STATEID, NFS4ERR_OPENMODE,     |
   |                      | NFS4ERR_OP_NOT_IN_SESSION,                 |
   |                      | NFS4ERR_RECALLCONFLICT,                    |
   |                      | NFS4ERR_REP_TOO_BIG,                       |
   |                      | NFS4ERR_REP_TOO_BIG_TO_CACHE,              |
   |                      | NFS4ERR_REQ_TOO_BIG,                       |
   |                      | NFS4ERR_RETRY_UNCACHED_REP, NFS4ERR_ROFS,  |
   |                      | NFS4ERR_SERVERFAULT, NFS4ERR_STALE,        |
   |                      | NFS4ERR_TOOSMALL, NFS4ERR_TOO_MANY_OPS,    |
   |                      | NFS4ERR_UNKNOWN_LAYOUTTYPE,                |
   |                      | NFS4ERR_WRONG_TYPE                         |
</pre>
<p>It should say:</p>
<pre class="rfctext">
   | LAYOUTGET            | NFS4ERR_ACCESS, NFS4ERR_ADMIN_REVOKED,     |
   |                      | NFS4ERR_BADIOMODE, NFS4ERR_BADLAYOUT,      |
   |                      | NFS4ERR_BADXDR, NFS4ERR_BAD_STATEID,       |
   |                      | NFS4ERR_DEADSESSION, NFS4ERR_DELAY,        |
   |                      | NFS4ERR_DELEG_REVOKED, NFS4ERR_DQUOT,      |
   |                      | NFS4ERR_EXPIRED, NFS4ERR_FHEXPIRED,        |
   |                      | NFS4ERR_GRACE, NFS4ERR_INVAL, NFS4ERR_IO,  |
   |                      | NFS4ERR_LAYOUTTRYLATER,                    |
   |                      | NFS4ERR_LAYOUTUNAVAILABLE, NFS4ERR_LOCKED, |
   |                      | NFS4ERR_MOVED, NFS4ERR_NOFILEHANDLE,       |
   |                      | NFS4ERR_NOSPC, NFS4ERR_NOTSUPP,            |
   |                      | NFS4ERR_OLD_STATEID, NFS4ERR_OPENMODE,     |
   |                      | NFS4ERR_OP_NOT_IN_SESSION,                 |
   |                      | NFS4ERR_RECALLCONFLICT,                    |
   |                      | NFS4ERR_REP_TOO_BIG,                       |
   |                      | NFS4ERR_REP_TOO_BIG_TO_CACHE,              |
   |                      | NFS4ERR_REQ_TOO_BIG,                       |
   |                      | NFS4ERR_RETRY_UNCACHED_REP, NFS4ERR_ROFS,  |
   |                      | NFS4ERR_SERVERFAULT, NFS4ERR_STALE,        |
   |                      | NFS4ERR_TOOSMALL, NFS4ERR_TOO_MANY_OPS,    |
   |                      | NFS4ERR_UNKNOWN_LAYOUTTYPE,                |
   |                      | NFS4ERR_WRONG_TYPE                         |
</pre>
<p>Notes:</p>
<p class="simpleindent">
LAYOUTGET takes a stateid argument that can represent either a layout or a delegation,<br />
or open/lock state. As such, it needs to be able to report back when the state represented<br />
by that stateid has expired.<br />
<br />
(Verified on NFSv4 mailing list)
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid6015">6015</a><br />
<b>Status: Verified<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Sushil Agarwal<br />
Date Reported: 2020-03-12<br />
Verifier Name: Magnus Westerlund<br />
Date Verified: 2020-09-04<br />
</p>
<p>Section 17 says:
</p>
<pre class="rfctext">
CB_SEQUENCE             | OPT  
</pre>
<p>It should say:</p>
<pre class="rfctext">
CB_SEQUENCE             | REQ
</pre>
<p>Notes:</p>
<p class="simpleindent">
The section 20.9.3 of CB_SEQUENCE says<br />
<br />
&quot;In each CB_COMPOUND request, CB_SEQUENCE MUST appear once and MUST be the<br />
   first operation.  The error NFS4ERR_SEQUENCE_POS MUST be returned<br />
   when CB_SEQUENCE is found in any position in a CB_COMPOUND beyond the<br />
   first.  If any other operation is in the first position of CB_COMPOUND, NFS4ERR_OP_NOT_IN_SESSION MUST be returned.&quot;<br />
<br />
Since CB_RECALL_SLOT is REQ operation in NFSv4.1. This make CB_COMPOUND as REQ procedure. Since CB_COMPOUND require CB_SEQUENCE as its first operation and hence CB_SEQUENCE must be required operation.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid3558">3558</a><br />
<b>Status: Verified<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Cal Turney<br />
Date Reported: 2013-03-19<br />
Verifier Name: Martin Stiemerling<br />
Date Verified: 2013-03-20<br />
</p>
<p>Section 15.1.4.2 says:
</p>
<pre class="rfctext">
In Table 5 Section 5.1 Page 342, NFS4ERR_DQUOT is defined as error number 69:

    &quot;| NFS4ERR_DQUOT | 69 | Section 15.1.4.2 |&quot;

However, in Section 15.1.4.2 Page 349 it is identified as error code 19:

    &quot;15.1.4.2. NFS4ERR_DQUOT (Error Code 19)&quot;
</pre>
<p>It should say:</p>
<pre class="rfctext">
    &quot;15.1.4.2. NFS4ERR_DQUOT (Error Code 69)&quot;


</pre>
<p>Notes:</p>
<p class="simpleindent">
I believe NFS4ERR_DQUOT is in fact 69 and the reference to error code 19 in Section 15.1.4.2 is a typo.<br />
<br />
In RFC 3010, Error Code 19 was assigned to &quot;NFS4ERR_NODEV&quot; but that association appears to have suffered the same fate as RFC 3010 itself and there is no mention of NFS4ERR_NODEV in RFC 3530 which rendered that RFC obsolete.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid2006">2006</a><br />
<b>Status: Verified<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Michael Eisler<br />
Date Reported: 2010-01-17<br />
Verifier Name: Lars Eggert<br />
Date Verified: 2011-03-07<br />
</p>
<p>Section 15.1.1.3 says:
</p>
<pre class="rfctext">
For any of a number of reasons, the replier could not process this
   operation in what was deemed a reasonable time.  The client should
   wait and then try the request with a new slot and sequence value.

   Some examples of scenarios that might lead to this situation:

   o  A server that supports hierarchical storage receives a request to
      process a file that had been migrated.

   o  An operation requires a delegation recall to proceed, and waiting
      for this delegation recall makes processing this request in a
      timely fashion impossible.

   In such cases, the error NFS4ERR_DELAY allows these preparatory
   operations to proceed without holding up client resources such as a
   session slot.  After delaying for period of time, the client can then
   re-send the operation in question (but not with the same slot ID and
   sequence ID; one or both MUST be different on the re-send).

   Note that without the ability to return NFS4ERR_DELAY and the
   client's willingness to re-send when receiving it, deadlock might
   result.  For example, if a recall is done, and if the delegation
   return or operations preparatory to delegation return are held up by
   other operations that need the delegation to be returned, session
   slots might not be available.  The result could be deadlock.
</pre>
<p>It should say:</p>
<pre class="rfctext">
For any of a number of reasons, the replier could not process this
   operation in what was deemed a reasonable time.  The requester should
   wait and then try the request with a new slot and sequence value.

   Some examples of scenarios that might lead to this situation:

   o  A server that supports hierarchical storage receives a request to
      process a file that had been migrated.

   o  An operation requires a delegation recall to proceed, and waiting
      for this delegation recall makes processing this request in a
      timely fashion impossible.

   In such cases, the error NFS4ERR_DELAY allows these preparatory
   operations to proceed without holding up requester resources such as a
   session slot.  After delaying for period of time, the requester can then
   re-send the operation in question. If the operation that returned
   NFS4ERR_DELAY was not a Sequence operation, the initial, preceding 
   Sequence operation of the Compound request MUST NOT be re-sent with same 
   slot ID and sequence ID; one or both MUST be different on the re-send. If
   the operation that returned NFS4ERR_DELAY was a Sequence operation, then
   the Sequence MUST be re-sent with the same slot ID and sequence ID.

   Note that without the ability to return NFS4ERR_DELAY and the
   requester's willingness to re-send when receiving it, deadlock might
   result.  For example, if a recall is done, and if the delegation
   return or operations preparatory to delegation return are held up by
   other operations that need the delegation to be returned, session
   slots might not be available.  The result could be deadlock.
</pre>
<p>Notes:</p>
<p class="simpleindent">
This errata is correcting two problems:<br />
<br />
(1) The use of term &quot;requester&quot; instead of &quot;client&quot; since NFS4ERR_DELAY<br />
    is applicable for both the backchannel and fore channel.<br />
<br />
(2) Clarification that NFS4ERR_DELAY from a Sequence operation is handled <br />
    differently from non-Sequence operations.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid2062">2062</a><br />
<b>Status: Verified<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Peter Varga<br />
Date Reported: 2010-03-04<br />
Verifier Name: Lars Eggert<br />
Date Verified: 2011-03-07<br />
</p>
<p>Section 2.10.6.1.3 says:
</p>
<pre class="rfctext">
A reply that consists only of the Sequence operation with the error NFS4ERR_FALSE_RETRY.

When the replier detects a false retry, it is permitted (but not always obligated) to return NFS4ERR_FALSE_RETRY...

If the replier determines the users are different between the original request and a retry, then the replier MUST return NFS4ERR_FALSE_RETRY.

...current minor version (e.g., SETCLIENTID), the replier MAY return NFS4ERR_FALSE_RETRY...

The difference is due to NFS4ERR_FALSE_RETRY being a valid error for only Sequence operations...
</pre>
<p>It should say:</p>
<pre class="rfctext">
A reply that consists only of the Sequence operation with the error NFS4ERR_SEQ_FALSE_RETRY.

When the replier detects a false retry, it is permitted (but not always obligated) to return NFS4ERR_SEQ_FALSE_RETRY...

If the replier determines the users are different between the original request and a retry, then the replier MUST return NFS4ERR_SEQ_FALSE_RETRY.

...current minor version (e.g., SETCLIENTID), the replier MAY return NFS4ERR_SEQ_FALSE_RETRY...

The difference is due to NFS4ERR_SEQ_FALSE_RETRY being a valid error for only Sequence operations...
</pre>
<p>Notes:</p>
<p class="simpleindent">
References to NFS4ERR_FALSE_RETRY instead of NFS4ERR_SEQ_FALSE_RETRY
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid2249">2249</a><br />
<b>Status: Verified<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Michael Eisler<br />
Date Reported: 2010-05-10<br />
Verifier Name: Lars Eggert<br />
Date Verified: 2011-03-07<br />
</p>
<p>Section 12.5.5.2.1.5 says:
</p>
<pre class="rfctext">
   Once a CB_LAYOUTRECALL of LAYOUTRECALL4_FSID is sent, the server MUST
   NOT allow the client to use any layout stateid that refers to a file
   with the specified fsid except for LAYOUTCOMMIT operations.  Once the
   client receives a CB_LAYOUTRECALL of LAYOUTRECALL4_ALL, it MUST NOT
   use any layout stateid that refers to a file with the specified fsid
   except for LAYOUTCOMMIT operations.
</pre>
<p>It should say:</p>
<pre class="rfctext">
   Once a CB_LAYOUTRECALL of LAYOUTRECALL4_FSID is sent, the server MUST
   NOT allow the client to use any layout stateid that refers to a file
   with the specified fsid except for LAYOUTCOMMIT operations.  Once the
   client receives a CB_LAYOUTRECALL of LAYOUTRECALL4_FSID, it MUST NOT
   use any layout stateid that refers to a file with the specified fsid
   except for LAYOUTCOMMIT operations.
</pre>
<p>Notes:</p>
<p class="simpleindent">
Copy/paste error from the previous paragraph. s/_ALL/_FSID/ in the second sentence of the corrected paragraph.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid2280">2280</a><br />
<b>Status: Verified<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Paul J Gilliam<br />
Date Reported: 2010-05-20<br />
Verifier Name: Lars Eggert<br />
Date Verified: 2011-03-07<br />
</p>
<p>Section 10.4 says:
</p>
<pre class="rfctext">
   OPEN_DELEGATE_READ delegations may be outstanding simultaneously and
   do not conflict.  An OPEN_DELEGATE_WRITE delegation allows the client
   to handle, on its own, all opens.  Only OPEN_DELEGATE_WRITE
   delegation may exist for a given file at a given time, and it is
   inconsistent with any OPEN_DELEGATE_READ delegations.
</pre>
<p>It should say:</p>
<pre class="rfctext">
   OPEN_DELEGATE_READ delegations may be outstanding simultaneously and
   do not conflict.  An OPEN_DELEGATE_WRITE delegation allows the client
   to handle, on its own, all opens.  Only one OPEN_DELEGATE_WRITE
   delegation may exist for a given file at a given time, and it is
   inconsistent with any OPEN_DELEGATE_READ delegations.
</pre>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid2324">2324</a><br />
<b>Status: Verified<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Trond Myklebust<br />
Date Reported: 2010-07-12<br />
Verifier Name: Lars Eggert<br />
Date Verified: 2011-03-07<br />
</p>
<p>Section 2.10.6.2 says:
</p>
<pre class="rfctext">
A retry might be sent while the original request is still in progress
on the replier.  The replier SHOULD deal with the issue by returning
NFS4ERR_DELAY as the reply to SEQUENCE or CB_SEQUENCE operation, but
implementations MAY return NFS4ERR_MISORDERED.
</pre>
<p>It should say:</p>
<pre class="rfctext">
A retry might be sent while the original request is still in progress
on the replier.  The replier SHOULD deal with the issue by returning
NFS4ERR_DELAY as the reply to SEQUENCE or CB_SEQUENCE operation, but
implementations MAY return NFS4ERR_SEQ_MISORDERED.
</pre>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid2328">2328</a><br />
<b>Status: Verified<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Tom Haynes<br />
Date Reported: 2010-07-13<br />
Verifier Name: Lars Eggert<br />
Date Verified: 2011-03-07<br />
</p>
<p>Section 15.1.16 says:
</p>
<pre class="rfctext">

</pre>
<p>Notes:</p>
<p class="simpleindent">
From 3530:<br />
<br />
  NFS4ERR_RESOURCE  For the processing of the COMPOUND procedure, the server may exhaust available resources and can not continue processing operations within the COMPOUND procedure.  This error will be returned from the server in those instances of resource exhaustion related to the processing of the COMPOUND procedure.<br />
<br />
Since it is not used by 5661, shouldn't it appear in Section 15.1.16 Obsoleted Errors?
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid2330">2330</a><br />
<b>Status: Verified<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Tom Haynes<br />
Date Reported: 2010-07-14<br />
Verifier Name: Lars Eggert<br />
Date Verified: 2011-03-07<br />
</p>
<p>Section 3.3.7 says:
</p>
<pre class="rfctext">
   0            1
   +-----------+-----------+-----------+--
   |  count    | 31  ..  0 | 63  .. 32 |
   +-----------+-----------+-----------+--
</pre>
<p>It should say:</p>
<pre class="rfctext">
                     0            1
   +-----------+-----------+-----------+--
   |  count    | 31  ..  0 | 63  .. 32 |
   +-----------+-----------+-----------+--
</pre>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid2548">2548</a><br />
<b>Status: Verified<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: J. Bruce Fields<br />
Date Reported: 2010-10-11<br />
Verifier Name: Lars Eggert<br />
Date Verified: 2011-03-07<br />
</p>
<p>Section 18.36.3 says:
</p>
<pre class="rfctext">
csa_fore_chan_attrs, csa_fore_chan_attrs:
</pre>
<p>It should say:</p>
<pre class="rfctext">
csa_fore_chan_attrs, csa_back_chan_attrs:
</pre>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid4215">4215</a><br />
<b>Status: Verified<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Tom Haynes<br />
Date Reported: 2014-12-30<br />
Verifier Name: Martin Stiemerling<br />
Date Verified: 2016-02-02<br />
</p>
<p>Section 22.1 says:
</p>
<pre class="rfctext">
   All assignments to the registry are made on a First Come First Served
   basis, per Section 4.1 of [55].  The policy for each assignment is
   Specification Required, per Section 4.1 of [55].

</pre>
<p>It should say:</p>
<pre class="rfctext">
The registry is to be maintained using the Specification Required
policy as defined in Section 4.1 of [55].
</pre>
<p>Notes:</p>
<p class="simpleindent">
Found during the IANA Review of 3530bis.
</p>
<div class="special_hr"></div><h2>Status: <a href="status_type_desc.html">Reported</a> (1)</h2>
<h3><a href="http://www.rfc-editor.org/rfc/rfc5661.txt" target="_blank">RFC&nbsp;5661</a>, "Network File System (NFS) Version 4 Minor Version 1 Protocol", January 2010</h3>
<p><b>Note: This RFC has been obsoleted by  <a href="/info/rfc8881">RFC&nbsp;8881</a></b></p>
<a href="/source/">Source of RFC</a>: nfsv4 (tsv)<br />
<p>
Errata ID: <a href="/errata/eid6324">6324</a><br />
<b>Status: Reported<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Tigran Mkrtchyan<br />
Date Reported: 2020-11-04<br />
</p>
<p>Section 18.23.3 says:
</p>
<pre class="rfctext">
The request's cookieverf field should be set to 0 zero) when the
</pre>
<p>It should say:</p>
<pre class="rfctext">
The request's cookieverf field should be set to 0 (zero) when the
</pre>
<p>Notes:</p>
<p class="simpleindent">
Missing the open parenthesis
</p>
<div class="special_hr"></div><h2>Status: <a href="status_type_desc.html">Held for Document Update</a> (17)</h2>
<h3><a href="http://www.rfc-editor.org/rfc/rfc5661.txt" target="_blank">RFC&nbsp;5661</a>, "Network File System (NFS) Version 4 Minor Version 1 Protocol", January 2010</h3>
<p><b>Note: This RFC has been obsoleted by  <a href="/info/rfc8881">RFC&nbsp;8881</a></b></p>
<a href="/source/">Source of RFC</a>: nfsv4 (tsv)<br />
<p>
Errata ID: <a href="/errata/eid2505">2505</a><br />
<b>Status: Held for Document Update<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Michael Eisler<br />
Date Reported: 2010-08-31<br />
Held for Document Update by: Magnus Westerlund<br />
Date Held: 2019-10-25<br />
</p>
<p>Section 12.5.4. says:
</p>
<pre class="rfctext">
   Because of this inconsistency, it is necessary to resynchronize the
   client with the metadata server and its storage devices and make any
   potential changes available to other clients. 

AND

   For file-based layouts, synchronization of
   attributes between the metadata and storage devices, primarily the
   size attribute, is required.

</pre>
<p>It should say:</p>
<pre class="rfctext">
   Because of this inconsistency, in general, it is necessary to resynchronize the
   client with the metadata server and its storage devices and make any
   potential changes available to other clients. 

AND

   For file-based layouts, synchronization of
   attributes between the metadata and storage devices, primarily the
   size attribute, is not required, but the use of LAYOUTCOMMIT provides 
   a way to optimize the synchronization. Indeed, if a LAYOUT4_NFSV4_1_FILES
   layout is ever revoked, the metadata server MUST direct all data servers to
   commit any modified data of the file to stable storage, and synchronize 
   the file's size and time_modify attributes on the metadata server
   with the those on the data server.

</pre>
<p>Notes:</p>
<p class="simpleindent">
Without this correction, the implication is that a file could be truncated if a  LAYOUT4_NFSV4_1_FILES layout was revoked before LAYOUTCOMMIT, which would then mean that every append operation to a data server would require a LAYOUTCOMMIT, which is an absurd consequence.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid3065">3065</a><br />
<b>Status: Held for Document Update<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: David Black<br />
Date Reported: 2011-12-27<br />
Held for Document Update by: Martin Stiemerling<br />
</p>
<p>Section 12.7.4 says:
</p>
<pre class="rfctext">
      If the metadata server's
      consistency checks on loca_layoutupdate succeed, then the metadata
      server MUST commit the data (as described by the loca_offset,
      loca_length, and loca_layoutupdate fields of the arguments) that
      was written to the storage device. If the metadata server's
      consistency checks on loca_layoutupdate fail, the metadata server
      rejects the LAYOUTCOMMIT operation and makes no changes to the
      file system.  However, any time LAYOUTCOMMIT with loca_reclaim
      TRUE fails, the pNFS client has lost all the data in the range
      defined by &lt;loca_offset, loca_length&gt;.  
</pre>
<p>It should say:</p>
<pre class="rfctext">
      If the metadata server's
      consistency checks on loca_layoutupdate succeed, then the metadata
      server MUST commit the changed data that was written to the storage
      device within the scope of the LAYOUTCOMMIT operation.
      If the metadata server's
      consistency checks on loca_layoutupdate fail, the metadata server
      rejects the LAYOUTCOMMIT operation and makes no changes to the
      file system.  However, any time LAYOUTCOMMIT with loca_reclaim
      TRUE fails, the pNFS client may have lost all uncommitted
	data within the scope of the failed LAYOUTCOMMIT operation.  
</pre>
<p>Notes:</p>
<p class="simpleindent">
Errata 2 of 5 to deprecate loca_offset and loca_length arguments to LAYOUTCOMMIT.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid3066">3066</a><br />
<b>Status: Held for Document Update<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: David Black<br />
Date Reported: 2011-12-27<br />
Held for Document Update by: Martin Stiemerling<br />
</p>
<p>Section 12.7.4 says:
</p>
<pre class="rfctext">
   o  The client does not have a copy of the data in its memory and the
      metadata server is no longer in its grace period; i.e., the
      metadata server returns NFS4ERR_NO_GRACE.  As with the scenario in
      the above bullet point, the failure of LAYOUTCOMMIT means the data
      in the range &lt;loca_offset, loca_length&gt; lost.  The defense against
      the risk is the same -- cache all written data on the client until
      a successful LAYOUTCOMMIT.
</pre>
<p>It should say:</p>
<pre class="rfctext">
   o  The client does not have a copy of the data in its memory and the
      metadata server is no longer in its grace period; i.e., the
      metadata server returns NFS4ERR_NO_GRACE.  As with the scenario in
      the above bullet point, the failure of LAYOUTCOMMIT means the data
      in the scope of that LAYOUTCOMMIT may have been lost.  The defense
      against the risk is the same -- cache all written data on the client
      until a successful LAYOUTCOMMIT.
</pre>
<p>Notes:</p>
<p class="simpleindent">
Errata 3 of 5 to deprecate loca_offset and loca_length arguments to LAYOUTCOMMIT.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid3067">3067</a><br />
<b>Status: Held for Document Update<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: David Black<br />
Date Reported: 2011-12-27<br />
Held for Document Update by: Martin Stiemerling<br />
</p>
<p>Section 18.42.3 says:
</p>
<pre class="rfctext">
   The LAYOUTCOMMIT operation commits changes in the layout represented
   by the current filehandle, client ID (derived from the session ID in
   the preceding SEQUENCE operation), byte-range, and stateid.  Since
   layouts are sub-dividable, a smaller portion of a layout, retrieved
   via LAYOUTGET, can be committed.  The byte-range being committed is
   specified through the byte-range (loca_offset and loca_length).  This
   byte-range MUST overlap with one or more existing layouts previously
   granted via LAYOUTGET (Section 18.43), each with an iomode of
   LAYOUTIOMODE4_RW.  In the case where the iomode of any held layout
   segment is not LAYOUTIOMODE4_RW, the server should return the error
   NFS4ERR_BAD_IOMODE.  For the case where the client does not hold
   matching layout segment(s) for the defined byte-range, the server
   should return the error NFS4ERR_BAD_LAYOUT.
</pre>
<p>It should say:</p>
<pre class="rfctext">
   The LAYOUTCOMMIT operation commits changes in the layout represented
   by the current filehandle, client ID (derived from the session ID in
   the preceding SEQUENCE operation), and stateid.  As a layout-independent
   operation, LAYOUTCOMMIT commits the entire layout; layout type-specific
   data (loca_layoutupdate) may specify a smaller scope of data that is to
   be committed (e.g., for the block layout, see RFC 5663 [41]).

   The loca_offset and loca_length arguments have been deprecated.  The
   client SHOULD set both loca_offset and loca_length to 0.
   The server MUST ignore the loca_offset and loca_length arguments.
   The client MUST hold one or more existing layouts
   previously granted via LAYOUTGET (Section 18.43), with an iomode of
   LAYOUTIOMODE4_RW.  If layout type-specific data (loca_layoutupdate)
   restricts the scope of the LAYOUTCOMMIT to less than the entire layout,
   the client MUST hold one or more existing layouts with an iomode
   of LAYOUTIOMODE4_RW fully covering the committed byte ranges.
   In the case where no previously granted layout
   has an iomode of LAYOUTIOMODE4_RW, the server should return the error
   NFS4ERR_BAD_IOMODE.  For the case where the client does not hold
   any previously granted layout, the server should return the error
   NFS4ERR_BAD_LAYOUT.
</pre>
<p>Notes:</p>
<p class="simpleindent">
Errata 4 of 5 to deprecate loca_offset and loca_length arguments to LAYOUTCOMMIT.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid3068">3068</a><br />
<b>Status: Held for Document Update<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: David Black<br />
Date Reported: 2011-12-27<br />
Held for Document Update by: Martin Stiemerling<br />
</p>
<p>Section 18.42.3 says:
</p>
<pre class="rfctext">
   The loca_last_write_offset field specifies the offset of the last
   byte written by the client previous to the LAYOUTCOMMIT.  Note that
   this value is never equal to the file's size (at most it is one byte
   less than the file's size) and MUST be less than or equal to
   NFS4_MAXFILEOFF.  Also, loca_last_write_offset MUST overlap the range
   described by loca_offset and loca_length. 
</pre>
<p>It should say:</p>
<pre class="rfctext">
   The loca_last_write_offset field specifies the offset of the last
   byte written by the client previous to the LAYOUTCOMMIT.  Note that
   this value is never equal to the file's size (at most it is one byte
   less than the file's size) and MUST be less than or equal to
   NFS4_MAXFILEOFF.
</pre>
<p>Notes:</p>
<p class="simpleindent">
Errata 5 of 5 to deprecate loca_offset and loca_length arguments to LAYOUTCOMMIT.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid3714">3714</a><br />
<b>Status: Held for Document Update<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Yuri Radchenko<br />
Date Reported: 2013-08-31<br />
Held for Document Update by: Magnus Westerlund<br />
Date Held: 2019-10-25<br />
</p>
<p>Section 13.4.4. says:
</p>
<pre class="rfctext">
The flag NFL4_UFLG_DENSE of the nfl_util4 data type (field nflh_util
of the data type nfsv4_1_file_layouthint4 and field nfl_util of data
type nfsv4_1_file_layout_ds_addr4)
</pre>
<p>It should say:</p>
<pre class="rfctext">
The flag NFL4_UFLG_DENSE of the nfl_util4 data type (field nflh_util
of the data type nfsv4_1_file_layouthint4 and field nfl_util of data
type  nfsv4_1_file_layout4)
</pre>
<p>Notes:</p>
<p class="simpleindent">
nfsv4_1_file_layout_ds_addr4 data type does not have field nflh_util
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid3901">3901</a><br />
<b>Status: Held for Document Update<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Trond Myklebust<br />
Date Reported: 2014-02-25<br />
Held for Document Update by: Magnus Westerlund<br />
Date Held: 2019-10-25<br />
</p>
<p>Section 18.43.3 says:
</p>
<pre class="rfctext">
The logr_return_on_close result field is a directive to return the
layout before closing the file.  When the metadata server sets this
return value to TRUE, it MUST be prepared to recall the layout in the
case in which the client fails to return the layout before close.
For the metadata server that knows a layout must be returned before a
close of the file, this return value can be used to communicate the
desired behavior to the client and thus remove one extra step from
the client's and metadata server's interaction.
</pre>
<p>It should say:</p>
<pre class="rfctext">
The logr_return_on_close result field is a directive to return
or forget the layout when the client returns all open/delegation
state for that file.

Once a LAYOUTGET operation returns with logr_return_on_close
set to TRUE for a given file, then all subsequent LAYOUTGET
requests by that client for the same file and layout type, MUST
reply with logr_return_on_close set to TRUE until the client returns
all its open state for that file using CLOSE and DELEGRETURN.
Note that return_on_close also applies retroactively to all layout
segments retrieved by the client for that file and layout type.

After the client has closed all open stateids and returned the
delegation stateids for a file for which logr_return_on_close
was set to TRUE, the server MUST  invalidate all layout segments
that were  issued to the client for that file. The client MUST NOT
attempt to use that layout or the layout stateid.

If the server needs to revoke all open stateids and delegation
stateids owned by the client for a file for which logr_return_on_close
was set to TRUE, then it MUST also revoke all layout segments of 
type loga_layout_type that were issued for that file to that client, 
and take action to fence the access to the DSes.
</pre>
<p>Notes:</p>
<p class="simpleindent">
This is intended as a replacement for the errata with id 3226, which is incomplete in that it does not discuss how return-on-close is supposed to work with delegations or with layout revoking.<br />
 --VERIFIER NOTES-- <br />
 Please get an agreement in the WG and submit an up to date errata, as this text part seems to be under discussion.<br />
<br />
2016-06-17: RFC Editor moved from Rejected to Reported per request from AD (Spencer Dawkins).<br />
<br />
2019-10-25: TSV AD Magnus Westerlund put this into the Held for document update so that the WG can deal with the consensus deision issues related to this clarification when updating the document. 
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid4118">4118</a><br />
<b>Status: Held for Document Update<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Christoph Hellwig<br />
Date Reported: 2014-09-17<br />
Held for Document Update by: Martin Stiemerling<br />
Date Held: 2016-02-02<br />
</p>
<p>Section 20.12.3 says:
</p>
<pre class="rfctext">
NOTIFY_DEVICEID4_CHANGE
  A previously provided device-ID-to-device-address mapping has
  changed and the client uses GETDEVICEINFO to obtain the updated
  mapping.  The notification is encoded in a value of data type
  notify_deviceid_change4.  This data type also contains a boolean
  field, ndc_immediate, which if TRUE indicates that the change will
  be enforced immediately, and so the client might not be able to
  complete any pending I/O to the device ID.  If ndc_immediate is
  FALSE, then for an indefinite time, the client can complete
  pending I/O.  After pending I/O is complete, the client SHOULD get
  the new device-ID-to-device-address mappings before sending new
  I/O requests to the storage devices addressed by the device ID.
</pre>
<p>It should say:</p>
<pre class="rfctext">
NOTIFY_DEVICEID4_CHANGE
  A previously provided device-ID-to-device-address mapping has
  changed and the client uses GETDEVICEINFO to obtain the updated
  mapping.  The notification is encoded in a value of data type
  notify_deviceid_change4.  This data type also contains a boolean
  field, ndc_immediate, which SHOULD be ignored by the client.
  The client may finish any outstanding I/Os that reference the
  previously provided device-ID-to-device-address mapping and SHOULD
  use GETDEVICEINFO to obtain the updated mapping for the previously
  provided device-ID-to-device-address mapping before requesting new
  layouts.  All outstanding layouts remain valid after a notification
  of type NOTIFY_DEVICEID4_CHANGE.  If the device-ID-to-device-address
  mapping changed in an incompatible way that would invalidate
  outstanding layouts, the server MUST recall all outstanding layouts
  and send a NOTIFY_DEVICEID4_DELETE notification instead.
</pre>
<p>Notes:</p>
<p class="simpleindent">
Clarify what DEVICEID4_CHANGE means vs layouts instead of I/Os. Drop the under specified ndc_immediate flag, which can't be enforced.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid4119">4119</a><br />
<b>Status: Held for Document Update<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Christoph Hellwig<br />
Date Reported: 2014-09-17<br />
Held for Document Update by: Magnus Westerlund<br />
Date Held: 2019-10-25<br />
</p>
<p>Section 12.2.10 says:
</p>
<pre class="rfctext">
A device ID lives as long as there is a layout referring to the
device ID.  If there are no layouts referring to the device ID, the
server is free to delete the device ID any time.
</pre>
<p>It should say:</p>
<pre class="rfctext">
A device ID is established by referencing it in the result of a
GETDEVICELIST or LAYOUTGET operation and can be deleted by the server
as soon as there are no layouts referring to the device ID.

If the client requested notifications for device ID mappings, the
server SHOULD send CB_NOTIFY_DEVICEID notifications for device ID
deletions or changes to the device-ID-to-device-address mappings to any
client which has used the device-ID in question at least once,
irrespective of whether the client has any layouts currently referring
to it. If the server does not support or the client does not request
notifications for device ID mappings, the client SHOULD periodically
retired unused device IDs.


Given that GETDEVICELIST does not support requesting notifications a
server that implements GETDEVICELIST MUST not not advertise support
for NOTIFY_DEVICEID4_CHANGE notification in GETDEVICEINFO, and client
using GETDEVICELIST must not rely on NOTIFY_DEVICEID4_CHANGE or
NOTIFY_DEVICEID4_DELETE notifications to work reliably.
</pre>
<p>Notes:</p>
<p class="simpleindent">
The lifetime rules in RFC5661 are contradictory - both GETDEVICELIST and CB_NOTIFY_DEVICEID (NOTIFY4_DEVICEID_DELETE) operations imply that device IDs are valid even without layouts referring to them. Implementations rely on this fact by caching not referenced device IDs to avoid the huge setup costs, and thus require notifications to be sent for that case.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid4492">4492</a><br />
<b>Status: Held for Document Update<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: David Noveck<br />
Date Reported: 2015-10-05<br />
Held for Document Update by: Magnus Westerlund<br />
Date Held: 2019-10-25<br />
</p>
<p>Section 18.17.4 says:
</p>
<pre class="rfctext">
If the server does not support named attributes for the current 
filehandle, an error of NFS4ERR_NOTSUPP will be returned to the 
client.
</pre>
<p>It should say:</p>
<pre class="rfctext">
If the server does not support named attributes for file system 
objects on the file system associated with the current filehandle, 
an error of NFS4ERR_NOTSUPP will be returned to the client.
</pre>
<p>Notes:</p>
<p class="simpleindent">
There are a number of situations in which, a server might not support named attributes on particular file system objects.   A number of cases concern doing an OPENATTR on a named attribute directory or named attribute and are mentioned in the immediately preceeding section.<br />
Aside from that contradiction, many implementations might allow named attributes on <br />
symbolic likes or special files.  The existing text would require NFS4ERR_NOTSUPP rather <br />
than NFS4ERR_WRONG_TYPE to be returned in such cases, causing the client to conclude <br />
incorrectly that named attribute support is not present for the file system in question, or at <br />
least be uncertain about the presence/absence of such support.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid4712">4712</a><br />
<b>Status: Held for Document Update<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Trond Myklebust<br />
Date Reported: 2016-06-16<br />
Held for Document Update by: Magnus Westerlund<br />
Date Held: 2020-09-03<br />
</p>
<p>Section 6.2.1.3.1. says:
</p>
<pre class="rfctext">
   ACE4_DELETE

      Operation(s) affected:

         REMOVE
</pre>
<p>It should say:</p>
<pre class="rfctext">
   ACE4_DELETE

      Operation(s) affected:

         REMOVE

         RENAME
</pre>
<p>Notes:</p>
<p class="simpleindent">
ACE4_DELETE on the source file may allow a rename to proceed in cases where the user does not have ACE4_DELETE_CHILD on the source directory. It may also affect the ability of the user to be able to RENAME if there is an existing file in the target directory with the target name.<br />
<br />
AD notes based on Chuck Lever's input. <br />
o	The text in RFC 5661 Section 6.2.1.3.1 matches the text in RFC 7530 Section 6.2.1.3.1. Are updaed of RFC 7530 also needed for this reason?<br />
o	Should the Notes section of the errata be added to Section 6.2.1.3.2?<br />
o	A consideration is if there are already server implementations that reject RENAME operations in these cases, or do all server implementations permit RENAME?<br />
o	This is held so that the issues can be addressed in rfc5661bis after further discussion.<br />
o	Additional Editorial correction: The Discussion subsections of ACE4_DELETE and ACE4_DELETE are missing the word &quot;how&quot;. <br />

</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid5212">5212</a><br />
<b>Status: Held for Document Update<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: NFS4ERR_ROFS is not a valid error code for LAYOUTGET<br />
Date Reported: 2017-12-19<br />
Held for Document Update by: Magnus Westerlund<br />
Date Held: 2020-09-04<br />
</p>
<p>Section 15.2 says:
</p>
<pre class="rfctext">
   | LAYOUTGET            | NFS4ERR_ACCESS, NFS4ERR_ADMIN_REVOKED,     |
   |                      | NFS4ERR_BADIOMODE, NFS4ERR_BADLAYOUT,      |
   |                      | NFS4ERR_BADXDR, NFS4ERR_BAD_STATEID,       |
   |                      | NFS4ERR_DEADSESSION, NFS4ERR_DELAY,        |
   |                      | NFS4ERR_DELEG_REVOKED, NFS4ERR_DQUOT,      |
   |                      | NFS4ERR_FHEXPIRED, NFS4ERR_GRACE,          |
   |                      | NFS4ERR_INVAL, NFS4ERR_IO,                 |
   |                      | NFS4ERR_LAYOUTTRYLATER,                    |
   |                      | NFS4ERR_LAYOUTUNAVAILABLE, NFS4ERR_LOCKED, |
   |                      | NFS4ERR_MOVED, NFS4ERR_NOFILEHANDLE,       |
   |                      | NFS4ERR_NOSPC, NFS4ERR_NOTSUPP,            |
   |                      | NFS4ERR_OLD_STATEID, NFS4ERR_OPENMODE,     |
   |                      | NFS4ERR_OP_NOT_IN_SESSION,                 |
   |                      | NFS4ERR_RECALLCONFLICT,                    |
   |                      | NFS4ERR_REP_TOO_BIG,                       |
   |                      | NFS4ERR_REP_TOO_BIG_TO_CACHE,              |
   |                      | NFS4ERR_REQ_TOO_BIG,                       |
   |                      | NFS4ERR_RETRY_UNCACHED_REP,                |
   |                      | NFS4ERR_SERVERFAULT, NFS4ERR_STALE,        |
   |                      | NFS4ERR_TOOSMALL, NFS4ERR_TOO_MANY_OPS,    |
   |                      | NFS4ERR_UNKNOWN_LAYOUTTYPE,                |
   |                      | NFS4ERR_WRONG_TYPE                         |

</pre>
<p>It should say:</p>
<pre class="rfctext">
   | LAYOUTGET            | NFS4ERR_ACCESS, NFS4ERR_ADMIN_REVOKED,     |
   |                      | NFS4ERR_BADIOMODE, NFS4ERR_BADLAYOUT,      |
   |                      | NFS4ERR_BADXDR, NFS4ERR_BAD_STATEID,       |
   |                      | NFS4ERR_DEADSESSION, NFS4ERR_DELAY,        |
   |                      | NFS4ERR_DELEG_REVOKED, NFS4ERR_DQUOT,      |
   |                      | NFS4ERR_FHEXPIRED, NFS4ERR_GRACE,          |
   |                      | NFS4ERR_INVAL, NFS4ERR_IO,                 |
   |                      | NFS4ERR_LAYOUTTRYLATER,                    |
   |                      | NFS4ERR_LAYOUTUNAVAILABLE, NFS4ERR_LOCKED, |
   |                      | NFS4ERR_MOVED, NFS4ERR_NOFILEHANDLE,       |
   |                      | NFS4ERR_NOSPC, NFS4ERR_NOTSUPP,            |
   |                      | NFS4ERR_OLD_STATEID, NFS4ERR_OPENMODE,     |
   |                      | NFS4ERR_OP_NOT_IN_SESSION,                 |
   |                      | NFS4ERR_RECALLCONFLICT,                    |
   |                      | NFS4ERR_REP_TOO_BIG,                       |
   |                      | NFS4ERR_REP_TOO_BIG_TO_CACHE,              |
   |                      | NFS4ERR_REQ_TOO_BIG,                       |
   |                      | NFS4ERR_RETRY_UNCACHED_REP, NFS4ERR_ROFS,  |
   |                      | NFS4ERR_SERVERFAULT, NFS4ERR_STALE,        |
   |                      | NFS4ERR_TOOSMALL, NFS4ERR_TOO_MANY_OPS,    |
   |                      | NFS4ERR_UNKNOWN_LAYOUTTYPE,                |
   |                      | NFS4ERR_WRONG_TYPE                         |

</pre>
<p>Notes:</p>
<p class="simpleindent">
It could be argued that the OPEN takes care of a NFS4ERR_ROFS for a LAYOUTGET of a LAYOUTIOMODE4_RW, but that does not explain why WRITE is allowed to return a NFS4ERR_ROFS.<br />
<br />
With the Flex File Layout Type, the storage device depends on the metadata server enforcing the read-only filesystem semantics. An NFSv3 WRITE to the storage device might be accepted even though the filesystem might be RO. Further, if a snapshot is taken, the storage device might not be aware of the fact that a data file is in a snapshot.<br />
<br />
Currently, if the underlying filesystem determines that the LAYOUTGET for a LAYOUTIOMODE4_RW is going to return NFS4ERR_ROFS, to be spec compliant, it MUST convert the error code to NFS4ERR_SERVERFAULT.  The client may then decide to perform IO through the metadata server with NFSv4 WRITE calls, which will in turn get a NFS4ERR_ROFS error. This change pushes the responsibility to be on the LAYOUTGET and allows the client to inform the application of an error earlier.<br />
<br />
AD Comments:<br />
This topic requires WG discussion and establishment of consensus. Thus for future document update. <br />
<br />
 --VERIFIER NOTES-- <br />
   This topic requires WG discussion and establishment of consensus. Thus for future document update.<br />

</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid3064">3064</a><br />
<b>Status: Held for Document Update<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: David Black<br />
Date Reported: 2011-12-27<br />
Held for Document Update by: Martin Stiemerling<br />
</p>
<p>Section 12.5.4 says:
</p>
<pre class="rfctext">
   The LAYOUTCOMMIT operation is responsible for committing a modified
   layout to the metadata server.  The data should be written and
   committed to the appropriate storage devices before the LAYOUTCOMMIT
   occurs.  The scope of the LAYOUTCOMMIT operation depends on the
   storage protocol in use.
</pre>
<p>It should say:</p>
<pre class="rfctext">
   The LAYOUTCOMMIT operation is responsible for committing a modified
   layout to the metadata server.  The data should be written and
   committed to the appropriate storage devices before the LAYOUTCOMMIT
   occurs.  The scope of data committed by a LAYOUTCOMMIT operation is
   specific to the type of layout because that scope depends on the
   storage protocol in use.
</pre>
<p>Notes:</p>
<p class="simpleindent">
Errata 1 of 5 to deprecate loca_offset and loca_length arguments to LAYOUTCOMMIT.
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid3653">3653</a><br />
<b>Status: Held for Document Update<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Kanda Motohiro<br />
Date Reported: 2013-06-15<br />
Held for Document Update by: Martin Stiemerling<br />
Date Held: 2016-02-02<br />
</p>
<p>Section 13.4.2 says:
</p>
<pre class="rfctext">
The destinations of the first 13 storage units are:
</pre>
<p>It should say:</p>
<pre class="rfctext">
The destinations of the first 13 stripe units are:
</pre>
<p>Notes:</p>
<p class="simpleindent">
Same errata on Section 13.4.3
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid4572">4572</a><br />
<b>Status: Held for Document Update<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Sai Chakravarthy Tangudu<br />
Date Reported: 2015-12-30<br />
Held for Document Update by: Magnus Westerlund<br />
Date Held: 2019-10-25<br />
</p>
<p>Section 18.35.3 says:
</p>
<pre class="rfctext">
A server MUST NOT use the same client ID for two different
incarnations of an eir_clientowner.
</pre>
<p>It should say:</p>
<pre class="rfctext">
A server MUST NOT use the same client ID for two different
incarnations of an eia_clientowner.
</pre>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid4914">4914</a><br />
<b>Status: Held for Document Update<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Dylan Simon<br />
Date Reported: 2017-01-22<br />
Held for Document Update by: Magnus Westerlund<br />
Date Held: 2019-10-25<br />
</p>
<p>Section 14.3.3 says:
</p>
<pre class="rfctext">
Mapping Used by nfs4_cis_prep
</pre>
<p>It should say:</p>
<pre class="rfctext">
Mapping Used by nfs4_mixed_prep
</pre>
<p>Notes:</p>
<p class="simpleindent">
Section header is incorrect, possibly copied from previous section 14.2.3
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid5476">5476</a><br />
<b>Status: Held for Document Update<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Tigran Mkrtchyan<br />
Date Reported: 2018-08-23<br />
Held for Document Update by: Magnus Westerlund<br />
Date Held: 2019-10-25<br />
</p>
<p>Section 18.42.3 says:
</p>
<pre class="rfctext">
   matching layout segment(s) for the defined byte-range, the server
   should return the error NFS4ERR_BAD_LAYOUT.
</pre>
<p>It should say:</p>
<pre class="rfctext">
   matching layout segment(s) for the defined byte-range, the server
   should return the error NFS4ERR_BADLAYOUT.
</pre>
<p>Notes:</p>
<p class="simpleindent">
The error code is   NFS4ERR_BADLAYOUT.
</p>
<div class="special_hr"></div><h2>Status: <a href="status_type_desc.html">Rejected</a> (3)</h2>
<h3><a href="http://www.rfc-editor.org/rfc/rfc5661.txt" target="_blank">RFC&nbsp;5661</a>, "Network File System (NFS) Version 4 Minor Version 1 Protocol", January 2010</h3>
<p><b>Note: This RFC has been obsoleted by  <a href="/info/rfc8881">RFC&nbsp;8881</a></b></p>
<a href="/source/">Source of RFC</a>: nfsv4 (tsv)<br />
<p>
Errata ID: <a href="/errata/eid2751">2751</a><br />
<b>Status: Rejected<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: Ricardo Labiaga<br />
Date Reported: 2011-03-21<br />
Rejected by: Magnus Westerlund<br />
Date Rejected: 2019-10-25<br />
</p>
<p>Throughout the document, when it says:
</p>
<pre class="rfctext">

</pre>
<p>It should say:</p>
<pre class="rfctext">
12.5.4.1.  LAYOUTCOMMIT and change/time_modify
becomes
12.5.4.2.  LAYOUTCOMMIT and change/time_modify


12.5.4.2.  LAYOUTCOMMIT and size
becomes
12.5.4.3.  LAYOUTCOMMIT and size


12.5.4.3.  LAYOUTCOMMIT and layoutupdate
becomes
12.5.4.4.  LAYOUTCOMMIT and layoutupdate


Add new Section 
12.5.4.1 Implications of LAYOUTCOMMIT on file layouts
For file layouts, WRITEs to a Data Server that return a stable_how4 value of 
FILE_SYNC4 guarantee that data and file system metadata are on stable 
storage.  This means that a LAYOUTCOMMIT is not needed in order to make the 
data and metadata visible to the metadata server and other clients.

For file layouts, when WRITE to the data server returns UNSTABLE4 or 
DATA_SYNC4  and the NFL4_UFLG_COMMIT_THRU_MDS flag is set, the client MUST 
send the COMMIT to the metadata server.  A successful COMMIT to the metadata 
server guarantees that data and file system metadata are on stable storage.  
Therefore, any time that NFS4_UFLG_COMMIT_THRU_MDS is set, a LAYOUTCOMMIT (of 
the byte range specified by the layout) is not needed.

For file layouts, when NFL4_UFLG_COMMIT_THRU_MDS flag is not set, and WRITE or 
COMMIT to the data server return DATA_SYNC4, the client MUST send the 
LAYOUTCOMMIT to the metadata server in order to synchronize file metadata.  

The following table summarizes the rules when a LAYOUTCOMMIT is needed, and 
the effects of a COMMIT to a data server and metadata server.  

+------------+------------+------------+------------+----------+
| NFL4_UFLG_ | WRITE to   | Meaning of | Meaning    | LAYOUT   |
| COMMIT_    | DS returns | COMMIT to  | of COMMIT  | COMMIT   | 
| THRU_MDS   |            | DS         | to MDS     | required |            
+------------+------------+------------+------------+----------+
| Not Set    | UNSTABLE4  | DATA_SYNC4 | Nothing    | Yes      |
| Not Set    | DATA_SYNC4 | Nothing    | Nothing    | Yes      |
| Not Set    | FILE_SYNC4 | Nothing    | Nothing    | NO       |
| Set        | UNSTABLE4  | Nothing    | FILE_SYNC4 | NO       |
| Set        | DATA_SYNC4 | Nothing    | FILE_SYNC4 | NO       |
| Set        | FILE_SYNC4 | Nothing    | Nothing    | NO       |
+------------+------------+------------+------------+----------+

Note that a client can always demand FILE_SYNC4 or DATA_SYNC4 in WRITE's 
arguments.  Also note that specifying these stability levels may adversely 
impact performance.

If a LAYOUTCOMMIT is required, it should be sent before CLOSE to maintain 
close-to-open semantics.  If required, it should be sent before LOCKU, 
OPEN_DOWNGRADE, LAYOUTRETURN, and when the application issues fsync() [25].  
Again, if LAYOUTCOMMIT is required, it should be sent periodically to keep the 
file size and modification time synchronized.  This allows use cases like 
tail -f [56] which copies its input file to the standard output and updates 
the output as new lines become available in the input file.  It is up to the 
client implementation to determine how frequently LAYOUTCOMMIT is issued.  
Possible policies include every N'th COMMIT to a data server, every N'th unit 
of time, or after writing a stripe to a set of data servers.

Even if a required LAYOUTCOMMIT is not issued by the client, the data server 
and metadata servers have a set of responsibilities to fulfill in order to 
guarantee data consistency:
1) Data servers MUST commit data and synchronize modification and size 
attributes with the metadata server before a layout is revoked as described in 
section 12.5.4.
2) Data servers SHOULD commit data and synchronize modification and size 
attributes with the metadata server after the metadata server reboots.  In 
theory the client should commit the data, but this avoids the problem where 
both the client and metadata server crash at the same time.
3) The metadata server MAY periodically poll data servers to synchronize 
modification and size attributes.


Section 13.9.2.3 says:
   For the NFSv4.1-based data storage protocol, it is  necessary to re-
synchronize state such as the size attribute, and  the setting of 
mtime/change/atime.

Should say:
   For the NFSv4.1-based data storage protocol, it may be necessary to re-
synchronize state such as the size attribute, and the setting of 
mtime/change/atime.


Section 13.10 says:
   For the case above, this means that a LAYOUTCOMMIT will be done at close 
(along with the data WRITEs) and will update the file's size and change 
attribute.

Should say:
   For the case above, this means that, if necessary, a LAYOUTCOMMIT will be 
done at close (along with the data WRITEs) and will update the file's size and 
change attribute.


Section 18.3.4 says:
   The COMMIT operation is similar in operation and semantics to the POSIX 
fsync() [25] system interface that synchronizes a file's state with the disk 
(file data and metadata is flushed to disk or stable storage).  COMMIT 
performs the same operation for a client, flushing any unsynchronized data and 
metadata on the server to the server's disk or stable storage for the 
specified file.

Should say:
   The COMMIT operation is similar in operation and semantics to the POSIX 
fsync() [25] system interface that synchronizes a file's state with the disk 
(file data and metadata is flushed to disk or stable storage).  COMMIT 
performs the same operation for a client, flushing any unsynchronized data and 
metadata on the server to the server's disk or stable storage for the 
specified file.  When using pNFS, if a WRITE returned UNSTABLE4 and 
NFL4_UFLG_COMMIT_THRU_MDS is not set, then the client MUST COMMIT to the data 
server.  The COMMIT may result in flushing the data but not the metadata.  In 
this case, the metadata MUST be flushed with a subsequent LAYOUTCOMMIT to the 
metadata server.  A complete set of pNFS rules for flushing data and metadata 
is described in section 12.5.4.1.


Section 18.3.4 says:
   The above description applies to page-cache-based systems as well as buffer-
cache-based systems.  In the former systems, the virtual memory system will 
need to be modified instead of the buffer cache.

Should say:
   The above description applies to page-cache-based systems as well as buffer-
cache-based systems.  In the former systems, the virtual memory system will 
need to be modified instead of the buffer cache.

   Refer to Section 12.5.4.1 for a discussion of the effects of data stability 
levels on data servers or metadata servers.


Section 18.32.4 says:
   However, since it is possible for a WRITE to be done with a special 
stateid, the server needs to check for this case even though the client should 
have done an OPEN previously.

Should say:
   However, since it is possible for a WRITE to be done with a special 
stateid, the server needs to check for this case even though the client should 
have done an OPEN previously.

   Refer to Section 12.5.4.1 for a discussion of the effects of data stability 
levels on data servers or metadata servers.


Section 20.3.4 says:
   In the case of modified data being written while the layout is held, the 
client must use LAYOUTCOMMIT operations at the appropriate time; as required 
LAYOUTCOMMIT must be done before the LAYOUTRETURN.

Should say:
   In the case of modified data being written while the layout is held, the 
client may be required to use LAYOUTCOMMIT operations at the appropriate time; 
if LAYOUTCOMMIT is required, it must be done before the LAYOUTRETURN.


Add new informative reference to Section 23.2
[56] The Open Group, &quot;section 'tail' of The Open Group Base Specifications 
Issue 6 IEEE Std 1003.1, 2004 Edition, HTML Version (www.opengroup.org), 
ISBN 1931624453, 2004.


</pre>
<p>Notes:</p>
<p class="simpleindent">
A new section describing the implications of LAYOUTCOMMIT on file layouts is <br />
defined in this errata, along with updates to existing sections of the spec.  <br />
The technical details in this errata were agreed upon at the IETF Interim <br />
Meeting in Sunnyvale, CA on Feb 18-19, 2011.<br />
 --VERIFIER NOTES-- <br />
 This errata was rejected based on formal process grounds that Errata is not allowed to change the WG consensus at the time of publication, and also is very extensive. This issue do need to be addressed in an update to the RFC. 
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid5982">5982</a><br />
<b>Status: Rejected<br />
Type: Technical<br />
Publication Format(s) : TEXT</b><br />
Reported By: David Noveck<br />
Date Reported: 2020-02-13<br />
Rejected by: Magnus Westerlund<br />
Date Rejected: 2020-09-03<br />
</p>
<p>Section 2.10.6.1.3.1 says:
</p>
<pre class="rfctext">
   If a requester sent a Sequence operation with a slot ID and sequence
   ID that are in the reply cache but the replier detected that the
   retried request is not the same as the original request, including a
   retry that has different operations or different arguments in the
   operations from the original and a retry that uses a different
   principal in the RPC request's credential field that translates to a
   different user, then this is a false retry.  When the replier detects
   a false retry, it is permitted (but not always obligated) to return
   NFS4ERR_FALSE_RETRY in response to the Sequence operation when it
   detects a false retry.
</pre>
<p>It should say:</p>
<pre class="rfctext">
   If a requester sent a Sequence operation with a slot ID and sequence
   ID that are in the reply cache but the replier detected that the
   retried request is not the same as the original request, including a
   retry that was issued with a different XID or has different operations 
   or different arguments in the operations from the original and a retry 
   that uses a different principal in the RPC request's credential field 
   that translates to a different user, then this is a false retry.  When 
   the replier detects a false retry, it is permitted (but not always 
   obligated) to return NFS4ERR_FALSE_RETRY in response to the Sequence 
   operation when it detects a false retry
</pre>
<p>Notes:</p>
<p class="simpleindent">
The existing text can be read as requiring checksumming of all requests to foreclose the possibility of not noticing a false retry, which can result in data corruption.  This can be a<br />
significant performance consideraation in the processing of WRITE requests and could undercut the benefits of directly placing data to be written which is one of the impotant goals of RPC-over-RDMA.<br />
 --VERIFIER NOTES-- <br />
   No consensus in the WG if this is just a correction. Thus rejecting the issue and may be brought for WG consenus discussion in the context of document update. 
</p>
<div class="special_hr"></div><p>
Errata ID: <a href="/errata/eid2722">2722</a><br />
<b>Status: Rejected<br />
Type: Editorial<br />
Publication Format(s) : TEXT</b><br />
Reported By: Ricardo Labiaga<br />
Date Reported: 2011-02-15<br />
Rejected by: Lars Eggert<br />
Date Rejected: 2011-02-16<br />
</p>
<p>Section 15.2 says:
</p>
<pre class="rfctext">
   | ILLEGAL              | NFS4ERR_BADXDR, NFS4ERR_OP_ILLEGAL         |
   | LAYOUTCOMMIT         | NFS4ERR_ACCESS, NFS4ERR_ADMIN_REVOKED,     |
</pre>
<p>It should say:</p>
<pre class="rfctext">
   |                      | NFS4ERR_BADXDR, NFS4ERR_OP_ILLEGAL         |
   | LAYOUTCOMMIT         | NFS4ERR_ACCESS, NFS4ERR_ADMIN_REVOKED,     |
</pre>
<p>Notes:</p>
<p class="simpleindent">
ILLEGAL is not an operation.  The errors belong to GETFH, the previous operation listed.<br />
 --VERIFIER NOTES-- <br />
Submitter wishes to retract the errata.   
</p>
<div class="special_hr"></div>
<p><a href="/errata.php#reportnew">Report New Errata</a></p>   </div>
  </div>
</div>
<br><br><div id="footer">
    <div id="footerdivs">
            </div>
    <div style="clear:both"></div>
    <p class="credit">
        <a href="//www.iab.org/">IAB</a> â€¢ <a href="//www.iana.org/">IANA</a>  â€¢ <a href="//www.ietf.org">IETF</a> â€¢ <a href="//www.irtf.org">IRTF</a> â€¢ <a href="/about/independent">ISE</a> â€¢ <a href="//www.internetsociety.org">ISOC</a> â€¢ <a href="//trustee.ietf.org/">IETF Trust</a>
<br>
<a href="/report-summary">Reports</a> â€¢ <a href="//www.ietf.org/privacy-statement/">Privacy Statement</a> â€¢ <a href="/sitemap">Site Map</a> â€¢ <a href="/contact">Contact Us</a>    </p>
    
</div><!--footer-->
</div><!--page-->
<script type='text/javascript' src='https://www.rfc-editor.org/wp-includes/js/wp-embed.min.js?ver=5.0.3'></script>
</body>
</html>
