
INTERNET DRAFT                 F.D. Wright, Lexmark International
<draft-ietf-ipp-req-02.txt>
June 30, 1997                               Expires: Dec 30, 1998

         Design Goals for an Internet Printing Protocol




STATUS OF THIS MEMO

This document is an Internet-Draft.  Internet-Drafts are working
documents of the Internet Engineering Task Force (IETF), its
areas, and its working groups.  Note that other groups may also
distribute working documents as Internet-Drafts.

Internet-Drafts are draft documents valid for a maximum of six
months and may be updated, replaced, or obsoleted by other
documents at any time.  It is inappropriate to use Internet-
Drafts as reference material or to cite them other than as ''work
in progress.''

To learn the current status of any Internet-Draft, please check
the ''1id-abstracts.txt'' listing contained in the Internet-
Drafts Shadow Directories on ftp.is.co.za (Africa), nic.nordu.net
(Europe), munnari.oz.au (Pacific Rim), ftp.ietf.org (US East
Coast), or ftp.isi.edu (US West Coast).

Abstract

This document is one of a set of documents, which together
describe all aspects of a new Internet Printing Protocol (IPP).
IPP is an application level protocol that can be used for
distributed printing using Internet tools and technologies.  The
protocol is heavily influenced by the printing model introduced
in the Document Printing Application (DPA) [ISO10175] standard.
Although DPA specifies both end user and administrative features,
IPP version 1.0 (IPP/1.0) focuses only on end user functionality.

The full set of IPP documents includes:

Design Goals for an Internet Printing Protocol (this document)
    (informational)
Rationale for the Structure and Model and Protocol for the
    Internet Printing Protocol [IPP-RAT] (informational)
Internet Printing Protocol/1.0: Model and Semantics [IPP MOD]
Internet Printing Protocol/1.0: Encoding and Transport [IPP-PRO]
Mapping between LPD and IPP Protocols [IPP LPD] (informational)




Wright              draft-ietf-ipp-req-02.txt            [Page 1]
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



The design goals document, "Design Goals for an Internet Printing
Protocol", takes a broad look at distributed printing
functionality, and it enumerates real-life scenarios that help to
clarify the features that need to be included in a printing
protocol for the Internet.  It identifies requirements for three
types of users: end users, operators, and administrators.  The
design goals document calls out a subset of end user requirements
that are satisfied in IPP/1.0. Operator and administrator
requirements are out of scope for version 1.0.  The rationale
document, "Rationale for the Structure and Model and Protocol for
the Internet Printing Protocol", describes IPP from a high level
view, defines a roadmap for the various documents that form the
suite of IPP specifications, and gives background and rationale
for the IETF working group's major decisions.  The document,
"Internet Printing Protocol/1.0: Model and Semantics", describes
simplified model with abstract objects, their attributes, and
their operations.  The model introduces a Printer and a Job.  The
Job supports multiple documents per Job.  The model document also
addresses how security, internationalization, and directory
issues are addressed.  The protocol specification, "Internet
Printing Protocol/1.0: Encoding and Transport", is a formal
mapping of the abstract operations and attributes defined in the
model document onto HTTP/1.1.  The protocol specification defines
the encoding rules for a new Internet media type called
"application/ipp".  The "Mapping between LPD and IPP Protocols"
gives some advice to implementers of gateways between IPP and LPD
(Line Printer Daemon) implementations.




















Wright              draft-ietf-ipp-req-02.txt            [Page 2]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



TABLE OF CONTENTS

1. TERMINOLOGY.................................................5
2. DESIGN GOALS................................................7
 2.1. End-user ................................................7
   2.1.1. Finding or locating a printer. ......................7
   2.1.2. Create an instance of the printer. ..................8
   2.1.3. Viewing the status and capabilities of a printer. ...8
   2.1.4. Submitting a print job. .............................9
   2.1.5. Viewing the status of a submitted print job. .......10
   2.1.6. Canceling a Print Job ..............................10
 2.2. Operator (NOT REQUIRED FOR V1.0) .......................10
   2.2.1. Alerting. ..........................................11
   2.2.2. Changing Print and Job Status. .....................11
 2.3. Administrator (NOT REQUIRED FOR v1.0) ..................11
3. OBJECTIVES OF THE PROTOCOL.................................13
 3.1. SECURITY CONSIDERATIONS ................................13
 3.2. Interaction with LPD (RFC1179) .........................14
 3.3. Extensibility ..........................................15
 3.4. Firewalls ..............................................15
 3.5. Internationalization ...................................15
4. IPP SCENARIOS..............................................17
 4.1. Printer Discovery ......................................18
 4.2. Driver Installation ....................................19
 4.3. Submitting a Print Job .................................19
 4.4. Getting Status/Capabilities ............................20
 4.5. Asynchronous Notification ..............................21
 4.6. Job Canceling ..........................................21
5. COPYRIGHT..................................................23
6. REFERENCES.................................................24
7. ACKNOWLEDGMENTS............................................25
8. AUTHOR'S ADDRESS...........................................25
9. APPENDIX - DETAILED SCENARIOS..............................26
 9.1. Printer discovery within an enterprise .................26
 9.2. Printer discovery across enterprises ...................28
 9.3. Printer discovery on the Internet -logical operations ..29
 9.4. Printer discovery on the Internet - authentication .....30
 9.5. Driver Download ........................................32
 9.6. Submitting a print job as a file .......................33
 9.7. Submitting a print job with two documents ..............34
 9.8. Submitting a print job as a file, printing fails .......35
 9.9. Submitting a print job with authentication, PRIVACY and
 payment .....................................................35
 9.10. Submitting a print job with decryption error ..........37
 9.11. Submitting a print job with authentication ............39


Wright              draft-ietf-ipp-req-02.txt            [Page 3]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



 9.12. Submitting a print job generated dynamically ..........40
 9.13. Submitting a print job with a Printer jam - CANCELED ..41
 9.14. Submitting a print job with a Printer jam - recovered .42
 9.15. Submitting a print job with server pull ...............43
 9.16. Submitting a print job with referenced resources ......44
 9.17. Getting Capabilities ..................................45
   9.17.1. Submission Attributes .............................45
   9.17.2. Printer Capabilities ..............................45
 9.18. Getting Status ........................................46
   9.18.1. Printer State/Status ..............................46
   9.18.2. Job Status ........................................46
   9.18.3. Status of All My Jobs .............................46
 9.19. Asynchronous Notification .............................48
   9.19.1. Job Completion ....................................48
   9.19.2. Job Complete with Data ............................48
   9.19.3. Print Job Fails ...................................48
 9.20. Cancel a job ..........................................49
 9.21. End to end Scenario - within an enterprise ............50
 9.22. End to end Scenario - across enterprises ..............52
 9.23. End to End Scenario - on the internet .................55



























Wright              draft-ietf-ipp-req-02.txt            [Page 4]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




1. TERMINOLOGY

Internet Printing for the purposes of this document is the
application of Internet tools, programs, servers and networks to
allow end-users to print to a remote printer using, after initial
setup or configuration, the same methods, operations and
paradigms as would be used for a locally attached or a local area
network attached printer.  This could include the use of HTTP
servers and browsers and other applications for providing static,
dynamic and interactive printer locating services, user
installation, selection, configuration, print job submission,
printer capability inquiry and status inquiry of remote printers
and jobs.

For the purposes of this document, a WEB Browser is software
available from a number of sources including but not limited to
the following: Microsoft Internet Explorer, NCSA Mosaic, Netscape
Navigator, Sun Hot Java!.  The major task of these products is to
use the Hypertext Transport Protocol (HTTP) to retrieve,
interpret and display Hypertext Markup Language (HTML).  These
products are often a part of a complete Internet Printing system
because they are often used as a means of obtaining the status of
or more information about the printing system; however, they may
not be present in all implementations.

Throughout this document, 'printer' shall be interpreted to
include any device which is capable of marking on a piece of
media using any available technology.  These design goals do not
include support for multi-tiered printing solutions involving
servers (single or multiple) logically in front of the actual
printing device yet all such configurations shall be supported
but shall appear to the end-user as only a single device.

Throughout this document 'driver' refers to the code installed in
some client operating system to generate the print data stream
for the intended printer. Some computing environments may not
include a separate printer driver.  Rather, the generation of the
proper print data stream is accomplished in an application on
that computer. How such a computer environment or application is
updated to support a new printer now made available using IPP is
outside the scope of IPP. The actual details for installing a
printer driver are operating system dependent and are also
outside the scope of IPP. See also section 3.1 (SECURITY



Wright              draft-ietf-ipp-req-02.txt            [Page 5]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



CONSIDERATIONS) for security implications of driver download and
installation.

The IPP protocol will support the following physical
configurations:

- An IPP client talking to an IPP Printer object imbedded in a
  single, physical output device.
- An IPP Client talking to a server containing one or more IPP
  Printer objects. Each Printer object is associated with
  exactly one physical output device supported by the server.
  The protocol between the server and the output devices is
  undefined.
- An IPP Client talking to an IPP Printer object in a server.
  The Printer object is associated with one or more physical
  output devices, but the client only sees the Printer object,
  which is an abstraction and represents all of the associated
  physical output devices. The protocol between the server and
  the physical output devices is undefined.

Throughout this document, certain design goals will be identified
as not being a part of version 1.0 (or V1.0) of the protocol or
as being satisfied by means outside of IPP.  IPP is assumed to be
one part, an enabler, of a complete Internet Printing solution.
For example printer instance creation is not performed by but is
enabled by the protocol.  Globally, none of the operator or
administrators wants and needs are included in the design goals
for version 1.0.  Some of the end-user wants and needs may also
be excluded from version 1.0 and will be so noted in the
description of them.  Subsequent versions of the protocol (e.g.
V2.0) may include support for these initially excluded wants and
needs.















Wright              draft-ietf-ipp-req-02.txt            [Page 6]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




2. DESIGN GOALS

The next three sections identify the design goals for an Internet
printing protocol from three roles assumed by humans: end-user,
operator, and administrator.  The goals defined here are only
those that need to be addressed by an Internet printing protocol.
Other wants and needs, such as that the operator needs physical
access to the printer (e.g. to be able to load paper or clear
jams) are not covered by this document.  Section 4 contains
scenarios which provide more detailed examples of the entire
process including discovery, status, printing and end-of-job
reporting.

2.1. END-USER

An end-user of a printer accepting jobs through the Internet is
one of the roles in which humans act.  The end-user is the person
that will submit a job to be printed on the printer.

The wants and needs of the end-user are broken down into six
categories: finding/locating a printer, creating a local instance
of a printer, viewing printer status, viewing printer
capabilities, submitting a print job, viewing print job status,
altering the attributes of a print job.

2.1.1. Finding or locating a printer.

End-users want to be able to find and locate printers to which
they are authorized to print.  They want to be able to perform
this function using a standard WEB browser or other application.
Multiple criteria can be applied to find the printers needed.
These criteria include but are not limited to:

- by name (Printer 1, Joes-color-printer, etc.)
- by geographic location (bldg 1, Kentucky, etc.)
- by capability or attribute (color, duplex, legal paper, etc.)

Additionally, while it is outside of scope of IPP, end-users want
to be able to limit the scope of their searching to:

- inside a functional sub-domain
- include only a particular domain (lexmark.com)
- exclude specified domains



Wright              draft-ietf-ipp-req-02.txt            [Page 7]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



While an Internet printing protocol may not of itself include
this function, IPP must define and enable a directory schema
which will provide the necessary information for a directory
service implementation to consistently represent printers by
their IPP attributes.

2.1.2. Create an instance of the printer.

After finding the desired printer, an end-user needs to be able
to create a local instance of that printer within the end-user
operating system or desktop.  This local instance will vary
depending upon the printing paradigm of the operating system.
For example, some UNIX users will only want a queue or a
reference to a remote printer created on their machine while
other UNIX users and Windows NT users will want the queue and
also the necessary icons and registry entries to be created and
initialized.  Where required, drivers may need to be downloaded
from some repository and installed on the computer.  All
necessary decompressing, unpacking, and other installation
actions should occur without end-user interaction or intervention
excepting initial approval by the end-user.  Once the local
instance of the printer has been installed, it shall appear to
the end-user of operating system and to the applications running
there as any other printer (local, local area network connected,
or network operating system connected) on the end-user desktop or
environment.  An IPP's role in this goal is simply to enable the
creation of the printer instance  providing information such as
where to locate a printer driver for this printer, as an
attribute of an IPP Printer.

2.1.3. Viewing the status and capabilities of a printer.

Before using a selected printer or, in fact at any time, the end-
user needs the ability to verify the characteristics and status
of both printers and jobs queued for that printer.  When checking
the characteristics of a printer, the end-user typically wants to
be able to determine the capability of the device, e.g.:

- supported media, commonly paper, by size and type
- paper handling capability, e.g. duplex, collating, finishing
- color capability

When checking the status of the printer and its print jobs, the
end-user typically wants to be able to determine:



Wright              draft-ietf-ipp-req-02.txt            [Page 8]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



- is the printer on-line?
- what are the defaults to be used for printing?
- how many jobs are queued for the printer?
- how are job priorities assigned? (outside the scope of IPP)

2.1.4. Submitting a print job.

Once the desired printer has been located and installed, the end-
user wants to print to that printer from normal applications
using standard methods.  These normal applications include such
programs as word processors, spreadsheets, data-base
applications, WEB browsers, production printing applications,
etc.  Additionaly, the end-user may want to print a file already
existing on the end-user's computer -- "simple push."  In
addition to printing from an application and simple push, the
end-user needs to have the ability to submit a print job by
reference.  Printing by reference is defined to mean as
submitting a job by providing a reference to an existing
document.  The reference, a URI, will be resolved before the
actual print process occurs.  Submitting a job by reference
relieves the user from downloading the job from the remote server
and then sending it via IPP to the printer.  This saves both time
and network bandwidth.

Some means shall be provided to determine if the format of a job
matches the capability of the printer.  This can be done by one
of the following (all of which are outside of scope of the IPP
protocol):

     - the end-user selects the correct printer driver
     - the printer automatically selects the proper interpreter
     - the end-user uses some other manual procedure.

A standard action shall be defined should the job's requirements
not match the capabilities of the printer.

Because the end-user does not want to know the details of the
underlying printing process, the protocol must support job-to-
printer capability matching (all implementations are not
necessarily required to implement this function.)  This matching
capability requires knowing both the printer's capabilities and
attributes and those capabilities and attributes required by the
job.  Actions taken when a print job requires capabilities or
attributes that are not available on the printer vary and can
include but are not limited to:


Wright              draft-ietf-ipp-req-02.txt            [Page 9]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




- rejecting the print job
- redirecting the print job to another printer (Not in V1.0)
- printing the job, accepting differences in the appearance

Print jobs will also be submitted by background or batch
applications without human intervention.

End-users need the ability to set certain print job parameters at
the time the job is submitted.  These parameters include but are
not limited to:

- number of copies
- single or two sided printing
- finishing
- job priority


2.1.5. Viewing the status of a submitted print job.

After a job has been submitted to a printer, the end-user needs a
way to view the status of that job (i.e. job waiting, job
printing, job done) and to determine where the job is in the
print queue.

In addition to the need to inquire about the status of a print
job, automatic notification of the completion of that job is also
required.  Notification means are not defined by the protocol but
the protocol must provide a means of enabling and disabling the
notification.

2.1.6. Canceling a Print Job

While a job is waiting to be printing or has been started but not
yet completed, the original creator/submitter of the print job
(i.e. the end-user) shall be able to cancel the job entirely (job
is waiting) or the remaining portion of it (job is printing.)
Altering the print job itself is not a V1.0 design goal.



2.2. OPERATOR (NOT REQUIRED FOR V1.0)

An operator of a printer accepting jobs through the Internet is
one of the roles in which humans act.  The operator has the


Wright              draft-ietf-ipp-req-02.txt           [Page 10]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



responsibility of monitoring the status of the printer as well as
managing and controlling the jobs at the device.  These
responsibilities include but are not limited to the replenishing
of supplies (ink, toner, paper, etc.), the clearing of minor
errors (paper jams, etc.) and the re-prioritization of end-user
jobs.  Operator wants and needs will not be addressed by V1.0 of
the protocol.

The wants and needs of the operator include all those of the end-
user but may include additional privileges.  For example, an
operator may be able to view all print jobs on a printer while
the end-user may only be able to see his own jobs.

2.2.1. Alerting.

One of the required operator functions is having the ability to
discover or to be alerted to changes in the status of a printer
particularly those changes that cause a printer to stop printing
and to be able to correct those problems.  As such, an Internet
printing protocol shall be able to alert a designated operator or
operators to these conditions such as 'out of paper', 'out of
ink', etc.  Additionally. the operator shall be able to,
asynchronous to other printer activity, inquire as to a printer's
or a job's status.

2.2.2. Changing Print and Job Status.

Another of the required operator functions is the ability to
affect changes to printer and job status remotely.  For example,
the operator will need to be able to re-prioritize or cancel any
print jobs on a printer to which the operator has authority.


2.3. ADMINISTRATOR (NOT REQUIRED FOR V1.0)

An administrator of a printer accepting jobs through the Internet
is one of the roles in which humans act.  The administrator has
the responsibility of creating the printer instances and
controlling the authorization of other end-users and operators.
Administrator wants and needs will not be addressed by V1.0 of
the protocol.

The wants and needs of the administrator include all those of the
end-user and, in some environments, some or all of those of the
operator.  Minimally, the administrator must also have the tools,


Wright              draft-ietf-ipp-req-02.txt           [Page 11]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



programs, utilities and supporting protocols available to be able
to:

- create an instance of a printer
- create, edit and maintain the list of authorized end-users
- create, edit and maintain the list of authorized operators
- create, edit and maintain the list of authorized
   administrators
- create, customize, change or otherwise alter the manner in
   which the status capabilities and other information about
   printers and jobs are presented
- create, customize, or change other printer or job features
- administrate billing or other charge-back mechanisms
- create sets of defaults
- create sets of capabilities

The administrator must have the capability to perform all the
above tasks locally or remotely to the printer.





























Wright              draft-ietf-ipp-req-02.txt           [Page 12]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




3. OBJECTIVES OF THE PROTOCOL

The protocol to be defined by an Internet printing working group
will address the wants and needs of the end-user (V1.0).  It will
not, at least initially, address the operator or administrator
wants and needs (V2.0).

The protocol defined shall be independent of the operating system
of both the client and the server.  Generally, any platform
capable of supporting a WEB Browser should be capable of being a
client.  Generally, any platform providing a WEB/HTTP server and
printing services should be capable of being a server.  Usage of
the WEB Browser and Server is not required for IPP; the operating
system, operating system extensions or other applications may
provide IPP functionality directly.

In many environments such as Windows 95, Windows NT and OS/2, the
print data is created and transmitted to the printer on the fly
rather than being created, spooled and then transmitted to the
printer (a typical UNIX method.)  The Internet Printing Protocol
must properly handle either methodology and make this transparent
to the end-user.


3.1. SECURITY CONSIDERATIONS

It is required that the Internet Printing Protocol be able to
operate within a secure environment. Wherever reasonable, IPP
ought to make use of existing security protocols and services.
IPP will not invent new security features when the design goals
described in this document can be met by existing protocols and
services. Examples of such services include Transport Layer
Security (TLS) and HTTP Digest Authentication.

Since we cannot anticipate the security levels or the specific
threats that any given IPP print administrator may be concerned
with, IPP must be capable of operating with different security
mechanisms and policies as required by the individual
installation. The initial security needs of IPP are derived from
two primary considerations. First, the printing environments
described in this document take into account that the client, the
Printer, and the document to be printed may each exist in
different security domains. When objects are in different
security domains the design goals for authentication and message


Wright              draft-ietf-ipp-req-02.txt           [Page 13]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



protection may be much stronger than when they are all in the
same domain.

Secondly, the sensitivity and value of the content being printed
will vary from one instance of a print job to another. For
example, a publicly available document does not need the same
level of protection as a payroll document does.  Message
protection design goals include data origin authentication,
privacy, integrity, and non-repudiation.

In many environments (e.g. Windows, OS/2) a printer driver may be
needed to create the proper datastream for printer.  This
document discusses downloading such a new driver from a variety
of sources.  Downloading and installing any software, including
drivers) on a computer exposes that computer to a number of
security risks including but not limited to:

     - defective software
     - malicious software (e.g. trojan horses)
     - inappropriate software (i.e. software doing something
          deemed unreasonable by the user.)

As such, proper security considerations and actions need to be
taken by the user and/or a system administrator to prevent the
compromising of the computer.  IPP design goals do not include
addressing the security considerations associated with the
downloading and installing of software (including drivers) on a
computer.

Examples including security considerations can be found in
sections 4 (IPP SCENARIOS) and 9 (APPENDIX - DETAILED SCENARIOS) 
later in this document.


3.2. INTERACTION WITH LPD (RFC1179)

Many versions of UNIX and in fact other operating systems provide
a means of printing as described in RFC1179 (Line Printer Daemon
Protocol.)  This document describes the file formats for the
control and data files as well as the messages used by the
protocol.  Because of the simplistic approach taken by this
protocol, many manufacturers have include proprietary
enhancements and extensions to 'lpd.'  Because of this divergence
and due to other design goals described in this document, there
is no requirement for backward compatibility or interoperability


Wright              draft-ietf-ipp-req-02.txt           [Page 14]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



with 'lpd'.  However, a mapping of LPD functionality and IPP
functionality shall be provided so as to enable a gateway between
LPD and IPP.


3.3. EXTENSIBILITY

The Internet Printing Protocol shall be extensible by several
means that facilitate interoperability and prevent implementation
collisions:

     - by providing a process whereby implementers can submit
     proposals for registration of new attributes and new
     enumerated values for existing attributes.

          * that require review and approval.  The Internet
          Assigned Number Authority (IANA) will be the repository
          for such accepted registration proposals after review.

          * that do not require review and approval.  IANA will
          be the repository for such registrations.

     - by providing syntax in the protocol so that implementers
     may add private (i.e. unregistered) attributes and
     enumerated attribute values.

     - by providing versioning and negotiation so as to enable
     future implementations of IPP to interoperate with
     implementations of version 1.0 of IPP.


3.4. FIREWALLS

As stated in the end-user wants and needs section, Internet
printing shall by definition support printing from one enterprise
to another.  As such, the Internet printing protocol must be
capable of passing through firewalls and/or proxy servers (where
enabled by the firewall administrator) preferably without
modification to the existing firewall technology.


3.5. INTERNATIONALIZATION





Wright              draft-ietf-ipp-req-02.txt           [Page 15]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



Users of Internet printing will come from all over the world.  As
such, where appropriate, internationalization and localization
will be enabled for the protocol.












































Wright              draft-ietf-ipp-req-02.txt           [Page 16]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




4. IPP SCENARIOS

Each of the scenarios in this section describes a specific IPP
operation, such as submitting a print job. Section 9.0 contains
several detailed flows for each scenario to provide additional
detail.  The examples should not be considered exhaustive, but
illustrative of the functions and features required in the
protocol.  Flows are intended to be protocol neutral. It is not
assumed that all of the functions and features described in these
scenarios will necessarily be supported directly by IPP or in
version 1.0 of IPP.

See the IPP Model and Semantics document for details on
configurations of clients, servers and firewalls.
































Wright              draft-ietf-ipp-req-02.txt           [Page 17]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




4.1. PRINTER DISCOVERY

Client                                               Directory
Service                                                Service

 +----------------------------------------------------------- >
    give me information on printers with these characteristics


 < -----------------------------------------------------------+
     Information on Printers matching these characteristics


The objective of printer discovery is to locate printers that
meet the client's wants and needs. The Directory Service should
provide enough information for the client to make an initial
choice. The client may have to connect to each individual Printer
offered to get more detail.  Not all information available from
the Directory Service is obtained using IPP; some information may
be administratively provided.

The actual protocol used between client and Directory or Name
Service is considered outside the scope of IPP. Printer Discover
is included in the scenarios to provide design goals for the
directory schema for IPP Printers and to further define Printer
attributes.

Characteristics that might be considered when locating a Printer
include:

- capabilities of the Printer, e.g. PDLs supported
- physical location, e.g. in building 010
- driver required and location
- cost per page to print (outside the scope of IPP)
- whether or not printer is access controlled
- whether or not usage requires client authentication
- whether or not Printer can be authenticated
- whether or not payment is required for printing (outside the
  scope of IPP)
- maximum job size (spool size) (outside the scope of IPP)
- whether or not Printer support compression (outside the scope
  of IPP)
- whether or not Printer supports encryption
- administrative limits on this Printer


Wright              draft-ietf-ipp-req-02.txt           [Page 18]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



     - maximum number of copies per job
     - maximum number of pages per job

Responses could additionally include:

- how to get more information
     - web page
     - telephone number
     - help desk


4.2. DRIVER INSTALLATION

Client                                               Printer

 +----------------------------------------------------------- >
    Where can I find a driver & software to install it?


 < -----------------------------------------------------------+
     URIs for drivers and install software


Driver here refers to the code installed in some client operating
system to generate the print data stream for the intended
printer. The actual details for installing a printer driver are
operating system dependent and are also outside the scope of IPP.
However, an IPP printer or a directory service advertising an IPP
Printer should be capable of telling a client what drivers are
available and /or required, where they can be found, and provide
pointers to installation instructions, installation code or
initialization strings required to install the driver.  See
section 3.1 (SECURITY CONSIDERATIONS) for security implications
of driver download and installation.


4.3. SUBMITTING A PRINT JOB

Client                                               IPP Printer

 +----------------------------------------------------------- >
    Here is a Print Job
     - Job attributes
     - Print data



Wright              draft-ietf-ipp-req-02.txt           [Page 19]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




 < -----------------------------------------------------------+
     Response

The protocol must support these sources of client data:

- Print data is a file submitted with the job
- Print data is generated on the fly by an application
- Print data is a file referenced by a URI

The protocol must handle overrun conditions in the printer and
must support overlapped printing and downloading of the file in
devices that are unable to spool files before printing them.

Every print request will have a response. Responses will indicate
success or failure of the request and provide information on
failures when they occur. Responses would include things like:

- Got the print job and queued it
- Got the print job and am printing it
- Got the print job, started to print it, but printing failed
     - why it failed (e.g. unrecoverable PostScript error)
     - state of the printer
     - how much printed
- Got the print job but couldn't print it
     - why it can't be printed
     - state of the printer
- Got the print job but don't know what to do with it
- Didn't get a complete print job (e.g. communication failure)


4.4. GETTING STATUS/CAPABILITIES

Client                                               IPP Printer

 +----------------------------------------------------------- >
    Get status and/or capabilities of Printer


 < -----------------------------------------------------------+
     Status/Capabilities


Clients will need to get information about



Wright              draft-ietf-ipp-req-02.txt           [Page 20]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



- Static capabilities of the device
- Dynamic state of the Printer (e.g. out of paper)
- State of a specific job owned by this client
- State of all jobs owned by this client
     - queued
     - printing
     - completed
- Job submission attributes supported/required
     - scheduling attributes (e.g. priority)
     - production attributes (e.g. number of copies)


4.5. ASYNCHRONOUS NOTIFICATION

Client                                               IPP Printer

 +----------------------------------------------------------- >
    Use the following method to notify me of Printer events

                              .
                              .
                              .
 < -----------------------------------------------------------+
     Asynchronous notification of Printer event


Clients must be able to request asynchronous notification for
Printer events such as

- job completion
- a fatal error that requires the job to be resubmitted
- a condition that severely impacts a queued job for this client
     e.g. printer is out of paper

Note: end-user notification is a V1.0 design goal while operator
notification is for V2.0.





4.6. JOB CANCELING

Client                                               IPP Printer



Wright              draft-ietf-ipp-req-02.txt           [Page 21]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



 +----------------------------------------------------------- >
    Cancel the named job as indicated


 < -----------------------------------------------------------+
     Response (did it or not)

Similarly clients must be able to make changes to jobs which have
been submitted and are queued for printing.  Changing of job
attributes should also be supported.  Job modifications, holding
and releasing of jobs are not included in the design goals for
IPP v1.0.



































Wright              draft-ietf-ipp-req-02.txt           [Page 22]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




5. COPYRIGHT

Copyright(C) The Internet Society 1997. All Rights Reserved.

This document and translations of it may be copied and furnished
to others, and derivative works that comment on or otherwise
explain it or assist in its implementation may be prepared,
copied, published and distributed, in whole or in part, without
restriction of any kind, provided that the above copyright notice
and this paragraph are included on all such copies and derivative
works.  However, this document itself may not be modified in any
way, such as by removing the copyright notice or references to
the Internet Society or other Internet organizations, except as
needed for the  purpose of developing Internet standards in which
case the procedures for copyrights defined in the Internet
Standards process must be followed, or as required to translate
it into languages other than English.

The limited permissions granted above are perpetual and will not
be revoked by the Internet Society or its successors or assigns.

This document and the information contained herein is provided on
an "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET
ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE
OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY
IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR
PURPOSE."


















Wright              draft-ietf-ipp-req-02.txt           [Page 23]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




6. REFERENCES

RFC1179 - Line Printer Daemon Protocol

RFC1759 - Printer MIB

ISO/IEC 10175, Document Printing Application

[IPP LPD]
  Herriot, R., Hastings, T., Jacobs, N., Martin, J.,
  "Mapping between LPD and IPP Protocols",
  draft-ietf-ipp-lpd-ipp-map-04.txt, June 1998.

[IPP-MOD]
  Isaacson, S., deBry, R., Hastings, T., Herriot, R., Powell, P.,
  "Internet Printing Protocol/1.0: Model and Semantics"
  draft-ietf-ipp-mod-10.txt, June, 1998.

[IPP-PRO]
  Herriot, R., Butler, S., Moore, P., Tuner, R.,
  "Internet Printing Protocol/1.0: Encoding and Transport",
  draft-ietf-ipp-pro-06.txt, June, 1998.

[IPP-RAT]
  Zilles, S., "Rationale for the Structure and Model and Protocol
   for the Internet Printing Protocol",
  draft-ietf-ipp-rat-03.txt, June, 1998.

[IPP-REQ]
  (this document)
















Wright              draft-ietf-ipp-req-02.txt           [Page 24]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




7. ACKNOWLEDGMENTS

This document draws heavily from preliminary work done by others
especially in the Printer Working Group (PWG).  The author
gratefully acknowledges the specific contributions of:

Scott Isaacson                   Roger Debry
Novell                           IBM
sisaacson@novell.com             rdebry@us.ibm.com

Carl-Uno Manros                  Robert Herriot
Xerox                            Sun
manros@cp10.es.xerox.com         Robert.Herriot@eng.sun.com

Tom Hastings                     Peter Zehler
Xerox                            Xerox
hastings@cp10.es.xerox.com       Peter.Zehler@usa.xerox.com



8. AUTHOR'S ADDRESS

F.D. (Don) Wright
Lexmark International
C14/035-3
740 New Circle Rd
Lexington, KY  40550

Phone: 606-232-4808
Fax: 606-232-6740
E-mail: don@lexmark.com















Wright              draft-ietf-ipp-req-02.txt           [Page 25]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




9. APPENDIX - DETAILED SCENARIOS

The following are more detailed scenarios illustrating how the
Internet Printing Protocol is expected to be used as a part of a
complete Internet Printing system.  Some parts of the scenarios
include concepts, functions and information that may be outside
of the scope of version 1.0 of IPP (e.g. cost per page, payments
means available, etc.)  The information contained herein is meant
to be generic.  There may not be an exact wording or terminology
match between these scenarios and the implementation documents.


9.1. PRINTER DISCOVERY WITHIN AN ENTERPRISE

A user wants to find a color Postscript printer in his/her
enterprise  which will print transparencies. The client,
directory service, and printer are all behind the same corporate
firewall. Because color foils are expensive, printers of this
type are access controlled and require an account to be
established so that printing can be billed back to the using
department. Note the request to find a printer usable by Dept.
J15. Drivers for all supported printers are available from the
server they are associated with. A help desk is provided for end
user support.  The printer is unattended.


Client                                  Directory Service

   +---------------------------------------------------------- >
     Find a printer with these characteristics
     - prints color, prints transparencies
     - prints Postscript
     - is in building 003
     - accessible by the client

   < ----------------------------------------------------------+
     Printer "Color-A"
     - prints color, prints transparencies
     - prints Postscript
     - in room H-6, building 003
     - driver ABC-Postscript-V1.3 required, here is URI
     - cost is $.45 per page for color transparencies
     - limit is 10 pages per job
     - authentication required to use printer


Wright              draft-ietf-ipp-req-02.txt           [Page 26]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



     - printer is unattended
     - help desk at x5001

      Printer "Color-B"
     - prints color, prints transparencies
     - prints Postscript
     - in room J-10, building 003
     - driver XYZ-Postscript-V2.4 required, here is URI
     - cost is $1.25 page for color transparencies
     - limit is 5 pages per job
     - authentication is required to use printer
     - printer is unattended
     - help desk at x5001


































Wright              draft-ietf-ipp-req-02.txt           [Page 27]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




9.2. PRINTER DISCOVERY ACROSS ENTERPRISES

A user in Company A wants to find a public printer in a business
partner's enterprise (Company B) on which to print a purchase
order. The client is behind one corporate firewall and the
directory service and the printer are behind a different
corporate firewall. Drivers for all supported printers are
available from the server they are associated with. A web page is
provided for end user support for public printers.


Client                        Company B Directory Service

   +---------------------------------------------------------- >
     Find a printer with these characteristics
     - prints black and white
     - is in El Segundo, building A
     - is a public printer

   < ----------------------------------------------------------+
     Printer "Public-A"
     - prints black and white
     - prints Postscript
     - in El Segundo, room H-6, building A
     - driver ABC-Postscript-V1.3 required, here is URI
     - printer is public
     - help available at http://xerox/elSegundo/publicPrinters

      Printer "Public-B"
     - prints black and white
     - prints PCL/5e
     - is in El Segundo, room J-10, building A
     - driver XYZ-PCL-V2.4 required, here is URI
     - printer is public
     - help available at http://xerox/elSegundo/publicPrinters











Wright              draft-ietf-ipp-req-02.txt           [Page 28]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998





9.3. PRINTER DISCOVERY ON THE INTERNET -LOGICAL OPERATIONS

A student wants to print a paper on a printer at his neighborhood
Ink-o's print shop. The report was written using Microsoft Word.
The student is interested in the cost of printing since his
budget is limited. Note the use of logical operators to find this
information.

Client                          Ink-o's Directory Service

   +---------------------------------------------------------- >
     Find a Printer with these characteristics
     - prints color or black and white
     - costs less than $.50 per page
     - tell me about resolution and marking technology

   < ----------------------------------------------------------+
     Printer "Color-A"
     - prints color
     - 600 dpi laser printer
     - prints Postscript
     - driver ABC-Postscript-V1.3 required, here is URI
     - cost is $.50 per page for color
     - payment required prior to submitting print job
     - here is URI for more information on Ink-o's

      Printer "Mono-B"
     - prints black and white
     - 300 dpi inkjet printer
     - prints Postscript
     - driver XYZ-Postscript-V2.4 required, here is URI
     - cost is $0.35 page for black and white
     - payment required prior to submitting print job
     - here is URI for more information on Ink-o's











Wright              draft-ietf-ipp-req-02.txt           [Page 29]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998





9.4. PRINTER DISCOVERY ON THE INTERNET - AUTHENTICATION

An executive in her hotel room is finishing an important
presentation on her laptop computer. She connects to a local
print shop through the web to get a copy of her charts printed
for tomorrow's presentation. She must find a print shop that is
convenient to her hotel and can print color transparencies. She
wants to be sure that the printer can be authenticated and can
accept encrypted data.



Client                         SirZippy Directory Service

   +---------------------------------------------------------- >
     Find a Printer with these characteristics
     - prints color transparencies
     - is in Boulder, Colorado
     - Printer can be authenticated
     - Printer supports encryption
      
     

     Tell me when you are open for business

   < ----------------------------------------------------------+
     Printer "Color-A"
     - prints color transparencies
     - prints Postscript
     - driver ABC-Postscript-V1.3 required, here is URI
     - payment required prior to submitting print job
     - Printer can be authenticated
     - Data can be encrypted
     - Located at 1670 Pearl Street, Boulder, CO
     - This Branch is open 24 hours a day


     Printer "Color-B"
     - prints color transparencies
     - prints Postscript
     - driver ABC-Postscript-V1.3 required, here is URI
     - payment required prior to submitting print job
     - Printer can be authenticated
     - Data can be encrypted


Wright              draft-ietf-ipp-req-02.txt           [Page 30]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



     - Located at 1220 Arapahoe, Boulder, CO
     - This Branch is open from 9:00am to 6:30pm













































Wright              draft-ietf-ipp-req-02.txt           [Page 31]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998





9.5. DRIVER DOWNLOAD

An end user in an enterprise wants to print a lengthy report on a
newly installed high speed PostScript printer. Since she will
likely use this printer often, she would like to download a
driver and install it on her workstation. She is running Windows
95.  Note:  Driver download is not a V1.0 design goal.


Client                                        IPP Printer

   +---------------------------------------------------------- >
     Tell me where to find print drivers for you



   < ----------------------------------------------------------+
     Driver install file is at
     http://www.ibm.com/drivers/NP12a/Win95


























Wright              draft-ietf-ipp-req-02.txt           [Page 32]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998





9.6. SUBMITTING A PRINT JOB AS A FILE

An end-user wants to submit a print job. The print file already
exists on his workstation. The client and printer are behind the
same corporate firewall. The printer is available to anyone
behind the firewall and no authorization or authentication is
required. The data is pushed to the printer. The printer is
capable of spooling the output. No errors occur.

Client                                        IPP Printer

   +---------------------------------------------------------- >
     Here is a print job
     - job name = MyJob
     - notify me by email when done printing
     - print on iso-a4-white paper
     - print on both sides of the paper
     - return status of the printer in response
     - document is in Postscript format
     - here is the document to print

   < ----------------------------------------------------------+
     Print job accepted and spooled
     - job id = #12345
     - current state of print job = spooled
     - submission time = 02/12/97, 15:35
     - printer state = printing


















Wright              draft-ietf-ipp-req-02.txt           [Page 33]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




9.7. SUBMITTING A PRINT JOB WITH TWO DOCUMENTS

An end-user wants to submit a print job. The print file already
exists on his workstation. The client and printer are behind the
same corporate firewall. The printer is available to anyone
behind the firewall and no authorization or authentication is
required. The data is pushed to the printer. The job consists of
two separate documents. The printer is capable of spooling the
output. No errors occur.

Client                                        IPP Printer

   +---------------------------------------------------------- >
     Here is a print job
     - job name = MyJob
     - notify me by email when done printing
     - print on iso-a4-white paper
     - print on both sides of the paper
     - return status of the printer in response

   < ----------------------------------------------------------+
     Print job accepted and spooled
     - job id = #12345
     - submission time = 02/12/97, 15:35
   +---------------------------------------------------------- >
     - here is the document to print

   < ----------------------------------------------------------+
     - OK

   +---------------------------------------------------------- >
     - here is the document to print, it is the last document.

   < ----------------------------------------------------------+
     - OK











Wright              draft-ietf-ipp-req-02.txt           [Page 34]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




9.8. SUBMITTING A PRINT JOB AS A FILE, PRINTING FAILS

An end-user wants to submit a print job. The print file already
exists on his workstation. The client and printer are behind the
same corporate firewall. The printer is available to anyone
behind the firewall and no authorization or authentication is
required. The data is pushed to the printer. The printer is not
capable of spooling the output so it begins printing while still
receiving the file. An error occurs and the printer cannot
complete printing (in this case the user requires A4 paper and
that paper size is not available on the printer.)

Client                                        IPP Printer

   +---------------------------------------------------------- >
     Here is a print job
     - job name = MyJob
     - notify me by email when done printing
     - print on iso-a4-white paper
     - print on both sides of the paper
     - return status of the printer in response
     - document is in Postscript format
     - here is the document to print

   < ----------------------------------------------------------+
          Print job accepted

     - printing failed
     - current state of print job = canceled (A4 not available)
     - submission time = 02/12/97, 15:35
     - printer state = ready

9.9. SUBMITTING A PRINT JOB WITH AUTHENTICATION, PRIVACY AND
PAYMENT

A traveling executive needs to print a set of transparencies for
an important business meeting. The charts are in Lotus Freelance
format on his notebook computer. He has located a SirZippy print
shop near his hotel that will print color transparencies. Because
the information on the charts is sensitive, he wants to be sure
that his data is sent to the Printer in an encrypted format. He
also wants to authenticate the Printer. The Printer also
authenticates the user. Payment occurs across the Internet.



Wright              draft-ietf-ipp-req-02.txt           [Page 35]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




Client                                               IPP Printer

   +---------------------------------------------------------- >
   < ----------------------------------------------------------+

     Mutual authentication and exchange of secret keys

   +---------------------------------------------------------- >
     Here is a print job (encrypted)
     - job name = MyJob
     - notify me by email when done printing
     - print on iso-a4-white paper
     - print on both sides of the paper
     - return status of the printer in response
     - tell me where to pick up output
     - document is in Postscript format
     - here is the document to print

   < ----------------------------------------------------------+
     Print job accepted and spooled (encrypted)
     - job id = #12345
     - current state of print job = spooled
     - submission time = 02/12/97, 15:35
     - printer state = printing
     - payment required to proceed with job
     - pick up at 230 East Main after 3:30pm today

   +---------------------------------------------------------- >
   < ----------------------------------------------------------+
     Payment transaction
















Wright              draft-ietf-ipp-req-02.txt           [Page 36]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




9.10. SUBMITTING A PRINT JOB WITH DECRYPTION ERROR

A traveling executive needs to print a set of transparencies for
an important business meeting. The charts are in Lotus Freelance
format on his notebook computer. He has located a SirZippy print
shop near his hotel that will print color transparencies. Because
the information on the charts is sensitive, he wants to be sure
that his data is sent to the printer in an encrypted format. He
also wants to authenticate the printer. The printer also
authenticates the user. Payment occurs across the Internet. An
error occurs during decryption.


Client                                        IPP Printer

   +---------------------------------------------------------- >
   < ----------------------------------------------------------+
     Mutual authentication and exchange of secret keys


   +---------------------------------------------------------- >
     Here is a print job (encrypted)
     - job name = MyJob
     - notify me by email when done printing
     - print on iso-a4-white paper
     - print on both sides of the paper
     - return status of the printer in response
     - tell me where to pick up output
     - document is in Postscript format
     - here is the document to print

   < ----------------------------------------------------------+
     Print job accepted and spooled (encrypted)
     - job id = #12345
     - current state of print job = spooled
     - submission time = 02/12/97, 15:35
     - printer state = printing
     - payment required to proceed with job
     - pick up at 230 East Main after 3:30pm today

   +---------------------------------------------------------- >
   < ----------------------------------------------------------+
     Payment transaction
     .


Wright              draft-ietf-ipp-req-02.txt           [Page 37]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



     .
     .
   < ----------------------------------------------------------+
     Asynchronous response (email in this case)
     - decryption failed on job #12345
     - no pages printed
     - current state of job = aborted








































Wright              draft-ietf-ipp-req-02.txt           [Page 38]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




9.11. SUBMITTING A PRINT JOB WITH AUTHENTICATION

An end-user wants to submit a print job. The print file already
exists on his workstation. The client and printer are behind the
same corporate firewall. The printer is available to anyone
behind the firewall but authentication and authorization is
required. Authorization takes place using the authenticated end-
user's name. The data is pushed to the printer. The printer is
capable of spooling the output.


Client                                        IPP Printer

   +---------------------------------------------------------- >
   < ----------------------------------------------------------+
     Authentication

     Note: An authentication failure would end the transaction at
               this point.

   +---------------------------------------------------------- >
     Here is a print job
     - job name = MyJob
     - notify me by email when done printing
     - print on iso-a4-white paper
     - print on both sides of the paper
     - return status of the printer in response
     - tell me where to pick up output
     - document is in Postscript format
     - here is the document to print

   < ----------------------------------------------------------+
     Print job accepted and spooled
     - job id = #12345
     - current state of print job = spooled
     - submission time = 02/12/97, 15:35
     - printer state = printing









Wright              draft-ietf-ipp-req-02.txt           [Page 39]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




9.12. SUBMITTING A PRINT JOB GENERATED DYNAMICALLY

An end-user wants to submit a print job. The print data is
generated dynamically and is being transmitted by a printer
driver on the client workstation as available. The client and
printer are behind the same corporate firewall. The printer is
available to anyone behind the firewall and no authentication and
authorization is required. The data is pushed to the printer. The
printer is capable of spooling the output. No error occurs.


Client                                        IPP Printer

   +---------------------------------------------------------- >
     Here is a print job
     - job name = MyJob
     - notify me by email when done printing
     - print on iso-a4-white paper
     - print on both sides of the paper
     - return status of the printer in response
     - document is in Postscript format
     - here is the print job


   < ----------------------------------------------------------+
     Print data accepted and spooling started
     - job id = #12345
     - current job state = spooled
     - submission time = 02/12/97, 15:35
     - printer state = printing
















Wright              draft-ietf-ipp-req-02.txt           [Page 40]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




9.13. SUBMITTING A PRINT JOB WITH A PRINTER JAM - CANCELED

An end-user wants to submit a print job. The print data is
generated dynamically and is being transmitted by a printer
driver on the client workstation as available. The client and
printer are behind the same corporate firewall. The printer is
available to anyone behind the firewall and no authentication and
authorization is required. The data is pushed to the printer. The
printer is not capable of spooling the output. The printer jams
notifies the user and the user chooses to cancel the job.


Client                                            IPP Printer
   +---------------------------------------------------------- >
     Here is a print job
     - job name = MyJob
     - notify me by email when done printing
     - print on iso-a4-white paper
     - print on both sides of the paper
     - return status of the printer in response
     - document is in Postscript format
     - here is the document to print

   < ----------------------------------------------------------+
     Print data accepted and printing started
     - job id = #12345

   +---------------------------------------------------------- >
     - What is the status of print job #12345?

   < --------------------------------------------------------- +
     - Job #12345 accepted but printer jammed, cannot continue

   +---------------------------------------------------------- >
     - Cancel job #12345

   * Printer flushes remaining data
   < ----------------------------------------------------------+
      Print job terminated
     - current job state = canceled
     - submission time = 02/12/97, 15:35
     - printer state = jammed




Wright              draft-ietf-ipp-req-02.txt           [Page 41]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




9.14. SUBMITTING A PRINT JOB WITH A PRINTER JAM - RECOVERED

An end-user wants to submit a print job. The print data is
generated dynamically and is being transmitted by a printer
driver on the client workstation as available. The client and
printer are behind the same corporate firewall. The printer is
available to anyone behind the firewall and no authentication and
authorization is required. The data is pushed to the printer. The
printer is not capable of spooling the output. The printer jams,
notifies the user and the user clears the jam and elects to
continue.


Client                                        IPP Printer

   +---------------------------------------------------------- >
     Here is a print job
     - job name = MyJob
     - notify me by email when done printing
     - print on iso-a4-white paper
     - print on both sides of the paper
     - return status of the printer in response
     - document is in Postscript format
     - here is the document to print

   < ----------------------------------------------------------+
     Print data accepted and printing started
     - job id = #12345

   < --------------------------------------------------------- +
     - Notification: printer jammed, cannot continue

   * Jam is clear by human intervention, printing continues

   +---------------------------------------------------------- >
      Here is the last part of the document to print

   < ----------------------------------------------------------+
      Print job received
     - current job state = printing
     - submission time = 02/12/97, 15:35
     - printer state = printing




Wright              draft-ietf-ipp-req-02.txt           [Page 42]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




9.15. SUBMITTING A PRINT JOB WITH SERVER PULL

An end-user wants to submit a print job. The print data is in a
file and is publicly available. It is pulled by the printer. The
client and printer are behind the same corporate firewall. The
printer is available to anyone behind the firewall and no
authentication and authorization is required. The printer is
capable of spooling the output. Printing may start before the
entire job has been pulled.

Client                                        IPP Printer

   +---------------------------------------------------------- >
     Here is a print job
     - job name = MyJob
     - notify me by email when done printing
     - print on iso-a4-white paper
     - print on both sides of the paper
     - return status of the printer in response
     - here is a reference to the data to be printed

   < ----------------------------------------------------------+
     Print data accepted and printing started
     - job id = #12345
     - current state of job = spooled
     - submission time = 02/12/97, 13:15
     - printer state = printing

     .
     .
    < ----------------------------------------------------------+
     Get the file to be printed

    +---------------------------------------------------------- >
     Here it is

     Note: Failure to find the file, would end the transaction
               with an error at this point and an asynchronous
               notification would be send to the Client.

    < ----------------------------------------------------------+
      Data received




Wright              draft-ietf-ipp-req-02.txt           [Page 43]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




9.16. SUBMITTING A PRINT JOB WITH REFERENCED RESOURCES

An end-user wants to submit a print job.  Part of the print data
is on a file on the user's workstation. It is pushed by the
client, but the print job requires some resource not included in
the print file. The client and printer are behind the same
corporate firewall. The printer is available to anyone behind the
firewall and no authentication and authorization is required. The
printer is capable of spooling the output. No errors occur.


Client                                        IPP Printer

   +---------------------------------------------------------- >
     Here is a print job
     - job name = MyJob
     - notify me by email when done printing
     - print on iso-a4-white paper
     - print on both sides of the paper
     - return status of the printer in response

   < ----------------------------------------------------------+
     Print job accepted and spooled
     - job id = #12345
     - submission time = 02/12/97, 15:35

   +---------------------------------------------------------- >
     - here is the document to print

   < ----------------------------------------------------------+
     - OK

   +---------------------------------------------------------- >
     - here is the URI to print, it is the last document.

   < ----------------------------------------------------------+
     - OK

    < ----------------------------------------------------------+
      Get the external resource

    +---------------------------------------------------------- >
      Here it is



Wright              draft-ietf-ipp-req-02.txt           [Page 44]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




9.17. GETTING CAPABILITIES
9.17.1. Submission Attributes

An end-user wants to get the production and scheduling attributes
that are supported or required when submitting jobs to this
printer. The client will use these attributes when forming the
subsequent print request.

Client                                        IPP Printer
   +---------------------------------------------------------- >
     I'm going to submit a Postscript job
     give me your job submission attributes

   < ----------------------------------------------------------+
     Postscript production attributes for this Printer are:
     - medium-select = us-letter-white, us-legal-white
        - default is us-letter-white
        -   copies = 1,2,3,4,5
        - default is 1
             - print-quality = draft, normal, high
        - default is draft
             - sides = 1-sided, 2-sided-long-edge
        - default is 2-sided-long-edge
     - Job scheduling attributes for this Printer are:
          - job-priority = 1,2,3
        - default = 3

9.17.2. Printer Capabilities

An end-user wants to determine the resolution, marking
technology, and PDLs supported by the printer.

Client                                        IPP Printer
   +---------------------------------------------------------- >
     Please tell me the
     - resolution of the printer
     - the marking technology of the printer
     - PDLs supported
   < ----------------------------------------------------------+
     Printer resolution  = 600 dpi
     Marking Technology = laser
     PDLS supported = Postscript level 2, PCL/6




Wright              draft-ietf-ipp-req-02.txt           [Page 45]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998





9.18. GETTING STATUS
9.18.1. Printer State/Status

An end-user wants to determine the state or status of the
printer.

Client                                        IPP Printer

   +---------------------------------------------------------- >
     What is the state of the printer?

   < ----------------------------------------------------------+
     Printer state = out-of-paper

9.18.2. Job Status

An end user wants to get the status of a job he has submitted.

Client                                        IPP Printer

   +---------------------------------------------------------- >
     Please tell me the status of job #12345

   < ----------------------------------------------------------+
     Job #12345 is queued
     it is number 3 in the queue
     printer state = printing


9.18.3. Status of All My Jobs

An end user wants to get a list of all of the jobs he has
submitted to this Printer.

Client                                        IPP Printer

   +---------------------------------------------------------- >
     Please tell me the status of my jobs

   < ----------------------------------------------------------+
     Job #00012 is complete
     Printed at 12:35 on 01/23/97



Wright              draft-ietf-ipp-req-02.txt           [Page 46]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



     Job #09876 is printing

     Job #12345 is queued
     it is number 3 in the queue

     Job #34567 is queued
     it is number 7 in the queue








































Wright              draft-ietf-ipp-req-02.txt           [Page 47]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




9.19. ASYNCHRONOUS NOTIFICATION
9.19.1. Job Completion

An end-user wants to get notification of events that affect his
print jobs. Print job completes without error.

Client                                        IPP Printer

   < ----------------------------------------------------------+
     Print job #123 completed

9.19.2. Job Complete with Data

An end-user wants to get notification of events that affect his
print jobs. Print job completes, users asked for all end of job
information.

Client                                        IPP Printer

   < ----------------------------------------------------------+
     Print job #123 completed
     - total pages printed = 15
     - number of copies printed = 3
     - total cost to print = $7.45
     - pick up copies in room H-6, building 005

9.19.3. Print Job Fails

An end-user wants to get notification of events that affect his
print jobs. Print job fails. Printer is unattended.

Client                                        IPP Printer

   < ----------------------------------------------------------+
     Print job #123 failed
     - total pages printed = 15
     - number of pages submitted = 25
     - printer-state = jammed








Wright              draft-ietf-ipp-req-02.txt           [Page 48]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




9.20. CANCEL A JOB

The end-user submits a print job and later decides to cancel it.

Client                                        IPP Printer

   +---------------------------------------------------------- >
   < ----------------------------------------------------------+
     Authentication.


   +---------------------------------------------------------- >
     Cancel job #1234

   < ----------------------------------------------------------+
     Job #1234 Canceled






























Wright              draft-ietf-ipp-req-02.txt           [Page 49]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




9.21. END TO END SCENARIO - WITHIN AN ENTERPRISE

An office worker prints on shared departmental printers. All
printers in the office are public, that is, no authentication or
authorization is required. Printers are protected from external
access by a firewall. No billing or accounting is required. Most
printing is done from desktop applications. A help desk is
provided for printing problems. Standard operating systems and
applications are used. Drivers are available, but are installed
manually by support personnel. This scenario assumes that drivers
have been installed and that drivers are not IPP aware, that is,
they cannot communicate across an IPP connection to obtain status
and capabilities. IPP printers appear in application pull-down
menus. Printer configuration data is hard wired into the driver.

End-user selects print from the application pull down menu. An
IPP printer is selected from the list of Printers offered

The driver puts up a dialogue with hard-wired set of options
for this printer. The end-user makes choices and submits job.


Client                                        IPP Printer
   +---------------------------------------------------------- >
     Here is a print job
     - job-name = memo-to-boss
     - notify me by email when job is complete
     - print on us-letter-white paper
     - print 1 copy
     - print at normal quality
     - print on 1 side
     - give me the state of the printer in response

The driver generates the print data and passes it to the IPP
driver a piece at a time as it is generated.

   +---------------------------------------------------------- >
     Here is the print data


   < ----------------------------------------------------------+
     Print data received, file is spooled
     - printer state = printing
     - time submitted = 2/12/97, 15:35


Wright              draft-ietf-ipp-req-02.txt           [Page 50]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



     - current job state = spooled


Client adds this job to list of current jobs. List of jobs and
state of each is available on a pull-down menu on the client.

End-user selects job #1234 from list and clicks on it to see its
status.

   +---------------------------------------------------------- >
     Give me the state of job #1234
     and the state of the Printer

   < ----------------------------------------------------------+
     Job #1234 state = spooled
     - it is number 3 in the queue
     - printer state = printing

The job completes without error

   < ----------------------------------------------------------+
     Job #1234 completed
     12 of 12 pages printed
























Wright              draft-ietf-ipp-req-02.txt           [Page 51]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998





9.22. END TO END SCENARIO - ACROSS ENTERPRISES

An office worker in Company A needs to print an office document
on a "public" printer at Company B, a business partner. Both
companies have corporate firewalls so the print request must flow
out of A's firewall and into B's firewall. The office worker can
look at public printers in Company B's directory service. The
document is generated by a desktop application. Since the printer
is "public" no authentication or authorization is required.  A
driver is downloaded. The driver is IPP aware, that is, it can
communicate dynamically through the IPP protocol layer to obtain
information about the printer.

Client                      Company B's Directory Service

End user connects to B's Directory service

   +---------------------------------------------------------- >
     Find a Printer with these characteristics
     - public (no authorization or authentication required)
     - is in Lexington, building 004
     - prints black and white

   < ----------------------------------------------------------+
     Printer "Public-A"
     - http://www.lexmark.com/pubprinter/a

     Printer "Public-B"
     - http://www.lexmark.com/pubprinter/b

End user selects Public-A

Client                                           Public-A

   +---------------------------------------------------------- >
     Where can I find a driver for you?

   < ----------------------------------------------------------+
     Drivers at http://www.lexmark.com/pubprinters/a/os245

End user gets driver and installs it on his PC.




Wright              draft-ietf-ipp-req-02.txt           [Page 52]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



End-user selects print from the application pull down menu.
"Public-A" is selected from the list of Printers offered

   +---------------------------------------------------------- >
     I'm going to submit a print job
     give me your job submission attributes

   < ----------------------------------------------------------+
     Production attributes for this Printer are:
     - medium-select = us-letter-white, us-legal-white
        - default is us-letter-white
        -   copies = 1,2,3,4,5
        - default is 1
             - print-quality = draft, normal, high
        - default is draft
             - sides = 1-sided, 2-sided-long-edge
        - default is 2-sided-long-edge

     Job scheduling attributes for this Printer are:
     - job-priority = 1,2,3
        default = 3

Driver puts up dialogue with available options and fills in the
defaults.

End-user makes choices and submits job

   +---------------------------------------------------------- >
     Here is a print job
     - job-name = memo-to-Don-Wright
     - notify me by email when job is complete
     - print on us-letter-white paper
     - print 1 copy
     - print at normal quality
     - print on 1 side
     - give me the state of the printer in response


The driver generates the print data and passes it to the IPP
driver a piece at a time.

   +---------------------------------------------------------- >
     Here is the print data

   < ----------------------------------------------------------+


Wright              draft-ietf-ipp-req-02.txt           [Page 53]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



     Print data received, and spooling started
     print job id = #1234

     Print data received, file is spooled

     - printer state = printing
     - time submitted = 2/12/97, 15:35
     - current job state = spooled


Client adds this job to list of current jobs.  List of jobs and
state of each is available on a pull-down menu on the client.

End-user selects job #1234 from list and clicks on it to see its
status.

   +---------------------------------------------------------- >
     Give me the state of job #1234
     and the state of the Printer

   < ----------------------------------------------------------+
     Job #1234 state = spooled
     - it is number 3 in the queue
     - printer state = printing

    * The job completes without error
   < ----------------------------------------------------------+
     Job #1234 completed
     12 of 12 pages printed


















Wright              draft-ietf-ipp-req-02.txt           [Page 54]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998




9.23. END TO END SCENARIO - ON THE INTERNET

An executive in her hotel room is finishing an important
presentation on her laptop computer. She connects to a local
print shop through the web to get a copy of her charts printed
for tomorrow's presentation. She must find a print shop that is
convenient and can print color transparencies. She must download
and temporarily install a driver in order to generate the PDL
required by the print shop. Mutual authentication is required by
the printshop and payment must be made in advance. The job is
encrypted on the wire to prevent eavesdropping.

End-user completes presentation. She goes to the web and connects
to the SirZippy home page.

   Client                      SirZippy Directory Service
   +---------------------------------------------------------- >

     Find me a printer with these characteristics
     - Near Market Street in San Jose
     - Prints color transparencies
     - drivers can be downloaded
     - supports privacy (encryption)
     - 

Available Printers matching these characteristics are looked up
in the Directory Service

   < ----------------------------------------------------------+

     Printer "Color-A"
     - located at 123 First Street in San Jose
     - URI is http://www.SirZippy.com/FirstStreet/Color-A
     - prints color transparencies
     - 600 dpi laser
     - driver ABC-Postscript-V1.3 available at this URI
     - cost = $.75 per page
     - authentication required to use printer
     - payment required prior to printing


     Printer "Color-B"
     - located at 67 San Carlos Street, San Jose
     - URI is http://www.SirZippy.com/SanCarlos/Color-B


Wright              draft-ietf-ipp-req-02.txt           [Page 55]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



     - prints color transparencies
     - 1200 dpi laser
     - driver XYZ-Poscscript-V4.3 available at this URI
     - cost = $1.25 per page
     - authentication required to use printer
     - payment required prior to printing
     - 
     - more information at this URI

The user decides to use the first printer because it is closer.
She connects to the URI given to get a driver.

Client                                         Driver URI

   +---------------------------------------------------------- >
     I need a driver for "Color-A"


   < ----------------------------------------------------------+
      Driver installer is at http://www.xerox.com/prtdrvrs

     Driver is installed

     User connects to
     "Color-A"

Client                              IPP Printer "Color-A"

   +---------------------------------------------------------- >
   < ----------------------------------------------------------+
     Mutual authentication and exchange of secret keys

   +---------------------------------------------------------- >
     I'm going to submit a print job
     give me your job submission attributes

   < ----------------------------------------------------------+
     Production attributes for this Printer are:
     - medium-select = us-letter-white, us-legal-white
          - default is us-letter-white
     - copies = 1,2,3,4,5
          - default is 1
     - print-quality = draft, normal, high
          - default is draft
     - sides = 1-sided, 2-sided-long-edge


Wright              draft-ietf-ipp-req-02.txt           [Page 56]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


INTERNET DRAFT   Internet Printing Design Goals     June 30, 1998



          - default is 2-sided-long-edge

     Job scheduling attributes for this Printer are:
     - job-priority = 1,2,3
        default = 3

Driver puts up dialogue with available options and fills in the
defaults.

End-user makes choices and submits job

   +---------------------------------------------------------- >
      Here is a print job
     - job-name = presentation
     - notify me by email when job is complete
     - print on us-letter-transparency
     - print 1 copy
     - print at high quality
     - print by 9:00 am tomorrow morning
     - give me the state of the printer in response

The driver generates the print data and passes it to the IPP
driver a piece at a time.

   +---------------------------------------------------------- >
    Here is the print data

    < ---------------------------------------------------------+
    Print data received, and spooling started
    print job id = #1234

    Print data received, file is spooled
     - printer state = printing
     - time submitted = 2/12/97, 15:35
     - current job state = held, waiting for payment

   +---------------------------------------------------------- >
   < ----------------------------------------------------------+
     Payment transaction

   < ----------------------------------------------------------+
     Job is scheduled to print, pick up after 9:00am tomorrow
     Thank you for using SirZippy




Wright              draft-ietf-ipp-req-02.txt           [Page 57]
                      Expires: Dec 30, 1998
   Copyright(C) The Internet Society 1998. All Rights Reserved.


