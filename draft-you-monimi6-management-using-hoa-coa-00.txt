

                  Network Working Group                                       T-W. You 
                  Internet Draft                                                  ETRI 
                  Expires: April 2006                                        I-D. Jang 
                                                                                  ETRI 
                                                                              S-Y. Lee 
                                                                                  ETRI 
                                                                          October 2005 
                                                                                        
                   
                    Managements for using multiple home addresses as care-of addresses 
                              draft-you-monimi6-management-using-hoa-coa-00 
                                                      
                   
                   
               Status of this Memo 
                   
                  By submitting this Internet-Draft, each author represents that any 
                  applicable patent or other IPR claims of which he or she is aware 
                  have been or will be disclosed, and any of which he or she becomes 
                  aware will be disclosed, in accordance with Section 6 of BCP 79. 
                   
                  Internet-Drafts are working documents of the Internet Engineering 
                  Task Force (IETF), its areas, and its working groups.  Note that 
                  other groups may also distribute working documents as Internet-Drafts. 
                   
                  Internet-Drafts are draft documents valid for a maximum of six months 
                  and may be updated, replaced, or obsoleted by other documents at any 
                  time.  It is inappropriate to use Internet-Drafts as reference 
                  material or to cite them other than as "work in progress."  
                   
                  The list of current Internet-Drafts can be accessed at 
                  http://www.ietf.org/ietf/1id-abstracts.txt. 
                   
                  The list of Internet-Draft Shadow Directories can be accessed at 
                  http://www.ietf.org/shadow.html. 
                   
                  This Internet-Draft will expire on April 16, 2006. 
                
               Copyright Notice 
                
                  Copyright (C) The Internet Society (2005). 
                
               Abstract 
                   
                   
                  This draft proposes a simple method that multiple HoAs obtained by 
                  each of heterogeneous interfaces should be registered to home agents 
                  as like CoAs to support benefits of multihoming, such as ubiquitous 
                  accessibility, redundancy, and inter interface handover. However, a 
                
                
               You et al.               Expires - april 2006                 [Page 1] 
                                         Using HoAs as CoAs              October 2005 
                
                
                  protocol for using HoA as CoA was already referred by [ID.Multi_PB]. 
                  In this draft, we should extend situation that HoAs are used as like 
                  CoAs, and modify registration protocol for multiple CoAs [ID.MCoA] 
                  [ID.MMI] to support reliable and robust network connectivity. 
                   
                   
                   
               Table of Contents 
                   
                  1. Introduction...................................................2 
                  2. Terminology....................................................3 
                  3. Assumptions....................................................5 
                  4. Overview of Using HoAs as CoAs.................................5 
                     4.1 Home Registration..........................................6 
                     4.2 Management of Home agent' Binding Cache....................7 
                  5. Multiple CoA Registration Extensions...........................8 
                     5.1 Binding Cache Structure and Management.....................8 
                     5.2 Binding Update Structure and Management....................8 
                     5.3 Messages Format Changes....................................8 
                  6. Operations.....................................................9 
                     6.1 Mobile node Operations.....................................9 
                     6.2 Home Agent Operation......................................10 
                     6.3 Correspondent nodes.......................................11 
                  7. Future Works..................................................11 
                  8. Security Considerations.......................................11 
                  9. IANA Considerations...........................................12 
                  10. References...................................................12 
                     10.1 Normative References.....................................12 
                  Appendix A. Example of Scenario for using HoA registration as like 
                  CoA..............................................................12 
                  Author's Addresses...............................................15 
                  Intellectual Property Statement..................................17 
                  Disclaimer of Validity...........................................17 
                  Copyright Statement..............................................17 
                  Acknowledgment...................................................17 
                   
                   
               1. Introduction 
                   
                  Recently, more and more portable terminals probably have multiple 
                  interfaces to be connected to different access technologies. Each 
                  technology has its specific characteristics in terms of coverage area, 
                  bandwidth, reliability, etc. For example, the mobile node is equipped 
                  with three heterogeneous interfaces; IEEE 802.11b WLAN link, CDMA 
                  Cellular link, and 802.16 WiMAX link. These mobile nodes may be 
                  reachable through different links at the same time or use each 
                  interface alternately depending on the network environment.  
                

                
                
               You et. al               Expires January 2006                 [Page 2] 
                                         Using HoAs as CoAs              October 2005 
                
                
                  Therefore the mobile node equipped multiple interface can have 
                  benefit of the prospects of each access technology. The document 
                  [ID.Multihoming_Goals] is represented the goals and benefits of these 
                  multihomed fixed or mobile nodes, such as permanent and ubiquitous 
                  access, redundancy, and load sharing etc. 
                   
                  However, current mobility support protocols such as Host Mobility 
                  Support in IPv6 (Mobile IPv6) [RFC 3775] and NEMO Basic Support [RFC 
                  3963] are designed originally with single interface in mind. So these 
                  protocols do not provide methods for supporting simultaneous 
                  differentiated use of multiple access technologies.  
                   
                  Basically a mobile node equipped multiple interfaces can have 
                  multiple Care-of addresses (CoAs) and multiple Home addresses (HoAs). 
                  For such support, we should register these addresses before 
                  everything else. The several proposals exist for that, and some of 
                  them have been implemented and tested. Multiple CoA Registration 
                  [ID.MCoA] and HA Filtering [ID.NOMADv6] are recently proposed protocols 
                  designed to register multiple CoAs used for multiple interfaces 
                  simultaneously. But some steps need to be taken to optimize the 
                  registration procedure of multiple addresses. 
                   
                  In this document, we propose extended registration mechanism for 
                  multiple CoAs. As you know that specific situation that a Home 
                  address is handling as like Care-of address referred by 
                  [ID.Multiple_PB]. This draft should remove this restrict situation 
                  for using HoAs as CoAs. And we should support reliable accessibility 
                  and vertical handover using binding cache list in home agent through 
                  HoAs that can designate as each of interface registrations to other 
                  home agent as serving distinct interface. To achieve it, this draft 
                  proposes modified and added flag to Binding Update with mobility sub-
                  option to provide multiple CoAs registration. 
                   
                   
               2. Terminology 
                   
                  The following terms are introduced in the document. We defines it 
                  related to multihomed environment. 
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                
                
               You et. al               Expires January 2006                 [Page 3] 
                                         Using HoAs as CoAs              October 2005 
                
                
                  Mobile node equipped heterogeneous interfaces 
                   
                   
                                                   Interface 2 (802.16) 
                   
                       Interface 1 (802.11b) \|/  \|/  \|/  
                                              |    |    | Interface 3 (802.21)                
                                              |    |    | 
                                              |----+----| 
                                              |    MN   | 
                                              +---------+ 
                   
                                             
                       A Mobile node may have multiple interfaces for different layer 2 
                       technologies. Each technology has its specific characteristics 
                       in terms of coverage area, bandwidth, reliability, etc.  
                        
                   
                  Multiple Home agents and multiple addresses 
                   
                   
                                       Global Home Distribution 
                   
                                  +---------+     +---------+ 
                                  |   HA_1  |     |   HA_2  |  802.16 domain 
                                  +----+----+     +-+-------+ 
                        802.11 domain  |            |         
                                   1:: |            | 2:: 
                                       |            | 
                   802.21 domain       |            | 
                   +---------+     +-------------------+      +-------+ 
                   |   HA_3  |-----|     Internet      |------| CN_MR | 
                   +---------+     +--------+----------+      +-------+ 
                    3::                     |                 7:: 
                                             + 5::               
                                         |  |  |      
                                         +--+--+    Interf#    HoA        CoA 
                                         |  MN |    -------+----------+----------  
                                         +--+--+       1   | 1::11EUI |    x 
                                                    -------+----------+---------- 
                                                       2   | 2::16EUI | 5::16EUI 
                                                    -------+----------+---------- 
                                                       3   | 3::21EUI |    x 
                                                    ----------------------------- 
                   
                   
                       The interfaces for different L2 technology have different home 
                       network in each of its domain. Therefore, each interface has 

                
                
               You et. al               Expires January 2006                 [Page 4] 
                                         Using HoAs as CoAs              October 2005 
                
                
                       only own Home agent and Home address where is distinguish 
                       situation compare with other one. 
                   
                   
               3. Assumptions 
                   
                  A mobile node may have multiple interfaces for different L2 
                  technologies. Thus the mobile node is multihomed situation. This 
                  multihoming that uses multiple connectivities to multiple interfaces 
                  simultaneously provides more reliable and robust network connectivity.  
                   
                  For supporting such benefits, we propose modified home registration 
                  protocol. Exactly this protocol is extended situation for using HoA 
                  as CoA was already referred by [ID.Multiple-PB]. Before we represent 
                  proposed registration mechanism, we have some assumptions for mobile 
                  node as followings, 
                   
                  O However the mobile node equipped with heterogeneous interfaces 
                    should have different Home addresses (HoA) per each of its 
                    interfaces. Also it may have one or more Care-of addresses (CoA) on 
                    each of its interfaces. 
                   
                  O The mobile node SHOULD know to what is the interface to be 
                    allocated for the mobile node's CoAs or HoAs. 
                   
                  O Consequently, the situations that happen in each of its interfaces 
                    could be managed independently by the mobile node. In other words, 
                    if a mobile node was connected to foreign network using specific 
                    interface while move to foreign network, a Care-of address is 
                    allocated to appropriate interface. Then the mobile node can 
                    register this CoA to a Home agent that is located in relevant 
                    interface's home network. 
                   
                   
               4. Overview of Using HoAs as CoAs 
                   
                  When a mobile node has heterogeneous interfaces, it gets several IPv6 
                  global addresses as serving Home addresses or as Care-of addresses on 
                  distinct interface. In this situation, we propose modified home 
                  registration process that multiple HoAs allocated per each interface 
                  should be registered as like to CoAs’ one to support benefits of 
                  multihomed mobile node, such as ubiquitous accessibility, redundancy, 
                  and load balancing. 
                   
                  However, a protocol for multiple CoA Registration [ID.MCoA] was proposed 
                  to utilize multiple CoAs and to support benefits of multihomed mobile 
                  node. At this point, we would modify and added some mechanism to 
                  these protocols to support redundancy, robust network connectivity, 
                  and load sharing.  
                
                
               You et. al               Expires January 2006                 [Page 5] 
                                         Using HoAs as CoAs              October 2005 
                
                
               4.1 Home Registration 
                   
                  As you know that the home registration is process that is 
                  registration between the mobile node and its home agent, authorized 
                  by the use of IPsec. In cases for mobile node equipped with multiple 
                  interfaces, if the mobile node wants to register multiple bindings to 
                  its home agent, it MUST generate a Binding Unique Identifier (BID) 
                  for the primary care-of address and record it into the binding update 
                  list entry [ID.MCoA]. 
                   
                  In this draft, we have some assumption that a mobile node equipped 
                  with heterogeneous interfaces should have different HoAs per each of 
                  its interfaces. For home registration, we should use multiple HoAs 
                  allocated in distinct interface as CoAs. If the mobile node obtains 
                  multiple home addresses, it must register HoAs allocated in each 
                  interface to appropriated interfaces’ serving Home agent. 
                   
                  However, using HoA as CoA was referred by [ID.Multi_PB]. For instance, 
                  a MN has two HoAs (HoA1 and HoA2) on two distinct home links.  MN is 
                  connected to these two home links via two interfaces. If the MN 
                  looses its connectivity on its first interface, HoA1 is not reachable.  
                  It may then want to register HoA2 as a CoA for HoA1 in order to keep 
                  receiving packets intended to HoA1, via the second interface. 
                   
                  As mentioned above, while an mobile node equipped two interfaces is 
                  located in home link by one interface, the mobile node operate as 
                  like to situation that the mobile node moves to foreign network. In 
                  this specific environment, HoAs are used as like to CoA. 
                   
                  In this draft, we remove this restrict situation for using HoAs as 
                  CoAs. At first we modified and added flag to Binding Update with 
                  mobility sub-option to provide multiple CoAs registration. Because we 
                  have to discriminate between HoA registration and CoA registration. 
                  The mobile node should register all of HoAs acquired from own 
                  interfaces to all of Home agents except own Home agent. 
                   
                  With this registered HoA can be used as like CoA that represent the 
                  mobile node's present position. But registered HoA should transfer a 
                  flow that is toward to the mobile node to another home agent. 
                  Therefore we can support ubiquitous accessibility using HoA 
                  registration as like CoA. That is to say that we use multiple 
                  interfaces simultaneously. 
                   
                  For instance, at first a Home agent has to intercept the flow toward 
                  to a mobile node, and then the home agent try to find a CoA that 
                  combined the mobile node's HoA and CoA. If the home agent do not find 
                  it, should transfer the flow to other home agent through registered 
                  HoA in binding chache lists. As a result, we do change interface, 

                
                
               You et. al               Expires January 2006                 [Page 6] 
                                         Using HoAs as CoAs              October 2005 
                
                
                  which is served for present flow because each of home agents can be 
                  distinct by difference interfaces.  
                   
               4.2 Management of Home agent's Binding Cache 
                   
                  As mentioned before, we also assumed that a mobile node should know 
                  to what is the interface to be allocated for the mobile node's CoAs 
                  or HoAs. Therefore, the mobile node can manage and register multiple 
                  addresses that allocated to each interface independently.  
                   
                  When the mobile node boots up, we assume that multiple HoAs is 
                  allocated to each of its interface. And then the mobile node 
                  registers multiple HoAs to Home agents using Binding Update with BID 
                  sub-options as like to Multiple CoA registration [ID.MCoA] with 
                  additional flag. As a result, a HoA is binding to different HoAs that 
                  allocated from other serving home networks to relevant interfaces  
                   
                  For example, a mobile node has three heterogeneous interfaces, and 
                  three HoAs that allocated by each of its interfaces; HoA1, HoA2, and 
                  HoA3. The mobile node registers three HoAs to each of own home agents 
                  as like to CoA registration. After this home registration ended, we 
                  could see the each of Home agents’ binding cache as followings; 
                   
                  Binding Cache in Home agent 1 (HoA1): 
                    [home address = HoA1, care-of address = HoA2, BID 1, H flag = 1 …] 
                    [home address = HoA1, care-of address = HoA3, BID 2, H flag = 1 …] 
                   
                  In this protocol, the binding lists using HoAs as CoAs should keep 
                  continuously till can not use the HoA cause to occurred failure of 
                  specific interface. If the mobile node's one interface should be 
                  attached to home network, this binding list could be disabled, not to 
                  remove it.  
                   
                  After HoAs were registered, if the mobile node moves to foreign 
                  network, it should obtain CoA (CoA1) by interface 2 attached to 
                  foreign network. This CoA also registered specific Home agent that 
                  the provide packet delivery service to relevant interface obtained 
                  the CoA. Therefore, the binding cache has three binding lists. A head 
                  of the two binding lists are registered using HoA as CoA, last one is 
                  actually CoA represented current locator registration.  
                   
                  Binding Cache in Home agent 2 (HoA2): 
                    [home address = HoA2, care-of address = HoA1, BID 1, H flag = 1 …] 
                    [home address = HoA2, care-of address = HoA3, BID 2, H flag = 1 …] 
                    [home address = HoA2, care-of address = CoA1, BID 3  H flag = 0 …] 
                   
                  This procedure is achieved as like to refer in Multiple CoA 
                  registration [ID.MCoA].  That is, this interface attached to foreign 
                  network sets primary, this list should be used preferentially. 
                
                
               You et. al               Expires January 2006                 [Page 7] 
                                         Using HoAs as CoAs              October 2005 
                
                
               5. Multiple CoA Registration Extensions 
                   
                  In this section are described the changed to allow registration 
                  multiple CoAs to manage registration HoA as like CoA distinguish 
                  between HoA and CoA registration. 
                   
               5.1 Binding Cache Structure and Management 
                   
                  Additional items are required in the binding cache structure, which 
                  are: 
                   
                  - H flag of the binding cache entry.  The H flag is represented by 
                    the mobile node whether this registration is for HoA or not by 
                    means of Binding Update sub-option as like [ID.MCoA].  The value MUST 
                    be set if the Binding Update is case of HoA registration.  
                   
               5.2 Binding Update Structure and Management 
                   
                  Additional items are required for the binding update structure, which 
                  are: 
                   
                  -  H flag: MUST be included whenever the mobile node registers HoA as 
                     like CoA.  
                   
               5.3 Messages Format Changes 
                   
                  - Binding Unique Identifier sub-option included H flag 
                    The Binding Unique Identifier sub-option is included in Binding 
                    Update, Binding Acknowledgment, Binding Refresh Request, and 
                    Binding Error if needed. We have to include H flag in BID sub-
                    option to distinct between HoA and CoA home registration. 
                   
                       0                   1                   2                   3 
                       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
                                                      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
                                                      |   Type = TBD  |   Length = 4  | 
                      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
                      |     Binding Unique ID (BID)   |P|H|     Reserved              | 
                      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-------------------------------+ 
                   
                        Type 
                               Type value for Binding Unique Identifier will be 
                                assigned later. 
                   
                        Length 
                               The value MUST be always 4. 
                   
                        Binding Unique ID (BID) 
                               The BID which is assigned to the binding carried in 
                
                
               You et. al               Expires January 2006                 [Page 8] 
                                         Using HoAs as CoAs              October 2005 
                
                
                               the Binding Update with this sub-option.  BID is 16-bit 
                               unsigned integer.  A value of zero is reserved. 
                   
                        Flag Stop Proxy Neighbor Advertisement (P) Flag 
                   
                               This flag is checked only when a Binding Update is for 
                               de-registration and the destination of a Binding Update 
                               is mobile node's home agent.Otherwise, this flag MUST be 
                               ignored 
                   
                        Flag Notify HoA registration (H) Flag 
                               This flag represents whether this registration is for 
                               HoA registration or not. When the flag set, this binding 
                               is for HoA registration. If Binding Update does not 
                               contain a BID, this flag does not necessary to check. 
                   
                   
               6. Operations 
                   
                  In this section are described the operations for mobile node and home 
                  agent. Correspondent node (CN)'s operation is not changed. 
                   
               6.1 Mobile node Operations 
                   
                  For using multiple HoAs as CoAs, a mobile node equipped multiple 
                  interfaces achieves operations as following fields: 
                   
                   O A mobile node may have multiple interfaces for different L2 
                      technologies. 
                   
                   O Each interface should be different Home addresses. So multiple 
                      home agents are placed globally despite routing domains. And 
                      multiple home agents serving a different home network are 
                      distributed to different routing domain. 
                   
                   O A mobile node registers home address to own home agent. 
                    
                   O A mobile node should sending Binding Update with BID sub-option 
                    included H filed set to home registration. 
                   
                   O When a mobile node moves to foreign network, it can acquire CoA 
                     through interface attached to foreign network. The mobile node 
                     registers CoA sending Binding Update with BID sub-option contained 
                     H flag be unset to own home agents.  
                   
                   O This Registration process is like to Multiple CoA registration one. 
                     The Binding Update message with BID sub-option includes H flag be 
                     unset means that this binding list should be used preferentially.  
                    
                
                
               You et. al               Expires January 2006                 [Page 9] 
                                         Using HoAs as CoAs              October 2005 
                
                
               6.2 Home Agent Operation 
                   
                  To achieve using HoAs as CoAs, a home agent should change binding 
                  cache and some operation.  
                   
                   O Multiple home agents are distributed globally routing domains. 
                   
                   O Basically a home agents only manages own home address allocated by 
                     using own network prefix. However for activating multiple home 
                     agents, Binding cache in all of home agents must be synchronized. 
                     The [ID.HAHA] protocol was already proposed for management of Home 
                     agents list and Inter home agent signaling. We describe this 
                     problem in chapter 7. 
                   
                    O But if one home agent is occurred failure not a interface, the 
                      specific binding information that is listed in its home network 
                      does not use. Therefore for future works, we can propose 
                      synchronization method between multiple home agents for 
                      supporting home agent redundancy.  
                     
                    O If home agent received the Binding Update, it must then create a 
                      new entry in its Binding cache entry. If Binding Update with BID 
                      sub-option included H filed be set is received, it make new entry 
                      with check H filed set 1. It means that this binding list's
                      address is mobile node's HoA. 
                     
                   O A home agent can intercept packet toward to mobile nodes. And this 
                     packet is send to the mobile node using tunneling. 
                   
                   O If a home agent receives de-registration message when the specific 
                     interface is connected to own network directly, it remove specific 
                     binding cache lists that H flag is unset. And the other lists 
                     represent H flag be set should be disabled till the primary 
                     interface is disconnected. 
                   
                   O while a mobile node is serving as the home agent for mobile node 
                     it must attempt to intercept packets on the mobile node's home 
                     link that are addressed to mobile node. Then home agent sends 
                     packets to the mobile node by tunneling.  
                    
                   O Suddenly the interface, which is activated for current session, 
                     occur failure. At first the home agent must find another binding 
                     list bound to the mobile node's home address represented H flag be 
                     unset. 
                   
                    O If the home agent do not find another list contains H flag be 
                      unset while do not response from the mobile node's interface. It 
                      should use binding list represented flag be set for the first 
                      time. 
                
                
               You et. al               Expires January 2006                [Page 10] 
                                         Using HoAs as CoAs              October 2005 
                
                
                      
                    O The current packets are sending to other home agent that is 
                      represented by binding list bound to mobile node's HoA. Specific 
                      operation procedure is explained later in appendix section. 
                   
               6.3 Correspondent nodes 
                   
                  The rule for maintaining a Binding Cache is the same for home agents. 
                  However, we modify Home agents’ one. Therefore management of binding 
                  cache is not equal, but correspondent node should operate as like to 
                  original Mobile IPv6.  
                   
                   
               7. Future Works 
                   
                  As mentioned above, using multiple HoA as CoA have some drawback. One 
                  is not to support redundancy for distributed multiple home agents’ 
                  failure. For management of Home agents list, Inter home agent 
                  management protocol was proposed [ID.HAHA]. In [ID.HAHA] protocol, 
                  multiple home agents for one mobile node can be synchronized about 
                  its binding cache.  
                   
                  For supporting redundancy of home agent, we can propose 
                  synchronization method between multiple home agents for one mobile 
                  node with multiple interfaces. Easily approach; Inter Home agent 
                  management protocol [ID.HAHA] is possible to one of those solutions. 
                  Other approach is possible to passive propagate binding cache lists. 
                  As like that, to synchronize multiple home agents, specific methods 
                  are leaved for future works. 
                   
                  Other critical consideration item is endless loop request for 
                  changing serving home agent by circularly reference. If home agent 1 
                  were requested for changing serving home agent to home agent 2, the 
                  home agent 2 would possible to request change to home agent 1 again. 
                  In this case, there is request loop by the circularly reference.  
                   
                  One possible approach to avoid this loop restricts changing request 
                  to one time. For instance, in above same situation, home agent 2 that 
                  receives change request from home agent 1 does not try to change 
                  other serving home agent. For such support, we can add one option on 
                  packet that is sent to mobile node from home agent to check count of 
                  request changing. 
                   
                   
               8. Security Considerations 
                   
                  This document has no direct impact on Internet infrastructure 
                  security. 
                   
                
                
               You et. al               Expires January 2006                [Page 11] 
                                         Using HoAs as CoAs              October 2005 
                
                
               9. IANA Considerations 
                   
                  This document has no IANA considerations. 
                   
                   
               10. References 
                
               10.1 Normative References 
                   
                  [ID.Multi_PB] N. Montavont, R. Wakikawa, T. Ernst, C. Ng, K. 
                                 Kuladinithi, "Analysis of Multihoming in Mobile IPv6,"
                                 draft-montavont-mobileip-multihoming-pb-statement-
                                 04.txt” February 2005. 
                   
                  [ID.MCoA] Ryuji Wakikawa, Thierry Ernst, Kenichi Nagami, "Multiple 
                            Care-of Addresses Registration," draft-wakikawa-mobileip-
                            multiplecoa-04.txt June 2005 
                   
                  [ID.MMI] N. Montavont, T. Noel, M. Kassi-Lahlou, "Mobile IPv6 for 
                            multiple interfaces (MMI)," draft-montavont-mip6-mmi-02.txt, 
                            July 2005 
                   
                  [ID.Multihoming_Goals] T. Ernst, N. Montavont, R. Wakikawa, E. Paik, 
                                         C. Ng, K. Kuladinithi, T. Noel, July, 2004. 
                   
                  [RFC 3775] D. Johnson, C. Perkins, and J. Arkko. "Mobility support in 
                             IPv6," Request for Comments (Standards Track) 3775, IETF, 
                             June 2004. 
                   
                  [RFC 3964] V. Devaraplli, R. Wakikawa, A. Petrescu, and P. Thubert 
                             "Network Mobility (NEMO) Basic Support Protocol," Request 
                             for Comments (Standards Track) 3963, IETF, January 2005 
                   
                  [ID.HAHA] Ryuji Wakikawa, Vijay Devarapalli, Pascal Thubert, "Inter 
                            Home Agents Protocol (HAHA)," draft-wakikawa-mip6-nemo-
                            haha-01.txt, February 2004. 
                 
                  [ID.NOMADv6] K. Kuladinithi, N. A. Fikouras, C. Goerg, ComNets-ikom, 
                               "Filters for Mobile IPv6 Bindings (NOMADv6)," draft-
                               nomadv6-mobileip-filters-02.txt, May 
                   
                   
               Appendix A. Example of Scenario for using HoA registration as like CoA 
                   
                  This section tries to illustrate the multihoming scenario for using 
                  HoA registration as like CoA. The mobile node has three heterogeneous 
                  interfaces; 802.11b, 802.11, and 802.21. and three HoAs that 
                  allocated by each of its interfaces as depicts Figure 1. The mobile 

                
                
               You et. al               Expires January 2006                [Page 12] 
                                         Using HoAs as CoAs              October 2005 
                
                
                  node registers three HoAs to each of own home agents as like to CoA 
                  registration. 
                   
                  After HoAs were registered, when the mobile node moves to foreign 
                  network as represent 5:: for IPv6 prefix, it should obtain CoA 
                  (5::16EUI) through interface 2 (802.16) attached to foreign network 
                  directly. This CoA also registered specific Home agent (Home agent 2). 
                   
                  The Figure 1 depicts each of Home agents’ Binding cache database and 
                  current network situation. 
                   
                   
                                  +---------+     +---------+ 
                    802.11 domain |   HA_1  |     |   HA_2  |  802.16 domain 
                                  +----+----+     +-+-------+ 
                                       |            |         
                                   1:: |            | 2:: 
                                       |            | 
                   802.21 domain       |            | 
                   +---------+     +-------------------+      +-------+ 
                   |   HA_3  |-----|     Internet      |------| CN_MR | 
                   +---------+     +--------+----------+      +-------+ 
                    3::                     |                 7:: 
                                            + 5::               
                                         |  |  |      
                                         +--+--+    Interf#    HoA        CoA 
                                         |  MN |    -------+----------+----------  
                                         +--+--+       1   | 1::11EUI |    x 
                                                    -------+----------+---------- 
                                                       2   | 2::16EUI | 5::16EUI 
                                                    -------+----------+---------- 
                                                       3   | 3::21EUI |    x 
                                                    -------+----------+---------- 
                  Binding Cache Database: 
                   
                    Binding Cache in Home agent 1 (HoA1): 
                        [HoA = 1::11EUI, CoA = 2::16EUI, BID 1, H flag = 1 …] 
                        [HoA = 1::11EUI, CoA = 3::21EUI, BID 2, H flag = 1 …] 
                    Binding Cache in Home agent 2 (HoA2): 
                        [HoA = 2::16EUI, CoA = 1::11EUI, BID 1, H flag = 1 …] 
                        [HoA = 2::16EUI, CoA = 3::21EUI, BID 2, H flag = 1 …] 
                        [HoA = 2::16EUI, CoA = 5::16EUI, BID 3, H flag = 0 …] 
                    Binding Cache in Home agent 3 (HoA3): 
                        [HoA = 3::21EUI, CoA = 1::11EUI, BID 1, H flag = 1 …] 
                        [HoA = 2::21EUI, CoA = 2::16EUI, BID 2, H flag = 1 …] 
                   
                  Figure 1: The mobile node equipped different interfaces has multiple 
                            home agents. And represent situation attached to foreign 
                            network through 802.16 interface. 
                
                
               You et. al               Expires January 2006                [Page 13] 
                                         Using HoAs as CoAs              October 2005 
                
                
                  When the correspondent node (CN), which is attached to IPv6 network 
                  represented 7:: for IPv6 prefix, tries to communicate with the mobile 
                  node, it should obtain the mobile node's home address using DNS query. 
                  If the correspondent node obtain 1::11EUI for mobile node's home 
                  address, it send initiate packet to the mobile node using 1:11EUI for 
                  mobile node's home address.  
                   
                  After the home agent 1 intercepts this packet, and then it should 
                  first find appropriate binding list contained a CoA among binding 
                  lists whose H flag is unset. Although the home agent 1 tries to find 
                  that, but there is not binding list as represented H flag is unset as 
                  depicts Figure 1. Next it should use binding list represented H flag 
                  is set to find appropriate address toward to mobile node. 
                   
                  In Figure 1's Binding Cache Database, the home agent 1 tries to send 
                  initiate packet to address 2::16EUI using BID 1's binding list though 
                  bi-directional tunneling. The home agent 2, which receive packet 
                  toward to 2::16EUI for mobile node's home address, also intercept 
                  this packet. In this case, the home agent 2 can find binding list as 
                  represented BID 3 among binding lists whose H flag is unset. And then 
                  the home agent 2 tries to send this packet to 5::EUI21 again through 
                  re-establishment tunneling. 
                   
                  Therefore, with this registered HoA can be used as like CoA, it can 
                  support ubiquitous accessibility. That is to say that we use multiple 
                  interfaces simultaneously. 
                   
                  Figure 2 shows how to use registered HoA in binding lists to 
                  supporting ubiquitous accessibility.  
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                   
                
                
               You et. al               Expires January 2006                [Page 14] 
                                         Using HoAs as CoAs              October 2005 
                
                
                                  +---------+     +---------+ 
                    802.11 domain |   HA_1  |=====|   HA_2  |  802.16 domain 
                                  +----+----+     +---+-----+ 
                                       |            = |         
                                   1:: |            = | 2:: 
                                       |            = | 
                   802.21 domain       |            = | 
                   +---------+     +----------------=-++      +-------+ 
                   |   HA_3  |-----|     Internet  =   |------| CN_MR | 
                   +---------+     +--------+----=-----+      +-------+ 
                    3::                     |   =             7:: 
                                            + =  5::             
                                         |  |= |      
                                         +--+=-+    Interf#    HoA        CoA 
                                         |  MN |    -------+----------+----------  
                                         +--+--+       1   | 1::11EUI |    x 
                                                    -------+----------+---------- 
                   === Bidirectional Tunnel            2   | 2::16EUI | 5::16EUI 
                                                    -------+----------+---------- 
                                                       3   | 3::21EUI |    x 
                                                    -------+----------+---------- 
                   
                   
                  Figure 2: The Correspondent node tries to communicate with mobile 
                            node using 1::11EUI for mobile node's home address. This 
                            Figure represents a method of communication using two of 
                            bi-directional tunneling through HoA registration in 
                            binding lists 
                   
                   
                   
               Author's Addresses 
                   
                  Taewan You 
                  ETRI/PEC 
                  161 Gajeong-Dong, Yuseong-Gu, Daejeon 305-350, Korea 
                  Tel : +82 42 860 4996 
                  Fax : +82 42 861 5404 
                  E-mail : twyou@pec.etri.re.kr 
                   
                  Indong Jang 
                  ETRI/PEC 
                  161 Gajeong-Dong, Yuseong-Gu, Daejeon 305-350, Korea 
                  Tel : +82 42 860 4978 
                  Fax : +82 42 861 5404 
                  E-mail : indoi@pec.etri.re.kr 
                   
                  Seungyun Lee 
                  ETRI/PEC 
                
                
               You et. al               Expires January 2006                [Page 15] 
                                         Using HoAs as CoAs              October 2005 
                
                
                  161 Gajeong-Dong, Yuseong-Gu, Daejeon 305-350, Korea 
                  Tel : +82 42 860 5508 
                  Fax : +82 42 861 5404 
                  E-mail : syl@etri.re.kr 













































                
                
               You et. al               Expires January 2006                [Page 16] 
                                         Using HoAs as CoAs              October 2005 
                
                
               Intellectual Property Statement 
                
                  The IETF takes no position regarding the validity or scope of any 
                  Intellectual Property Rights or other rights that might be claimed to 
                  pertain to the implementation or use of the technology described in 
                  this document or the extent to which any license under such rights 
                  might or might not be available; nor does it represent that it has 
                  made any independent effort to identify any such rights. Information 
                  on the procedures with respect to rights in RFC documents can be 
                  found in BCP 78 and BCP 79. 
                   
                  Copies of IPR disclosures made to the IETF Secretariat and any 
                  assurances of licenses to be made available, or the result of an 
                  attempt made to obtain a general license or permission for the use of 
                  such proprietary rights by implementers or users of this 
                  specification can be obtained from the IETF on-line IPR repository at 
                  http://www.ietf.org/ipr. 
                   
                  The IETF invites any interested party to bring to its attention any 
                  copyrights, patents or patent applications, or other proprietary 
                  rights that may cover technology that may be required to implement 
                  this standard.  Please address the information to the IETF at ietf-
                  ipr@ietf.org. 
                   
                   
               Disclaimer of Validity  
                   
                  This document and the information contained herein are provided on an              
                  "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS 
                  OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET 
                  ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, 
                  INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE 
                  INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED 
                  WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.  
                   
                   
               Copyright Statement  
                   
                  Copyright (C) The Internet Society (2005).  This document is subject 
                  to the rights, licenses and restrictions contained in BCP 78, and 
                  except as set forth therein, the authors retain all their rights.  
                   
                   
               Acknowledgment  
                   
                  Funding for the RFC Editor function is currently provided by the                   
                  Internet Society. 
                   

                
                
               You et. al               Expires January 2006                [Page 17] 
