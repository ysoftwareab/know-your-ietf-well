<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="robots" content="index,follow" />

        <link rel="icon" href="./css/images/rfc.png" type="image/png" />
        <link rel="shortcut icon" href="./css/images/rfc.png" type="image/png" />
        <title>rfc3863</title>
    
        <link rel="stylesheet" type="text/css" href="./css/errata-base.css"/>
        <link rel="stylesheet" type="text/css" href="./css/errata-color.css" title="Default: Basic Colors"/>
        <link rel="alternative stylesheet" type="text/css" href="./css/errata-monochrome.css" title="Monochrome"/>
        <link rel="alternative stylesheet" type="text/css" href="./css/errata-printer.css" title="Printer"/>

        <script src="./css/errata.js"></script>
    </head>
    <body>
        <div class='Verified-headnote-styling'>
<span style="font-weight: bold;">This is a purely informative rendering of an RFC that includes verified errata.  This rendering may not be used as a reference.</span>
<br/>
<br/>
The following 'Verified' errata have been incorporated in this document:
 <a href='#btn_1606'>EID 1606</a>
</div>

        <pre>
Network Working Group                                          H. Sugano
Request for Comments: 3863                                   S. Fujimoto
Category: Standards Track                                        Fujitsu
                                                                G. Klyne
                                                            Nine by Nine
                                                              A. Bateman
                                                              VisionTech
                                                                 W. Carr
                                                                   Intel
                                                             J. Peterson
                                                                 NeuStar
                                                             August 2004


                Presence Information Data Format (PIDF)

Status of this Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the &quot;Internet
   Official Protocol Standards&quot; (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2004).

Abstract

   This memo specifies the Common Profile for Presence (CPP) Presence
   Information Data Format (PIDF) as a common presence data format for
   CPP-compliant Presence protocols, and also defines a new media type
   &quot;application/pidf+xml&quot; to represent the XML MIME entity for PIDF.

Table of Content

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  2
       1.1.  Terminology and Conventions. . . . . . . . . . . . . . .  3
   2.  Design Decisions . . . . . . . . . . . . . . . . . . . . . . .  3
       2.1.  Minimal Model. . . . . . . . . . . . . . . . . . . . . .  3
       2.2.  Added Features . . . . . . . . . . . . . . . . . . . . .  4
       2.3.  XML Encoding Decision. . . . . . . . . . . . . . . . . .  5
   3.  Overview of Presence Information Data Format . . . . . . . . .  5
       3.1.  The &#x27;application/pidf+xml&#x27; Content Type. . . . . . . . .  5
       3.2.  Presence Information Contents. . . . . . . . . . . . . .  5
   4.  XML-encoded Presence Data Format . . . . . . . . . . . . . . .  6
       4.1.  XML Format Definitions . . . . . . . . . . . . . . . . .  6

             4.1.1. The &lt;presence&gt; element. . . . . . . . . . . . . .  6
             4.1.2. The &lt;tuple&gt; element . . . . . . . . . . . . . . .  7
             4.1.3. The &lt;status&gt; element. . . . . . . . . . . . . . .  8
             4.1.4. The &lt;basic&gt; element . . . . . . . . . . . . . . .  8
             4.1.5. The &lt;contact&gt; element . . . . . . . . . . . . . .  8
             4.1.6. The &lt;note&gt; element. . . . . . . . . . . . . . . .  9
             4.1.7. The &lt;timestamp&gt; element . . . . . . . . . . . . .  9
       4.2.  Presence Information Extensibility . . . . . . . . . . . 10
             4.2.1. XML Namespaces Background . . . . . . . . . . . . 10
             4.2.2. XML Namespaces In Presence Information. . . . . . 11
             4.2.3. Handling Of Unrecognized Element Names. . . . . . 12
             4.2.4. Status Value Extensibility. . . . . . . . . . . . 12
             4.2.5. Standardizing Status Extensions . . . . . . . . . 13
       4.3.  Examples . . . . . . . . . . . . . . . . . . . . . . . . 14
             4.3.1. Default Namespace with Status Extensions. . . . . 14
             4.3.2. Presence with Other Extension Elements. . . . . . 15
             4.3.3. Example Mandatory To Understand Elements. . . . . 16
       4.4.  XML Schema Definitions . . . . . . . . . . . . . . . . . 16
   5.  IANA Considerations. . . . . . . . . . . . . . . . . . . . . . 18
       5.1.  Content-type registration for &#x27;application/pidf+xml&#x27; . . 18
       5.2.  URN sub-namespace registration for
             &#x27;urn:ietf:params:xml:ns:pidf&#x27;. . . . . . . . . . . . . . 19
       5.3.  URN sub-namespace registration for
             &#x27;urn:ietf:params:xml:ns:pidf:status&#x27; . . . . . . . . . . 20
   6.  Security Considerations. . . . . . . . . . . . . . . . . . . . 21
   7.  Internationalization Considerations. . . . . . . . . . . . . . 22
   8.  References . . . . . . . . . . . . . . . . . . . . . . . . . . 22
       8.1.  Normative References . . . . . . . . . . . . . . . . . . 22
       8.2.  Informative References . . . . . . . . . . . . . . . . . 23
   Appendix A. Document Type Definitions. . . . . . . . . . . . . . . 25
   Authors&#x27; Addresses . . . . . . . . . . . . . . . . . . . . . . . . 26
   Full Copyright Statement . . . . . . . . . . . . . . . . . . . . . 28

1.  Introduction

   The Common Profiles for Instant Messaging (CPIM) [CPIM] and Presence
   (CPP) [CPP] specifications define a set of operations and parameters
   to achieve interoperability between different Instant Messaging and
   Presence protocols which meet RFC 2779 [RFC2779].

   This memo further defines the Presence Information Data Format (PIDF)
   as a common presence data format for CPP-compliant presence
   protocols, allowing presence information to be transferred across
   CPP-compliant protocol boundaries without modification, with
   attendant benefits for security and performance.

   The format specified in this memo defines the base presence format
   and extensibility required by RFC 2779.  It defines a minimal set of
   presence status values defined by the IMPP Model document [RFC2778].
   However, a presence application is able to define its own status
   values using the extensibility framework provided by this memo.
   Defining such extended status values is beyond the scope of this
   memo.

   Note also that this memo defines only the format for a presence data
   payload and the extensibility framework for it.  How the presence
   data is transferred within a specific protocol frame would be defined
   separately in a protocol specification.

1.1.  Terminology and Conventions

   This memo makes use of the vocabulary defined in the IMPP Model
   document [RFC2778].  Terms such as CLOSED, INSTANT MESSAGE, OPEN,
   PRESENCE SERVICE, PRESENTITY, WATCHER, and WATCHER USER AGENT in the
   memo are used in the same meaning as defined therein.

   The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;,
   &quot;RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this document are to be
   interpreted as described in BCP 14, RFC 2119 [RFC2119].

2.  Design Decisions

   We have adopted the IMPP Model and Requirements documents [RFC2778,
   RFC2779] as the starting point of our discussion.  The two RFCs
   contain a number of statements about presence information, which can
   be regarded as a basic set of constraints for the format design.
   Also, we took the minimalist approach to the design based on them.
   Starting from the minimal model, only the features that are necessary
   to solve particular problems have been included.

2.1. Minimal Model

   This specification is based on the minimal model extracted from the
   IMPP Model and Requirements documents.  The model consists of the
   following items.  Each of them is accompanied with the corresponding
   RFCs and their section numbers as its grounds, e.g.,
   (RFC2778:Sec.2.4) refers to Section 2.4 of RFC 2778.

   (a) PRESENCE INFORMATION consists of one or more PRESENCE TUPLES,
       where a PRESENCE TUPLE consists of a STATUS, an optional
       COMMUNICATION ADDRESS, and optional OTHER PRESENCE MARKUP.  Note
       that the CONTACT ADDRESS in a COMMUNICATIONS ADDRESS is
       understood in this document to refer only to a URI
       (RFC2778:Sec.3).

   (b) STATUS has at least the mutually-exclusive values OPEN and
       CLOSED, which have meaning for the acceptance of INSTANT
       MESSAGES, and may have meaning for other COMMUNICATION MEANS.
       There may be other values of STATUS that do not imply anything
       about INSTANT MESSAGE acceptance.  These other values of STATUS
       may be combined with OPEN and CLOSED or they may be mutually-
       exclusive with those values (RFC2778:Sec.3, RFC2779:Sec.4.4.1-
       4.4.3).

   (c) STATUS may consist of single or multiple values.(RFC2778:Sec.2.4)

   (d) There must be a means of extending the common presence format to
       represent additional information not included in the common
       format.  The extension and registration mechanisms must be
       defined for presence information schema, including new STATUS
       conditions and new forms for OTHER PRESENCE MARKUP
       (RFC2779:Sec.3.1.4-3.1.5).

   (e) The common presence format must include a means to uniquely
       identify the PRESENTITY whose PRESENCE INFORMATION is reported
       (RFC2779:Sec.3.1.2).

   (f) The common presence format must allow the PRESENTITY to secure
       presence information sent to a WATCHER.  The format must allow
       integrity, confidentiality and authentication properties to be
       applied to presence information (RFC2779:Sec5.2.1, 5.2.4, 5.3.1,
       5.3.3).

2.2.  Added Features

   In addition to the minimal model described above, the format
   specified in this specification has the following features.

   (a) Relative priorities of contact addresses are specifiable in order
        to allow the source of PRESENCE INFORMATION to tell the receiver
        (WATCHER USER AGENTS) its preference over multiple contact
        means.

   (b) The presence format is able to contain the timestamp of the
        creation of the PRESENCE INFORMATION.  The timestamp in the
        presence document lets the receiver know the time of the
        creation of the data even if the message containing it is
        delayed.  It can also be used to detect a replay attack,
        independent of the underlying signature mechanism.  Note that
        this mechanism does not assume any global time synchronization
        system for watchers and presentities (see Appendix A of RFC2779,
        8.1.4 A7), but rather assumes that the minimum length of time
        that might pass before presence information is considered stale

        is long enough that minor variations among system clocks will
        not lead to misjudgments of the freshness of presence
        information.

2.3.  XML Encoding Decision

   The Presence Information Data Format encodes presence information in
   XML (eXtensible Markup Language [XML]).  Regarding the features of
   PRESENCE INFORMATION discussed above, such that it has a hierarchical
   structure and it should be fully extensible, XML is considered as the
   most desirable framework over other candidates such as vCard [vCard].

3.  Overview of Presence Information Data Format

   This section describes an overview of the presence data format
   defined in this memo.

3.1.  The &#x27;application/pidf+xml&#x27; Content Type

   This memo defines a new content type &quot;application/pidf+xml&quot; for an
   XML MIME entity that contains presence information.  This
   specification follows the recommendations and conventions described
   in [RFC3023], including the naming convention of the type (&#x27;+xml&#x27;
   suffix) and the usage of the &#x27;charset&#x27; parameter.

   Although it is defined as optional, use of the &#x27;charset&#x27; parameter is
   RECOMMENDED.  If the &#x27;charset&#x27; parameter is not specified, conforming
   XML processors MUST follow the requirements in section 4.3.3 of
   [XML].

3.2.  Presence Information Contents

   This subsection outlines the information in an &quot;application/pidf+xml&quot;
   document.  A full definition of the PIDF content is in Section 4.

   o PRESENTITY URL: specifies the &quot;pres&quot; URL of the PRESENTITY.
   o List of PRESENCE TUPLES
     - Identifier: token to identify this tuple within the presence
       information.
     - STATUS: OPEN/CLOSED and/or extension status values.
     - COMMUNICATION ADDRESS: COMMUNICATION MEANS and CONTACT
         ADDRESS of this tuple. (optional)
     - Relative priority: numerical value specifying the priority
         of this COMMUNICATION ADDRESS. (optional)
     - Timestamp: timestamp of the change of this tuple.(optional)
     - Human readable comment: free text memo about this tuple
         (optional)

   o PRESENTITY human readable comment: free text memo about the
       PRESENTITY (optional).

4.  XML-encoded Presence Data Format

   This section defines an XML-encoded presence information data format
   (PIDF) for use with CPP compliant systems.  A presence payload in
   this format is expected to be produced by the PRESENTITY (the source
   of the PRESENCE INFORMATION) and transported to the WATCHERS by the
   presence servers or gateways without any interpretation or
   modification.

4.1.  XML Format Definitions

   A PIDF object is a well formed XML document.

   It MUST have the XML declaration and it SHOULD contain an encoding
   declaration in the XML declaration, e.g., &quot;&lt;?xml version=&#x27;1.0&#x27;
   encoding=&#x27;UTF-8&#x27;?&gt;&quot;.  If the charset parameter of the MIME content
   type declaration is present and it is different from the encoding
   declaration, the charset parameter takes precedence.

   Every application conformant to this specification MUST accept the
   UTF-8 character encoding to ensure the minimal interoperability.

4.1.1.  The &lt;presence&gt; element

   PIDF elements are associated with the XML namespace name
   &#x27;urn:ietf:params:xml:ns:pidf&#x27;, declared using an xmlns attribute, per
   [XML-NS].  The namespace may be a default namespace, or may be
   associated with some namespace prefix (see section 4.2.2 for
   examples).

   The root of an &quot;application/pidf+xml&quot; object is a &lt;presence&gt; element
   associated with the presence information namespace.  This contains
   any number (including 0) of &lt;tuple&gt; elements, followed by any number
   (including 0) of &lt;note&gt; elements, followed by any number of OPTIONAL
   extension elements from other namespaces.

   The &lt;presence&gt; element MUST have an &#x27;entity&#x27; attribute.  The value of
   the &#x27;entity&#x27; attribute is the &#x27;pres&#x27; URL of the PRESENTITY publishing
   this presence document.

   The &lt;presence&gt; element MUST contain a namespace declaration (&#x27;xmlns&#x27;)
   to indicate the namespace on which the presence document is based.
   The presence document compliant to this specification MUST have the
   namespace &#x27;urn:ietf:params:xml:ns:pidf:&#x27;.

   It MAY contain other namespace declarations for the extensions used
   in the presence XML document.

4.1.2.  The &lt;tuple&gt; element

   The &lt;tuple&gt; element carries a PRESENCE TUPLE, consisting of a
   mandatory &lt;status&gt; element, followed by any number of OPTIONAL
   extension elements (possibly from other namespaces), followed by an
   OPTIONAL &lt;contact&gt; element, followed by any number of OPTIONAL &lt;note&gt;
   elements, followed by an OPTIONAL &lt;timestamp&gt; element.

   Tuples provide a way of segmenting presence information.  Protocols
   or applications may choose to segment the presence information
   associated with a presentity for any number of reasons - for example,
   because components of the full presence information for a presentity
   have come from distinct devices or different applications on the same
   device, or have been generated at different times.  Tuples should be
   preferred over other manners of segmenting presence information such
   as creating multiple PIDF instances.

   The &lt;tuple&gt; element MUST contain an &#x27;id&#x27; attribute which is used to
   distinguish this tuple from other tuples in the same PRESENTITY.  The
   value of an &#x27;id&#x27; attribute MUST be unique within &#x27;id&#x27; attribute
   values of other tuples for the same PRESENTITY.  An &#x27;id&#x27; value is
   used by applications processing the presence document to identify the
   corresponding tuple in the previously acquired PRESENCE INFORMATION
   of the same PRESENTITY.  The value of the &#x27;id&#x27; attribute is an
   arbitrary string, and has no significance beyond providing a means to
   distinguish &lt;tuple&gt; values, as noted above.

   The &lt;contact&gt; element is OPTIONAL because a PRESENTITY might need to
   hide its COMMUNICATION ADDRESS or there might be tuples not related
   to any COMMUNICATION MEANS.  Tuples that contain a &lt;basic&gt; status
   element SHOULD contain a &lt;contact&gt; address.  Tuples MAY contain
   conflicting presence status - one &lt;tuple&gt; might provide a &lt;basic&gt;
   &lt;status&gt; of OPEN, and another &lt;tuple&gt; in the same PIDF could contain
   a &lt;basic&gt; &lt;status&gt; of CLOSED, even if they both contain the same
   &lt;contact&gt; address.

   The manner in which segmented presence information is understood by
   the WATCHER USER AGENT is highly dependent on the capabilities of the
   WATCHER USER AGENT and the presence application in question.  In the
   absence of any application-specific or protocol-specific
   understanding of the meaning of tuples, WATCHER USER AGENTS MAY obey
   the following guidelines.  WATCHER USER AGENTS should note which
   tuples in the PIDF have changed their state since the last

   notification by correlating the &#x27;id&#x27; of each &lt;tuple&gt; with those
   received in previous notifications and comparing both &lt;status&gt; values
   and &lt;timestamp&gt; elements in the tuples, if any are present.

4.1.3.  The &lt;status&gt; element

   The &lt;status&gt; element contains one OPTIONAL &lt;basic&gt; element, followed
   by any number of OPTIONAL extension elements (possibly from other
   namespaces), under the restriction that at least one child element
   appears in the &lt;status&gt; element.  These children elements of &lt;status&gt;
   contain status values of this tuple.  By allowing multiple status
   values in a single &lt;tuple&gt; element, different types of status values,
   e.g., reachability and location, can be represented by a &lt;tuple&gt;.
   See Section 4.3 for an example with multiple status values.

   This memo only defines the &lt;basic&gt; status value element.  Other
   status values may be included using the standard extensibility
   framework (see Section 4.2.4).  Applications encountering
   unrecognized elements within &lt;status&gt; may ignore them, unless they
   carry a mustUnderstand=&quot;true&quot; or mustUnderstand=&quot;1&quot; attribute (see
   section 4.2.3).

   Note that, while the &lt;status&gt; element MUST have at least one status
   value element, this status value might not be the &lt;basic&gt; element.

4.1.4.  The &lt;basic&gt; element

   The &lt;basic&gt; element contains one of the following strings: &quot;open&quot; or
   &quot;closed&quot;.

   The values &quot;open&quot; and &quot;closed&quot; indicate availability to receive
   INSTANT MESSAGES if the &lt;tuple&gt; is for an instant messaging address.
   They also indicate general availability for other communication
   means, but this memo does not specify these in detail.

   open: In the context of INSTANT MESSAGES, this value means that the
      associated &lt;contact&gt; element, if any, corresponds to an INSTANT
      INBOX that is ready to accept an INSTANT MESSAGE.

   closed: In the context of INSTANT MESSAGES, this value means that
      the associated &lt;contact&gt; element, if any, corresponds to an
      INSTANT INBOX that is unable to accept an INSTANT MESSAGE.

4.1.5.  The &lt;contact&gt; element

   The &lt;contact&gt; element contains a URL of the contact address.  It
   optionally has a &#x27;priority&#x27; attribute, whose value means a relative
   priority of this contact address over the others.  The value of the

   attribute MUST be a decimal number between 0 and 1 inclusive with at
   most 3 digits after the decimal point.  Higher values indicate higher
   priority.  Examples of priority values are 0, 0.021, 0.5, 1.00. If
   the &#x27;priority&#x27; attribute is omitted, applications MUST assign the
   contact address the lowest priority.  If the &#x27;priority&#x27; value is out
   of the range, applications just SHOULD ignore the value and process
   it as if the attribute was not present.

   Applications SHOULD handle contacts with a higher priority as they
   have precedence over those with lower priorities.  How they are
   actually treated is beyond this specification.  Also, how to handle
   contacts with the same priority is up to implementations.

4.1.6.  The &lt;note&gt; element

   The &lt;note&gt; element contains a string value, which is usually used for
   a human readable comment.  A &lt;note&gt; element MAY appear as a child
   element of &lt;presence&gt; or as a child element of the &lt;tuple&gt; element.
   In the former case the comment is about the PRESENTITY and in the
   latter case the comment is regarding the particular tuple.

   Note that, wherever it appears, a &lt;note&gt; element SHOULD NOT be used,
   and interpreted, as a non-interoperable substitute for status of its
   parent element.

   The &lt;note&gt; element SHOULD have a special attribute &#x27;xml:lang&#x27; to
   specify the language used in the contents of this element as defined
   in Section 2.12 of [XML].  The value of this attribute is the
   language identifier as defined by [RFC3066].  It MAY be omitted when
   the language used is implied by the larger context such as the
   encoding information of the contents, such as an xml:lang attribute
   on an enclosing XML element, or a Content-language header [RFC3282]
   on an enclosing MIME wrapper.

4.1.7.  The &lt;timestamp&gt; element

   The &lt;timestamp&gt; element contains a string indicating the date and
   time of the status change of this tuple.  The value of this element
   MUST follow the IMPP datetime format [RFC3339].  Timestamps that
   contain &#x27;T&#x27; or &#x27;Z&#x27; MUST use the capitalized forms.

   As a security measure, the &lt;timestamp&gt; element SHOULD be included in
   all tuples unless the exact time of the status change cannot be
   determined.  For security guidelines for watchers receiving presence
   information with timestamps, see the Security Considerations.

   A PRESENTITY MUST NOT generate successive &lt;presence&gt; elements
   containing the same timestamp.

4.2.  Presence Information Extensibility

   The presence information extensibility framework is based on XML
   namespaces [XML-NS].

   RFC 2779 requires that PIDF have a means of extending &lt;status&gt; values
   beyond &lt;basic&gt;.  These extensions MUST NOT modify how &lt;basic&gt; is to
   be understood, nor change the structure or semantics of PIDF bodies
   themselves.  These extensions merely allow protocols and applications
   to define richer presence data.

4.2.1.  XML Namespaces Background

   All elements and some attributes are associated with a &quot;namespace&quot;,
   which is in turn associated with a globally unique URI.  Any
   developer can introduce their own element names, avoiding conflict by
   choosing an appropriate namespace URI.

   Within the presence data, element or attribute names are associated
   with a particular namespace by a namespace prefix, which is a leading
   part of the name, followed by a colon (&quot;:&quot;); e.g.,

      &lt;prefix:element-name ...&gt; ... &lt;/prefix:element-name&gt;

   Where, &#x27;prefix&#x27; is the header name prefix, &#x27;element-name&#x27; is a name
   which is scoped by the namespace associated with &#x27;prefix&#x27;.  Note that
   the choice of &#x27;prefix&#x27; is quite arbitrary;  it is the corresponding
   URI that defines the naming scope.  Two different prefixes associated
   with the same namespace URI refer to the same namespace.

   A default namespace can be declared for XML elements without a
   namespace prefix.  The default namespace does NOT apply to attribute
   names, but interpretation of an unprefixed attribute can be
   determined by the containing element.

   A namespace is identified by a URI.  In this usage, the URI is used
   simply as a globally unique identifier, and there is no requirement
   that it can be used to retrieve a web resource, or for any other
   purpose.  Any legal globally unique URI MAY be used to identify a
   namespace.  (By &quot;globally unique&quot;, we mean constructed according to
   some set of rules so that it is reasonable to expect that nobody else
   will use the same URI for a different purpose.)

   For further details, see the XML namespace specification [XML-NS].

4.2.2.  XML Namespaces In Presence Information

   A URI used as a namespace identifier in PRESENCE INFORMATION data
   MUST be a full absolute-URI, per RFC 2396 [URI].  (Relative URIs and
   URI-references containing fragment identifiers MUST NOT be used for
   this purpose.)

   The namespace URI for elements defined by this specification is a URN
   [URN], using the namespace identifier &#x27;ietf&#x27; defined by [URN-NS-IETF]
   and extended by [XML-Registry]:

      urn:ietf:params:xml:ns:pidf

   Thus, simple presence data might be thus:

   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
   &lt;impp:presence xmlns:impp=&quot;urn:ietf:params:xml:ns:pidf&quot;
       entity=&quot;pres:someone@example.com&quot;&gt;
     &lt;impp:tuple id=&quot;sg89ae&quot;&gt;
       &lt;impp:status&gt;
         &lt;impp:basic&gt;open&lt;/impp:basic&gt;
       &lt;/impp:status&gt;
       &lt;impp:contact priority=&quot;0.8&quot;&gt;tel:+09012345678&lt;/impp:contact&gt;
     &lt;/impp:tuple&gt;
   &lt;/impp:presence&gt;

   , using a default XML namespace:

   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
   &lt;presence xmlns=&quot;urn:ietf:params:xml:ns:pidf&quot;
       entity=&quot;pres:someone@example.com&quot;&gt;
     &lt;tuple id=&quot;sg89ae&quot;&gt;
       &lt;status&gt;
         &lt;basic&gt;open&lt;/basic&gt;
       &lt;/status&gt;
       &lt;contact priority=&quot;0.8&quot;&gt;tel:+09012345678&lt;/contact&gt;
     &lt;/tuple&gt;
   &lt;/presence&gt;

   As is generally the case in XML with namespaces, the xmlns attribute
   can be used on any element in the presence information to define
   either the default namespace or a namespace associated with a
   namespace prefix.

4.2.3.  Handling Of Unrecognized Element Names

   Except as noted below, a processor of PRESENCE INFORMATION MUST
   ignore any XML element with an unrecognized name (i.e., having an
   unrecognized namespace URI, or an unrecognized local name within that
   namespace).  This includes all of the element content, even if it
   appears to contain elements with recognized names.

   Extensions to PIDF are informational in nature - they provide
   additional information beyond &lt;basic&gt; status.  However, in order to
   understand a complex extension, nested elements within an extension
   element might need to be marked as mandatory.  In such cases, the
   element name is qualified with a mustUnderstand=&#x27;true&#x27; or
   mustUnderstand=&#x27;1&#x27; attribute.  See section 4.3.3 for an example.

      NOTE:  a mustUnderstand=&#x27;true&#x27; or mustUnderstand=&#x27;1&#x27; attribute
      within an element that is being ignored is itself ignored.  The
      writer of nested mandatory-to-understand information is
      responsible for ensuring that any enclosing element is also
      labelled with a mustUnderstand=&#x27;true&#x27; or mustUnderstand=&#x27;1&#x27;
      attribute, if necessary.

   This specification defines (section 4.1) elements within the
   &#x27;urn:ietf:params:xml:ns:pidf&#x27; namespace that MUST be recognized in
   CPP presence data.  Processors MUST handle these as described, even
   if they do not carry a mustUnderstand attribute.  The XML Schema
   Definition (section 4.4) indicates those elements that MUST be
   present in a valid presence information document.

   If an agent receives PRESENCE INFORMATION with a &lt;status&gt; block
   containing an unrecognized element with a mustUnderstand=&#x27;true&#x27; (or
   &#x27;1&#x27;) attribute, it should treat that entire element and any content
   as unrecognized and not attempt to process it.

   In order to ensure that minimal implementations can correctly process
   basic PIDF information the mustUnderstand attribute MUST be used only
   within optional elements nested in a &lt;status&gt; element.  This will
   ensure that problems processing an extension are restricted to that
   extension and do not affect the processing of the basic PIDF
   information defined in this specification.

4.2.4. Status Value Extensibility

   This memo defines only the &lt;basic&gt; status value with values of &quot;open&quot;
   and &quot;closed&quot;.  Other status values are possible using the standard
   namespace-based extensibility rules defined above.

   For example, a location status value might be included thus:

   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
   &lt;presence xmlns=&quot;urn:ietf:params:xml:ns:pidf&quot;
       xmlns:local=&quot;urn:example-com:pidf-status-type&quot;
       entity=&quot;pres:someone@example.com&quot;&gt;
     &lt;tuple id=&quot;ub93s3&quot;&gt;
       &lt;status&gt;
         &lt;basic&gt;open&lt;/basic&gt;
         &lt;local:location&gt;home&lt;/local:location&gt;
       &lt;/status&gt;
       &lt;contact&gt;im:someone@example.com&lt;/contact&gt;
     &lt;/tuple&gt;
   &lt;/presence&gt;

   Some new status values will &#x27;extend&#x27; the value of the &lt;basic&gt;
   element.  For example, a status value defined for use with instant
   messaging may include values such as &#x27;away&#x27;, &#x27;busy&#x27; and &#x27;offline&#x27;.
   In order that some level of interoperability be maintained with user
   agents that don&#x27;t recognize the new extension, the &lt;basic&gt; status
   value must also be included.  This means that extensions are not
   obligated to define a mapping from each of their values to OPEN or
   CLOSED.

4.2.5.  Standardizing Status Extensions

   Although the existing PIDF definition allows arbitrary elements to
   appear in the &lt;status&gt; element, it may be sometimes desirable to
   standardize extension status elements and their semantics (the
   meanings of particular statuses, how they should be interpreted).
   The URN &#x27;urn:ietf:params:xml:ns:pidf:status&#x27; has been specified as an
   umbrella namespace under which extensions to the &lt;status&gt; PIDF
   element should be specified (e.g.,
   urn:ietf:params:xml:ns:pidf:status:my-extension).  New values under
   this namespace MUST be defined by a standards-track RFC.

   The following example XML Schema defines an extension for &lt;location&gt;
   presence information, which can have the values of &#x27;home&#x27;, &#x27;office&#x27;,
   or &#x27;car&#x27;.  If the &lt;location&gt; element were standardized, this document
   would be made available in an RFC along with information about the
   use of the extension.  These extensions should use the namespace
   &#x27;urn:ietf:params:xml:ns:pidf:status&#x27;, and each RFC defining an
   extension should register an extension name within that namespace
   with IANA.

   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
   &lt;xs:schema targetNamespace=&quot;urn:ietf:params:xml:ns:pidf:status&quot;
        xmlns:tns=&quot;urn:ietf:params:xml:ns:pidf:status&quot;

        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
        elementFormDefault=&quot;qualified&quot;
        attributeFormDefault=&quot;unqualified&quot;&gt;

     &lt;xs:simpleType name=&quot;location&quot;&gt;
       &lt;xs:restriction base=&quot;xs:string&quot;&gt;
         &lt;xs:enumeration value=&quot;home&quot;/&gt;
         &lt;xs:enumeration value=&quot;office&quot;/&gt;
         &lt;xs:enumeration value=&quot;car&quot;/&gt;
       &lt;/xs:restriction&gt;
     &lt;/xs:simpleType&gt;

   &lt;/xs:schema&gt;

   In addition to the XML Schema to validate the extension, registration
   of the extension name with IANA, RFCs defining extensions MUST
   discuss:

   -  The domain of applicability of the extension.  Is this extension
      exclusively valuable to IM clients, telephones, geolocators, etc?
      What sorts of presence applications would use this extension and
      under what circumstances?

   -  Semantics for the presence states defined in the extension.  What
      disposition provokes an automated presentity to declare that it is
      in state X, or does a human select X from a drag-down menu? Is
      there any general guidance for watchers of presence information
      with state Y (for example, how they should best attempt to
      communicate with the presentity, if at all, when the principal is
      in state Y).

   Extensions SHOULD also discuss:

   -  How, if at all, any presence states defined in the extension
      related to &lt;basic&gt;, or to any relevant extension previously
      published in an RFC.  For example, &quot;state Z implies OPEN, so it
      MUST NOT be used if a basic state of CLOSED is expressed&quot;, or
      &quot;you should use the extension in this document, not the extension
      in RFC QQQQ, if your circumstances are as follows....&quot;

4.3.  Examples

4.3.1.  Default Namespace with Status Extensions

   The following instance document uses a hypothetical &#x27;pidf:im&#x27; XML
   namespace as an example of the sort of status extension that might be
   developed for PIDF.

   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
   &lt;presence xmlns=&quot;urn:ietf:params:xml:ns:pidf&quot;
        xmlns:im=&quot;urn:ietf:params:xml:ns:pidf:im&quot;
        xmlns:myex=&quot;http://id.example.com/presence/&quot;
        entity=&quot;pres:someone@example.com&quot;&gt;
     &lt;tuple id=&quot;bs35r9&quot;&gt;
       &lt;status&gt;
         &lt;basic&gt;open&lt;/basic&gt;
         &lt;im:im&gt;busy&lt;/im:im&gt;
         &lt;myex:location&gt;home&lt;/myex:location&gt;
       &lt;/status&gt;
       &lt;contact priority=&quot;0.8&quot;&gt;im:someone@mobilecarrier.net&lt;/contact&gt;
       &lt;note xml:lang=&quot;en&quot;&gt;Don&#x27;t Disturb Please!&lt;/note&gt;
       &lt;note xml:lang=&quot;fr&quot;&gt;Ne derangez pas, s&#x27;il vous plait&lt;/note&gt;
       &lt;timestamp&gt;2001-10-27T16:49:29Z&lt;/timestamp&gt;
     &lt;/tuple&gt;
     &lt;tuple id=&quot;eg92n8&quot;&gt;
       &lt;status&gt;
         &lt;basic&gt;open&lt;/basic&gt;
       &lt;/status&gt;
       &lt;contact priority=&quot;1.0&quot;&gt;mailto:someone@example.com&lt;/contact&gt;
     &lt;/tuple&gt;
     &lt;note&gt;I&#x27;ll be in Tokyo next week&lt;/note&gt;
   &lt;/presence&gt;

4.3.2.  Presence with Other Extension Elements

   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
   &lt;impp:presence xmlns:impp=&quot;urn:ietf:params:xml:ns:pidf&quot;
        xmlns:myex=&quot;http://id.example.com/presence/&quot;
        entity=&quot;pres:someone@example.com&quot;&gt;
     &lt;impp:tuple id=&quot;ck38g9&quot;&gt;
       &lt;impp:status&gt;
         &lt;impp:basic&gt;open&lt;/impp:basic&gt;
       &lt;/impp:status&gt;
       &lt;myex:mytupletag&gt;Extended value in tuple&lt;/myex:mytupletag&gt;
       &lt;impp:contact priority=&quot;0.65&quot;&gt;tel:+09012345678&lt;/impp:contact&gt;
     &lt;/impp:tuple&gt;
     &lt;impp:tuple id=&quot;md66je&quot;&gt;
       &lt;impp:status&gt;
         &lt;impp:basic&gt;open&lt;/impp:basic&gt;
       &lt;/impp:status&gt;
       &lt;impp:contact priority=&quot;1.0&quot;&gt;
          im:someone@mobilecarrier.net&lt;/impp:contact&gt;
     &lt;/impp:tuple&gt;
     &lt;myex:mytag&gt;My extended presentity information&lt;/myex:mytag&gt;
   &lt;/impp:presence&gt;

4.3.3.  Example Mandatory To Understand Elements

   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
   &lt;impp:presence xmlns:impp=&quot;urn:ietf:params:xml:ns:pidf&quot;
        xmlns:myex=&quot;http://id.mycompany.com/presence/&quot;
        entity=&quot;pres:someone@example.com&quot;&gt;
     &lt;impp:tuple id=&quot;tj25ds&quot;&gt;
       &lt;impp:status&gt;
         &lt;impp:basic&gt;open&lt;/impp:basic&gt;
       &lt;/impp:status&gt;
       &lt;myex:complexExtension&gt;
         &lt;myex:ex1 impp:mustUnderstand=&quot;1&quot;&gt;val1&lt;/myex:ex1&gt;
         &lt;myex:ex2&gt;val2&lt;/myex:ex2&gt;
       &lt;/myex:complexExtension&gt;
       &lt;impp:contact priority=&quot;0.725&quot;&gt;tel:+09012345678&lt;/impp:contact&gt;
     &lt;/impp:tuple&gt;
     &lt;myex:mytag&gt;My extended presentity information&lt;/myex:mytag&gt;
   &lt;/impp:presence&gt;

   Here, &lt;myex:ex1&gt; must be understood and, if it is not recognized,
   &lt;myex:complexExtension&gt; MUST be ignored.   &lt;myex:mytag&gt; and
   &lt;myex:ex2&gt; MAY be ignored if they are not recognized.

4.4.  XML Schema Definitions

   This section gives the XML Schema Definition [XMLSchema1] of the
   &quot;application/pidf+xml&quot; format.  This is presented as a formal
   definition of the &quot;application/pidf+xml&quot; format.  Note that the XML
   Schema definition is not intended to be used with on-the-fly
   validation of the presence XML document.

   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
   &lt;xs:schema targetNamespace=&quot;urn:ietf:params:xml:ns:pidf&quot;
        xmlns:tns=&quot;urn:ietf:params:xml:ns:pidf&quot;
        xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;
        elementFormDefault=&quot;qualified&quot;
        attributeFormDefault=&quot;unqualified&quot;&gt;

     &lt;!-- This import brings in the XML language attribute xml:lang--&gt;
     &lt;xs:import namespace=&quot;http://www.w3.org/XML/1998/namespace&quot;
       schemaLocation=&quot;http://www.w3.org/2001/xml.xsd&quot;/&gt;

     &lt;xs:element name=&quot;presence&quot; type=&quot;tns:presence&quot;/&gt;

     &lt;xs:complexType name=&quot;presence&quot;&gt;
       &lt;xs:sequence&gt;
         &lt;xs:element name=&quot;tuple&quot; type=&quot;tns:tuple&quot; minOccurs=&quot;0&quot;
            maxOccurs=&quot;unbounded&quot;/&gt;

         &lt;xs:element name=&quot;note&quot; type=&quot;tns:note&quot; minOccurs=&quot;0&quot;
            maxOccurs=&quot;unbounded&quot;/&gt;
         &lt;xs:any namespace=&quot;##other&quot; processContents=&quot;lax&quot; minOccurs=&quot;0&quot;
            maxOccurs=&quot;unbounded&quot;/&gt;
       &lt;/xs:sequence&gt;
       &lt;xs:attribute name=&quot;entity&quot; type=&quot;xs:anyURI&quot; use=&quot;required&quot;/&gt;
     &lt;/xs:complexType&gt;

     &lt;xs:complexType name=&quot;tuple&quot;&gt;
       &lt;xs:sequence&gt;
         &lt;xs:element name=&quot;status&quot; type=&quot;tns:status&quot;/&gt;
         &lt;xs:any namespace=&quot;##other&quot; processContents=&quot;lax&quot; minOccurs=&quot;0&quot;
            maxOccurs=&quot;unbounded&quot;/&gt;
         &lt;xs:element name=&quot;contact&quot; type=&quot;tns:contact&quot; minOccurs=&quot;0&quot;/&gt;
         &lt;xs:element name=&quot;note&quot; type=&quot;tns:note&quot; minOccurs=&quot;0&quot;
            maxOccurs=&quot;unbounded&quot;/&gt;
         &lt;xs:element name=&quot;timestamp&quot; type=&quot;xs:dateTime&quot; minOccurs=&quot;0&quot;/&gt;
       &lt;/xs:sequence&gt;
       &lt;xs:attribute name=&quot;id&quot; type=&quot;xs:ID&quot; use=&quot;required&quot;/&gt;
     &lt;/xs:complexType&gt;

     &lt;xs:complexType name=&quot;status&quot;&gt;
       &lt;xs:sequence&gt;
         &lt;xs:element name=&quot;basic&quot; type=&quot;tns:basic&quot; minOccurs=&quot;0&quot;/&gt;
         &lt;xs:any namespace=&quot;##other&quot; processContents=&quot;lax&quot; minOccurs=&quot;0&quot;
            maxOccurs=&quot;unbounded&quot;/&gt;
       &lt;/xs:sequence&gt;
     &lt;/xs:complexType&gt;
     &lt;xs:simpleType name=&quot;basic&quot;&gt;
       &lt;xs:restriction base=&quot;xs:string&quot;&gt;
         &lt;xs:enumeration value=&quot;open&quot;/&gt;
         &lt;xs:enumeration value=&quot;closed&quot;/&gt;
       &lt;/xs:restriction&gt;
     &lt;/xs:simpleType&gt;

     &lt;xs:complexType name=&quot;contact&quot;&gt;
       &lt;xs:simpleContent&gt;
         &lt;xs:extension base=&quot;xs:anyURI&quot;&gt;
           &lt;xs:attribute name=&quot;priority&quot; type=&quot;tns:qvalue&quot;/&gt;
         &lt;/xs:extension&gt;
       &lt;/xs:simpleContent&gt;
     &lt;/xs:complexType&gt;

     &lt;xs:complexType name=&quot;note&quot;&gt;
       &lt;xs:simpleContent&gt;
         &lt;xs:extension base=&quot;xs:string&quot;&gt;
           &lt;xs:attribute ref=&quot;xml:lang&quot;/&gt;
         &lt;/xs:extension&gt;

       &lt;/xs:simpleContent&gt;
     &lt;/xs:complexType&gt;

     &lt;xs:simpleType name=&quot;qvalue&quot;&gt;
       &lt;xs:restriction base=&quot;xs:decimal&quot;&gt;
         <span class="Verified-inline-styling" id='inline-1606'>         &lt;xs:pattern value=&quot;0(\.[0-9]{0,3})?&quot;/&gt; <button id="btn_1606" target="expand_1606" onclick='hideFunction("expand_1606")'>Expand</button>
         &lt;xs:pattern value=&quot;1(\.0{0,3})?&quot;/&gt;
</span id__locate=1606>
<div class="nodeCloseClass" id='expand_1606'><div class='Verified-endnote-styling' id='eid1606'>
<pre>
<b><i><a href='https://www.rfc-editor.org/errata/eid1606'>EID 1606</a> (Verified) is as follows:</i></b>

<b>Section:</b> 4.4

<b>Original Text:</b>

         &lt;xs:pattern value=&quot;0(.[0-9]{0,3})?&quot;/&gt;
         &lt;xs:pattern value=&quot;1(.0{0,3})?&quot;/&gt;

<b>Corrected Text:</b>

         &lt;xs:pattern value=&quot;0(\.[0-9]{0,3})?&quot;/&gt;
         &lt;xs:pattern value=&quot;1(\.0{0,3})?&quot;/&gt;
</pre>
<b>Notes:</b><br/>
As given, the pattern would allow values such as &quot;09&quot;, which is not the intention.  The metacharacter &#x27;.&#x27; needs to be escaped.
</div>
</div>       &lt;/xs:restriction&gt;
     &lt;/xs:simpleType&gt;

     &lt;!-- Global Attributes --&gt;
     &lt;xs:attribute name=&quot;mustUnderstand&quot; type=&quot;xs:boolean&quot; default=&quot;0&quot;&gt;
       &lt;xs:annotation&gt;
         &lt;xs:documentation&gt;
         This attribute may be used on any element within an optional
         PIDF extension to indicate that the corresponding element must
         be understood by the PIDF processor if the enclosing optional
         element is to be handled.
         &lt;/xs:documentation&gt;
       &lt;/xs:annotation&gt;
     &lt;/xs:attribute&gt;
   &lt;/xs:schema&gt;

5.  IANA Considerations

   This memo calls for IANA to:

   -  register a new MIME content-type application/pidf+xml, per [MIME],

   -  register a new XML namespace URN per [XML-Registry].

   -  register a new XML namespace URN for status extensions per [XML-
      Registry].

   The registration templates for these are below. For more information
   on status extensions, see section 4.2.5.

5.1.  Content-type registration for &#x27;application/pidf+xml&#x27;

   To: ietf-types@iana.org
   Subject: Registration of MIME media type application/pidf+xml

   MIME media type name:  application

   MIME subtype name:     pidf+xml

   Required parameters:   (none)

   Optional parameters:   charset
      Indicates the character encoding of enclosed XML.  Default is
      UTF-8.

   Encoding considerations:
      Uses XML, which can employ 8-bit characters, depending on the
      character encoding used.  See RFC 3023 [RFC 3023], section 3.2.

   Security considerations:
      This content type is designed to carry presence data, which may be
      considered private information.  Appropriate precautions should be
      adopted to limit disclosure of this information.

   Interoperability considerations:
      This content type provides a common format for exchange of
      presence information across different CPP compliant protocols.

   Published specification:
      RFC 3863

   Applications which use this media type:
      Presence and instant messaging systems.

   Additional information:
      Magic number(s):  File extension(s):  Macintosh File Type Code(s):

   Person &amp; email address to contact for further information:
      Hiroyasu Sugano EMail: sugano.h@jp.fujitsu.com

   Intended usage:
      LIMITED USE

   Author/Change controller:
      This specification is a work item of the IETF IMPP working group,
      with mailing list address &lt;impp@iastate.edu&gt;.

   Other information:
      This media type is a specialization of application/xml [RFC 3023],
      and many of the considerations described there also apply to
      application/pidf+xml.

5.2.  URN sub-namespace registration for &#x27;urn:ietf:params:xml:ns:pidf&#x27;

   URI
      urn:ietf:params:xml:ns:pidf

   Description:
      This is the XML namespace URI for XML elements defined by RFC 3863
      to describe CPP presence information in application/pidf+xml
      content type.

   Registrant Contact
      IETF, IMPP working group, &lt;impp@iastate.edu&gt;
      Hiroyasu Sugano, &lt;sugano.h@jp.fujitsu.com&gt;

   XML
      BEGIN
        &lt;?xml version=&quot;1.0&quot;?&gt;
        &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML Basic 1.0//EN&quot;
                  &quot;http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd&quot;&gt;
        &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
        &lt;head&gt;
          &lt;meta http-equiv=&quot;content-type&quot;
             content=&quot;text/html;charset=utf-8&quot;/&gt;
          &lt;title&gt;Namespace for CPP presence information&lt;/title&gt;
        &lt;/head&gt;
        &lt;body&gt;
          &lt;h1&gt;Namespace for CPP presence information&lt;/h1&gt;
          &lt;h2&gt;urn:ietf:params:xml:ns:pidf&lt;/h2&gt;
          &lt;p&gt;See &lt;a
             href=&quot;[[[ftp://ftp.rfc-editor.org/in-notes/rfc3863.txt]]]&quot;&gt;
             RFC3863&lt;/a&gt;.&lt;/p&gt;
        &lt;/body&gt;
        &lt;/html&gt;
      END

5.3.   URN sub-namespace registration for
       &#x27;urn:ietf:params:xml:ns:pidf:status&#x27;

   URI
      urn:ietf:params:xml:ns:pidf:status

   Description:
      This is the XML namespace URI for XML elements defined by
      RFC 3863 to describe extensions to the status of CPP presence
      information in application/pidf+xml content type.

   Registrant Contact
      IETF, IMPP working group, &lt;impp@iastate.edu&gt;
      Hiroyasu Sugano, &lt;sugano.h@jp.fujitsu.com&gt;

   XML
      BEGIN
        &lt;?xml version=&quot;1.0&quot;?&gt;

        &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML Basic 1.0//EN&quot;
                  &quot;http://www.w3.org/TR/xhtml-basic/xhtml-basic10.dtd&quot;&gt;
        &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
        &lt;head&gt;
          &lt;meta http-equiv=&quot;content-type&quot;
             content=&quot;text/html;charset=utf-8&quot;/&gt;
          &lt;title&gt;Namespace for CPP status extensions&lt;/title&gt;
        &lt;/head&gt;
        &lt;body&gt;
          &lt;h1&gt;Namespace for CPP presence information extensions&lt;/h1&gt;
          &lt;h2&gt;urn:ietf:params:xml:ns:pidf:status&lt;/h2&gt;
        &lt;p&gt;See &lt;a
          href=&quot;[[[ftp://ftp.rfc-editor.org/in-notes/rfc3863.txt]]]&quot;&gt;
          RFC3863&lt;/a&gt;.&lt;/p&gt;
        &lt;/body&gt;
        &lt;/html&gt;
      END

6.  Security Considerations

   Because presence is very privacy-sensitive information, the protocol
   for the presence information MUST have capabilities to protect PIDF
   from possible threats, such as eavesdropping, corruption, tamper and
   replay attacks.  These security mechanisms must be able to be used
   end-to-end between presentities and watchers, even if the watcher and
   the presentity employ different presence protocols and communicate
   through a CPP gateway.  Since the &#x27;application/pidf+xml&#x27; MIME type is
   defined for this PIDF document, staging security for PIDF at the MIME
   level (with S/MIME [RFC3851]) seems appropriate.  Therefore, PIDF
   should follow the normative recommendations for the use of S/MIME
   (including minimum ciphersuites) given in the core CPP specification.

   Note that the use of timestamps in PIDF (see section 4.1.7) can
   provide some rudimentary protection against replay attacks.  If a
   watcher receives presence information that is outdated, it SHOULD be
   ignored.  A watcher can determine that presence information is
   outdated in a number of fashions.  Most significantly, if the newest
   timestamp in presence information is older than the newest timestamp
   in the last received presence information, it should be considered
   outdated.  Applications and protocols also are advised to adopt their
   own rules for determining how frequently presence information should
   be refreshed.  For example, if presence information appears to be
   more than one hour old, it could be considered outdated (a
   notification generated for this presence information will not take
   such a long time to reach a watcher, and if a presentity has not
   refreshed its presence state in the last hour, it is probably
   offline).

7.  Internationalization Considerations

   All the processors conformant to this specification MUST be able to
   generate and accept UTF-8 encoding, this being one of the mandatory
   character encodings for XML conforming processors, and also required
   by the policies set out in RFC 2277 [RFC2277].

   Other character encodings MAY be accepted (but CPP compliant
   processors are strongly discouraged from emitting anything other than
   UTF-8).

8.  References

8.1.  Normative References

   [RFC2119]      Bradner, S., &quot;Key words for use in RFCs to Indicate
                  Requirement Levels&quot;, RFC 2119, BCP 14, March 1997.

   [RFC3023]      Murata, M., St. Laurent, S., and D. Kohn, &quot;XML Media
                  Types&quot;, RFC 3023, January 2001.

   [XML]          Bray, T., Paoli, J., Sperberg-McQueen, C., and E.
                  Maler, &quot;Extensible Markup Language (XML) 1.0 (Second
                  Edition)&quot;, W3C Recommendation, October 2000,
                  &lt;http://www.w3.org/TR/2000/REC-xml-20001006&gt;

   [MIME]         Freed, N. and N. Borenstein, &quot;Multipurpose Internet
                  Mail Extensions (MIME) Part One: Format of Internet
                  Message Bodies&quot;, RFC 2045, November 1996.

                  Freed, N. and N. Borenstein, &quot;Multipurpose Internet
                  Mail Extensions (MIME) Part Two: Media Types&quot;, RFC
                  2046, November 1996.

                  Moore, K., &quot;MIME (Multipurpose Internet Mail
                  Extensions) Part Three:  Message Header Extensions for
                  Non-ASCII Text&quot;, RFC 2047, November 1996.

                  Freed, N., Klensin, J., and J. Postel, &quot;Multipurpose
                  Internet Mail Extensions (MIME) Part Four:
                  Registration Procedures&quot;, BCP 13, RFC 2048, November
                  1996.

                  Freed, N. and N. Borenstein, &quot;Multipurpose Internet
                  Mail Extensions (MIME) Part Five: Conformance Criteria
                  and Examples&quot;, RFC 2049, November 1996.

   [RFC3066]      Alvestrand, H., &quot;Tags for the Identification of
                  Languages&quot;, BCP 47, RFC 3066, March 1995.

   [RFC3339]      Klyne, G. and C. Newman, &quot;Date and Time on the
                  Internet: Timestamps&quot;, RFC 3339, July 2002.

   [XML-NS]       Bray, T., Hollander, D., and A. Layman &quot;Namespaces in
                  XML&quot;, W3C recommendation: xml-names, 14 January 1999,
                  &lt;http://www.w3.org/TR/REC-xml-names&gt;

   [URI]          Berners-Lee, T., Fielding, R., and L. Masinter,
                  &quot;Uniform Resource Identifiers (URI): Generic Syntax&quot;,
                  RFC 2396, August 1998.

   [URN]          Moats, R., &quot;URN Syntax&quot;, RFC 2141, May 1997.

   [URN-NS-IETF]  Moats, R., &quot;A URN Namespace for IETF Documents&quot;, RFC
                  2648, August 1999.

   [XML-Registry] Mealling, M., &quot;The IETF XML Registry&quot;, RFC 3688,
                  January 2004.

   [RFC2277]      Alvestrand, H., &quot;IETF Policy on Character Sets and
                  Languages&quot;, BCP 18, RFC 2277, January 1998.

   [XMLSchema1]   Thompson, H., Beech, D., Maloney, M., and N.
                  Mendelsohn, &quot;XML Schema Part 1: Structures&quot;, W3C REC-
                  xmlschema-1, May 2001,
                  &lt;http://www.w3.org/TR/xmlschema-1/&gt;.

8.2.  Informative References

   [RFC2778]      Day, M., Rosenberg, J., and H. Sugano, &quot;A Model for
                  Presence and Instant Messaging&quot;, RFC 2778, February
                  2000.

   [RFC2779]      Day, M., Aggarwal, S., Mohr, G., and J. Vincent,
                  &quot;Instant Messaging / Presence Protocol Requirements&quot;,
                  RFC 2779, February 2000.

   [CPIM]         Peterson, J., &quot;Common Profile for Instant Messaging
                  (CPIM)&quot;, RFC 3860, August 2004.

   [CPP]          Peterson, J., &quot;Common Presence for Presence (CPP)&quot;,
                  RFC 3859, August 2004.

   [vCard]        Dawson, F. and T. Howes, &quot;vCard MIME Directory
                  Profile&quot;, RFC 2426, September 1998.

   [RFC3851]      Ramsdell, B., Ed., &quot;Secure/Multipurpose Internet Mail
                  Extensions (S/MIME) Version 3.1 Message
                  Specification&quot;, RFC 3851, July 2004.

   [RFC3282]      Alvestrand, H., &quot;Content Language Headers&quot;, RFC 3282,
                  May 2002.

Appendix A. Document Type Definitions

   The Document Type Definition for the &quot;application/pidf+xml&quot; format is
   described.  The DTD here is presented only for informational for
   those who may not familiar with the XML Schema definition.

   Note: the DTD does not show where extension elements can be added.
   See the XML Schema for that information.

   &lt;!ENTITY % URL         &quot;CDATA&quot;&gt;
   &lt;!ENTITY % URI         &quot;CDATA&quot;&gt;
   &lt;!ENTITY % TUPLEID     &quot;CDATA&quot;&gt;
   &lt;!ENTITY % DATETIME    &quot;CDATA&quot;&gt;
   &lt;!ENTITY % VALUETYPE   &quot;CDATA&quot;&gt;
   &lt;!ENTITY % PRIORITY    &quot;CDATA&quot;&gt;
   &lt;!ENTITY % NOTE        &quot;CDATA&quot;&gt;

   &lt;!ELEMENT presence ((tuple*),note?)&gt;
   &lt;!ATTLIST presence
             xmlns     %URI;     #REQUIRED
             entity    %URL;     #REQUIRED
   &gt;

   &lt;!ELEMENT tuple (status,contact?,note?,timestamp?)&gt;
   &lt;!ATTLIST tuple
             id   %TUPLEID;      #REQUIRED
   &gt;

   &lt;!ELEMENT status (basic?)&gt;
   &lt;!ELEMENT basic CDATA&gt;

   &lt;!ELEMENT contact %URL;&gt;
   &lt;!ATTLIST contact
             priority %PRIORITY; #IMPLIED
   &gt;

   &lt;!ELEMENT note %NOTE;&gt;

   &lt;!ELEMENT timestamp %DATETIME;&gt;

Authors&#x27; Addresses

   Hiroyasu Sugano
   Fujitsu Laboratories Ltd.
   64, Nishiwaki
   Ohkubo-cho
   Akashi 674-8555
   Japan

   EMail: sugano.h@jp.fujitsu.com


   Shingo Fujimoto
   Fujitsu Laboratories Ltd.
   64, Nishiwaki
   Ohkubo-cho
   Akashi 674-8555
   Japan

   EMail: shingo_fujimoto@jp.fujitsu.com


   Graham Klyne
   Nine by Nine

   EMail: GK@ninebynine.org


   Adrian Bateman
   VisionTech Limited
   Colton, Staffordshire, WS15 3LD
   United Kingdom

   EMail: bateman@acm.org


   Wayne Carr
   Intel Corporation
   2111 NE 25th Avenue
   Hillsboro, OR 97124
   USA

   EMail: wayne.carr@intel.com

   Jon Peterson
   NeuStar, Inc.
   1800 Sutter St
   Suite 570
   Concord, CA  94520
   USA

   Phone: +1 925/363-8720
   EMail: jon.peterson@neustar.biz

Full Copyright Statement

   Copyright (C) The Internet Society (2004).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.

   This document and the information contained herein are provided on an
   &quot;AS IS&quot; basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Intellectual Property

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at ietf-
   ipr@ietf.org.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.


        </re>
        
    </body>
</html>
