
Fax Working Group                                               Dan Wing
Internet Draft                                             Cisco Systems
October 23, 1998
Expires February 1999
draft-ietf-fax-reporting-extensions-04.txt

                Indicating Supported Media Features Using
                        Extensions to DSN and MDN

Status of this memo

   This document is an Internet-Draft. Internet-Drafts are working
   documents of the Internet Engineering Task Force (IETF), its areas,
   and its working groups.  Note that other groups may also distribute
   working documents as Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   To view the entire list of current Internet-Drafts, please check
   the "1id-abstracts.txt" listing contained in the Internet-Drafts
   Shadow Directories on ftp.is.co.za (Africa), ftp.nordu.net
   (Northern Europe), ftp.nis.garr.it (Southern Europe), munnari.oz.au
   (Pacific Rim), ftp.ietf.org (US East Coast), or ftp.isi.edu
   (US West Coast).

Copyright Notice

   Copyright (C) The Internet Society (1998).  All Rights Reserved.

1.  Abstract

   A device, unlike a workstation, is not generally extensible by
   installing a new reader, plugin, or other software.  There is a need
   in Internet mail for a recipient to indicate the media features it
   supports so that messages can be generated by senders without
   exceeding the recipient's abilities.

   This memo describes a format for generating Message Disposition
   Notifications [RFC2298] and Delivery Status Notifications [RFC1894]
   which contain such information.  This information can be used by
   senders to avoid exceeding the recipient's capabilities when sending
   subsequent messages.

2. Introduction




Wing                       Expires March 1999                  [Page 1]

Internet Draft        Media Features using DSN/MDN          October 1998


   The extensions described in this document can be used in Message
   Disposition Notifications [RFC2298] or Delivery Status Notifications
   [RFC1894], as appropriate for the implementation.

   Note that both DSNs and MDNs have drawbacks:  DSNs are not available
   between all senders and receivers, and MDNs require the receiver
   disclose message disposition information (or, if using the "denied"
   disposition-type, the time the dispostion notification was
   generated).

3.  Extensions for use by DSN and MDN

   The following extension is available to both DSN [RFC1894] and MDN
   [RFC2298] messages.

   For a DSN message, the following per-recipient fields are defined
   (section 2.3 of [RFC1894]).  For an MDN message, the following
   extension fields are defined (section 3.1 of [RFC2298]).  Using
   the language of [RFC2234]:

      extension-field    = media-features CRLF

      media-features     = "Accept-Features" ":"
                            media-feature-tags
      media-feature-tags = <*text as defined by other documents,
                            with LWSP wrapping)

   The <media-feature-tags> are defined in separate schema documents
   which MUST utilize the language described in [SYNTAX].  The
   schema MUST be registered following the registration requirements
   of [CONNEG-REG].

3.1.  Examples

   The following examples assume there is a schema document
   which defines the tags shown.

3.1.1.  Paper-size and Color

   Assuming there is a schema document which describes the
   tags paper-size and color, the following example is valid:

      Accept-Features: (& (paper-size=A4) (color<=256) )

3.1.2.  UA-Media, Paper-size, and Color

   Assuming there is a schema document which describes the
   tags paper-size, color, and grey:



Wing                       Expires March 1999                  [Page 2]

Internet Draft        Media Features using DSN/MDN          October 1998



      Accept-Features: (& (| (paper-size=(A4)) (paper-size=letter) )
        (| (& (grey=2) (dpi-x=200) (dpi-y=[100,200]) )
        (& (color<=256) (dpi-x=200) (dpi-y=200) ) )

4.  MTA Implmentation Recommendation

   If the recipient's MTA determines that a message cannot be processed,
   the recipient's MTA is strongly encouraged to reject the message with
   a status code of 5.6.1 [RFC1893].  This status code may be returned
   in response to the end-of-mail-data indicator if the MTA supports
   reporting of enhanced error codes [RFC2034], or after message
   reception by generating a delivery failure DSN ("bounce").

5.  Security Considerations

   Inaccurate media feature information could cause a denial of service,
   causing subsequent messages to be sent which the recipient is
   unable to process.

   The media feature information could be inaccurate due to a malicious
   attack (spoofed DSN or MDN) or misconfiguration.

6.  Acknowledgments

   The author thanks the members of the Internet Fax working group for
   assistance with this document, and especially Larry Masinter,
   Graham Klyne, and Ned Freed.

7.  References

   [CONNEG-REG] K. Holtman, A. Mutz, T. Hardie, "Media Feature Tag
   Registration Procedure", Internet Draft, Work in Progress,
   draft-ietf-conneg-feature-reg-XX.txt.

   [RFC1894] K. Moore, G. Vaudreuil, "An Extensible Message Format for
   Delivery Status Notifications", RFC 1894, January 1996.

   [RFC2034] N. Freed, "SMTP Service Extension for Returning Enhanced
   Error Codes", RFC 2034, October 1996.

   [RFC2234] D. Crocker, P. Overell, "Augmented BNF for Syntax
   Specifications:  ABNF", RFC 2234, November 1997.

   [RFC2298] R. Fajman, "An Extensible Message Format for Message
   Disposition Notifications", RFC 2298, March 1998.

   [SYNTAX] G. Klyne, "A syntax for describing media feature sets",



Wing                       Expires March 1999                  [Page 3]

Internet Draft        Media Features using DSN/MDN          October 1998


   Internet Draft, Work in Progress,
   draft-ietf-conneg-feature-syntax-XX.txt.

8.  Author's Address

   Dan Wing
   Cisco Systems, Inc.
   101 Cooper Street
   Santa Cruz, CA 95060  USA

   Phone: +1 831 457 5200
   Fax:   +1 831 457 5208
   EMail: dwing@cisco.com

9.  Copyright

   Copyright (C) The Internet Society 1998.  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implmentation may be prepared, copied, published and
   distributed, in whole or in part, without restriction of any kind,
   provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the  purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.










Wing                       Expires March 1999                  [Page 4]

