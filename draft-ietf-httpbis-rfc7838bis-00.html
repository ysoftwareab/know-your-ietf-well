<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>HTTP Alternative Services</title>
<meta content="Mike Bishop" name="author">
<meta content="Martin Thomson" name="author">
<meta content="
       This document specifies &quot;Alternative Services&quot; for HTTP, which allow
an origin's resources to be authoritatively available at a separate
network location, possibly accessed with a different protocol
configuration. 
    " name="description">
<meta content="xml2rfc 3.9.1" name="generator">
<meta content="Internet-Draft" name="keyword">
<meta content="draft-ietf-httpbis-rfc7838bis-00" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.9.1
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.5.1
    google-i18n-address 2.5.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.3.1
    PyYAML 5.4.1
    requests 2.26.0
    setuptools 57.4.0
    six 1.16.0
-->
<link href="/tmp/draft-ietf-httpbis-rfc7838bis-00-n_k8u461.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.ulBare, li.ulBare {
  margin-left: 0em !important;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">HTTP Alternative Services</td>
<td class="right">September 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Bishop &amp; Thomson</td>
<td class="center">Expires 5 March 2022</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">HTTP Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-httpbis-rfc7838bis-00</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-09-01" class="published">1 September 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2022-03-05">5 March 2022</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">M. Bishop, <span class="editor">Ed.</span>
</div>
<div class="org">Akamai Technologies</div>
</div>
<div class="author">
      <div class="author-name">M. Thomson, <span class="editor">Ed.</span>
</div>
<div class="org">Mozilla</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">HTTP Alternative Services</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document specifies "Alternative Services" for HTTP, which allow
an origin's resources to be authoritatively available at a separate
network location, possibly accessed with a different protocol
configuration.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 5 March 2022.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="ulBare toc ulEmpty compact">
<li class="ulBare toc ulEmpty compact" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="toc compact ulBare ulEmpty">
<li class="toc compact ulBare ulEmpty" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-changes-from-rfc-7838" class="xref">Changes from RFC 7838</a></p>
</li>
              <li class="toc compact ulBare ulEmpty" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="xref">1.2</a>.  <a href="#name-notational-conventions" class="xref">Notational Conventions</a></p>
</li>
            </ul>
</li>
          <li class="ulBare toc ulEmpty compact" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-alternative-services-concep" class="xref">Alternative Services Concepts</a></p>
<ul class="toc compact ulBare ulEmpty">
<li class="toc compact ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-host-authentication" class="xref">Host Authentication</a></p>
</li>
              <li class="toc compact ulBare ulEmpty" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-alternative-service-caching" class="xref">Alternative Service Caching</a></p>
</li>
              <li class="toc compact ulBare ulEmpty" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-requiring-server-name-indic" class="xref">Requiring Server Name Indication</a></p>
</li>
              <li class="toc compact ulBare ulEmpty" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="xref">2.4</a>.  <a href="#name-using-alternative-services" class="xref">Using Alternative Services</a></p>
</li>
            </ul>
</li>
          <li class="ulBare toc ulEmpty compact" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-the-alt-svc-http-header-fie" class="xref">The Alt-Svc HTTP Header Field</a></p>
<ul class="toc compact ulBare ulEmpty">
<li class="toc compact ulBare ulEmpty" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-caching-alt-svc-header-fiel" class="xref">Caching Alt-Svc Header Field Values</a></p>
</li>
            </ul>
</li>
          <li class="ulBare toc ulEmpty compact" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-the-altsvc-http-2-frame" class="xref">The ALTSVC HTTP/2 Frame</a></p>
</li>
          <li class="ulBare toc ulEmpty compact" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-the-alt-used-http-header-fi" class="xref">The Alt-Used HTTP Header Field</a></p>
</li>
          <li class="ulBare toc ulEmpty compact" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-the-421-misdirected-request" class="xref">The 421 (Misdirected Request) HTTP Status Code</a></p>
</li>
          <li class="ulBare toc ulEmpty compact" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
<ul class="toc compact ulBare ulEmpty">
<li class="toc compact ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="xref">7.1</a>.  <a href="#name-header-field-registrations" class="xref">Header Field Registrations</a></p>
</li>
              <li class="toc compact ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="xref">7.2</a>.  <a href="#name-the-altsvc-http-2-frame-typ" class="xref">The ALTSVC HTTP/2 Frame Type</a></p>
</li>
              <li class="toc compact ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="xref">7.3</a>.  <a href="#name-alt-svc-parameter-registry" class="xref">Alt-Svc Parameter Registry</a></p>
<ul class="toc compact ulBare ulEmpty">
<li class="toc compact ulBare ulEmpty" id="section-toc.1-1.7.2.3.2.1">
                    <p id="section-toc.1-1.7.2.3.2.1.1"><a href="#section-7.3.1" class="xref">7.3.1</a>.  <a href="#name-procedure" class="xref">Procedure</a></p>
</li>
                  <li class="toc compact ulBare ulEmpty" id="section-toc.1-1.7.2.3.2.2">
                    <p id="section-toc.1-1.7.2.3.2.2.1"><a href="#section-7.3.2" class="xref">7.3.2</a>.  <a href="#name-registrations" class="xref">Registrations</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="ulBare toc ulEmpty compact" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-internationalization-consid" class="xref">Internationalization Considerations</a></p>
</li>
          <li class="ulBare toc ulEmpty compact" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
<ul class="toc compact ulBare ulEmpty">
<li class="toc compact ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-changing-ports" class="xref">Changing Ports</a></p>
</li>
              <li class="toc compact ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="xref">9.2</a>.  <a href="#name-changing-hosts" class="xref">Changing Hosts</a></p>
</li>
              <li class="toc compact ulBare ulEmpty" id="section-toc.1-1.9.2.3">
                <p id="section-toc.1-1.9.2.3.1"><a href="#section-9.3" class="xref">9.3</a>.  <a href="#name-changing-protocols" class="xref">Changing Protocols</a></p>
</li>
              <li class="toc compact ulBare ulEmpty" id="section-toc.1-1.9.2.4">
                <p id="section-toc.1-1.9.2.4.1"><a href="#section-9.4" class="xref">9.4</a>.  <a href="#name-tracking-clients-using-alte" class="xref">Tracking Clients Using Alternative Services</a></p>
</li>
              <li class="toc compact ulBare ulEmpty" id="section-toc.1-1.9.2.5">
                <p id="section-toc.1-1.9.2.5.1"><a href="#section-9.5" class="xref">9.5</a>.  <a href="#name-confusion-regarding-request" class="xref">Confusion regarding Request Scheme</a></p>
</li>
            </ul>
</li>
          <li class="ulBare toc ulEmpty compact" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="toc compact ulBare ulEmpty">
<li class="toc compact ulBare ulEmpty" id="section-toc.1-1.10.2.1">
                <p id="section-toc.1-1.10.2.1.1"><a href="#section-10.1" class="xref">10.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="toc compact ulBare ulEmpty" id="section-toc.1-1.10.2.2">
                <p id="section-toc.1-1.10.2.2.1"><a href="#section-10.2" class="xref">10.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="ulBare toc ulEmpty compact" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-A" class="xref"></a><a href="#name-acknowledgments" class="xref">Acknowledgments</a></p>
</li>
          <li class="ulBare toc ulEmpty compact" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-B" class="xref"></a><a href="#name-authors-addresses" class="xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">HTTP <span>[<a href="#RFC7230" class="xref">RFC7230</a>]</span> conflates the identification of resources with their
location.  In other words, "http://" and "https://" URIs are used to
both name and find things to interact with.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">In some cases, it is desirable to separate identification and
location in HTTP; keeping the same identifier for a resource, but
interacting with it at a different location on the network.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">For example:<a href="#section-1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-4.1">An origin server might wish to redirect a client to a different
server when it is under load, or it has found a server in a
location that is more local to the client.<a href="#section-1-4.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-4.2">An origin server might wish to offer access to its resources using
a new protocol, such as HTTP/2 <span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span>, or one using improved
security, such as Transport Layer Security (TLS) <span>[<a href="#RFC5246" class="xref">RFC5246</a>]</span>.<a href="#section-1-4.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-1-4.3">An origin server might wish to segment its clients into groups of
capabilities, such as those supporting Server Name Indication
(SNI) (<span><a href="https://rfc-editor.org/rfc/rfc6066#section-3" class="relref">Section 3</a> of [<a href="#RFC6066" class="xref">RFC6066</a>]</span>), for operational purposes.<a href="#section-1-4.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-1-5">This specification defines a new concept in HTTP, "Alternative
Services", that allows an origin server to nominate additional means
of interacting with it on the network.  It defines a general
framework for this in <a href="#concepts" class="xref">Section 2</a>, along with specific mechanisms for
advertising their existence using HTTP header fields (<a href="#alt-svc-field" class="xref">Section 3</a>) or
HTTP/2 frames (<a href="#alt-svc-frame" class="xref">Section 4</a>), plus a way to indicate that an alternative
service was used (<a href="#alt-used-field" class="xref">Section 5</a>).<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">It also endorses the status code 421 (Misdirected Request)
(<a href="#status-code" class="xref">Section 6</a>) that origin servers or their nominated alternatives can
use to indicate that they are not authoritative for a given origin,
in cases where the wrong location is used.<a href="#section-1-6" class="pilcrow">¶</a></p>
<div id="changes-from-rfc-7838">
<section id="section-1.1">
        <h3 id="name-changes-from-rfc-7838">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-changes-from-rfc-7838" class="section-name selfRef">Changes from RFC 7838</a>
        </h3>
<p id="section-1.1-1">No substantive changes.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="notational-conventions">
<section id="section-1.2">
        <h3 id="name-notational-conventions">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-notational-conventions" class="section-name selfRef">Notational Conventions</a>
        </h3>
<p id="section-1.2-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
"SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
document are to be interpreted as described in <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span>.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
<p id="section-1.2-2">This document uses the Augmented BNF defined in <span>[<a href="#RFC5234" class="xref">RFC5234</a>]</span> and updated
by <span>[<a href="#RFC7405" class="xref">RFC7405</a>]</span> along with the "#rule" extension defined in <span><a href="https://rfc-editor.org/rfc/rfc7230#section-7" class="relref">Section 7</a> of [<a href="#RFC7230" class="xref">RFC7230</a>]</span>.  The rules below are defined in <span>[<a href="#RFC5234" class="xref">RFC5234</a>]</span>, <span>[<a href="#RFC7230" class="xref">RFC7230</a>]</span>, and
<span>[<a href="#RFC7234" class="xref">RFC7234</a>]</span>:<a href="#section-1.2-2" class="pilcrow">¶</a></p>
<div id="section-1.2-3">
<pre class="sourcecode lang-abnf">
OWS           = &lt;OWS, see [RFC7230], Section 3.2.3&gt;
delta-seconds = &lt;delta-seconds; see [RFC7234], Section 1.2.1&gt;
port          = &lt;port, see [RFC7230], Section 2.7&gt;
quoted-string = &lt;quoted-string, see [RFC7230], Section 3.2.6&gt;
token         = &lt;token, see [RFC7230], Section 3.2.6&gt;
uri-host      = &lt;uri-host, see [RFC7230], Section 2.7&gt;
</pre><a href="#section-1.2-3" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="concepts">
<section id="section-2">
      <h2 id="name-alternative-services-concep">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-alternative-services-concep" class="section-name selfRef">Alternative Services Concepts</a>
      </h2>
<p id="section-2-1">This specification defines a new concept in HTTP, the "Alternative
Service".  When an origin <span>[<a href="#RFC6454" class="xref">RFC6454</a>]</span> has resources that are accessible
through a different protocol/host/port combination, it is said to
have an alternative service available.<a href="#section-2-1" class="pilcrow">¶</a></p>
<p id="section-2-2">An alternative service can be used to interact with the resources on
an origin server at a separate location on the network, possibly
using a different protocol configuration.  Alternative services are
considered authoritative for an origin's resources, in the sense of
<span><a href="https://rfc-editor.org/rfc/rfc7230#section-9.1" class="relref">Section 9.1</a> of [<a href="#RFC7230" class="xref">RFC7230</a>]</span>.<a href="#section-2-2" class="pilcrow">¶</a></p>
<p id="section-2-3">For example, an origin:<a href="#section-2-3" class="pilcrow">¶</a></p>
<div id="section-2-4">
<pre class="sourcecode lang-example">
("http", "www.example.com", "80")
</pre><a href="#section-2-4" class="pilcrow">¶</a>
</div>
<p id="section-2-5">might declare that its resources are also accessible at the
alternative service:<a href="#section-2-5" class="pilcrow">¶</a></p>
<div id="section-2-6">
<pre class="sourcecode lang-example">
("h2", "new.example.com", "81")
</pre><a href="#section-2-6" class="pilcrow">¶</a>
</div>
<p id="section-2-7">By their nature, alternative services are explicitly at the
granularity of an origin; they cannot be selectively applied to
resources within an origin.<a href="#section-2-7" class="pilcrow">¶</a></p>
<p id="section-2-8">Alternative services do not replace or change the origin for any
given resource; in general, they are not visible to the software
"above" the access mechanism.  The alternative service is essentially
alternative routing information that can also be used to reach the
origin in the same way that DNS CNAME or SRV records define routing
information at the name resolution level.  Each origin maps to a set
of these routes -- the default route is derived from the origin
itself and the other routes are introduced based on alternative-
service information.<a href="#section-2-8" class="pilcrow">¶</a></p>
<p id="section-2-9">Furthermore, it is important to note that the first member of an
alternative service tuple is different from the "scheme" component of
an origin; it is more specific, identifying not only the major
version of the protocol being used, but potentially the communication
options for that protocol as well.<a href="#section-2-9" class="pilcrow">¶</a></p>
<p id="section-2-10">This means that clients using an alternative service can change the
host, port, and protocol that they are using to fetch resources, but
these changes MUST NOT be propagated to the application that is using
HTTP; from that standpoint, the URI being accessed and all
information derived from it (scheme, host, and port) are the same as
before.<a href="#section-2-10" class="pilcrow">¶</a></p>
<p id="section-2-11">Importantly, this includes its security context; in particular, when
TLS <span>[<a href="#RFC5246" class="xref">RFC5246</a>]</span> is used to authenticate, the alternative service will
need to present a certificate for the origin's host name, not that of
the alternative.  Likewise, the Host header field (<span>[<a href="#RFC7230" class="xref">RFC7230</a>]</span>,
Section 5.4) is still derived from the origin, not the alternative
service (just as it would if a CNAME were being used).<a href="#section-2-11" class="pilcrow">¶</a></p>
<p id="section-2-12">The changes MAY, however, be made visible in debugging tools,
consoles, etc.<a href="#section-2-12" class="pilcrow">¶</a></p>
<p id="section-2-13">Formally, an alternative service is identified by the combination of:<a href="#section-2-13" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-14.1">An Application Layer Protocol Negotiation (ALPN) protocol name, as
per <span>[<a href="#RFC7301" class="xref">RFC7301</a>]</span><a href="#section-2-14.1" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-14.2">A host, as per <span><a href="https://rfc-editor.org/rfc/rfc3986#section-3.2.2" class="relref">Section 3.2.2</a> of [<a href="#RFC3986" class="xref">RFC3986</a>]</span><a href="#section-2-14.2" class="pilcrow">¶</a>
</li>
        <li class="normal" id="section-2-14.3">A port, as per <span><a href="https://rfc-editor.org/rfc/rfc3986#section-3.2.3" class="relref">Section 3.2.3</a> of [<a href="#RFC3986" class="xref">RFC3986</a>]</span><a href="#section-2-14.3" class="pilcrow">¶</a>
</li>
      </ul>
<p id="section-2-15">The ALPN protocol name is used to identify the application protocol
or suite of protocols used by the alternative service.  Note that for
the purpose of this specification, an ALPN protocol name implicitly
includes TLS in the suite of protocols it identifies, unless
specified otherwise in its definition.  In particular, the ALPN name
"http/1.1", registered by Section 6 of <span>[<a href="#RFC7301" class="xref">RFC7301</a>]</span>, identifies HTTP/1.1
over TLS.<a href="#section-2-15" class="pilcrow">¶</a></p>
<p id="section-2-16">Additionally, each alternative service MUST have a freshness
lifetime, expressed in seconds (see Section 2.2).<a href="#section-2-16" class="pilcrow">¶</a></p>
<p id="section-2-17">There are many ways that a client could discover the alternative
service(s) associated with an origin.  This document describes two
such mechanisms: the "Alt-Svc" HTTP header field (Section 3) and the
"ALTSVC" HTTP/2 frame type (Section 4).<a href="#section-2-17" class="pilcrow">¶</a></p>
<p id="section-2-18">The remainder of this section describes requirements that are common
to alternative services, regardless of how they are discovered.<a href="#section-2-18" class="pilcrow">¶</a></p>
<div id="host-authentication">
<section id="section-2.1">
        <h3 id="name-host-authentication">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-host-authentication" class="section-name selfRef">Host Authentication</a>
        </h3>
<p id="section-2.1-1">Clients MUST have reasonable assurances that the alternative service
is under control of and valid for the whole origin.  This mitigates
the attack described in Section 9.2.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.1-2">For the purposes of this document, "reasonable assurances" can be
established through use of a TLS-based protocol with the certificate
checks defined in <span>[<a href="#RFC2818" class="xref">RFC2818</a>]</span>.  Clients MAY impose additional criteria
for establishing reasonable assurances.<a href="#section-2.1-2" class="pilcrow">¶</a></p>
<p id="section-2.1-3">For example, if the origin's host is "www.example.com" and an
alternative is offered on "other.example.com" with the "h2" protocol,
and the certificate offered is valid for "www.example.com", the
client can use the alternative.  However, if either is offered with
the "h2c" protocol, the client cannot use it, because there is no
mechanism (at the time of the publication of this specification) in
that protocol to establish the relationship between the origin and
the alternative.<a href="#section-2.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="alternative-service-caching">
<section id="section-2.2">
        <h3 id="name-alternative-service-caching">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-alternative-service-caching" class="section-name selfRef">Alternative Service Caching</a>
        </h3>
<p id="section-2.2-1">Mechanisms for discovering alternative services also associate a
freshness lifetime with them; for example, the Alt-Svc header field
uses the "ma" parameter.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<p id="section-2.2-2">Clients can choose to use an alternative service instead of the
origin at any time when it is considered fresh; see Section 2.4 for
specific recommendations.<a href="#section-2.2-2" class="pilcrow">¶</a></p>
<p id="section-2.2-3">Clients with existing connections to an alternative service do not
need to stop using it when its freshness lifetime ends; the caching
mechanism is intended for limiting how long an alternative service
can be used for establishing new connections, not limiting the use of
existing ones.<a href="#section-2.2-3" class="pilcrow">¶</a></p>
<p id="section-2.2-4">Alternative services are fully authoritative for the origin in
question, including the ability to clear or update cached alternative
service entries, extend freshness lifetimes, and any other authority
the origin server would have.<a href="#section-2.2-4" class="pilcrow">¶</a></p>
<p id="section-2.2-5">When alternative services are used to send a client to the most
optimal server, a change in network configuration can result in
cached values becoming suboptimal.  Therefore, clients SHOULD remove
from cache all alternative services that lack the "persist" flag with
the value "1" when they detect such a change, when information about
network state is available.<a href="#section-2.2-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="requiring-server-name-indication">
<section id="section-2.3">
        <h3 id="name-requiring-server-name-indic">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-requiring-server-name-indic" class="section-name selfRef">Requiring Server Name Indication</a>
        </h3>
<p id="section-2.3-1">A client MUST NOT use a TLS-based alternative service unless the
client supports TLS Server Name Indication (SNI).  This supports the
conservation of IP addresses on the alternative service host.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
<p id="section-2.3-2">Note that the SNI information provided in TLS by the client will be
that of the origin, not the alternative (as will the Host HTTP header
field value).<a href="#section-2.3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="using-alternative-services">
<section id="section-2.4">
        <h3 id="name-using-alternative-services">
<a href="#section-2.4" class="section-number selfRef">2.4. </a><a href="#name-using-alternative-services" class="section-name selfRef">Using Alternative Services</a>
        </h3>
<p id="section-2.4-1">By their nature, alternative services are OPTIONAL: clients do not
need to use them.  However, it is advantageous for clients to behave
in a predictable way when alternative services are used by servers,
to aid in purposes like load balancing.<a href="#section-2.4-1" class="pilcrow">¶</a></p>
<p id="section-2.4-2">Therefore, if a client supporting this specification becomes aware of
an alternative service, the client SHOULD use that alternative
service for all requests to the associated origin as soon as it is
available, provided the alternative service information is fresh
(Section 2.2) and the security properties of the alternative service
protocol are desirable, as compared to the existing connection.  A
viable alternative service is then treated in every way as the
origin; this includes the ability to advertise alternative services.<a href="#section-2.4-2" class="pilcrow">¶</a></p>
<p id="section-2.4-3">If a client becomes aware of multiple alternative services, it
chooses the most suitable according to its own criteria, keeping
security properties in mind.  For example, an origin might advertise
multiple alternative services to notify clients of support for
multiple versions of HTTP.<a href="#section-2.4-3" class="pilcrow">¶</a></p>
<p id="section-2.4-4">A client configured to use a proxy for a given request SHOULD NOT
directly connect to an alternative service for this request, but
instead route it through that proxy.<a href="#section-2.4-4" class="pilcrow">¶</a></p>
<p id="section-2.4-5">When a client uses an alternative service for a request, it can
indicate this to the server using the Alt-Used header field
(Section 5).<a href="#section-2.4-5" class="pilcrow">¶</a></p>
<p id="section-2.4-6">The client does not need to block requests on any existing
connection; it can be used until the alternative connection is
established.  However, if the security properties of the existing
connection are weak (for example, cleartext HTTP/1.1), then it might
make sense to block until the new connection is fully available in
order to avoid information leakage.<a href="#section-2.4-6" class="pilcrow">¶</a></p>
<p id="section-2.4-7">Furthermore, if the connection to the alternative service fails or is
unresponsive, the client MAY fall back to using the origin or another
alternative service.  Note, however, that this could be the basis of
a downgrade attack, thus losing any enhanced security properties of
the alternative service.  If the connection to the alternative
service does not negotiate the expected protocol (for example, ALPN
fails to negotiate h2, or an Upgrade request to h2c is not accepted),
the connection to the alternative service MUST be considered to have
failed.<a href="#section-2.4-7" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="alt-svc-field">
<section id="section-3">
      <h2 id="name-the-alt-svc-http-header-fie">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-the-alt-svc-http-header-fie" class="section-name selfRef">The Alt-Svc HTTP Header Field</a>
      </h2>
<p id="section-3-1">An HTTP(S) origin server can advertise the availability of
alternative services to clients by adding an Alt-Svc header field to
responses.<a href="#section-3-1" class="pilcrow">¶</a></p>
<div id="section-3-2">
<pre class="sourcecode lang-abnf">
Alt-Svc       = clear / 1#alt-value
clear         = %s"clear"; "clear", case-sensitive
alt-value     = alternative *( OWS ";" OWS parameter )
alternative   = protocol-id "=" alt-authority
protocol-id   = token ; percent-encoded ALPN protocol name
alt-authority = quoted-string ; containing [ uri-host ] ":" port
parameter     = token "=" ( token / quoted-string )
</pre><a href="#section-3-2" class="pilcrow">¶</a>
</div>
<p id="section-3-3">The field value consists either of a list of values, each of which
indicates one alternative service, or the keyword "clear".<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">A field value containing the special value "clear" indicates that the
origin requests all alternatives for that origin to be invalidated
(including those specified in the same response, in case of an
invalid reply containing both "clear" and alternative services).<a href="#section-3-4" class="pilcrow">¶</a></p>
<p id="section-3-5">ALPN protocol names are octet sequences with no additional
constraints on format.  Octets not allowed in tokens (<span>[<a href="#RFC7230" class="xref">RFC7230</a>]</span>,
Section 3.2.6) MUST be percent-encoded as per Section 2.1 of
<span>[<a href="#RFC3986" class="xref">RFC3986</a>]</span>.  Consequently, the octet representing the percent
character "%" (hex 25) MUST be percent-encoded as well.<a href="#section-3-5" class="pilcrow">¶</a></p>
<p id="section-3-6">In order to have precisely one way to represent any ALPN protocol
name, the following additional constraints apply:<a href="#section-3-6" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-3-7">
<li id="section-3-7.1">Octets in the ALPN protocol name MUST NOT be percent-encoded if
  they are valid token characters except "%", and<a href="#section-3-7.1" class="pilcrow">¶</a>
</li>
        <li id="section-3-7.2">When using percent-encoding, uppercase hex digits MUST be used.<a href="#section-3-7.2" class="pilcrow">¶</a>
</li>
      </ol>
<p id="section-3-8">With these constraints, recipients can apply simple string comparison
to match protocol identifiers.<a href="#section-3-8" class="pilcrow">¶</a></p>
<p id="section-3-9">The "alt-authority" component consists of an OPTIONAL uri-host
("host" in Section 3.2.2 of <span>[<a href="#RFC3986" class="xref">RFC3986</a>]</span>), a colon (":"), and a port
number.<a href="#section-3-9" class="pilcrow">¶</a></p>
<p id="section-3-10">For example:<a href="#section-3-10" class="pilcrow">¶</a></p>
<div id="section-3-11">
<pre class="sourcecode lang-example">
Alt-Svc: h2=":8000"
</pre><a href="#section-3-11" class="pilcrow">¶</a>
</div>
<p id="section-3-12">This indicates the "h2" protocol (<span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span>) on the same host using
   the indicated port 8000.<a href="#section-3-12" class="pilcrow">¶</a></p>
<p id="section-3-13">An example involving a change of host:<a href="#section-3-13" class="pilcrow">¶</a></p>
<div id="section-3-14">
<pre class="sourcecode lang-example">
Alt-Svc: h2="new.example.org:80"
</pre><a href="#section-3-14" class="pilcrow">¶</a>
</div>
<p id="section-3-15">This indicates the "h2" protocol on the host "new.example.org",
running on port 80.  Note that the "quoted-string" syntax needs to be
used because ":" is not an allowed character in "token".<a href="#section-3-15" class="pilcrow">¶</a></p>
<p id="section-3-16">Examples for protocol name escaping:<a href="#section-3-16" class="pilcrow">¶</a></p>
<table class="center" id="table-1">
        <caption><a href="#table-1" class="selfRef">Table 1</a></caption>
<thead>
          <tr>
            <th class="text-left" rowspan="1" colspan="1">ALPN protocol name</th>
            <th class="text-left" rowspan="1" colspan="1">protocol-id</th>
            <th class="text-left" rowspan="1" colspan="1">Note</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">h2</td>
            <td class="text-left" rowspan="1" colspan="1">h2</td>
            <td class="text-left" rowspan="1" colspan="1">No escaping needed</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">w=x:y#z</td>
            <td class="text-left" rowspan="1" colspan="1">w%3Dx%3Ay#z</td>
            <td class="text-left" rowspan="1" colspan="1">"=" and ":" escaped</td>
          </tr>
          <tr>
            <td class="text-left" rowspan="1" colspan="1">x%y</td>
            <td class="text-left" rowspan="1" colspan="1">x%25y</td>
            <td class="text-left" rowspan="1" colspan="1">"%" needs escaping</td>
          </tr>
        </tbody>
      </table>
<p id="section-3-18">Alt-Svc MAY occur in any HTTP response message, regardless of the
status code.  Note that recipients of Alt-Svc can ignore the header
field (and are required to in some situations; see Sections 2.1 and
6).<a href="#section-3-18" class="pilcrow">¶</a></p>
<p id="section-3-19">The Alt-Svc field value can have multiple values:<a href="#section-3-19" class="pilcrow">¶</a></p>
<div id="section-3-20">
<pre class="sourcecode lang-example">
Alt-Svc: h2="alt.example.com:8000", h2=":443"
</pre><a href="#section-3-20" class="pilcrow">¶</a>
</div>
<p id="section-3-21">When multiple values are present, the order of the values reflects
the server's preference (with the first value being the most
preferred alternative).<a href="#section-3-21" class="pilcrow">¶</a></p>
<p id="section-3-22">The value(s) advertised by Alt-Svc can be used by clients to open a
new connection to an alternative service.  Subsequent requests can
start using this new connection immediately or can continue using the
existing connection while the new connection is created.<a href="#section-3-22" class="pilcrow">¶</a></p>
<p id="section-3-23">When using HTTP/2 (<span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span>), servers SHOULD instead send an ALTSVC
frame (Section 4).  A single ALTSVC frame can be sent for a
connection; a new frame is not needed for every request.  Note that,
despite this recommendation, Alt-Svc header fields remain valid in
responses delivered over HTTP/2.<a href="#section-3-23" class="pilcrow">¶</a></p>
<p id="section-3-24">Each "alt-value" is followed by an OPTIONAL semicolon-separated list
of additional parameters, each such "parameter" comprising a name and
a value.<a href="#section-3-24" class="pilcrow">¶</a></p>
<p id="section-3-25">This specification defines two parameters: "ma" and "persist",
defined in Section 3.1.  Unknown parameters MUST be ignored.  That
is, the values (alt-value) they appear in MUST be processed as if the
unknown parameter was not present.<a href="#section-3-25" class="pilcrow">¶</a></p>
<p id="section-3-26">New parameters can be defined in extension specifications (see
Section 7.3 for registration details).<a href="#section-3-26" class="pilcrow">¶</a></p>
<p id="section-3-27">Note that all field elements that allow "quoted-string" syntax MUST
be processed as per <span><a href="https://rfc-editor.org/rfc/rfc7230#section-3.2.6" class="relref">Section 3.2.6</a> of [<a href="#RFC7230" class="xref">RFC7230</a>]</span>.<a href="#section-3-27" class="pilcrow">¶</a></p>
<div id="caching-alt-svc-header-field-values">
<section id="section-3.1">
        <h3 id="name-caching-alt-svc-header-fiel">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-caching-alt-svc-header-fiel" class="section-name selfRef">Caching Alt-Svc Header Field Values</a>
        </h3>
<p id="section-3.1-1">When an alternative service is advertised using Alt-Svc, it is
considered fresh for 24 hours from generation of the message.  This
can be modified with the "ma" (max-age) parameter.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">Syntax:<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<div id="section-3.1-3">
<pre class="sourcecode lang-abnf">
ma = delta-seconds; see [RFC7234], Section 1.2.1
</pre><a href="#section-3.1-3" class="pilcrow">¶</a>
</div>
<p id="section-3.1-4">The delta-seconds value indicates the number of seconds since the
response was generated for which the alternative service is
considered fresh.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
<div id="section-3.1-5">
<pre class="sourcecode lang-example">
Alt-Svc: h2=":443"; ma=3600
</pre><a href="#section-3.1-5" class="pilcrow">¶</a>
</div>
<p id="section-3.1-6">See <span><a href="https://rfc-editor.org/rfc/rfc7234#section-4.2.3" class="relref">Section 4.2.3</a> of [<a href="#RFC7234" class="xref">RFC7234</a>]</span> for details on determining the
response age.<a href="#section-3.1-6" class="pilcrow">¶</a></p>
<p id="section-3.1-7">For example, a response:<a href="#section-3.1-7" class="pilcrow">¶</a></p>
<div id="section-3.1-8">
<pre class="sourcecode lang-example">
HTTP/1.1 200 OK
Content-Type: text/html
Cache-Control: max-age=600
Age: 30
Alt-Svc: h2=":8000"; ma=60
</pre><a href="#section-3.1-8" class="pilcrow">¶</a>
</div>
<p id="section-3.1-9">indicates that an alternative service is available and usable for the
next 60 seconds.  However, the response has already been cached for
30 seconds (as per the Age header field value); therefore, the
alternative service is only fresh for the 30 seconds from when this
response was received, minus estimated transit time.<a href="#section-3.1-9" class="pilcrow">¶</a></p>
<p id="section-3.1-10">Note that the freshness lifetime for HTTP caching (here, 600 seconds)
does not affect caching of Alt-Svc values.<a href="#section-3.1-10" class="pilcrow">¶</a></p>
<p id="section-3.1-11">When an Alt-Svc response header field is received from an origin, its
value invalidates and replaces all cached alternative services for
that origin.<a href="#section-3.1-11" class="pilcrow">¶</a></p>
<p id="section-3.1-12">By default, cached alternative services will be cleared when the
client detects a network change.  Alternative services that are
intended to be longer lived (such as those that are not specific to
the client access network) can carry the "persist" parameter with a
value "1" as a hint that the service is potentially useful beyond a
network configuration change.<a href="#section-3.1-12" class="pilcrow">¶</a></p>
<p id="section-3.1-13">Syntax:<a href="#section-3.1-13" class="pilcrow">¶</a></p>
<div id="section-3.1-14">
<pre class="sourcecode lang-abnf">
persist = "1"
</pre><a href="#section-3.1-14" class="pilcrow">¶</a>
</div>
<p id="section-3.1-15">For example:<a href="#section-3.1-15" class="pilcrow">¶</a></p>
<div id="section-3.1-16">
<pre class="sourcecode lang-example">
Alt-Svc: h2=":443"; ma=2592000; persist=1
</pre><a href="#section-3.1-16" class="pilcrow">¶</a>
</div>
<p id="section-3.1-17">This specification only defines a single value for "persist".
Clients MUST ignore "persist" parameters with values other than "1".<a href="#section-3.1-17" class="pilcrow">¶</a></p>
<p id="section-3.1-18">See Section 2.2 for general requirements on caching alternative
services.<a href="#section-3.1-18" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="alt-svc-frame">
<section id="section-4">
      <h2 id="name-the-altsvc-http-2-frame">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-the-altsvc-http-2-frame" class="section-name selfRef">The ALTSVC HTTP/2 Frame</a>
      </h2>
<p id="section-4-1">The ALTSVC HTTP/2 frame (<span><a href="https://rfc-editor.org/rfc/rfc7540#section-4" class="relref">Section 4</a> of [<a href="#RFC7540" class="xref">RFC7540</a>]</span>) advertises the
availability of an alternative service to an HTTP/2 client.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">The ALTSVC frame is a non-critical extension to HTTP/2.  Endpoints
that do not support this frame will ignore it (as per the
extensibility rules defined in Section 4.1 of <span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span>).<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">An ALTSVC frame from a server to a client on a stream other than
stream 0 indicates that the conveyed alternative service is
associated with the origin of that stream.<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4">An ALTSVC frame from a server to a client on stream 0 indicates that
the conveyed alternative service is associated with the origin
contained in the Origin field of the frame.  An association with an
origin that the client does not consider authoritative for the
current connection MUST be ignored.<a href="#section-4-4" class="pilcrow">¶</a></p>
<p id="section-4-5">The ALTSVC frame type is 0xa (decimal 10).<a href="#section-4-5" class="pilcrow">¶</a></p>
<span id="name-altsvc-frame-payload"></span><figure id="figure-1">
        <div class="artwork art-text alignLeft" id="section-4-6.1">
<pre>
+-------------------------------+-------------------------------+
|         Origin-Len (16)       | Origin? (*)                 ...
+-------------------------------+-------------------------------+
|                   Alt-Svc-Field-Value (*)                   ...
+---------------------------------------------------------------+
</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-altsvc-frame-payload" class="selfRef">ALTSVC Frame Payload</a>
        </figcaption></figure>
<p id="section-4-7">The ALTSVC frame contains the following fields:<a href="#section-4-7" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4-8">
        <dt id="section-4-8.1">
Origin-Len:  </dt>
        <dd style="margin-left: 1.5em" id="section-4-8.2">
          <p id="section-4-8.2.1">An unsigned, 16-bit integer indicating the length, in octets, of the Origin
field.<a href="#section-4-8.2.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-4-8.3">
Origin:  </dt>
        <dd style="margin-left: 1.5em" id="section-4-8.4">
          <p id="section-4-8.4.1">An OPTIONAL sequence of characters containing the ASCII serialization of an
origin (<span><a href="https://rfc-editor.org/rfc/rfc6454#section-6.2" class="relref">Section 6.2</a> of [<a href="#RFC6454" class="xref">RFC6454</a>]</span>) to which the alternative service is
applicable.<a href="#section-4-8.4.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
<dt id="section-4-8.5">
Alt-Svc-Field-Value:  </dt>
        <dd style="margin-left: 1.5em" id="section-4-8.6">
          <p id="section-4-8.6.1">A sequence of octets (length determined by
subtracting the length of all preceding fields from the frame
length) containing a value identical to the Alt-Svc field value
defined in Section 3 (ABNF production "Alt-Svc").<a href="#section-4-8.6.1" class="pilcrow">¶</a></p>
</dd>
      <dd class="break"></dd>
</dl>
<p id="section-4-9">The ALTSVC frame does not define any flags.<a href="#section-4-9" class="pilcrow">¶</a></p>
<p id="section-4-10">The ALTSVC frame is intended for receipt by clients.  A device acting
as a server MUST ignore it.<a href="#section-4-10" class="pilcrow">¶</a></p>
<p id="section-4-11">An ALTSVC frame on stream 0 with empty (length 0) "Origin"
information is invalid and MUST be ignored.  An ALTSVC frame on a
stream other than stream 0 containing non-empty "Origin" information
is invalid and MUST be ignored.<a href="#section-4-11" class="pilcrow">¶</a></p>
<p id="section-4-12">The ALTSVC frame is processed hop-by-hop.  An intermediary MUST NOT
forward ALTSVC frames, though it can use the information contained in
ALTSVC frames in forming new ALTSVC frames to send to its own
clients.<a href="#section-4-12" class="pilcrow">¶</a></p>
<p id="section-4-13">Receiving an ALTSVC frame is semantically equivalent to receiving an
Alt-Svc header field.  As a result, the ALTSVC frame causes
alternative services for the corresponding origin to be replaced.
Note that it would be unwise to mix the use of Alt-Svc header fields
with the use of ALTSVC frames, as the sequence of receipt might be
hard to predict.<a href="#section-4-13" class="pilcrow">¶</a></p>
</section>
</div>
<div id="alt-used-field">
<section id="section-5">
      <h2 id="name-the-alt-used-http-header-fi">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-the-alt-used-http-header-fi" class="section-name selfRef">The Alt-Used HTTP Header Field</a>
      </h2>
<p id="section-5-1">The Alt-Used header field is used in requests to identify the
alternative service in use, just as the Host header field
(<span><a href="https://rfc-editor.org/rfc/rfc7230#section-5.4" class="relref">Section 5.4</a> of [<a href="#RFC7230" class="xref">RFC7230</a>]</span>) identifies the host and port of the
origin.<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="section-5-2">
<pre class="sourcecode lang-abnf">
Alt-Used     = uri-host [ ":" port ]
</pre><a href="#section-5-2" class="pilcrow">¶</a>
</div>
<p id="section-5-3">Alt-Used is intended to allow alternative services to detect loops,
differentiate traffic for purposes of load balancing, and generally
to ensure that it is possible to identify the intended destination of
traffic, since introducing this information after a protocol is in
use has proven to be problematic.<a href="#section-5-3" class="pilcrow">¶</a></p>
<p id="section-5-4">When using an alternative service, clients SHOULD include an Alt-Used
header field in all requests.<a href="#section-5-4" class="pilcrow">¶</a></p>
<p id="section-5-5">For example:<a href="#section-5-5" class="pilcrow">¶</a></p>
<div id="section-5-6">
<pre class="sourcecode lang-example">
GET /thing HTTP/1.1
Host: origin.example.com
Alt-Used: alternate.example.net
</pre><a href="#section-5-6" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="status-code">
<section id="section-6">
      <h2 id="name-the-421-misdirected-request">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-the-421-misdirected-request" class="section-name selfRef">The 421 (Misdirected Request) HTTP Status Code</a>
      </h2>
<p id="section-6-1">The 421 (Misdirected Request) status code is defined in Section 9.1.2
of <span>[<a href="#RFC7540" class="xref">RFC7540</a>]</span> to indicate that the current server instance is not
authoritative for the requested resource.  This can be used to
indicate that an alternative service is not authoritative; see
Section 2).<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">Clients receiving 421 (Misdirected Request) from an alternative
service MUST remove the corresponding entry from its alternative
service cache (see Section 2.2) for that origin.  Regardless of the
idempotency of the request method, they MAY retry the request, either
at another alternative server, or at the origin.<a href="#section-6-2" class="pilcrow">¶</a></p>
<p id="section-6-3">An Alt-Svc header field in a 421 (Misdirected Request) response MUST
be ignored.<a href="#section-6-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-7">
      <h2 id="name-iana-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<div id="header-field-registrations">
<section id="section-7.1">
        <h3 id="name-header-field-registrations">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-header-field-registrations" class="section-name selfRef">Header Field Registrations</a>
        </h3>
<p id="section-7.1-1">HTTP header fields are registered within the "Message Headers"
registry maintained at &lt;https://www.iana.org/assignments/message-
headers/&gt;.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1-2">This document defines the following HTTP header fields, so their
associated registry entries have been added according to the
permanent registrations below (see <span>[<a href="#BCP90" class="xref">BCP90</a>]</span>):<a href="#section-7.1-2" class="pilcrow">¶</a></p>
<table class="center" id="table-2">
          <caption><a href="#table-2" class="selfRef">Table 2</a></caption>
<thead>
            <tr>
              <th class="text-left" rowspan="1" colspan="1">Header Field Name</th>
              <th class="text-left" rowspan="1" colspan="1">Protocol</th>
              <th class="text-left" rowspan="1" colspan="1">Status</th>
              <th class="text-left" rowspan="1" colspan="1">Reference</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Alt-Svc</td>
              <td class="text-left" rowspan="1" colspan="1">http</td>
              <td class="text-left" rowspan="1" colspan="1">standard</td>
              <td class="text-left" rowspan="1" colspan="1">Section 3</td>
            </tr>
            <tr>
              <td class="text-left" rowspan="1" colspan="1">Alt-Used</td>
              <td class="text-left" rowspan="1" colspan="1">http</td>
              <td class="text-left" rowspan="1" colspan="1">standard</td>
              <td class="text-left" rowspan="1" colspan="1">Section 5</td>
            </tr>
          </tbody>
        </table>
<p id="section-7.1-4">The change controller is: "IETF (iesg@ietf.org) -- Internet
Engineering Task Force".<a href="#section-7.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="the-altsvc-http2-frame-type">
<section id="section-7.2">
        <h3 id="name-the-altsvc-http-2-frame-typ">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-the-altsvc-http-2-frame-typ" class="section-name selfRef">The ALTSVC HTTP/2 Frame Type</a>
        </h3>
<p id="section-7.2-1">This document registers the ALTSVC frame type in the "HTTP/2 Frame
Type" registry (<span><a href="https://rfc-editor.org/rfc/rfc7540#section-11.2" class="relref">Section 11.2</a> of [<a href="#RFC7540" class="xref">RFC7540</a>]</span>).<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-7.2-2">
          <dt id="section-7.2-2.1">
Frame Type:  </dt>
          <dd style="margin-left: 1.5em" id="section-7.2-2.2">
            <p id="section-7.2-2.2.1">ALTSVC<a href="#section-7.2-2.2.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-2.3">
Code:  </dt>
          <dd style="margin-left: 1.5em" id="section-7.2-2.4">
            <p id="section-7.2-2.4.1">0xa<a href="#section-7.2-2.4.1" class="pilcrow">¶</a></p>
</dd>
          <dd class="break"></dd>
<dt id="section-7.2-2.5">
Specification:  </dt>
          <dd style="margin-left: 1.5em" id="section-7.2-2.6">
            <p id="section-7.2-2.6.1">Section 4 of this document<a href="#section-7.2-2.6.1" class="pilcrow">¶</a></p>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="alt-svc-parameter-registry">
<section id="section-7.3">
        <h3 id="name-alt-svc-parameter-registry">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-alt-svc-parameter-registry" class="section-name selfRef">Alt-Svc Parameter Registry</a>
        </h3>
<p id="section-7.3-1">The "Hypertext Transfer Protocol (HTTP) Alt-Svc Parameter Registry"
defines the name space for parameters.  It has been created and will
be maintained at &lt;http://www.iana.org/assignments/http-alt-svc-
parameters&gt;.<a href="#section-7.3-1" class="pilcrow">¶</a></p>
<div id="procedure">
<section id="section-7.3.1">
          <h4 id="name-procedure">
<a href="#section-7.3.1" class="section-number selfRef">7.3.1. </a><a href="#name-procedure" class="section-name selfRef">Procedure</a>
          </h4>
<p id="section-7.3.1-1">A registration MUST include the following fields:<a href="#section-7.3.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.3.1-2.1">Parameter Name<a href="#section-7.3.1-2.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-7.3.1-2.2">Pointer to specification text<a href="#section-7.3.1-2.2" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-7.3.1-3">Values to be added to this name space require Expert Review (see
<span><a href="https://rfc-editor.org/rfc/rfc5226#section-4.1" class="relref">Section 4.1</a> of [<a href="#RFC5226" class="xref">RFC5226</a>]</span>).<a href="#section-7.3.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="registrations">
<section id="section-7.3.2">
          <h4 id="name-registrations">
<a href="#section-7.3.2" class="section-number selfRef">7.3.2. </a><a href="#name-registrations" class="section-name selfRef">Registrations</a>
          </h4>
<p id="section-7.3.2-1">The "Hypertext Transfer Protocol (HTTP) Alt-Svc Parameter Registry"
has been populated with the registrations below:<a href="#section-7.3.2-1" class="pilcrow">¶</a></p>
<table class="center" id="table-3">
            <caption><a href="#table-3" class="selfRef">Table 3</a></caption>
<thead>
              <tr>
                <th class="text-left" rowspan="1" colspan="1">Alt-Svc Parameter</th>
                <th class="text-left" rowspan="1" colspan="1">Reference</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">ma</td>
                <td class="text-left" rowspan="1" colspan="1">Section 3.1</td>
              </tr>
              <tr>
                <td class="text-left" rowspan="1" colspan="1">persist</td>
                <td class="text-left" rowspan="1" colspan="1">Section 3.1</td>
              </tr>
            </tbody>
          </table>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="internationalization-considerations">
<section id="section-8">
      <h2 id="name-internationalization-consid">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-internationalization-consid" class="section-name selfRef">Internationalization Considerations</a>
      </h2>
<p id="section-8-1">An internationalized domain name that appears in either the header
field (Section 3) or the HTTP/2 frame (Section 4) MUST be expressed
using A-labels (<span><a href="https://rfc-editor.org/rfc/rfc5890#section-2.3.2.1" class="relref">Section 2.3.2.1</a> of [<a href="#RFC5890" class="xref">RFC5890</a>]</span>).<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-considerations">
<section id="section-9">
      <h2 id="name-security-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<div id="changing-ports">
<section id="section-9.1">
        <h3 id="name-changing-ports">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-changing-ports" class="section-name selfRef">Changing Ports</a>
        </h3>
<p id="section-9.1-1">Using an alternative service implies accessing an origin's resources
on an alternative port, at a minimum.  Therefore, an attacker that
can inject alternative services and listen at the advertised port is
able to hijack an origin.  On certain servers, it is normal for users
to be able to control some personal pages available on a shared port
and also to accept requests on less-privileged ports.<a href="#section-9.1-1" class="pilcrow">¶</a></p>
<p id="section-9.1-2">For example, an attacker that can add HTTP response header fields to
some pages can redirect traffic for an entire origin to a different
port on the same host using the Alt-Svc header field; if that port is
under the attacker's control, they can thus masquerade as the HTTP
server.<a href="#section-9.1-2" class="pilcrow">¶</a></p>
<p id="section-9.1-3">This risk is mitigated by the requirements in Section 2.1.<a href="#section-9.1-3" class="pilcrow">¶</a></p>
<p id="section-9.1-4">On servers, this risk can also be reduced by restricting the ability
to advertise alternative services, and restricting who can open a
port for listening on that host.<a href="#section-9.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changing-hosts">
<section id="section-9.2">
        <h3 id="name-changing-hosts">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-changing-hosts" class="section-name selfRef">Changing Hosts</a>
        </h3>
<p id="section-9.2-1">When the host is changed due to the use of an alternative service,
this presents an opportunity for attackers to hijack communication to
an origin.<a href="#section-9.2-1" class="pilcrow">¶</a></p>
<p id="section-9.2-2">For example, if an attacker can convince a user agent to send all
traffic for "innocent.example.org" to "evil.example.com" by
successfully associating it as an alternative service, they can
masquerade as that origin.  This can be done locally (see mitigations
in Section 9.1) or remotely (e.g., by an intermediary as a man-in-
the-middle attack).<a href="#section-9.2-2" class="pilcrow">¶</a></p>
<p id="section-9.2-3">This is the reason for the requirement in Section 2.1 that clients
have reasonable assurances that the alternative service is under
control of and valid for the whole origin; for example, presenting a
certificate for the origin proves that the alternative service is
authorized to serve traffic for the origin.<a href="#section-9.2-3" class="pilcrow">¶</a></p>
<p id="section-9.2-4">Note that this assurance is only as strong as the method used to
authenticate the alternative service.  In particular, when TLS
authentication is used to do so, there are well-known exploits to
make an attacker's certificate appear as legitimate.<a href="#section-9.2-4" class="pilcrow">¶</a></p>
<p id="section-9.2-5">Alternative services could be used to persist such an attack.  For
example, an intermediary could man-in-the-middle TLS-protected
communication to a target and then direct all traffic to an
alternative service with a large freshness lifetime so that the user
agent still directs traffic to the attacker even when not using the
intermediary.<a href="#section-9.2-5" class="pilcrow">¶</a></p>
<p id="section-9.2-6">Implementations MUST perform any certificate-pinning validation (such
as <span>[<a href="#RFC7469" class="xref">RFC7469</a>]</span>) on alternative services just as they would on direct
connections to the origin.  Implementations might also choose to add
other requirements around which certificates are acceptable for
alternative services.<a href="#section-9.2-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="changing-protocols">
<section id="section-9.3">
        <h3 id="name-changing-protocols">
<a href="#section-9.3" class="section-number selfRef">9.3. </a><a href="#name-changing-protocols" class="section-name selfRef">Changing Protocols</a>
        </h3>
<p id="section-9.3-1">When the ALPN protocol is changed due to the use of an alternative
service, the security properties of the new connection to the origin
can be different from that of the "normal" connection to the origin,
because the protocol identifier itself implies this.<a href="#section-9.3-1" class="pilcrow">¶</a></p>
<p id="section-9.3-2">For example, if an "https://" URI has a protocol advertised that does
not use some form of end-to-end encryption (most likely, TLS), this
violates the expectations for security that the URI scheme implies.
Therefore, clients cannot use alternative services blindly, but
instead evaluate the option(s) presented to ensure that security
requirements and expectations of specifications, implementations, and
end users are met.<a href="#section-9.3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="tracking-clients-using-alternative-services">
<section id="section-9.4">
        <h3 id="name-tracking-clients-using-alte">
<a href="#section-9.4" class="section-number selfRef">9.4. </a><a href="#name-tracking-clients-using-alte" class="section-name selfRef">Tracking Clients Using Alternative Services</a>
        </h3>
<p id="section-9.4-1">Choosing an alternative service implies connecting to a new, server-
supplied host name.  By using unique names, servers could conceivably
track client requests.  Such tracking could follow users across
multiple networks, when the "persist" flag is used.<a href="#section-9.4-1" class="pilcrow">¶</a></p>
<p id="section-9.4-2">Clients that wish to prevent requests from being correlated can
decide not to use alternative services for multiple requests that
would not otherwise be allowed to be correlated.<a href="#section-9.4-2" class="pilcrow">¶</a></p>
<p id="section-9.4-3">In a user agent, any alternative service information MUST be removed
when origin-specific data is cleared (typically, when cookies
<span>[<a href="#RFC6265" class="xref">RFC6265</a>]</span> are cleared).<a href="#section-9.4-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="confusion-regarding-request-scheme">
<section id="section-9.5">
        <h3 id="name-confusion-regarding-request">
<a href="#section-9.5" class="section-number selfRef">9.5. </a><a href="#name-confusion-regarding-request" class="section-name selfRef">Confusion regarding Request Scheme</a>
        </h3>
<p id="section-9.5-1">Some server-side HTTP applications make assumptions about security
based upon connection context; for example, equating being served
upon port 443 with the use of an "https://" URI and the various
security properties that implies.<a href="#section-9.5-1" class="pilcrow">¶</a></p>
<p id="section-9.5-2">This affects not only the security properties of the connection
itself, but also the state of the client at the other end of it; for
example, a Web browser treats "https://" URIs differently than
"http://" URIs in many ways, not just for purposes of protocol
handling.<a href="#section-9.5-2" class="pilcrow">¶</a></p>
<p id="section-9.5-3">Since one of the uses of Alternative Services is to allow a
connection to be migrated to a different protocol and port, these
applications can become confused about the security properties of a
given connection, sending information (for example, cookies and
content) that is intended for a secure context (such as an "https://"
URI) to a client that is not treating it as one.<a href="#section-9.5-3" class="pilcrow">¶</a></p>
<p id="section-9.5-4">This risk can be mitigated in servers by using the URI scheme
explicitly carried by the protocol (such as ":scheme" in HTTP/2 or
the "absolute form" of the request target in HTTP/1.1) as an
indication of security context, instead of other connection
properties (<span><a href="https://rfc-editor.org/rfc/rfc7540#section-8.1.2.3" class="relref">Section 8.1.2.3</a> of [<a href="#RFC7540" class="xref">RFC7540</a>]</span> and <span><a href="https://rfc-editor.org/rfc/rfc7230#section-5.3.2" class="relref">Section 5.3.2</a> of [<a href="#RFC7230" class="xref">RFC7230</a>]</span>).<a href="#section-9.5-4" class="pilcrow">¶</a></p>
<p id="section-9.5-5">When the protocol does not explicitly carry the scheme (as is usually
the case for HTTP/1.1 over TLS), servers can mitigate this risk by
either assuming that all requests have an insecure context, or by
refraining from advertising alternative services for insecure schemes
(for example, HTTP).<a href="#section-9.5-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<section id="section-10">
      <h2 id="name-references">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-10.1">
        <h3 id="name-normative-references">
<a href="#section-10.1" class="section-number selfRef">10.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2818">[RFC2818]</dt>
        <dd>
<span class="refAuthor">Rescorla, E.</span>, <span class="refTitle">"HTTP Over TLS"</span>, <span class="seriesInfo">RFC 2818</span>, <span class="seriesInfo">DOI 10.17487/RFC2818</span>, <time datetime="2000-05" class="refDate">May 2000</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2818">https://www.rfc-editor.org/rfc/rfc2818</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3986">[RFC3986]</dt>
        <dd>
<span class="refAuthor">Berners-Lee, T.</span>, <span class="refAuthor">Fielding, R.</span>, and <span class="refAuthor">L. Masinter</span>, <span class="refTitle">"Uniform Resource Identifier (URI): Generic Syntax"</span>, <span class="seriesInfo">STD 66</span>, <span class="seriesInfo">RFC 3986</span>, <span class="seriesInfo">DOI 10.17487/RFC3986</span>, <time datetime="2005-01" class="refDate">January 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc3986">https://www.rfc-editor.org/rfc/rfc3986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5226">[RFC5226]</dt>
        <dd>
<span class="refAuthor">Narten, T.</span> and <span class="refAuthor">H. Alvestrand</span>, <span class="refTitle">"Guidelines for Writing an IANA Considerations Section in RFCs"</span>, <span class="seriesInfo">RFC 5226</span>, <span class="seriesInfo">DOI 10.17487/RFC5226</span>, <time datetime="2008-05" class="refDate">May 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc5226">https://www.rfc-editor.org/rfc/rfc5226</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5234">[RFC5234]</dt>
        <dd>
<span class="refAuthor">Crocker, D., Ed.</span> and <span class="refAuthor">P. Overell</span>, <span class="refTitle">"Augmented BNF for Syntax Specifications: ABNF"</span>, <span class="seriesInfo">STD 68</span>, <span class="seriesInfo">RFC 5234</span>, <span class="seriesInfo">DOI 10.17487/RFC5234</span>, <time datetime="2008-01" class="refDate">January 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc5234">https://www.rfc-editor.org/rfc/rfc5234</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5890">[RFC5890]</dt>
        <dd>
<span class="refAuthor">Klensin, J.</span>, <span class="refTitle">"Internationalized Domain Names for Applications (IDNA): Definitions and Document Framework"</span>, <span class="seriesInfo">RFC 5890</span>, <span class="seriesInfo">DOI 10.17487/RFC5890</span>, <time datetime="2010-08" class="refDate">August 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc5890">https://www.rfc-editor.org/rfc/rfc5890</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6066">[RFC6066]</dt>
        <dd>
<span class="refAuthor">Eastlake 3rd, D.</span>, <span class="refTitle">"Transport Layer Security (TLS) Extensions: Extension Definitions"</span>, <span class="seriesInfo">RFC 6066</span>, <span class="seriesInfo">DOI 10.17487/RFC6066</span>, <time datetime="2011-01" class="refDate">January 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6066">https://www.rfc-editor.org/rfc/rfc6066</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6454">[RFC6454]</dt>
        <dd>
<span class="refAuthor">Barth, A.</span>, <span class="refTitle">"The Web Origin Concept"</span>, <span class="seriesInfo">RFC 6454</span>, <span class="seriesInfo">DOI 10.17487/RFC6454</span>, <time datetime="2011-12" class="refDate">December 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6454">https://www.rfc-editor.org/rfc/rfc6454</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7230">[RFC7230]</dt>
        <dd>
<span class="refAuthor">Fielding, R., Ed.</span> and <span class="refAuthor">J. Reschke, Ed.</span>, <span class="refTitle">"Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing"</span>, <span class="seriesInfo">RFC 7230</span>, <span class="seriesInfo">DOI 10.17487/RFC7230</span>, <time datetime="2014-06" class="refDate">June 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7230">https://www.rfc-editor.org/rfc/rfc7230</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7234">[RFC7234]</dt>
        <dd>
<span class="refAuthor">Fielding, R., Ed.</span>, <span class="refAuthor">Nottingham, M., Ed.</span>, and <span class="refAuthor">J. Reschke, Ed.</span>, <span class="refTitle">"Hypertext Transfer Protocol (HTTP/1.1): Caching"</span>, <span class="seriesInfo">RFC 7234</span>, <span class="seriesInfo">DOI 10.17487/RFC7234</span>, <time datetime="2014-06" class="refDate">June 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7234">https://www.rfc-editor.org/rfc/rfc7234</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7301">[RFC7301]</dt>
        <dd>
<span class="refAuthor">Friedl, S.</span>, <span class="refAuthor">Popov, A.</span>, <span class="refAuthor">Langley, A.</span>, and <span class="refAuthor">E. Stephan</span>, <span class="refTitle">"Transport Layer Security (TLS) Application-Layer Protocol Negotiation Extension"</span>, <span class="seriesInfo">RFC 7301</span>, <span class="seriesInfo">DOI 10.17487/RFC7301</span>, <time datetime="2014-07" class="refDate">July 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7301">https://www.rfc-editor.org/rfc/rfc7301</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7405">[RFC7405]</dt>
        <dd>
<span class="refAuthor">Kyzivat, P.</span>, <span class="refTitle">"Case-Sensitive String Support in ABNF"</span>, <span class="seriesInfo">RFC 7405</span>, <span class="seriesInfo">DOI 10.17487/RFC7405</span>, <time datetime="2014-12" class="refDate">December 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7405">https://www.rfc-editor.org/rfc/rfc7405</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7540">[RFC7540]</dt>
      <dd>
<span class="refAuthor">Belshe, M.</span>, <span class="refAuthor">Peon, R.</span>, and <span class="refAuthor">M. Thomson, Ed.</span>, <span class="refTitle">"Hypertext Transfer Protocol Version 2 (HTTP/2)"</span>, <span class="seriesInfo">RFC 7540</span>, <span class="seriesInfo">DOI 10.17487/RFC7540</span>, <time datetime="2015-05" class="refDate">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7540">https://www.rfc-editor.org/rfc/rfc7540</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-10.2">
        <h3 id="name-informative-references">
<a href="#section-10.2" class="section-number selfRef">10.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="BCP90">[BCP90]</dt>
        <dd><div class="refInstance" id="RFC3864">
            <span class="refAuthor">Klyne, G.</span>, <span class="refAuthor">Nottingham, M.</span>, and <span class="refAuthor">J. Mogul</span>, <span class="refTitle">"Registration Procedures for Message Header Fields"</span>, <span class="seriesInfo">BCP 90</span>, <span class="seriesInfo">RFC 3864</span>, <time datetime="2004-09" class="refDate">September 2004</time>. </div>
<span>&lt;<a href="https://www.rfc-editor.org/info/bcp90">https://www.rfc-editor.org/info/bcp90</a>&gt;</span>
</dd>
<dd class="break"></dd>
<dt id="RFC5246">[RFC5246]</dt>
        <dd>
<span class="refAuthor">Dierks, T.</span> and <span class="refAuthor">E. Rescorla</span>, <span class="refTitle">"The Transport Layer Security (TLS) Protocol Version 1.2"</span>, <span class="seriesInfo">RFC 5246</span>, <span class="seriesInfo">DOI 10.17487/RFC5246</span>, <time datetime="2008-08" class="refDate">August 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc5246">https://www.rfc-editor.org/rfc/rfc5246</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6265">[RFC6265]</dt>
        <dd>
<span class="refAuthor">Barth, A.</span>, <span class="refTitle">"HTTP State Management Mechanism"</span>, <span class="seriesInfo">RFC 6265</span>, <span class="seriesInfo">DOI 10.17487/RFC6265</span>, <time datetime="2011-04" class="refDate">April 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6265">https://www.rfc-editor.org/rfc/rfc6265</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7469">[RFC7469]</dt>
        <dd>
<span class="refAuthor">Evans, C.</span>, <span class="refAuthor">Palmer, C.</span>, and <span class="refAuthor">R. Sleevi</span>, <span class="refTitle">"Public Key Pinning Extension for HTTP"</span>, <span class="seriesInfo">RFC 7469</span>, <span class="seriesInfo">DOI 10.17487/RFC7469</span>, <time datetime="2015-04" class="refDate">April 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7469">https://www.rfc-editor.org/rfc/rfc7469</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7838">[RFC7838]</dt>
      <dd>
<span class="refAuthor">Nottingham, M.</span>, <span class="refAuthor">McManus, P.</span>, and <span class="refAuthor">J. Reschke</span>, <span class="refTitle">"HTTP Alternative Services"</span>, <span class="seriesInfo">RFC 7838</span>, <span class="seriesInfo">DOI 10.17487/RFC7838</span>, <time datetime="2016-04" class="refDate">April 2016</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc7838">https://www.rfc-editor.org/rfc/rfc7838</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="acknowledgments">
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">The previous version of this document was authored by Mark Nottingham, Patrick
McManus, and Julian F. Reschke.  <span>[<a href="#RFC7838" class="xref">RFC7838</a>]</span> contains a more extensive list of
people who contributed to that document.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-B">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Mike Bishop (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Akamai Technologies</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mbishop@evequefou.be" class="email">mbishop@evequefou.be</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Martin Thomson (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">Mozilla</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:mt@lowentropy.net" class="email">mt@lowentropy.net</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
