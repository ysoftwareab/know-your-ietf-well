Network Working Group                                      G. Bernstein  
Internet Draft                                        Grotto Networking 
Intended status: Standards Track                                 Y. Lee  
Expires: January 2009                                             D. Li 
                                                                 Huawei 
                                                             W. Imajuku 
                                                                    NTT 
                                    
                                    
                                                           July 3, 2008 
                                      
        Routing and Wavelength Assignment Information Encoding for 
                   Wavelength Switched Optical Networks 


                 draft-bernstein-ccamp-wson-encode-00.txt 


Status of this Memo 

   By submitting this Internet-Draft, each author represents that       
   any applicable patent or other IPR claims of which he or she is       
   aware have been or will be disclosed, and any of which he or she       
   becomes aware will be disclosed, in accordance with Section 6 of       
   BCP 79. 

   Internet-Drafts are working documents of the Internet Engineering 
   Task Force (IETF), its areas, and its working groups.  Note that 
   other groups may also distribute working documents as Internet-
   Drafts. 

   Internet-Drafts are draft documents valid for a maximum of six months 
   and may be updated, replaced, or obsoleted by other documents at any 
   time.  It is inappropriate to use Internet-Drafts as reference 
   material or to cite them other than as "work in progress." 

   The list of current Internet-Drafts can be accessed at 
   http://www.ietf.org/ietf/1id-abstracts.txt 

   The list of Internet-Draft Shadow Directories can be accessed at 
   http://www.ietf.org/shadow.html 

   This Internet-Draft will expire on January 3, 2007. 

Copyright Notice 

   Copyright (C) The IETF Trust (2008). 

 
 
 
Bernstein and Lee      Expires January 3, 2009                 [Page 1] 

Internet-Draft   Wavelength Switched Optical Networks         July 2008 
    

Abstract 

   A wavelength switched optical network (WSON) requires that certain 
   key information elements are made available to facilitate path 
   computation and the establishment of label switching paths (LSPs). 
   The information model described in "Routing and Wavelength Assignment 
   Information for Wavelength Switched Optical Networks" shows what 
   information is required at specific points in the WSON. 

   The information may be used in Generalized Multiprotocol Label 
   Switching (GMPLS) signaling protocols, and may be distributed by 
   GMSPL routing protocols. Other distribution mechanisms (for example, 
   XML-based protocols) may also be used. 

   This document provides efficient, protocol-agnostic encodings for the 
   information elements necessary to operate a WSON. It is intended that 
   protocol-specific documents will reference this memo to describe how 
   information is carried for specific uses. 

    

Conventions used in this document 

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this 
   document are to be interpreted as described in RFC-2119 [RFC2119]. 

Table of Contents 

    
   1. Introduction...................................................3 
   2. Terminology....................................................3 
   3. Encoding of WSON Information: Sub-TLVs.........................4 
      3.1. Link Set Sub-TLV..........................................4 
      3.2. Connectivity Matrix Sub-TLV...............................6 
      3.3. Wavelength Information Encoding...........................9 
      3.4. Wavelength Set Sub-TLV...................................10 
         3.4.1. Inclusive/Exclusive Wavelength Lists................10 
         3.4.2. Inclusive/Exclusive Wavelength Ranges...............11 
         3.4.3. Bitmap Wavelength Set...............................11 
      3.5. Port Wavelength Restriction sub-TLV......................13 
   4. Composite TLVs................................................14 
      4.1. WSON Node TLV............................................14 
      4.2. WSON Link TLV............................................14 
      4.3. WSON Dynamic Link TLV....................................15 
      4.4. WSON Dynamic Node TLV....................................15 
   5. Security Considerations.......................................16 
   6. IANA Considerations...........................................16 
     

   Bernstein and Lee Expires January 3, 2009 [Page 2] 

Internet-Draft   Wavelength Switched Optical Networks         July 2008 
    

   7. Acknowledgments...............................................16 
   8. References....................................................17 
      8.1. Normative References.....................................17 
      8.2. Informative References...................................17 
   9. Contributors..................................................19 
   Authors' Addresses...............................................19 
   Intellectual Property Statement..................................20 
   Disclaimer of Validity...........................................21 
    
1. Introduction 

   A Wavelength Switched Optical Network (WSON) is a Wavelength Division 
   Multiplexing (WDM) optical network in which switching is performed 
   selectively based on the center wavelength of an optical signal. 

   [WSON-Frame] describes a framework for Generalized Multiprotocol 
   Label Switching (GMPLS) and Path Computation Element (PCE) control of 
   a WSON. Based on this framework, [WSON-Info] describes an information 
   model that specifies what information is needed at various points in 
   a WSON in order to compute paths and establish Label Switched Paths 
   (LSPs).  

   This document provides efficient encodings of information needed by 
   the routing and wavelength assignment (RWA) process in a WSON. Such 
   encodings can be used to extend GMPLS signaling and routing 
   protocols. In addition these encodings could be used by other 
   mechanisms to convey this same information to a path computation 
   element (PCE). Note that since these encodings are relatively 
   efficient they can provide more accurate analysis of the control 
   plane communications/processing load for WSONs looking to utilize a 
   GMPLS control plane. 

2. Terminology 

   CWDM: Coarse Wavelength Division Multiplexing. 

   DWDM: Dense Wavelength Division Multiplexing. 

   FOADM: Fixed Optical Add/Drop Multiplexer. 

   ROADM: Reconfigurable Optical Add/Drop Multiplexer. A reduced port 
   count wavelength selective switching element featuring ingress and 
   egress line side ports as well as add/drop side ports. 

   RWA: Routing and Wavelength Assignment. 

   Wavelength Conversion. The process of converting an information 
   bearing optical signal centered at a given wavelength to one with 
     

   Bernstein and Lee Expires January 3, 2009 [Page 3] 

Internet-Draft   Wavelength Switched Optical Networks         July 2008 
    

   "equivalent" content centered at a different wavelength. Wavelength 
   conversion can be implemented via an optical-electronic-optical (OEO) 
   process or via a strictly optical process. 

   WDM: Wavelength Division Multiplexing. 

   Wavelength Switched Optical Network (WSON): A WDM based optical 
   network in which switching is performed selectively based on the 
   center wavelength of an optical signal. 

3. Encoding of WSON Information: Sub-TLVs 

   A TLV encoding of the high level WSON information model [WSON-Info] 
   is given in the following sections. This encoding is designed to be 
   suitable for use in the GMPLS routing protocols OSPF [RFC4203] and 
   IS-IS [RFC4205] and in the PCE protocol PCEP [PCEP]. Note that the 
   information distributed in [RFC4203] and [RFC4205] is arranged via 
   the nesting of sub-TLVs within TLVs and this document makes use of 
   such constructs.  

3.1. Link Set Sub-TLV 

   We will frequently need to describe properties of groups of links. To 
   do so efficiently we can make use of a link set concept similar to 
   the label set concept of [RFC3471]. All links will be denoted by 
   their local link identifier as defined an used in [RFC4202], 
   [RFC4203], and [RFC4205]. 

   The information carried in a Link Set is defined by: 

       0                   1                   2                   3 
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
      |    Action     |Dir|  Format   |         Reserved              | 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
      |                       Link Identifier 1                       | 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
      :                               :                               : 
      :                               :                               : 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
      |                       Link Identifier N                       | 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
    

      Action: 8 bits 

         0 - Inclusive List 

     

   Bernstein and Lee Expires January 3, 2009 [Page 4] 

Internet-Draft   Wavelength Switched Optical Networks         July 2008 
    

   Indicates that the TLV contains one or more link elements that are 
   included in the Link Set. 

         2 - Inclusive Range 

   Indicates that the TLV contains a range of links.  The object/TLV 
   contains two link elements. The first element indicates the start of 
   the range. The second element indicates the end of the range. A value 
   of zero indicates that there is no bound on the corresponding portion 
   of the range. 

   Dir: Directionality of the Link Set (2 bits) 

   0 -- bidirectional 

   1 -- incoming  

   2 -- outgoing 

   In optical networks we think in terms of unidirectional as well as 
   bidirectional links. For example, wavelength restrictions or 
   connectivity may be different for an ingress port, than for its 
   "companion" egress port if one exists. Note that "interfaces" such as 
   those discussed in the Interfaces MIB [RFC2863] are assumed to be 
   bidirectional. This also applies to the links advertised in various 
   link state routing protocols. 

   Format: The format of the link identifier (6 bits) 

   0 -- Link Local Identifier 

   Others TBD. 

   Note that all link identifiers in the same list must be of the same 
   type. 

   Reserved: 16 bits 

   This field is reserved. It MUST be set to zero on transmission and 
   MUST be ignored on receipt. 

      Link Identifier: 

   The link identifier represents the port which is being described 
   either for connectivity or wavelength restrictions. This can be the 
   link local identifier of [RFC4202], GMPLS routing, [RFC4203] GMPLS 
   OSPF routing, and [RFC4205] IS-IS GMPLS routing. The use of the link 

     

   Bernstein and Lee Expires January 3, 2009 [Page 5] 

Internet-Draft   Wavelength Switched Optical Networks         July 2008 
    

   local identifier format can result in more compact WSON encodings 
   when the assignments are done in a reasonable fashion. 

3.2. Connectivity Matrix Sub-TLV 

   The switch and fixed connectivity matrices of [WSON-Info] can be 
   compactly represented in terms of a minimal list of ingress and 
   egress port set pairs that have mutual connectivity. As described in 
   [Switch] such a minimal list representation leads naturally to a 
   graph representation for path computation purposes that involves the 
   fewest additional nodes and links. 

   A TLV encoding of this list of link set pairs is:  

       0                   1                   2                   3 
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
      | Connectivity  |               Reserved                        | 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
      |                         Link Set A #1                         | 
      :                               :                               : 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
      |                         Link Set B #1                         : 
      :                               :                               : 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
      |                       Additional Link set pairs as needed     | 
      :                     to specify connectivity                   : 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
    

   Where Connectivity = 0 if the device is fixed 

                        1 if the device is switched(e.g., ROADM/OXC) 

   TBD: Should we just have two sub-TLVs one for fixed one for switched? 

   Example: 

   Suppose we have a typical 2-degree 40 channel ROADM. In addition to 
   its two line side ports it has 80 add and 80 drop ports. The picture 
   below illustrates how a typical 2-degree ROADM system that works with 
   bi-directional fiber pairs is a highly asymmetrical system composed 
   of two unidirectional ROADM subsystems.  

    



     

   Bernstein and Lee Expires January 3, 2009 [Page 6] 

Internet-Draft   Wavelength Switched Optical Networks         July 2008 
    

                         (Tributary) Ports #3-#42 
                     Ingress added to    Egress dropped from 
                     West Line Egress    East Line Ingress 
                           vvvvv          ^^^^^ 
                          | |||.|        | |||.| 
                    +-----| |||.|--------| |||.|------+ 
                    |    +----------------------+     | 
                    |    |                      |     | 
        Egress      |    | Unidirectional ROADM |     |    Ingress 
   -----------------+    |                      |     +-------------- 
   <=====================|                      |===================< 
   -----------------+    +----------------------+     +-------------- 
                    |                                 | 
        Port #1     |                                 |   Port #2 
   (West Line Side) |                                 |(East Line Side) 
   -----------------+    +----------------------+     +-------------- 
   >=====================|                      |===================> 
   -----------------+    | Unidirectional ROADM |     +-------------- 
        Ingress     |    |                      |     |    Egress 
                    |    |              _       |     | 
                    |    +----------------------+     | 
                    +-----| |||.|--------| |||.|------+ 
                          | |||.|        | |||.| 
                           vvvvv          ^^^^^ 
                     (Tributary) Ports #43-#82 
                Egress dropped from    Ingress added to 
                West Line ingress      East Line egress 
    

   Referring to the figure we see that the ingress direction of ports 
   #3-#42 (add ports) can only connect to the egress on port #1. While 
   the ingress side of port #2 (line side) can only connect to the 
   egress on ports #3-#42 (drop) and to the egress on port #1 (pass 
   through). Similarly, the ingress direction of ports #43-#82 can only 
   connect to the egress on port #2 (line). While the ingress direction 
   of port #1 can only connect to the egress on ports #43-#82 (drop) or 
   port #2 (pass through). We can now represent this potential 
   connectivity matrix as follows. This representation uses only 30 32-
   bit words. 









     

   Bernstein and Lee Expires January 3, 2009 [Page 7] 

Internet-Draft   Wavelength Switched Optical Networks         July 2008 
    

 
       0                   1                   2                   3 
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |    Conn = 1   |                 Reserved                      |1 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
                          Note: adds to line 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |  Action=2     |0 1|0 0 0 0 0 0|Reserved(Note:inclusive range) |2 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |                     Link Local Identifier = #3                |3 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |                     Link Local Identifier = #42               |4 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |  Action=0     |1 0|0 0 0 0 0 0|Reserved (Note:inclusive list) |5 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |                     Link Local Identifier = #1                |6 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
                       Note: line to drops 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |  Action=0     |0 1|0 0 0 0 0 0|Reserved (Note:inclusive list) |7 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |                     Link Local Identifier = #2                |8 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |  Action=2     |1 0|0 0 0 0 0 0|Reserved(Note: inclusive range)|9 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |                     Link Local Identifier = #3                |10 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |                     Link Local Identifier = #42               |11 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
                       Note: line to line  
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |  Action=0     |0 1|0 0 0 0 0 0|Reserved (Note:inclusive list) |12 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |                     Link Local Identifier = #2                |13 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |  Action=0     |1 0|0 0 0 0 0 0|Reserved(Note: inclusive range)|14 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |                     Link Local Identifier = #1                |15 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
                                Note: adds to line  
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |  Action=2     |0 1|0 0 0 0 0 0|Reserved(Note:inclusive range) |16 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |                     Link Local Identifier = #42               |17 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |                     Link Local Identifier = #82               |18 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     

   Bernstein and Lee Expires January 3, 2009 [Page 8] 

Internet-Draft   Wavelength Switched Optical Networks         July 2008 
    

     |  Action=0     |1 0|0 0 0 0 0 0|Reserved (Note:inclusive list) |19  
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |                     Link Local Identifier = #2                |20 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
                       Note: line to drops 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |  Action=0     |0 1|0 0 0 0 0 0|Reserved (Note:inclusive list) |21 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |                     Link Local Identifier = #1                |22 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |  Action=2     |1 0|0 0 0 0 0 0|Reserved(Note: inclusive range)|23 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |                     Link Local Identifier = #43               |24 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |                     Link Local Identifier = #82               |25 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
                       Note: line to line  
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |  Action=0     |0 1|0 0 0 0 0 0|Reserved (Note:inclusive list) |26 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |                     Link Local Identifier = #1                |27 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |  Action=0     |1 0|0 0 0 0 0 0|Reserved(Note: inclusive range)|28 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |                     Link Local Identifier = #2                |30 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
    
3.3. Wavelength Information Encoding 

   This document makes frequent use of the lambda label format defined 
   in [Otani] shown below strictly for reference purposes: 

      0                   1                   2                   3 
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |Grid |  C.S. |S|  Reserved     |               n               | 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
   Where 

   Grid is used to indicate which ITU-T grid specification is being 
   used. 

   C.S. = Channel spacing used in a DWDM system, i.e., with a ITU-T 
   G.694.1 grid. 

   S = sign of the offset from the center frequency of 193.1THz for the 
   ITU-T G.694.1 grid. 

     

   Bernstein and Lee Expires January 3, 2009 [Page 9] 

Internet-Draft   Wavelength Switched Optical Networks         July 2008 
    

   n = Used to specify the frequency as 193.1THz +/- n*(channel spacing) 
   where the + or - is chosen based on the sign (S) bit. 

3.4. Wavelength Set Sub-TLV 

   Wavelength sets come up frequently in WSONs to describe the range of 
   a laser transmitter, the wavelength restrictions on ROADM ports, or 
   the availability of wavelengths on a DWDM link. The general format 
   for a wavelength set is given below. This format uses the Action 
   concept from [RFC3471] with an additional Action to define a "bit 
   map" type of label set. Note that the second 32 bit field is a lambda 
   label in the previously defined format. This provides important 
   information on the WDM grid type and channel spacing that will be 
   used in the compact encodings listed.  

      0                   1                   2                   3 
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     | Action        |   Reserved    |    Num Wavelengths            | 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |Grid |  C.S. |S|  Reserved     |  n  for lowest frequency      | 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |     Additional fields as necessary per action                 | 
     | 
    
    

   Action: 

   0 - Inclusive List 

   1 - Exclusive List 

   2 - Inclusive Range 

   3 - Exclusive Range 

   4 - Bitmap Set 

   3.4.1. Inclusive/Exclusive Wavelength Lists 

   In the case of the inclusive/exclusive lists the wavelength set 
   format is given by: 





     

   Bernstein and Lee Expires January 3, 2009 [Page 10] 

Internet-Draft   Wavelength Switched Optical Networks         July 2008 
    

      0                   1                   2                   3 
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |Action=0 or 1  | Reserved      |      Num Wavelengths          | 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |Grid |  C.S. |S|    Reserved   |    n  for lowest frequency    | 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |    n2                         |          n3                   | 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     :                                                               : 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |    nm                         |                                | 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
   Where Num Wavelengths tells us the number of wavelength in this 
   inclusive or exclusive list this does not include the initial 
   wavelength in the list hence if the number of wavelengths is odd then 
   zero padding of the last half word is required. 

   3.4.2. Inclusive/Exclusive Wavelength Ranges 

   In the case of inclusive/exclusive ranges the wavelength set format 
   is given by: 

      0                   1                   2                   3 
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |Action=2 or 3  | Reserved      |      Num Wavelengths          | 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |Grid |  C.S. |S|  Reserved     |      n  for lowest frequency  | 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

   In this case Num Wavelengths specifies the number of wavelengths in 
   the range starting at the given wavelength and incrementing the Num 
   Wavelengths number of channel spacing up in frequency (regardless of 
   the value of the sign bit). 

   3.4.3. Bitmap Wavelength Set 

   In the case of Action = 4, the bitmap the wavelength set format is 
   given by: 








     

   Bernstein and Lee Expires January 3, 2009 [Page 11] 

Internet-Draft   Wavelength Switched Optical Networks         July 2008 
    

      0                   1                   2                   3 
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     | Action = 4    | Reserved    |      Num Wavelengths            | 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |Grid |  C.S. |S|  Reserved   |      n  for lowest frequency    | 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |    Bit Map Word #1 (Lowest frequency channels)                | 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     :                                                               : 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |    Bit Map Word #N (Highest frequency channels)               | 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
    

   Where Num Wavelengths in this case tells us the number of wavelengths 
   represented by the bit map. Each bit in the bit map represents a 
   particular frequency with a value of 1/0 indicating whether the 
   frequency is in the set or not. Bit position zero represents the 
   lowest frequency, while each succeeding bit position represents the 
   next frequency a channel spacing (C.S.) above the previous. 

   The size of the bit map is clearly Num Wavelengths bits, but the bit 
   map is made up to a full multiple of 32 bits so that the TLV is a 
   multiple of four bytes. Bits that do not represent wavelengths (i.e., 
   those in positions (Num Wavelengths - 1) and beyond) SHOULD be set to 
   zero and MUST be ignored. 

   Example: 

   A 40 channel C-Band DWDM system with 100GHz spacing with lowest 
   frequency 192.0THz (1561.4nm) and highest frequency 195.9THz 
   (1530.3nm). These frequencies correspond to n = -11, and n = 28 
   respectively. Now suppose the following channels are available: 

   Frequency (THz)    n Value      bit map position 
   -------------------------------------------------- 
      192.0             -11               0 
      192.5              -6               5 
      193.1               0              11 
      193.9               8              19 
      194.0               9              20 
      195.2              21              32 
      195.8              27              38 
    
   With the Grid value set to indicate an ITU-T G.694.1 DWDM grid, C.S. 
   set to indicate 100GHz, and with S (sign) set to indicate negative 
   this lambda bit map set would then be encoded as follows: 
     

   Bernstein and Lee Expires January 3, 2009 [Page 12] 

Internet-Draft   Wavelength Switched Optical Networks         July 2008 
    

 

      0                   1                   2                   3 
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     | Action = 4    | Reserved      |    Num Wavelengths = 40       | 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |Grid |  C.S. |S|    Reserved   | n  for lowest frequency = -11 | 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |1 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0 0 1 1 0 0 0 0 0 0 0 0 0 0 0| 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |1 0 0 0 0 0 1 0|   Not used in 40 Channel system (all zeros)   |  
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 

 

3.5. Port Wavelength Restriction sub-TLV 

   The port wavelength restriction of [WSON-Info] can be encoded as a 
   sub-TLV as follows. 

      0                   1                   2                   3 
      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |RestrictionKind|T|  Reserved   |     MaxNumChannels            | 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
                  --Wavelength Set-- 
     | Action        |   Reserved    |    Num Wavelengths            | 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |Grid |  C.S. |S|  Reserved     |  n  for lowest frequency      | 
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |     Additional fields as necessary per action                 | 
     |                                                               | 
    

   RestrictionKind can take the following values and meanings: 

   0:   Simple wavelength selective restriction. Max number of channels 
   indicates the number of wavelengths permitted on the port and the 
   accompanying wavelength set indicates the permitted values. 

   1:   Waveband device with a tunable center frequency and passband. In 
   this case the maximum number of channels indicates the maximum width 
   of the waveband in terms of the channels spacing given in the 
   wavelength set. The corresponding wavelength set is used to indicate 
   the overall tuning range. Specific center frequency tuning 
   information can be obtained from dynamic channel in use information. 

     

   Bernstein and Lee Expires January 3, 2009 [Page 13] 

Internet-Draft   Wavelength Switched Optical Networks         July 2008 
    

   It is assumed that both center frequency and bandwidth (Q) tuning can 
   be done without causing faults in existing signals. 

   Values for T include: 

   0 == Use with a fixed connectivity matrix 

   1 == Use with a switched connectivity matrix 

   TBD: Should we just have two flavors of sub-TLV then? 

4. Composite TLVs 

   The Four composite TLVs in the following sections are based on the 
   four high level information bundles of [WSON-Info]. 

4.1. WSON Node TLV 

   The WSON Node TLV consists of the following ordered list of sub-TLVs:  

     1. Node ID (This will be derived from standard IETF node 
        identifiers) 

     2. Switch Connectivity Matrix - (optional) This is a connectivity 
        matrix sub-TLV with the connectivity type set to "switched" 
        (conn = 1) 

     3. Fixed Connectivity Matrix - (optional) This is a connectivity 
        matrix sub-TLV with the connectivity type set to "fixed" (conn = 
        0). 

     4. Shared Risk Node Group - (optional) Format TBD. 

     5. Wavelength Converter Pool - (optional) Format TBD. 

4.2. WSON Link TLV 

   Note that a number of sub-TLVs for links have already been defined 
   and it is for further study if we can or should reuse any of those 
   sub-TLVs in our encoding. Note that for a system already employing 
   GMPLS based routing the existing encodings and transport mechanisms 
   should be used and the information does not need to appear twice. The 
   WSON Link TLV consists of the following ordered list of sub-TLVs: 

     1. Link Identifier - Need to double check on this with RFC4203 
        (required). 


     

   Bernstein and Lee Expires January 3, 2009 [Page 14] 

Internet-Draft   Wavelength Switched Optical Networks         July 2008 
    

     2. Administrative Group - (optional) Standard sub-TLV type 9, 
        RFC3630. 

     3. Interface Switching Capability Descriptor - Standard sub-TLV 
        type 15, RFC4203. 

     4. Protection - (optional) Standard sub-TLV type 15, RFC4203. 

     5. Shared Risk Link Group - (optional) Standard sub-TLV 16, 
        RFC4203. 

     6. Traffic Engineering Metric - (optional) Standard sub-TLV type 5, 
        RFC3630. 

     7. Maximum Bandwidth per Channel - TBD. 

     8. Switched Port Wavelength Restriction - (optional) The port 
        wavelength restriction sub-TLV with T = 1. 

     9. Fixed Port Wavelength Restriction - (optional) The port 
        wavelength restriction sub-TLV with T = 0. 

4.3. WSON Dynamic Link TLV 

   The WSON dynamic link TLV consists of the following ordered list of 
   sub-TLVs. 

     1. Link Identifier - Need to double check on this with RFC4203. 

     2. Available Wavelengths - A wavelength set sub-TLV used to 
        indicate which wavelengths are available on this link. 

     3. Shared Backup Wavelengths - (optional) A wavelength set sub-TLV 
        used to indicate which wavelengths on this link are currently 
        used for shared backup protection (and hence can possibly be 
        reused). 

4.4. WSON Dynamic Node TLV 

   The WSON dynamic node TLV consists of the following ordered list of 
   sub-TLVs. 

     1. Node ID - Format TBD. 

     2. Wavelength Converter Pool Status - (optional) Format TBD. 

   Note that currently the only dynamic information modeled with a node 
   is associated with the status of the wavelength converter pool. 
     

   Bernstein and Lee Expires January 3, 2009 [Page 15] 

Internet-Draft   Wavelength Switched Optical Networks         July 2008 
    

5. Security Considerations 

   This document defines protocol-independent encodings for WSON 
   information and does not introduce any security issues. 

   However, other documents that make use of these encodings within 
   protocol extensions need to consider the issues and risks associated 
   with, inspection, interception, modification, or spoofing of any of 
   this information. It is expected that any such documents will 
   describe the necessary security measures to provide adequate 
   protection. 

6. IANA Considerations 

   TBD. Once our approach is finalized we may need identifiers for the 
   various TLVs and sub-TLVs. 

7. Acknowledgments 

   This document was prepared using 2-Word-v2.0.template.dot. 




























     

   Bernstein and Lee Expires January 3, 2009 [Page 16] 

Internet-Draft   Wavelength Switched Optical Networks         July 2008 
    

 

8. References 

8.1. Normative References 

   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate 
             Requirement Levels", BCP 14, RFC 2119, March 1997. 

   [RFC2863] McCloghrie, K. and F. Kastenholz, "The Interfaces Group 
             MIB", RFC 2863, June 2000. 

   [RFC3471] Berger, L., "Generalized Multi-Protocol Label Switching 
             (GMPLS) Signaling Functional Description", RFC 3471, 
             January 2003. 

   [G.694.1] ITU-T Recommendation G.694.1, "Spectral grids for WDM 
             applications: DWDM frequency grid", June, 2002. 

   [RFC4202] Kompella, K., Ed., and Y. Rekhter, Ed., "Routing Extensions 
             in Support of Generalized Multi-Protocol Label Switching 
             (GMPLS)", RFC 4202, October 2005 

   [RFC4203] Kompella, K., Ed., and Y. Rekhter, Ed., "OSPF Extensions in 
             Support of Generalized Multi-Protocol Label Switching 
             (GMPLS)", RFC 4203, October 2005.  

   [Otani]   T. Otani, H. Guo, K. Miyazaki, D. Caviglia, "Generalized 
             Labels for G.694 Lambda-Switching Capable Label Switching 
             Routers", work in progress: draft-ietf-ccamp-gmpls-g-694-
             lambda-labels-01.txt, May 2008. 

    

8.2. Informative References 

   [G.694.1] ITU-T Recommendation G.694.1, Spectral grids for WDM 
             applications: DWDM frequency grid, June 2002. 

   [G.694.2] ITU-T Recommendation G.694.2, Spectral grids for WDM 
             applications: CWDM wavelength grid, December 2003. 

   [RFC4205] Kompella, K., Ed., and Y. Rekhter, Ed., "Intermediate 
             System to Intermediate System (IS-IS) Extensions in Support 
             of Generalized Multi-Protocol Label Switching (GMPLS)", RFC 
             4205, October 2005. 

    
     

   Bernstein and Lee Expires January 3, 2009 [Page 17] 

Internet-Draft   Wavelength Switched Optical Networks         July 2008 
    

   [Switch] G. Bernstein, Y. Lee, A. Gavler, J. Martensson, " Modeling 
         WDM Wavelength Switching Systems for use in Automated Path 
         Computation", http://www.grotto-
         networking.com/wson/ModelingWSONswitchesV2a.pdf , June, 2008 

   [WSON-Frame] G. Bernstein, Y. Lee, W. Imajuku, "Framework for GMPLS 
             and PCE Control of Wavelength Switched Optical Networks", 
             work in progress: draft-ietf-ccamp-wavelength-switched-
             framework-00.txt, May 2008. 

   [WSON-Info] G. Bernstein, Y. Lee, D. Li, W. Imajuku, "Routing and 
             Wavelength Assignment Information Model for Wavelength 
             Switched Optical Networks", work in progress: draft-
             bernstein-ccamp-wson-info-03.txt, July 2008. 

   [PCEP]    Vasseur, JP., Ed. and JL. Le Roux, Ed., "Path Computation 
             Element (PCE) communication Protocol (PCEP) - Version 1", 
             draft-ietf-pce-pcep, work in progress. 

    

    


























     

   Bernstein and Lee Expires January 3, 2009 [Page 18] 

Internet-Draft   Wavelength Switched Optical Networks         July 2008 
    

9. Contributors 

   Diego Caviglia  
   Ericsson 
   Via A. Negrone 1/A 16153 
   Genoa Italy 
    
   Phone: +39 010 600 3736 
   Email: diego.caviglia@(marconi.com, ericsson.com) 
    
   Anders Gavler 
   Acreo AB 
   Electrum 236 
   SE - 164 40 Kista Sweden 
    
   Email: Anders.Gavler@acreo.se 
    
   Jonas Martensson 
   Acreo AB 
   Electrum 236 
   SE - 164 40 Kista, Sweden 
    
   Email: Jonas.Martensson@acreo.se 
    
   Itaru Nishioka 
   NEC Corp. 
   1753 Simonumabe, Nakahara-ku, Kawasaki, Kanagawa 211-8666 
   Japan 
    
   Phone: +81 44 396 3287 
   Email: i-nishioka@cb.jp.nec.com 
    

    
Authors' Addresses 

   Greg Bernstein (ed.) 
   Grotto Networking 
   Fremont, CA, USA 
       
   Phone: (510) 573-2237 
   Email: gregb@grotto-networking.com 
    





     

   Bernstein and Lee Expires January 3, 2009 [Page 19] 

Internet-Draft   Wavelength Switched Optical Networks         July 2008 
    

   Young Lee (ed.) 
   Huawei Technologies 
   1700 Alma Drive, Suite 100 
   Plano, TX 75075 
   USA 
    
   Phone: (972) 509-5599 (x2240) 
   Email: ylee@huawei.com 
    

   Dan Li  
   Huawei Technologies Co., Ltd.  
   F3-5-B R&D Center, Huawei Base,  
   Bantian, Longgang District  
   Shenzhen 518129 P.R.China  
    
   Phone: +86-755-28973237 
   Email: danli@huawei.com 
    
   Wataru Imajuku 
   NTT Network Innovation Labs 
   1-1 Hikari-no-oka, Yokosuka, Kanagawa 
   Japan 
    
   Phone: +81-(46) 859-4315 
   Email: imajuku.wataru@lab.ntt.co.jp 
    
 

Intellectual Property Statement 

   The IETF takes no position regarding the validity or scope of any 
   Intellectual Property Rights or other rights that might be claimed to 
   pertain to the implementation or use of the technology described in 
   this document or the extent to which any license under such rights 
   might or might not be available; nor does it represent that it has 
   made any independent effort to identify any such rights.  Information 
   on the procedures with respect to rights in RFC documents can be 
   found in BCP 78 and BCP 79. 

   Copies of IPR disclosures made to the IETF Secretariat and any 
   assurances of licenses to be made available, or the result of an 
   attempt made to obtain a general license or permission for the use of 
   such proprietary rights by implementers or users of this 
   specification can be obtained from the IETF on-line IPR repository at 
   http://www.ietf.org/ipr. 


     

   Bernstein and Lee Expires January 3, 2009 [Page 20] 

Internet-Draft   Wavelength Switched Optical Networks         July 2008 
    

   The IETF invites any interested party to bring to its attention any 
   copyrights, patents or patent applications, or other proprietary 
   rights that may cover technology that may be required to implement 
   this standard.  Please address the information to the IETF at 
   ietf-ipr@ietf.org. 

Disclaimer of Validity 

   This document and the information contained herein are provided on an 
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS 
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY, THE IETF TRUST AND 
   THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS 
   OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF 
   THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED 
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. 

Copyright Statement 

   Copyright (C) The IETF Trust (2008). 

   This document is subject to the rights, licenses and restrictions 
   contained in BCP 78, and except as set forth therein, the authors 
   retain all their rights. 

Acknowledgment 

   Funding for the RFC Editor function is currently provided by the 
   Internet Society. 

    


















     

   Bernstein and Lee Expires January 3, 2009 [Page 21] 
