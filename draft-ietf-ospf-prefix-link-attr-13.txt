



Network Working Group                                          P. Psenak
Internet-Draft                                             Cisco Systems
Intended status: Standards Track                              H. Gredler
Expires: February 21, 2016                        Juniper Networks, Inc.
                                                               R. Shakir
                                                  Individual Contributor
                                                           W. Henderickx
                                                          Alcatel-Lucent
                                                             J. Tantsura
                                                                Ericsson
                                                               A. Lindem
                                                           Cisco Systems
                                                         August 20, 2015


               OSPFv2 Prefix/Link Attribute Advertisement
                draft-ietf-ospf-prefix-link-attr-13.txt

Abstract

   OSPFv2 requires functional extension beyond what can readily be done
   with the fixed-format Link State Advertisements (LSAs) as described
   in RFC 2328.  This document defines OSPF opaque LSAs based on Type-
   Length-Value (TLV) tuples that can be used to associate additional
   attributes with prefixes or links.  Dependent on the application,
   these prefixes and links may or not be advertised in the fixed-format
   LSAs.  The OSPF opaque LSAs are optional and fully backward
   compatible.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on February 21, 2016.






Psenak, et al.          Expires February 21, 2016               [Page 1]

Internet-Draft        OSPFv2 Prefix/Link Attributes          August 2015


Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

   This document may contain material from IETF Documents or IETF
   Contributions published or made publicly available before November
   10, 2008.  The person(s) controlling the copyright in some of this
   material may not have granted the IETF Trust the right to allow
   modifications of such material outside the IETF Standards Process.
   Without obtaining an adequate license from the person(s) controlling
   the copyright in such materials, this document may not be modified
   outside the IETF Standards Process, and derivative works of it may
   not be created outside the IETF Standards Process, except to format
   it for publication as an RFC or to translate it into languages other
   than English.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   3
     1.1.  Requirements notation . . . . . . . . . . . . . . . . . .   3
   2.  OSPFv2 Extended Prefix Opaque LSA . . . . . . . . . . . . . .   3
     2.1.  OSPFv2 Extended Prefix TLV  . . . . . . . . . . . . . . .   5
   3.  OSPFv2 Extended Link Opaque LSA . . . . . . . . . . . . . . .   8
     3.1.  OSPFv2 Extended Link TLV  . . . . . . . . . . . . . . . .   9
   4.  Backward Compatibility  . . . . . . . . . . . . . . . . . . .  10
   5.  Implementation Status . . . . . . . . . . . . . . . . . . . .  10
     5.1.  Implementation Survey Results . . . . . . . . . . . . . .  11
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .  12
   7.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  12
     7.1.  OSPF Extended Prefix Opaque LSA TLV Registry  . . . . . .  13
     7.2.  OSPF Extended Prefix TLV Sub-TLV Registry . . . . . . . .  13
     7.3.  OSPF Extended Prefix TLV Flags Registry . . . . . . . . .  13
     7.4.  OSPF Extended Link Opaque LSA TLV Registry  . . . . . . .  14
     7.5.  OSPF Extended Link TLV Sub-TLV Registry . . . . . . . . .  14
   8.  Acknowledgments . . . . . . . . . . . . . . . . . . . . . . .  14
   9.  References  . . . . . . . . . . . . . . . . . . . . . . . . .  15
     9.1.  Normative References  . . . . . . . . . . . . . . . . . .  15



Psenak, et al.          Expires February 21, 2016               [Page 2]

Internet-Draft        OSPFv2 Prefix/Link Attributes          August 2015


     9.2.  Informative References  . . . . . . . . . . . . . . . . .  15
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  16

1.  Introduction

   OSPFv2 requires functional extension beyond what can readily be done
   with the fixed-format Link State Advertisements (LSAs) as described
   in RFC 2328 [OSPFV2].  This document defines OSPF opaque LSAs based
   on Type-Length-Value (TLV) tuples that can be used to associate
   additional attributes with prefixes or links.  Dependent on the
   application, these prefixes and links may or not be advertised in the
   fixed-format LSAs.  The OSPF opaque LSAs are optional and fully
   backward compatible.  This is in contrast to the approach taken in
   OSPFv3 [I-D.ietf-ospf-ospfv3-lsa-extend] where the existing LSAs will
   be replaced by TLV-based extended LSAs.

   New requirements such as source/destination routing, route tagging,
   and segment routing necessitate this extension.

   This specification defines the following OSPFv2 opaque LSAs:

   1.  OSPFv2 Extended Prefix Opaque LSA - Allows advertisement of
       additional attributes for prefixes advertised in Router-LSAs,
       Network-LSAs, Network-Summary-LSAs, NSSA-LSAs, and AS-External-
       LSAs [OSPFV2]

   2.  OSPFv2 Extended Link Opaque LSA - Allows advertisement of
       additional attributes for links advertised in Router-LSAs.

   Additionally, the following TLVs are defined:

   1.  OSPFv2 Extended Prefix TLV - Top-level TLV advertising attributes
       for a prefix in the OSPFv2 Extended Prefix Opaque LSA.

   2.  OSPFv2 Extended Link TLV - Top-level TLV advertising attributes
       for a link in the OSPFv2 Extended Link Opaque LSA.

1.1.  Requirements notation

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC-KEYWORDS].

2.  OSPFv2 Extended Prefix Opaque LSA

   The OSPFv2 Extended Prefix Opaque LSA will be used to advertise
   additional prefix attributes.  Opaque LSAs are described in [OPAQUE].




Psenak, et al.          Expires February 21, 2016               [Page 3]

Internet-Draft        OSPFv2 Prefix/Link Attributes          August 2015


   Multiple OSPFv2 Extended Prefix Opaque LSAs can be advertised by an
   OSPFv2 router.  The flooding scope of the OSPFv2 Extended Prefix
   Opaque LSA depends on the scope of the advertised prefixes and is
   under the control of the advertising router.  In some cases (e.g.,
   mapping server deployment [SEGMENT-ROUTING]), the LSA flooding scope
   may be greater than the scope of the corresponding prefixes.

   The format of the OSPFv2 Extended Prefix Opaque LSA is as follows:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |            LS age             |     Options   |   LS Type     |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |  Opaque type  |                 Opaque ID                     |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                     Advertising Router                        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                     LS sequence number                        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |         LS checksum           |             Length            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                                                               |
      +-                            TLVs                             -+
      |                             ...                               |

                     OSPFv2 Extended Prefix Opaque LSA

   The opaque type used by OSPFv2 Extended Prefix Opaque LSA is 7.  The
   opaque type is used to differentiate the various type of OSPFv2
   Opaque LSA and is described in section 3 of [OPAQUE].  The LS Type
   may be 10 or 11 indicating that the Opaque LSA flooding scope is
   area-local (10) or AS-wide (11) [OPAQUE].  The LSA "Length" field
   [OSPFV2] represents the total length (in octets) of the Opaque LSA
   including the LSA header and all TLVs (including padding).

   The Opaque ID field is an arbitrary value used to maintain multiple
   Extended Prefix Opaque LSAs.  For OSPFv2 Extended Prefix Opaque LSAs,
   the Opaque ID has no semantic significance other than to
   differentiate Extended Prefix Opaque LSAs originated by the same
   OSPFv2 router.  If multiple Extended Prefix Opaque LSAs include the
   same prefix, the attributes from the Opaque LSA with the lowest
   Opaque ID SHOULD be used.

   The format of the TLVs within the body of the OSPFv2 Extended Prefix
   Opaque LSA is the same as the format used by the Traffic Engineering
   Extensions to OSPF [TE].  The variable TLV section consists of one or




Psenak, et al.          Expires February 21, 2016               [Page 4]

Internet-Draft        OSPFv2 Prefix/Link Attributes          August 2015


   more nested Type/Length/Value (TLV) tuples.  Nested TLVs are also
   referred to as sub-TLVs.  The format of each TLV is:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |              Type             |             Length            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                            Value                              |
                                     o
                                     o
                                     o
      |                                                               |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+



                                TLV Format

   The Length field defines the length of the value portion in octets
   (thus a TLV with no value portion would have a length of 0).  The TLV
   is padded to 4-octet alignment; padding is not included in the length
   field (so a 3-octet value would have a length of 3, but the total
   size of the TLV would be 8 octets).  Nested TLVs are also 32-bit
   aligned.  For example, a 1-byte value would have the length field set
   to 1, and 3 octets of padding would be added to the end of the value
   portion of the TLV.  The padding is composed of zeros.

2.1.  OSPFv2 Extended Prefix TLV

   The OSPF Extended Prefix TLV is used to advertise additional
   attributes associated with the prefix.  Multiple OSPF Extended Prefix
   TLVs MAY be advertised in each OSPFv2 Extended Prefix Opaque LSA.
   However, since the opaque LSA type defines the flooding scope, the
   LSA flooding scope MUST satisfy the application specific requirements
   for all the prefixes included in a single OSPFv2 Extended Prefix
   Opaque LSA.  The OSPF Extended Prefix TLV has the following format:














Psenak, et al.          Expires February 21, 2016               [Page 5]

Internet-Draft        OSPFv2 Prefix/Link Attributes          August 2015


    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |              Type             |             Length            |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Route Type   | Prefix Length |     AF        |     Flags     |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                     Address Prefix (variable)                 |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                      Sub-TLVs (variable)                      |
    +-                                                             -+
    |                                                               |


                        OSPFv2 Extended Prefix TLV


   Type
      The TLV type.  The value is 1 for this TLV type.

   Length
      Variable dependent on sub-TLVs.

   Route Type
      Route type: type of the OSPF route.  If the route type is 0
      (Unspecified), the information inside the OSPF External Prefix TLV
      applies to the prefix regardless of prefix's route-type.  This is
      useful when prefix specific attributes are advertised by an
      external entity that is not aware of the route-type associated
      with the prefix.  Supported types are:

         0 - Unspecified

         1 - Intra-Area

         3 - Inter-Area

         5 - AS External

         7 - NSSA External

      These route types correspond directly to the OSPFv2 LSAs types as
      defined in http://www.iana.org/assignments/ospfv2-parameters/
      ospfv2-parameters.xhtml#ospfv2-parameters-5.  Specification of
      route types other than those defined will prevent correlation with
      existing OSPFv2 LSAs and is beyond the scope this specification.

   Prefix Length



Psenak, et al.          Expires February 21, 2016               [Page 6]

Internet-Draft        OSPFv2 Prefix/Link Attributes          August 2015


      Length in the prefix in bits.

   AF
      Address family for the prefix.  Currently, the only supported
      value is 0 for IPv4 unicast.  The inclusion of address family in
      this TLV allows for future extension.

   Flags
      This one octet field contains flags applicable to the prefix.
      Supported Flags include:

         0x80 - A-Flag (Attach flag): An Area Border Router (ABR)
         generating an Extended Prefix TLV for inter-area prefix that is
         locally connected or attached in other connected area SHOULD
         set this flag.

         0x40 - N-Flag (Node Flag): Set when the prefix identifies the
         advertising router i.e., the prefix is a host prefix
         advertising a globally reachable address typically associated
         with a loopback address.  The advertising router MAY choose to
         not set this flag even when the above conditions are met.  If
         the flag is set and the prefix length is not a host prefix then
         the flag MUST be ignored.  The flag is preserved when the
         OSPFv2 Extended Prefix Opaque LSA is propagated between areas.

   Address Prefix
      For the address family IPv4 unicast, the prefix itself encoded as
      a 32-bit value.  The default route is represented by a prefix of
      length 0.  Prefix encoding for other address families is beyond
      the scope of this specification.

   If this TLV is advertised multiple times for the same prefix in the
   same OSPFv2 Extended Prefix Opaque LSA, only the first instance of
   the TLV is used by receiving OSPFv2 Routers.  This situation SHOULD
   be logged as an error.

   If this TLV is advertised multiple times for the same prefix in
   different OSPFv2 Extended Prefix Opaque LSAs originated by the same
   OSPF router, the OSPF advertising router is re-originating Extended
   Prefix Opaque LSAs for multiple prefixes and is most likely repacking
   Extended-Prefix-TLVs in Extended Prefix Opaque LSAs.  In this case,
   the Extended-Prefix-TLV in the Extended Prefix Opaque LSA with the
   smallest Opaque ID is used by receiving OSPFv2 Routers.  This
   situation may be logged as a warning.

   It is RECOMMENDED that OSPF routers advertising Extended Prefix TLVs
   in different Extended Prefix Opaque LSAs re-originate these LSAs in
   ascending order of Opaque ID to minimize the disruption.



Psenak, et al.          Expires February 21, 2016               [Page 7]

Internet-Draft        OSPFv2 Prefix/Link Attributes          August 2015


   If this TLV is advertised multiple times for the same prefix in
   different OSPFv2 Extended Prefix Opaque LSAs originated by different
   OSPF routers, the application using the information is required to
   determine which OSPFv2 Extended Prefix Opaque LSA is used.  For
   example, the application could prefer the LSA providing the best path
   to the prefix.

   This document creates a registry for OSPF Extended Prefix sub-TLVs in
   Section 7.

3.  OSPFv2 Extended Link Opaque LSA

   The OSPFv2 Extended Link Opaque LSA will be used to advertise
   additional link attributes.  Opaque LSAs are described in [OPAQUE].

   The OSPFv2 Extended Link Opaque LSA has an area flooding scope.
   Multiple OSPFv2 Extended Link Opaque LSAs can be advertised by a
   single router in an area.

   The format of the OSPFv2 Extended Link Opaque LSA is as follows:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |            LS age             |     Options   |   LS Type     |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |  Opaque type  |                   Opaque ID                   |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                     Advertising Router                        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                     LS sequence number                        |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |         LS checksum           |             Length            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                                                               |
      +-                            TLVs                             -+
      |                             ...                               |


                      OSPFv2 Extended Link Opaque LSA

   The Opaque type used by OSPFv2 Extended Link Opaque LSA is 8.  The LS
   Type is 10 indicating that the Opaque LSA flooding scope is area-
   local [OPAQUE].  The opaque type is used to differentiate the various
   type of OSPFv2 Opaque LSA and is described in section 3 of [OPAQUE].
   The LSA "Length" field [OSPFV2] represents the total length (in
   octets) of the Opaque LSA including the LSA header and all TLVs
   (including padding).



Psenak, et al.          Expires February 21, 2016               [Page 8]

Internet-Draft        OSPFv2 Prefix/Link Attributes          August 2015


   The Opaque ID field is an arbitrary value used to maintain multiple
   Extended Prefix Opaque LSAs.  For OSPFv2 Extended Link Opaque LSAs,
   the Opaque ID has no semantic significance other than to
   differentiate Extended Link Opaque LSAs originated by the same OSPFv2
   router.  If multiple Extended Link Opaque LSAs include the same link,
   the attributes from the Opaque LSA with the lowest Opaque ID will be
   used.

   The format of the TLVs within the body of the OSPFv2 Extended Link
   Opaque LSA is the same as described in Section 2.

3.1.  OSPFv2 Extended Link TLV

   The OSPFv2 Extended Link TLV is used to advertise various attributes
   of the link.  It describes a single link and is constructed of a set
   of Sub-TLVs.  There are no ordering requirements for the Sub-TLVs.
   Only one Extended Link TLV SHALL be advertised in each Extended Link
   Opaque LSA, allowing for fine granularity changes in the topology.

   The Extended Link TLV has following format:

       0                   1                   2                   3
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |              Type             |             Length            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |     Link-Type   |                Reserved                     |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                            Link ID                            |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                           Link Data                           |
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
      |                      Sub-TLVs (variable)                      |
      +-                                                             -+
      |                                                               |


                         OSPFv2 Extended Link TLV


   Type
      The TLV type.  The value is 1 for this TLV type.

   Length
      Variable dependent on sub-TLVs.

   Link-Type




Psenak, et al.          Expires February 21, 2016               [Page 9]

Internet-Draft        OSPFv2 Prefix/Link Attributes          August 2015


      Link-Type is defined in section A.4.2 of [OSPFV2] and
      http://www.iana.org/assignments/ospfv2-parameters/
      ospfv2-parameters.xhtml#ospfv2-parameters-6.  Specification of
      link types other than those defined will prevent correlation with
      existing OSPFv2 Router-LSA links and is beyond the scope this
      specification.

   Link-ID
      Link-ID is defined in section A.4.2 of [OSPFV2].

   Link Data
      Link-Data is defined in section A.4.2 of [OSPFV2].

   If this TLV is advertised multiple times in the same OSPFv2 Extended
   Link Opaque LSA, only the first instance of the TLV is used by
   receiving OSPFv2 Routers.  This situation SHOULD be logged as an
   error.

   If this TLV is advertised multiple times for the same link in
   different OSPFv2 Extended Link Opaque LSAs originated by the same
   OSPF router, the Extended Link TLV in the Extended Link Opaque LSA
   with the smallest Opaque ID is used by receiving OSPFv2 Routers.
   This situation may be logged as a warning.

   It is RECOMMENDED that OSPF routers advertising Extended Link TLVs in
   different Extended Link Opaque LSAs re-originate these LSAs in
   ascending order of Opaque ID to minimize the disruption.

   This document creates a registry for OSPF Extended Link sub-TLVs in
   Section 7.

4.  Backward Compatibility

   Since opaque OSPFv2 LSAs are optional and backward compatible
   [OPAQUE], the extensions described herein are fully backward
   compatible.  However, future OSPFv2 applications utilizing these
   extensions MUST address backward compatibility of the corresponding
   functionality.

5.  Implementation Status

   Note to RFC Editor: this section may be removed on publication as an
   RFC.

   This section records the status of known implementations of the
   protocol defined by this specification at the time of posting of this
   Internet-Draft, and is based on a proposal described in RFC 6982.
   The description of implementations in this section is intended to



Psenak, et al.          Expires February 21, 2016              [Page 10]

Internet-Draft        OSPFv2 Prefix/Link Attributes          August 2015


   assist the IETF in its decision processes in progressing drafts to
   RFCs.  Please note that the listing of any individual implementation
   here does not imply endorsement by the IETF.  Furthermore, no effort
   has been spent to verify the information presented here that was
   supplied by IETF contributors.  This is not intended as, and must not
   be construed to be, a catalog of available implementations or their
   features.  Readers are advised to note that other implementations may
   exist.

   According to RFC 6982, "this will allow reviewers and working groups
   to assign due consideration to documents that have the benefit of
   running code, which may serve as evidence of valuable experimentation
   and feedback that have made the implemented protocols more mature.
   It is up to the individual working groups to use this information as
   they see fit".

5.1.  Implementation Survey Results

   An implementation survey with seven questions related to the
   implementer's support of OSPFv2 Prefix/Link Attributes was sent to
   the OSPF WG list and several known implementers.  This section
   contains responses from four implementers who completed the survey.
   No external means were used to verify the accuracy of the information
   submitted by the respondents.  The respondents are considered experts
   on the products they reported on.  Additionally, responses were
   omitted from implementers who indicated that they have not
   implemented the function yet.

   Four vendors and one open source entity replied to the survey.  These
   included Alcatel-Lucent, Cisco, Huawei, Juniper, and FreeRouter
   (http://freerouter.nop.hu).  Cisco and Alcatel-Lucent also did
   interoperability testing.  FreeRouter did interoperability testing
   with Cisco.  The Cisco, Alcatel-Lucent, and FreeRouter
   implementations are in released software versions.  The Huawei and
   Juniper implementation software releases are pending.  For prefix
   attributes, the recent change incorporating the A-Flag is pending
   implementation for all four vendors.  The FreeRouter implementation
   includes support for the A-Flag.  Implementation of the N-flag is
   pending for the Huawei and Juniper implementations.  Otherwise, all
   the survey respondents have full implementations.  For all four
   vendors and the FreeRouter implementation, segment routing
   [SEGMENT-ROUTING] was an application making use of the extensions.
   Additionally, Cisco has implemented Topology-Independent Loop-Free
   Alternatives (TI-LFA) [TI-LFA] and Bit Indexed Egress Replication
   (BIER) advertisement [BIER].

   Alcatel-Lucent's support of this specification is included in SR OS,
   Release 13.0.R4.  Cisco's support is included in IOS-XR 5.3.2.  The



Psenak, et al.          Expires February 21, 2016              [Page 11]

Internet-Draft        OSPFv2 Prefix/Link Attributes          August 2015


   FreeRouter implementation is available in the FreeRouter 15.6.4
   distribution.  Huawei and Juniper will respectively provide support
   in future versions Versatile Routing Platform (VRP) and JUniper
   Network Operating System (JUNOS).

6.  Security Considerations

   In general, new LSAs defined in this document are subject to the same
   security concerns as those described in [OSPFV2] and [OPAQUE].

   OSPFv2 applications utilizing these OSPFv2 extensions must define the
   security considerations relating to those applications in the
   specifications corresponding to those applications.

   Additionally, implementations must assure that malformed TLV and Sub-
   TLV permutations are detected and do not provide a vulnerability for
   attackers to crash the OSPFv2 router or routing process.  Malformed
   LSAs MUST NOT be stored in the Link State Database (LSDB),
   acknowledged, or reflooded.  Reception of malformed LSAs SHOULD be
   counted and/or logged for further analysis.  In this context, a
   malformed LSA is one which cannot be parsed due to a TLV or Sub-TLV
   overrunning the end of the subsuming LSA, TLV, or sub-TLV or where
   there is data remaining to be parsed but the length of the remaining
   data is less than the size of a TLV header.

7.  IANA Considerations

   This specification updates the Opaque Link-State Advertisements (LSA)
   Option Types with the following values:

   o  7 (IANA Early Allocation [RFC7120]) - OSPFv2 Extended Prefix
      Opaque LSA

   o  8 (IANA Early Allocation [RFC7120]) - OSPFv2 Extended Link Opaque
      LSA

   This specification also creates five new registries:

   o  OSPF Extended Prefix Opaque LSA TLVs

   o  OSPF Extended Prefix TLV Sub-TLVs

   o  OSPF Extended Prefix TLV Flags

   o  OSPF Extended Link Opaque LSA TLVs

   o  OSPF Extended Link TLV Sub-TLVs




Psenak, et al.          Expires February 21, 2016              [Page 12]

Internet-Draft        OSPFv2 Prefix/Link Attributes          August 2015


7.1.  OSPF Extended Prefix Opaque LSA TLV Registry

   The "OSPF Extend Prefix Opaque LSA TLV" registry will define top-
   level TLVs for the Extended Prefix Opaque LSAs and should be added to
   the "Open Shortest Path First v2 (OSPFv2) Parameters" registries
   group.  New values can be allocated via IETF Review or IESG Approval.

   The following initial values are allocated:

   o  0 - Reserved

   o  1 - OSPF Extended Prefix TLV

   Types in the range 32768-33023 are for experimental use; these will
   not be registered with IANA, and MUST NOT be mentioned by RFCs.

   Types in the range 33024-65535 are not to be assigned at this time.
   Before any assignments can be made in the 33024-65535 range, there
   MUST be an IETF specification that specifies IANA Considerations that
   covers the range being assigned.

7.2.  OSPF Extended Prefix TLV Sub-TLV Registry

   The "OSPF Extended Prefix TLV sub-TLV" registry will define sub-TLVs
   at any level of nesting for Extended Prefix TLVs and should be added
   to the "Open Shortest Path First v2 (OSPFv2) Parameters" registries
   group.  New values can be allocated via IETF Review or IESG Approval.

   The following initial values are allocated:

   o  0 - Reserved

   Types in the range 32768-33023 are for experimental use; these will
   not be registered with IANA, and MUST NOT be mentioned by RFCs.

   Types in the range 33024-65535 are not to be assigned at this time.
   Before any assignments can be made in the 33024-65535 range, there
   MUST be an IETF specification that specifies IANA Considerations that
   covers the range being assigned.

7.3.  OSPF Extended Prefix TLV Flags Registry

   The "OSPF Extended Prefix TLV Flags" registry will define the bits in
   the 8-bit Extended Prefix TLV Flags (Section 2.1).  This
   specification defines the N (0x80) and A (0x40) bits.  The registry
   should be added to the "Open Shortest Path First v2 (OSPFv2)
   Parameters" registries group.  New values can be allocated via IETF
   Review or IESG Approval.



Psenak, et al.          Expires February 21, 2016              [Page 13]

Internet-Draft        OSPFv2 Prefix/Link Attributes          August 2015


7.4.  OSPF Extended Link Opaque LSA TLV Registry

   The "OSPF Extended Link Opaque LSA TLV" registry will define top-
   level TLVs for Extended Link Opaque LSAs and should be added to the
   "Open Shortest Path First v2 (OSPFv2) Parameters" registries group.
   New values can be allocated via IETF Review or IESG Approval.

   Following initial values are allocated:

   o  0 - Reserved

   o  1 - OSPFv2 Extended Link TLV

   Types in the range 32768-33023 are for experimental use; these will
   not be registered with IANA, and MUST NOT be mentioned by RFCs.

   Types in the range 33024-65535 are not to be assigned at this time.
   Before any assignments can be made in the 33024-65535 range, there
   MUST be am IETF specification that specifies IANA Considerations that
   covers the range being assigned.

7.5.  OSPF Extended Link TLV Sub-TLV Registry

   The OSPF Extended Link TLV sub-TLV registry will define sub-TLVs at
   any level of nesting for Extended Link TLVs and should be added to
   the "Open Shortest Path First v2 (OSPFv2) Parameters" registries
   group.  New values can be allocated via IETF Review or IESG Approval.

   The following initial values are allocated:

   o  0 - Reserved

   Types in the range 32768-33023 are for experimental use; these will
   not be registered with IANA, and MUST NOT be mentioned by RFCs.
   Types in the range 33024-65535 are not to be assigned at this time.
   Before any assignments can be made in the 33024-65535 range, there
   MUST be an IETF specification that specifies IANA Considerations that
   covers the range being assigned.

8.  Acknowledgments

   We would like to thank Anton Smirnov for his contribution.

   Thanks to Tony Przygienda for his review and comments.

   Thanks to Wim Henderickx, Greg Harkins, Peter Psenak, Eric Wu,
   Shraddha Hegde, and Csaba Mate for their responses to the
   implementation survey.



Psenak, et al.          Expires February 21, 2016              [Page 14]

Internet-Draft        OSPFv2 Prefix/Link Attributes          August 2015


   Thanks to Tom Petch for review and comments.

   Thanks to Alia Atlas and Alvaro Retana for AD review and comments.

   Thanks to Carlos Pignataro and Ron Bonica for Operations Directorate
   review and comments.

   Thanks to Suresh Krishnan for Gen-ART review and comments.

   Thanks to Ben Campbell, Kathleen Moriarty, and Barry Leiba for IESG
   review and comments.

9.  References

9.1.  Normative References

   [OPAQUE]   Berger, L., Bryskin, I., Zinin, A., and R. Coltun, "The
              OSPF Opaque LSA Option", RFC 5250, July 2008.

   [OSPFV2]   Moy, J., "OSPF Version 2", RFC 2328, April 1998.

   [RFC-KEYWORDS]
              Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", RFC 2119, March 1997.

   [TE]       Katz, D., Yeung, D., and K. Kompella, "Traffic Engineering
              Extensions to OSPF", RFC 3630, September 2003.

9.2.  Informative References

   [BIER]     Psenak, P., Kumar, N., Wijnands, I., Dolganow, A.,
              Przygienda, T., Zhang, J., and S. Aldrin, "OSPF Extensions
              for BIER", draft-ietf-bier-ospf-bier-extensions-00.txt
              (work in progress), April 2015.

   [I-D.ietf-ospf-ospfv3-lsa-extend]
              Lindem, A., Mirtorabi, S., Roy, A., and F. Baker, "OSPFv3
              LSA Extendibility", draft-ietf-ospf-ospfv3-lsa-extend-06
              (work in progress), February 2015.

   [RFC7120]  Cotton, M., "Early IANA Allocation of Standards Track Code
              Points", BCP 100, RFC 7120, January 2014.

   [SEGMENT-ROUTING]
              Psenak, P., Previdi, S., Filsfils, C., Gredler, H.,
              Shakir, R., Henderickx, W., and J. Tantsura, "OSPF
              Extensions for Segment Routing", draft-ietf-ospf-segment-
              routing-extensions-05.txt (work in progress), June 2015.



Psenak, et al.          Expires February 21, 2016              [Page 15]

Internet-Draft        OSPFv2 Prefix/Link Attributes          August 2015


   [TI-LFA]   Francois, P., Filsfils, C., Bashandy, A., Decraene, B.,
              and S. Litkowski, "Topology Independent Fast Reroute using
              Segment Routing", draft-francois-rtgwg-segment-routing-ti-
              lfa-00.txt (work in progress), August 2014.

Authors' Addresses

   Peter Psenak
   Cisco Systems
   Apollo Business Center
   Mlynske nivy 43
   Bratislava, 821 09
   Slovakia

   Email: ppsenak@cisco.com


   Hannes Gredler
   Juniper Networks, Inc.
   1194 N. Mathilda Ave.
   Sunnyvale, CA  94089
   USA

   Email: hannes@juniper.net


   Rob Shakir
   Individual Contributor
   London
   UK

   Email: rjs@rob.sh


   Wim Henderickx
   Alcatel-Lucent
   Copernicuslaan
   Antwerp, 2018  94089
   Belgium

   Email: wim.henderickx@alcatel-lucent.com










Psenak, et al.          Expires February 21, 2016              [Page 16]

Internet-Draft        OSPFv2 Prefix/Link Attributes          August 2015


   Jeff Tantsura
   Ericsson
   300 Holger Way
   San Jose, CA  95134
   USA

   Email: jeff.tantsura@ericsson.com


   Acee Lindem
   Cisco Systems
   301 Midenhall Way
   Cary, NC  27513
   USA

   Email: acee@cisco.com



































Psenak, et al.          Expires February 21, 2016              [Page 17]
