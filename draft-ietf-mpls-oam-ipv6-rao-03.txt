



MPLS Working Group                                               K. Raza
Internet-Draft                                                  N. Akiya
Updates: 4379 (if approved)                                 C. Pignataro
Intended status: Standards Track                     Cisco Systems, Inc.
Expires: August 8, 2015                                 February 4, 2015


                 IPv6 Router Alert Option for MPLS OAM
                    draft-ietf-mpls-oam-ipv6-rao-03

Abstract

   RFC 4379 defines the MPLS LSP Ping/Traceroute mechanism, in which the
   Router Alert Option MUST be set in the IP header of the MPLS Echo
   Request messages, and may conditionally be set in the IP header of
   the MPLS Echo Reply messages depending on the Reply Mode used.  While
   a generic "Router shall examine packet" Option Value is used for the
   IPv4 Router Alert Option (RAO), there is no generic Router Alert
   Option Value defined for IPv6 that can be used.  This document
   allocates a new generic IPv6 Router Alert Option Value that can be
   used by MPLS OAM tools, including the MPLS Echo Request and MPLS Echo
   Reply messages for MPLS in IPv6 environments.  Consequently, it
   updates RFC 4379.

   The initial motivation to request an IPv6 Router Alert Option (RAO)
   Value for MPLS OAM comes from MPLS LSP Ping/Traceroute.  However,
   this Value is applicable to all MPLS OAM and not limited to MPLS LSP
   Ping/Traceroute.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at http://datatracker.ietf.org/drafts/current/.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on August 8, 2015.






Raza, et al.             Expires August 8, 2015                 [Page 1]

Internet-Draft         MPLS OAM IPv6 Router Alert          February 2015


Copyright Notice

   Copyright (c) 2015 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (http://trustee.ietf.org/license-info) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.

Table of Contents

   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   2
   2.  Specification of Requirements . . . . . . . . . . . . . . . .   3
   3.  IPv6 Router Alert Option (RAO) Value for MPLS OAM . . . . . .   3
   4.  Updates to RFC 4379 . . . . . . . . . . . . . . . . . . . . .   3
   5.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   4
   6.  Security Considerations . . . . . . . . . . . . . . . . . . .   4
   7.  Acknowledgments . . . . . . . . . . . . . . . . . . . . . . .   4
   8.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   4
     8.1.  Normative References  . . . . . . . . . . . . . . . . . .   4
     8.2.  Informative References  . . . . . . . . . . . . . . . . .   5
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   5

1.  Introduction

   A commonly deployed MPLS OAM tool is specified in [RFC4379],
   "Detecting Multi-Protocol Label Switched (MPLS) Data Plane Failures",
   which is used to diagnose MPLS network data planes.  This
   specification [RFC4379], often referred to as "MPLS LSP Ping/
   Traceroute", requires the use of Router Alert Option in the IP
   header.  For example, the section 4.3 of [RFC4379] states that IP
   Router Alert Option MUST be set in the IP header of an MPLS Echo
   Request message.  Similarly, the section 4.5 states that IP Router
   Alert Option MUST be set in the IP header of an MPLS Echo Reply
   message if the Reply Mode in the echo request is set to "Reply via an
   IPv4/IPv6 UDP packet with Router Alert".

   [RFC2113] defines a generic Option Value 0x0 for IPv4 Router Alert
   Option (RAO) that is used in LSP Ping and LSP Traceroute for MPLS in
   IPv4 environments.  However, currently there is no generic IPV6
   Router Alert Option Value defined that can be used in LSP Ping and
   LSP Traceroute for MPLS in IPv6 environments.  Specifically,



Raza, et al.             Expires August 8, 2015                 [Page 2]

Internet-Draft         MPLS OAM IPv6 Router Alert          February 2015


   [RFC2711] defined the router alert for a general IPv6 purpose but
   required the Value field in the Router Alert Option to indicate a
   specific reason for using the Router Alert Option.  Because there is
   no defined value for MPLS LSP Ping/Traceroute use or for general use,
   it is not possible for MPLS OAM tools to use the IPv6 Router Alert
   mechanism.

   As vendors are starting to implement MPLS on IPv6 control plane
   (e.g., [I-D.ietf-mpls-ldp-ipv6]), there is a need to define and
   allocate such an Option Value for IPv6 in order to comply with
   [RFC4379].  This document defines a new IPv6 Router Alert Option
   Value that can be used by MPLS OAM tools, including the MPLS Echo
   Request and MPLS Echo Reply messages for MPLS in IPv6 environments.

2.  Specification of Requirements

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in [RFC2119].

3.  IPv6 Router Alert Option (RAO) Value for MPLS OAM

   This document defines a new Option Value (TBD1) for the IPv6 Router
   Alert Option (RAO) to alert transit routers to examine the packet
   more closely for MPLS OAM purposes.  This Option Value is used by any
   MPLS OAM application that requires their packets to be examined by a
   transit router.

   In the scope of this document, this Option Value will be used by the
   MPLS Echo Request and MPLS Echo Reply for its IPv6 messages as
   required by [RFC4379].

4.  Updates to RFC 4379

   [RFC4379] specifies the use of the Router Alert Option in the IP
   header.  Sections 4.3 and 4.5 of [RFC4379] are updated as follows:
   for every time in which the "Router Alert IP option" is used, the
   following text is appended:

      In case of an IPv4 header, the generic IPv4 Router Alert Option
      value 0x0 [RFC2113] SHOULD be used.  In case of an IPv6 header,
      the IPv6 Router Alert Option value TBD1 allocated through this
      document for MPLS OAM MUST be used.








Raza, et al.             Expires August 8, 2015                 [Page 3]

Internet-Draft         MPLS OAM IPv6 Router Alert          February 2015


5.  IANA Considerations

   This document defines a new Value (TBD1) for the IPv6 Router Alert
   Option to alert transit routers to examine the packet more closely
   for MPLS OAM purposes.  IANA is requested to assign a new code point
   under its "IPv6 Router Alert Option Values" registry defined by
   [RFC2711], updated by [RFC5350] and maintained in [IANA-IPv6-RAO].
   The new code point is as follows:

      Value   Description                       Reference
      -----   -------------------------------   ---------------
       TBD1   MPLS OAM                          [document.this]

6.  Security Considerations

   This document introduces no new security concerns in addition to what
   have already been captured in [RFC4379] and [RFC6398], the latter of
   which expands the security considerations of [RFC2113] and [RFC2711].

   IPv6 packets containing the MPLS OAM Router Alert Option are
   encapsulated with an MPLS Header and not expected to be inspected by
   every label switched hop within an MPLS LSP.  Consequently, this
   value of the Router Alert Option will be processed by the appropriate
   router and is not subject to the problem of being ignored as
   described in Section 2.2 of [RFC7045].

7.  Acknowledgments

   The authors would like to thank George Swallow, Ole Troan, Bob
   Hinden, Faisal Iqbal, Mathew Janelle, and Gregory Mirsky for their
   useful input.

8.  References

8.1.  Normative References

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119, March 1997.

   [RFC2711]  Partridge, C. and A. Jackson, "IPv6 Router Alert Option",
              RFC 2711, October 1999.

   [RFC4379]  Kompella, K. and G. Swallow, "Detecting Multi-Protocol
              Label Switched (MPLS) Data Plane Failures", RFC 4379,
              February 2006.






Raza, et al.             Expires August 8, 2015                 [Page 4]

Internet-Draft         MPLS OAM IPv6 Router Alert          February 2015


   [RFC5350]  Manner, J. and A. McDonald, "IANA Considerations for the
              IPv4 and IPv6 Router Alert Options", RFC 5350, September
              2008.

   [RFC6398]  Le Faucheur, F., "IP Router Alert Considerations and
              Usage", BCP 168, RFC 6398, October 2011.

8.2.  Informative References

   [I-D.ietf-mpls-ldp-ipv6]
              Asati, R., Pignataro, C., Manral, V., Papneja, R., and K.
              Raza, "Updates to LDP for IPv6", draft-ietf-mpls-ldp-
              ipv6-14 (work in progress), October 2014.

   [IANA-IPv6-RAO]
              IANA, "IPv6 Router Alert Option Values",
              <http://www.iana.org/assignments/ipv6-routeralert-values>.

   [RFC2113]  Katz, D., "IP Router Alert Option", RFC 2113, February
              1997.

   [RFC7045]  Carpenter, B. and S. Jiang, "Transmission and Processing
              of IPv6 Extension Headers", RFC 7045, December 2013.

Authors' Addresses

   Kamran Raza
   Cisco Systems, Inc.
   2000 Innovation Drive
   Kanata, ON  K2K-3E8
   CA

   Email: skraza@cisco.com


   Nobo Akiya
   Cisco Systems, Inc.
   2000 Innovation Drive
   Kanata, ON  K2K-3E8
   CA

   Email: nobo@cisco.com









Raza, et al.             Expires August 8, 2015                 [Page 5]

Internet-Draft         MPLS OAM IPv6 Router Alert          February 2015


   Carlos Pignataro
   Cisco Systems, Inc.
   7200-12 Kit Creek Road
   Research Triangle Park, NC  27709
   USA

   Email: cpignata@cisco.com












































Raza, et al.             Expires August 8, 2015                 [Page 6]
