IP over Cable Data Network (IPCDN)                          H. Abramson
Internet Draft                                                 Motorola
Document: <draft-ietf-ipcdn-igmp-mib-00.txt>                       June 1999
Category: Informational


                          Docsis 1.1 IGMP MIB


Status of this Memo

   This document is an Internet-Draft and is in full conformance with
   all provisions of Section 10 of RFC2026 [1].


   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups. Note that
   other groups may also distribute working documents as Internet-
   Drafts. Internet-Drafts are draft documents valid for a maximum of
   six months and may be updated, replaced, or obsoleted by other
   documents at any time. It is inappropriate to use Internet- Drafts
   as reference material or to cite them other than as 'work in
   progress.'

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt
   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   Copyright (c) Society (1999).  All Rights Reserved.

1. Abstract

   This memo defines a  portion of the Management Information Base
   (MIB) for use with network management protocols in the Internet
   community.  In particular, it defines a basic set of managed objects
   for SNMP-based management of DOCSIS 1.1 IGMPv2 compliant interfaces.
   This memo specifies a MIB module in a manner that is compliant to
   the SNMP SMIv2 [5][6][7].  The set of objects are consistent with
   the SNMP framework and existing SNMP standards.
   This memo is a product of the IPCDN working group within the
   Internet Engineering Task Force.  Comments are solicited and should
   be addressed to the working groupÆs mailing list at
   ipcdn@terayon.com and/or the author.


2. Conventions used in this document


   The key words 'MUST', 'MUST NOT', 'REQUIRED', 'SHALL', 'SHALL NOT',
   'SHOULD', 'SHOULD NOT', 'RECOMMENDED',  'MAY', and 'OPTIONAL' in
   this document are to be interpreted as described in RFC-2119 [2].



Abramson        Informational - Expires December 1999               1

                        Docsis 1.1 IGMPv2 MIB               June 1999


3. The SNMP Management Framework

   The SNMP Management Framework presently consists of five major
   components:

     oAn overall architecture, described in RFC 2271 [1].

     o Mechanisms for describing and naming objects and events for the
       purpose of management. The first version of this Structure of
       Management Information (SMI) is called SMIv1 and described in
       RFC 1155 [2], RFC 1212 [3] and RFC 1215 [4]. The second version,
       called SMIv2, is described in RFC 1902 [5], RFC 1903 [6] and RFC
       1904 [7].

     o Message protocols for transferring management information. The
       first version of the SNMP message protocol is called SNMPv1 and
       described in RFC 1157 [8]. A second version of the SNMP message
       protocol, which is not an Internet standards track protocol, is
       called SNMPv2c and described in RFC 1901 [9] and RFC 1906 [10].
       The third version of the message protocol is called SNMPv3 and
       described in RFC 1906 [10], RFC 2272 [11] and RFC 2274 [12].

     o Protocol operations for accessing management information. The
       first set of protocol operations and associated PDU formats is
       described in RFC 1157 [8]. A second set of protocol operations
       and associated PDU formats is described in RFC 1905 [13].

     o A set of fundamental applications described in RFC 2273 [14] and
       the view-based access control mechanism described in RFC 2275
       [15].

   Managed objects are accessed via a virtual information store, termed
   the Management Information Base or MIB.  Objects in the MIB are
   defined using the mechanisms defined in the SMI.

   This memo specifies a MIB module that is compliant to the SMIv2. A
   MIB conforming to the SMIv1 can be produced through the appropriate
   translations. The resulting translated MIB must be semantically
   equivalent, except where objects or events are omitted because no
   translation is possible (use of Counter64). Some machine readable
   information in SMIv2 will be converted into textual descriptions in
   SMIv1 during the translation process. However, this loss of machine
   readable information is not considered to change the semantics of
   the MIB.


4. Glossary

   The following non-ietf terms, used in this document, are derived
   either from normal cable system usage, or from the documents
   associated with the Data Over Cable Service Interface Specification
   process.


Abramson        Informational - Expires December 1999               2

                        Docsis 1.1 IGMPv2 MIB               June 1999


   CATV - Originally 'Community Antenna Television', now used to refer
   to any cable or hybrid fiber and cable system used to deliver video
   signals to a community.

   CM, Cable Modem - A CM acts as a 'slave' station in a DOCSIS
   compliant cable data system.

   CMTS, Cable Modem Termination System - A generic term covering a
   cable bridge or cable router in a head-end.  A CMTS acts as the
   master station in a DOCSIS compliant cable data system.  It is the
   only station that transmits downstream, and it controls the
   scheduling of upstream transmissions by its associated CMs.

   CPE, Customer Premise Equipment, non-Cable Modem IP Hosts attached
   to the Cable Modem.

   DOCSIS - 'Data Over Cable Interface Specification'.  A term
   referring to the ITU-T J.112 Annex B standard for cable modem
   systems. [20]

   Downstream - From the head-end towards the subscriber.

   Head-end - The origination point in most cable systems of the
   subscriber video signals. Generally also the location of the CMTS
   equipment.

   MAC Packet - A DOCSIS PDU.

   RF - Radio Frequency.

   Upstream - From the subscriber towards the head-end.


5. Overview
   The Docsis Multicast CM and CMTS interconnect specification can be
   modelled by æsplittingÆ the traditional Internet Group Management
   Protocol (IGMP), [ ], interfaces into Host and Querier side
   interfaces. That is, to provide basic Docsis 1.1 Multicast
   capabilities, all NSI-facing interfaces (NSI on the CMTS and HFC-
   side on CM) need only present an IGMP Host interface to the external
   multicast network. All CPE-facing interfaces (HFC-side on CMTS and
   CPE-side on CM) need only present a Querier interface to CPE. This
   is in comparison to a Multicast Router model where each interface
   has both Host and Querier capabilities. Although not strictly
   prohibited by the RFI, a more symmetrical model, where the root of a
   Multicast group may be on the HFC/CPE-side, is discouraged. Thus,
   Querying is almost always expected to be in the downstream direction
   (initiated by an NSI Querier or the CMTS itself) and Host Membership
   Reporting is expected to be in the upstream direction (from CPE or
   active IGMP CM devices). Either way, the IGMPv2 MIB provides an
   excellent and standard means for managing multicast within a Docsis
   network.


Abramson        Informational - Expires December 1999               3

                        Docsis 1.1 IGMPv2 MIB               June 1999


   This description categorizes Docsis 1.1 devices into two classes of
   IGMP awareness as defined by the Docsis 1.1  RFI specification.

     o Passive IGMP devices - this refers to CM and/or CMTS devices
       that derive their IGMP timers from other æupstreamÆ Multicast
       Querier devices. This may be from a Multicast Router on the NSI
       (for the CMTS and/or CM) or the CMTS (for CMs). These devices
       also rely on ædownstreamÆ devices to transmit Membership Reports
       (CPE for a CM; CPE and/or Active CMs for a CMTS) to initiate and
       maintain connectivity.

     o Active IGMP devices - this refers to CM and/or CMTS devices with
       an active IGMP Querier and Host interface. This may be a proxy
       agent or a device with multicast routing capabilities.

   Timers for passive devices must be considered the derived values
   that are being used at the time of the SNMP GET (e.g., read-only).
   Timers for active devices must be considered the values that may be
   managed within the device.


6. Structure of the MIB

   The following describes the application of the IGMPv2 MIB to Docsis
   1.1 devices. This is organized into application of the IGMPv2 MIB to
   CM and CMTS interfaces.

   Note: an additional policy table has been included to cover group
   access rules desired in previous proposals for this MIB to the
   IPCDN. These are included for discussion. It is also feasible that
   this capability be handled using the Cable Device MIBÆs IP Filter
   table.

6.1 Cable Modem igmpInterface Table
   This is the (conceptual) table listing the interfaces on which IGMP
   is enabled. Unless otherwise specified all interface indexes are
   associated with a CPE Side Interface. The only exception is for the
   igmpInterfaceProxyIfIndex, as described below.


   igmpInterfaceTable                  Comments
   ==================                  ===============================
   igmpInterfaceEntry                  An entry exists for each CM CPE
                                        Side Interface that supports
                                        the IGMP MIB

   igmpInterfaceIfIndex                Corresponds to CM CPE Side
                                        Interface for which IGMP
                                        Querying is enabled.
                                        Zero applies to all CM CPE side
                                        interfaces



Abramson        Informational - Expires December 1999               4

                        Docsis 1.1 IGMPv2 MIB               June 1999


                                        NOTE: this value is to be
                                        interpreted as follows.

                                        Passive operation: all timers
                                        represent derived values as
                                        defined in the Docsis 1.1 RFI.

                                        Active operation: these are the
                                        values that are used by the
                                        CMÆs CPE-Side Querier.

   igmpInterfaceQueryInterval
                                        Refer to the IGMP MIB.

   igmpInterfaceStatus                 The activation of a row enables
                                        IGMP on this interface. The
                                        destruction of a row disables
                                        IGMP on this interface.

                                        Note: existence of this row
                                        indicates that IGMP and
                                        multicast capabilities exist on
                                        the CM. Non-existence of this
                                        row indicates that a CM is a
                                        non-igmp aware bridge, and must
                                        rely on other Layer 2 or Layer
                                        3 sercices to block unwanted
                                        multicasts.

   igmpInterfaceVersion                Docsis Compliant devices must
                                        support IGMP Version 2 or
                                        higher. Refer to the IGMP MIB.





   igmpInterfaceQuerier                Passive Operation: IP Address
                                        of Upstream Querier Active
                                        Operation: the IP Address used
                                        by the CM when querying CPE-
                                        side hosts.

                                        Note: see introduction on non-
                                        docsis devices as the multicast
                                        querier.

   igmpInterfaceQueryMaxResponseTime
                                        Refer to the IGMP MIB and RFI.


   igmpInterfaceVersion1QuerierTimer
                                        Refer to the IGMP MIB and RFI.

Abramson        Informational - Expires December 1999               5

                        Docsis 1.1 IGMPv2 MIB               June 1999



   igmpInterfaceWrongVersionQueries
                                        Refer to the IGMP MIB and RFI.

   igmpInterfaceJoins                  Refer to the IGMP MIB and RFI.

   igmpInterfaceGroups                 This is the current number of
                                        active Multicast Groups on this
                                        CM CPE Side interface.

   igmpInterfaceRobustness
                                        Refer to the IGMP MIB and RFI.

   igmpInterfaceProxyIfIndex
                                        Refer to the IGMP MIB and RFI.

   igmpInterfaceLastMemberQueryIntvl
                                        Refer to the IGMP MIB and RFI.

   igmpInterfaceProxyIfIndex
                                        Passive operation: n/a

                                        Active operation: if the CM is
                                        proxying for CPE on the HFC-
                                        side, this refers to the CMÆs
                                        RF HFC Side Interface(s)
                                        ifIndex.

   igmpInterfaceQuerierUpTime
                                        Refer to the IGMP MIB and RFI.

   igmpInterfaceQuerierExpiryTime
                                        Passive operation: n/a
                                        Active operation: in a typical
                                        implementation this object will
                                        be zero to indicate that this
                                        CM, system, is the querier.

                                        Note: see introduction on HFC-
                                        side or CPE devices as the
                                        multicast querier.

6.2 Cable Modem igmpCache Table


   Note: the number of IP Multicast Groups supported by this device is
   defined as the maximum size of this table (implementation specific).

   This is the (conceptual) table that lists the IP Multicast Groups
   for which there are CPE Side Multicast Host Members on a CMCI Side
   interface.

   igmpCacheTable        Comments

Abramson        Informational - Expires December 1999               6

                        Docsis 1.1 IGMPv2 MIB               June 1999


   ==================
                                        ===============================
                                        ====================
   igmpCacheEntry                      An entry exists for each IP
                                        Multicast Group for which this
                                        entry contains information on
                                        the CPE Side Interface.

   igmpCacheAddress                    Corresponds to the IP Multicast
                                        Group for which this entry
                                        contains information.

   igmpCacheIfIndex                    Corresponds to the CPE Side
                                        interface entry that
                                        corresponds to this Multicast
                                        group.

   igmpCacheSelf                       This value should always be
                                        FALSE for the CM, as it should
                                        not be considered an active
                                        member of any IP Multicast
                                        groups.

   igmpCacheLastReporter               Refer to the IGMP MIB.

   igmpCacheUpTime                     This should correspond to the
                                        time since the Multicast Group
                                        first became active through the
                                        CM.

   igmpCacheExpiryTime                 Refer to the IGMP MIB.

   igmpCacheStatus                     Refer to the IGMP MIB.

   igmpCacheVersion1HostTimer
                                        Refer to the IGMP MIB.



6.3 Cable Modem Termination System igmpInterface Table

   This is the (conceptual) table listing the interfaces on which IGMP
   is enabled. Unless otherwise specified all interface indexes are
   associated with a CPE Side Interface (HFC-side for CMTS). The only
   exception is for the igmpInterfaceProxyIfIndex, as described below.

   All Querier interfaces apply to downstream, transmitter, interfaces
   (e.g., as opposed to upstream receiver interfaces). Host and/or
   Querier interfaces supported by the CMTS on the NSI-side must follow
   the standard IGMPv2 MIB definitions.

   Note: in most cases, these objects only apply to CPE-side
   interfaces, as described in the introduction, above.

Abramson        Informational - Expires December 1999               7

                        Docsis 1.1 IGMPv2 MIB               June 1999



   igmpInterfaceTable    Comments
   ==================    ===============================
   igmpInterfaceEntry                  An entry exists for each CMTS
                                        HFC-Side Downstream (TX)
                                        Interface that supports the
                                        IGMP MIB

                                        Note: CMTS devices that do not
                                        manage IGMP on a per-
                                        transmitter basis may have a
                                        single entry that applies to
                                        all transmitters.

   igmpInterfaceIfIndex                Corresponds to CM CPE Side
                                        Interface for which IGMP
                                        Querying is enabled.
                                        Zero applies to all CMTS HFC-
                                        side TX interfaces

                                        NOTE: this value is to be
                                        interpreted as follows.

                                        Passive operation: all timers
                                        represent derived values as
                                        defined in the Docsis 1.1 RFI.

                                        Active operation: these are the
                                        values that are used by the
                                        CMTSÆs HFC-Side Querier.

   igmpInterfaceQueryInterval
                                        Refer to the IGMP MIB.

   igmpInterfaceStatus                 The activation of a row enables
                                        IGMP on this interface. The
                                        destruction of a row disables
                                        IGMP on this interface.

                                        Note: existence of this row
                                        indicates that IGMP and
                                        multicast capabilities exist on
                                        the CMTS. Non-existence of this
                                        row indicates that a CMTS is a
                                        non-igmp aware multicast
                                        bridge, and must rely on other
                                        Layer 2 or Layer 3 sercices to
                                        block unwanted multicasts.

   igmpInterfaceVersion                Docsis Compliant devices must
                                        support IGMP Version 2 or
                                        higher. Refer to the IGMP MIB.


Abramson        Informational - Expires December 1999               8

                        Docsis 1.1 IGMPv2 MIB               June 1999



   igmpInterfaceQuerier                Passive Operation: IP Address
                                        of NSI-side Querier Active
                                        Operation: the IP Address used
                                        by the CMTS when querying
                                        HFC/CPE-side hosts.

                                        Note: see introduction on HFC-
                                        side CPE devices as the
                                        multicast querier.

   igmpInterfaceQueryMaxResponseTime
                                        Refer to the IGMP MIB and RFI.


   igmpInterfaceVersion1QuerierTimer
                                        Refer to the IGMP MIB and RFI.

   igmpInterfaceWrongVersionQueries
                                        Refer to the IGMP MIB and RFI.

   igmpInterfaceJoins                  Refer to the IGMP MIB and RFI.

   igmpInterfaceGroups                 This is the current number of
                                        active Multicast Groups on this
                                        CM CPE Side interface.

   igmpInterfaceRobustness
                                        Refer to the IGMP MIB and RFI.

   igmpInterfaceProxyIfIndex
                                        Refer to the IGMP MIB and RFI.

   igmpInterfaceLastMemberQueryIntvl
                                        Refer to the IGMP MIB and RFI.

   igmpInterfaceProxyIfIndex
                                        Passive operation: n/a

                                        Active operation: if the CMTS
                                        is proxying for CPE (or CMÆs)
                                        on the HFC-side, this refers to
                                        the CMTSÆs NSI-Side
                                        Interface(s) ifIndex that is
                                        providing proxy host services
                                        for the HFC.

   igmpInterfaceQuerierUpTime
                                        Refer to the IGMP MIB and RFI.

   igmpInterfaceQuerierExpiryTime
                                        Passive operation: n/a


Abramson        Informational - Expires December 1999               9

                        Docsis 1.1 IGMPv2 MIB               June 1999


                                        Active operation: in a typical
                                        implementation this object will
                                        be zero to indicate that this
                                        CMTS, system, is the querier.
                                        Again, this applies to the HFC-
                                        side TX (not an NSI interface).

                                        Note: see introduction on non-
                                        docsis devices as the multicast
                                        querier.


6.4 Cable Modem Termination System igmpCache Table

   Note: the number of IP Multicast Groups supported by this device on
   a given transmitter, or set of transmitters, is defined as the
   maximum size of this table (implementation specific).

   This is the (conceptual) table that lists the IP Multicast Groups
   for which there are CPE Side Multicast Host Members on a CMCI Side
   interface.

   igmpCacheTable        Comments
   ==================    ===============================
   igmpCacheEntry                      An entry exists for each IP
                                        Multicast Group for which this
                                        entry contains information on
                                        the HFC/ CPE Side Interface.

   igmpCacheAddress                    Corresponds to the IP Multicast
                                        Group for which this entry
                                        contains information.

   igmpCacheIfIndex                    Corresponds to the HFC-side Tx
                                        interface entry that
                                        corresponds to this Multicast
                                        group.

   igmpCacheSelf                       This value should always be
                                        FALSE for the CMTS, as it
                                        should not be considered an
                                        active member of any IP
                                        Multicast groups.

   igmpCacheLastReporter               Refer to the IGMP MIB.

   igmpCacheUpTime                     This should correspond to the
                                        time since the Multicast Group
                                        first became active through the
                                        CM.

   igmpCacheExpiryTime                 Refer to the IGMP MIB.


Abramson        Informational - Expires December 1999              10

                        Docsis 1.1 IGMPv2 MIB               June 1999


   igmpCacheStatus                     Refer to the IGMP MIB.

   igmpCacheVersion1HostTimer
                                        Refer to the IGMP MIB.

6.4 Session Access Control Cache Table
   This policy table has been included to cover group access rules
   desired in previous proposals of this MIB to the IPCDN. These are
   included for discussion. It is also feasible that this capability be
   handled using the Cable Device MIBÆs IP Filter table.

   --
   --  The IGMP Cache Policy Table
   --

   igmpCachePolicyTable OBJECT-TYPE
       SYNTAX     SEQUENCE OF IgmpCachePolicyEntry
       MAX-ACCESS not-accessible
       STATUS     current
       DESCRIPTION
               The (conceptual) table listing group access rules for
                                        the IP
                multicast groups on a particular interface.
       ::= { igmp 2 }

   igmpCachePolicyEntry                An entry exists for each IP
                                        Multicast Group for which this
                                        entry contains information on
                                        the CPE Side Interface.

   igmpCachePolicyAddress              Corresponds to the IP Multicast
                                        Group for which this access
                                        rule applies.

   igmpCachePolicyIfIndex              Corresponds to the CPE Side
                                        interface entry that
                                        corresponds to this Multicast
                                        group.

   igmpCachePolicyType OBJECT-TYPE
               SYNTAX  ...
               MAX-ACCESS      read-create
               STATUS  (proposed)
               DESCRIPTION     PermanentMember
               Indicates that the group referred to by this entry does
               not require a Membership Response to General Queries to
               maintain active Group status on this interface and that
               IGMP Host Proxying for this session shall be maintained,
               as applicable, on the igmpInterfaceProxyIfIndex.
                DownstreamOnly
                Indicates that the session may be active on this
               interface (e.g., joined), but no sending of multicast
               data for this session is permitted.

Abramson        Informational - Expires December 1999              11

                        Docsis 1.1 IGMPv2 MIB               June 1999


                UptreamOnly
                Indicates that data may only be transmitted upstream
               through this interface.
                Both
                Indicates that full multicast transmission and
               reception is permitted for this group through this
               interface.
               DEFVAL  { ... }
               ::= {igmpCachePolicyType 9 }


7. Security Considerations

   This MIB relates to a system which will provide metropolitan public
   internet access to multicast services.  As such, improper
   manipulation of the objects represented by this MIB may result in
   unauthorized access to these services.

9. References


   1  To Be Added: Radio Frequency Interface Specification, MIBs,
      IGMPv2, IGMP MIB draft-09








10.  Acknowledgments

   to be added (Paul Gray)


11. Author's Addresses

   Howard D. Abramson
   Motorola
   20 Cabot Boulevard
   Mansfield, MA 02048
   Phone: 508.261.5686>
   Email: h.abramson@motorola.com


Full Copyright Statement

   Copyright (C) The Internet Society (date). All Rights Reserved. This
   document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implmentation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any


Abramson        Informational - Expires December 1999              12

                        Docsis 1.1 IGMPv2 MIB               June 1999


   kind, provided that the above copyright notice and this paragraph
   are included on all such copies and derivative works. However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into














































Abramson        Informational - Expires December 1999              13
