<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>The Mercure Protocol</title>
<meta content="Kévin Dunglas" name="author">
<meta content="
       Mercure is a protocol enabling the pushing of data updates to web browsers and other HTTP clients in
a fast, reliable and battery-efficient way. It is especially useful for publishing real-time updates
of resources served through web APIs to web and mobile apps. 
    " name="description">
<meta content="xml2rfc 2.45.3" name="generator">
<meta content="draft-dunglas-mercure-06" name="ietf.draft">
<link href="/tmp/mercure-kumwberw.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Avoid wrapping of URLs in references */
@media screen {
  .references a {
    white-space: nowrap;
  }
}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">The Mercure Protocol</td>
<td class="right">June 2020</td>
</tr></thead>
<tfoot><tr>
<td class="left">Dunglas</td>
<td class="center">Expires 11 December 2020</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">Network Working Group</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-dunglas-mercure-06</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2020-06-09" class="published">9 June 2020</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2020-12-11">11 December 2020</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">K. Dunglas</div>
<div class="org">Les-Tilleuls.coop</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">The Mercure Protocol</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">Mercure is a protocol enabling the pushing of data updates to web browsers and other HTTP clients in
a fast, reliable and battery-efficient way. It is especially useful for publishing real-time updates
of resources served through web APIs to web and mobile apps.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 11 December 2020.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2020 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="xref">1</a>.  <a href="#name-terminology" class="xref">Terminology</a><a href="#section-toc.1-1.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="xref">2</a>.  <a href="#name-discovery" class="xref">Discovery</a><a href="#section-toc.1-1.2.1" class="pilcrow">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-content-negotiation" class="xref">Content Negotiation</a><a href="#section-toc.1-1.2.2.1.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-topic-selectors" class="xref">Topic Selectors</a><a href="#section-toc.1-1.3.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-subscription" class="xref">Subscription</a><a href="#section-toc.1-1.4.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-publication" class="xref">Publication</a><a href="#section-toc.1-1.5.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-authorization" class="xref">Authorization</a><a href="#section-toc.1-1.6.1" class="pilcrow">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-publishers" class="xref">Publishers</a><a href="#section-toc.1-1.6.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-subscribers" class="xref">Subscribers</a><a href="#section-toc.1-1.6.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="xref">6.3</a>.  <a href="#name-payload" class="xref">Payload</a><a href="#section-toc.1-1.6.2.3.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-reconnection-state-reconcil" class="xref">Reconnection, State Reconciliation and Event Sourcing</a><a href="#section-toc.1-1.7.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-active-subscriptions" class="xref">Active Subscriptions</a><a href="#section-toc.1-1.8.1" class="pilcrow">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.8.2.1">
                <p id="section-toc.1-1.8.2.1.1"><a href="#section-8.1" class="xref">8.1</a>.  <a href="#name-subscription-events" class="xref">Subscription Events</a><a href="#section-toc.1-1.8.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.8.2.2">
                <p id="section-toc.1-1.8.2.2.1"><a href="#section-8.2" class="xref">8.2</a>.  <a href="#name-subscription-api" class="xref">Subscription API</a><a href="#section-toc.1-1.8.2.2.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-json-ld-context" class="xref">JSON-LD Context</a><a href="#section-toc.1-1.9.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-encryption" class="xref">Encryption</a><a href="#section-toc.1-1.10.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-iana-considerations" class="xref">IANA Considerations</a><a href="#section-toc.1-1.11.1" class="pilcrow">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="xref">11.1</a>.  <a href="#name-well-known-uris-registry" class="xref">Well-Known URIs Registry</a><a href="#section-toc.1-1.11.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-11.2" class="xref">11.2</a>.  <a href="#name-link-relation-types-registr" class="xref">Link Relation Types Registry</a><a href="#section-toc.1-1.11.2.2.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a><a href="#section-toc.1-1.12.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-13" class="xref">13</a>. <a href="#name-implementation-status" class="xref">Implementation Status</a><a href="#section-toc.1-1.13.1" class="pilcrow">¶</a></p>
<ul class="toc compact ulEmpty">
<li class="toc compact ulEmpty" id="section-toc.1-1.13.2.1">
                <p id="section-toc.1-1.13.2.1.1"><a href="#section-13.1" class="xref">13.1</a>.  <a href="#name-mercurerocks-hub" class="xref">Mercure.rocks Hub</a><a href="#section-toc.1-1.13.2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.13.2.2">
                <p id="section-toc.1-1.13.2.2.1"><a href="#section-13.2" class="xref">13.2</a>.  <a href="#name-ilshidur-node-mercure" class="xref">Ilshidur/node-mercure</a><a href="#section-toc.1-1.13.2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.13.2.3">
                <p id="section-toc.1-1.13.2.3.1"><a href="#section-13.3" class="xref">13.3</a>.  <a href="#name-symfony" class="xref">Symfony</a><a href="#section-toc.1-1.13.2.3.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.13.2.4">
                <p id="section-toc.1-1.13.2.4.1"><a href="#section-13.4" class="xref">13.4</a>.  <a href="#name-api-platform" class="xref">API Platform</a><a href="#section-toc.1-1.13.2.4.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.13.2.5">
                <p id="section-toc.1-1.13.2.5.1"><a href="#section-13.5" class="xref">13.5</a>.  <a href="#name-laravel-mercure-broadcaster" class="xref">Laravel Mercure Broadcaster</a><a href="#section-toc.1-1.13.2.5.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.13.2.6">
                <p id="section-toc.1-1.13.2.6.1"><a href="#section-13.6" class="xref">13.6</a>.  <a href="#name-dart_mercure" class="xref">dart_mercure</a><a href="#section-toc.1-1.13.2.6.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.13.2.7">
                <p id="section-toc.1-1.13.2.7.1"><a href="#section-13.7" class="xref">13.7</a>.  <a href="#name-pymercure" class="xref">pymercure</a><a href="#section-toc.1-1.13.2.7.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.13.2.8">
                <p id="section-toc.1-1.13.2.8.1"><a href="#section-13.8" class="xref">13.8</a>.  <a href="#name-amphp-mercure-publisher" class="xref">Amphp Mercure Publisher</a><a href="#section-toc.1-1.13.2.8.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.13.2.9">
                <p id="section-toc.1-1.13.2.9.1"><a href="#section-13.9" class="xref">13.9</a>.  <a href="#name-java-library-for-mercure" class="xref">Java Library for Mercure</a><a href="#section-toc.1-1.13.2.9.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.13.2.10">
                <p id="section-toc.1-1.13.2.10.1"><a href="#section-13.10" class="xref">13.10</a>. <a href="#name-yii-2-mercure-behavior" class="xref">Yii 2 Mercure behavior</a><a href="#section-toc.1-1.13.2.10.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.13.2.11">
                <p id="section-toc.1-1.13.2.11.1"><a href="#section-13.11" class="xref">13.11</a>. <a href="#name-github-action-for-mercure" class="xref">GitHub Action for Mercure</a><a href="#section-toc.1-1.13.2.11.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.13.2.12">
                <p id="section-toc.1-1.13.2.12.1"><a href="#section-13.12" class="xref">13.12</a>. <a href="#name-other-implementations" class="xref">Other Implementations</a><a href="#section-toc.1-1.13.2.12.1" class="pilcrow">¶</a></p>
</li>
</ul>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-14" class="xref">14</a>. <a href="#name-acknowledgements" class="xref">Acknowledgements</a><a href="#section-toc.1-1.14.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.15">
            <p id="section-toc.1-1.15.1"><a href="#section-15" class="xref">15</a>. <a href="#name-normative-references" class="xref">Normative References</a><a href="#section-toc.1-1.15.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.16">
            <p id="section-toc.1-1.16.1"><a href="#section-16" class="xref">16</a>. <a href="#name-informative-references" class="xref">Informative References</a><a href="#section-toc.1-1.16.1" class="pilcrow">¶</a></p>
</li>
<li class="toc compact ulEmpty" id="section-toc.1-1.17">
            <p id="section-toc.1-1.17.1"><a href="#section-appendix.a" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a><a href="#section-toc.1-1.17.1" class="pilcrow">¶</a></p>
</li>
</ul>
</nav>
</section>
</div>
<div id="terminology">
<section id="section-1">
      <h2 id="name-terminology">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
      </h2>
<p id="section-1-1">The keywords <span class="bcp14">MUST</span>, <span class="bcp14">MUST NOT</span>, <span class="bcp14">REQUIRED</span>, <span class="bcp14">SHALL</span>, <span class="bcp14">SHALL NOT</span>, <span class="bcp14">SHOULD</span>, <strong>SHOULD
NOT</strong>, <span class="bcp14">RECOMMENDED</span>, <span class="bcp14">MAY</span>, and <span class="bcp14">OPTIONAL</span>, when they appear in this document, are to be
interpreted as described in <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span>.<a href="#section-1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-1-2.1">
          <p id="section-1-2.1.1">Topic: The unit to which one can subscribe to changes. The topic <span class="bcp14">SHOULD</span> be identified
by an IRI <span>[<a href="#RFC3987" class="xref">RFC3987</a>]</span>. Using an HTTPS <span>[<a href="#RFC7230" class="xref">RFC7230</a>]</span> or HTTP <span>[<a href="#RFC7230" class="xref">RFC7230</a>]</span> URI <span>[<a href="#RFC3986" class="xref">RFC3986</a>]</span> is
<span class="bcp14">RECOMMENDED</span>.<a href="#section-1-2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-1-2.2">
          <p id="section-1-2.2.1">Update: The message containing the updated version of the topic. An update can be marked as
private, consequently, it must be dispatched only to subscribers allowed to receive it.<a href="#section-1-2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-1-2.3">
          <p id="section-1-2.3.1">Topic selector: An expression matching one or several topics.<a href="#section-1-2.3.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-1-2.4">
          <p id="section-1-2.4.1">Publisher: An owner of a topic. Notifies the hub when the topic feed has been updated. As in
almost all pubsub systems, the publisher is unaware of the subscribers, if any. Other pubsub
systems might call the publisher the "source". Typically a website or a web API, but can also be
a web browser.<a href="#section-1-2.4.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-1-2.5">
          <p id="section-1-2.5.1">Subscriber: A client application that subscribes to real-time updates of topics using topic
selectors. Typically a web or a mobile application, but can also be a server.<a href="#section-1-2.5.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-1-2.6">
          <p id="section-1-2.6.1">Subscription: A topic selector used by a subscriber to receive updates. A single subscriber can
have several subscriptions, when it provides several topic selectors.<a href="#section-1-2.6.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-1-2.7">
          <p id="section-1-2.7.1">Hub: A server that handles subscription requests and distributes the content to subscribers when
the corresponding topics have been updated. Any hub <span class="bcp14">MAY</span> implement its own policies on who
can use it.<a href="#section-1-2.7.1" class="pilcrow">¶</a></p>
</li>
</ul>
</section>
</div>
<div id="discovery">
<section id="section-2">
      <h2 id="name-discovery">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-discovery" class="section-name selfRef">Discovery</a>
      </h2>
<p id="section-2-1">The discovery mechanism aims at identifying at least 2 URLs.<a href="#section-2-1" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-2-2">
        <li id="section-2-2.1">
          <p id="section-2-2.1.1">The URL of one or more hubs designated by the publisher.<a href="#section-2-2.1.1" class="pilcrow">¶</a></p>
</li>
<li id="section-2-2.2">
          <p id="section-2-2.2.1">The canonical URL for the topic to which subscribers are expected to use for subscriptions.<a href="#section-2-2.2.1" class="pilcrow">¶</a></p>
</li>
</ol>
<p id="section-2-3">The URL of the hub <span class="bcp14">MUST</span> be the "well-known" <span>[<a href="#RFC5785" class="xref">RFC5785</a>]</span> fixed path <code>/.well-known/mercure</code>.<a href="#section-2-3" class="pilcrow">¶</a></p>
<p id="section-2-4">If the publisher is a server, it <span class="bcp14">SHOULD</span> advertise the URL of one or more hubs to the subscriber,
allowing it to receive live updates when topics are updated. If more than one hub URL is specified,
the publisher <span class="bcp14">MUST</span> notifies each hub, so the subscriber <span class="bcp14">MAY</span> subscribe to one or more of
them.<a href="#section-2-4" class="pilcrow">¶</a></p>
<p id="section-2-5">Note: Publishers may wish to advertise and publish to more than one hub for fault tolerance and
redundancy. If one hub fails to propagate an update to the document, then using multiple independent
hub is a way to increase the likelihood of delivery to subscribers. As such, subscribers may
subscribe to one or more of the advertised hubs.<a href="#section-2-5" class="pilcrow">¶</a></p>
<p id="section-2-6">The publisher <span class="bcp14">SHOULD</span> include at least one Link Header <span>[<a href="#RFC5988" class="xref">RFC5988</a>]</span> with <code>rel=mercure</code> (a hub link
header). The target URL of these links <span class="bcp14">MUST</span> be a hub implementing the Mercure protocol.<a href="#section-2-6" class="pilcrow">¶</a></p>
<p id="section-2-7">The publisher <span class="bcp14">MAY</span> provide the following target attributes in the Link Headers:<a href="#section-2-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-2-8.1">
          <p id="section-2-8.1.1"><code>last-event-id</code>: the identifier of the last event dispatched by the publisher at the time of
the generation of this resource. If provided, it <span class="bcp14">MUST</span> be passed to the hub through a query
parameter called <code>Last-Event-ID</code> and will be used to ensure that possible updates having been
made during between the resource generation time and the connection to the hub are not lost. See
<a href="#reconciliation" class="xref">Section 7</a>.<a href="#section-2-8.1.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-2-8.2">
          <p id="section-2-8.2.1"><code>content-type</code>: the content type of the updates that will pushed by the hub. If omitted, the
subscriber <span class="bcp14">MUST</span> assume that the content type will be the same as that of the original
resource. Setting the <code>content-type</code> attribute is especially useful to hint that partial updates
will be pushed, using formats such as JSON Patch <span>[<a href="#RFC6902" class="xref">RFC6902</a>]</span> or JSON Merge Patch <span>[<a href="#RFC7386" class="xref">RFC7386</a>]</span>.<a href="#section-2-8.2.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-2-8.3">
          <p id="section-2-8.3.1"><code>key-set</code>: the URL of the key set to use to decrypt updates, encoded in the JWK set format
(JSON Web Key Set) <span>[<a href="#RFC7517" class="xref">RFC7517</a>]</span>. See <a href="#encryption" class="xref">Section 10</a>. As this key set will contain a secret
key, the publisher must ensure that only the subscriber can access to this URL. To do so, the
authorization mechanism (see <a href="#authorization" class="xref">Section 6</a>) can be reused.<a href="#section-2-8.3.1" class="pilcrow">¶</a></p>
</li>
</ul>
<p id="section-2-9">All these attributes are optional.<a href="#section-2-9" class="pilcrow">¶</a></p>
<p id="section-2-10">The publisher <span class="bcp14">MAY</span> also include one Link Header <span>[<a href="#RFC5988" class="xref">RFC5988</a>]</span> with <code>rel=self</code> (the self link
header). It <span class="bcp14">SHOULD</span> contain the canonical URL for the topic to which subscribers are expected
to use for subscriptions. If the Link with <code>rel=self</code> is omitted, the current URL of the resource
<span class="bcp14">MUST</span> be used as a fallback.<a href="#section-2-10" class="pilcrow">¶</a></p>
<p id="section-2-11">Minimal example:<a href="#section-2-11" class="pilcrow">¶</a></p>
<div id="section-2-12">
<pre class="sourcecode lang-http">GET /books/foo HTTP/1.1
Host: example.com

HTTP/1.1 200 OK
Content-type: application/ld+json
Link: &lt;https://example.com/.well-known/mercure&gt;; rel="mercure"

{"@id": "/books/foo", "foo": "bar"}
</pre><a href="#section-2-12" class="pilcrow">¶</a>
</div>
<p id="section-2-13">Links embedded in HTML or XML documents as defined in the WebSub recommendation
<span>[<a href="#W3C.REC-websub-20180123" class="xref">W3C.REC-websub-20180123</a>]</span> <span class="bcp14">MAY</span> also be supported by subscribers. If both a header and an
embedded link are provided, the header <span class="bcp14">MUST</span> be preferred.<a href="#section-2-13" class="pilcrow">¶</a></p>
<div id="content-negotiation">
<section id="section-2.1">
        <h3 id="name-content-negotiation">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-content-negotiation" class="section-name selfRef">Content Negotiation</a>
        </h3>
<p id="section-2.1-1">For practical purposes, it is important that the <code>rel=self</code> URL only offers a single representation.
As the hub has no way of knowing what Media Type (<span>[<a href="#RFC6838" class="xref">RFC6838</a>]</span>) or language may have been requested
by the subscriber upon discovery, it would not be able to deliver the content using the appropriate
representation of the document.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.1-2">It is, however, possible to perform content negotiation by returning an appropriate <code>rel=self</code>
URL according to the HTTP headers used in the initial discovery request. For example, a request
to <code>/books/foo</code> with an <code>Accept</code> header containing <code>application/ld+json</code> could return a <code>rel=self</code>
value of <code>/books/foo.jsonld</code>.<a href="#section-2.1-2" class="pilcrow">¶</a></p>
<p id="section-2.1-3">The example below illustrates how a topic URL can return different <code>Link</code> headers depending on the
<code>Accept</code> header that was sent.<a href="#section-2.1-3" class="pilcrow">¶</a></p>
<div id="section-2.1-4">
<pre class="sourcecode lang-http">GET /books/foo HTTP/1.1
Host: example.com
Accept: application/ld+json

HTTP/1.1 200 OK
Content-type: application/ld+json
Link: &lt;/books/foo.jsonld&gt;; rel="self"
Link: &lt;https://example.com/.well-known/mercure&gt;; rel="mercure"

{"@id": "/books/foo", "foo": "bar"}
</pre><a href="#section-2.1-4" class="pilcrow">¶</a>
</div>
<div id="section-2.1-5">
<pre class="sourcecode lang-http">GET /books/foo HTTP/1.1
Host: example.com
Accept: text/html

HTTP/1.1 200 OK
Content-type: text/html
Link: &lt;/books/foo.html&gt;; rel="self"
Link: &lt;https://example.com/.well-known/mercure&gt;; rel="mercure"

&lt;!doctype html&gt;
&lt;title&gt;foo: bar&lt;/title&gt;
</pre><a href="#section-2.1-5" class="pilcrow">¶</a>
</div>
<p id="section-2.1-6">Similarly, the technique can also be used to return a different <code>rel=self</code> URL depending on the
language requested by the <code>Accept-Language</code> header.<a href="#section-2.1-6" class="pilcrow">¶</a></p>
<div id="section-2.1-7">
<pre class="sourcecode lang-http">GET /books/foo HTTP/1.1
Host: example.com
Accept-Language: fr-FR

HTTP/1.1 200 OK
Content-type: application/ld+json
Content-Language: fr-FR
Link: &lt;/books/foo-fr-FR.jsonld&gt;; rel="self"
Link: &lt;https://example.com/.well-known/mercure&gt;; rel="mercure"

{"@id": "/books/foo", "foo": "bar", "@context": {"@language": "fr-FR"}}
</pre><a href="#section-2.1-7" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="topic-selectors">
<section id="section-3">
      <h2 id="name-topic-selectors">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-topic-selectors" class="section-name selfRef">Topic Selectors</a>
      </h2>
<p id="section-3-1">A topic selector is an expression intended to be matched by one or several topics. A topic selector
can also be used to match other topic selectors for authorization purposes. See <a href="#authorization" class="xref">Section 6</a>.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">A topic selector can be any string including URI Templates <span>[<a href="#RFC6570" class="xref">RFC6570</a>]</span> and the reserved string <code>*</code>
that matches all topics. It is <span class="bcp14">RECOMMENDED</span> to use URI Templates or the reserved string <code>*</code> as
topic selectors.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">Note: URLs and IRIs are valid URI templates.<a href="#section-3-3" class="pilcrow">¶</a></p>
<p id="section-3-4">To determine if a string matches a selector, the following steps must be followed:<a href="#section-3-4" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-3-5">
        <li id="section-3-5.1">
          <p id="section-3-5.1.1">If the topic selector is <code>*</code> then the string matches the selector.<a href="#section-3-5.1.1" class="pilcrow">¶</a></p>
</li>
<li id="section-3-5.2">
          <p id="section-3-5.2.1">If the topic selector and the string are exactly the same, the string matches the selector. This
characteristic allows to compare a URI Template with another one.<a href="#section-3-5.2.1" class="pilcrow">¶</a></p>
</li>
<li id="section-3-5.3">
          <p id="section-3-5.3.1">If the topic selector is a valid URI Template, and that the string matches this URI Template,
the string matches the selector.<a href="#section-3-5.3.1" class="pilcrow">¶</a></p>
</li>
<li id="section-3-5.4">
          <p id="section-3-5.4.1">Otherwise the string does not match the selector.<a href="#section-3-5.4.1" class="pilcrow">¶</a></p>
</li>
</ol>
</section>
</div>
<div id="subscription">
<section id="section-4">
      <h2 id="name-subscription">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-subscription" class="section-name selfRef">Subscription</a>
      </h2>
<p id="section-4-1">The subscriber subscribes to a URL exposed by a hub to receive updates from one or many topics.
To subscribe to updates, the client opens an HTTPS connection following the Server-Sent Events
specification <span>[<a href="#W3C.REC-eventsource-20150203" class="xref">W3C.REC-eventsource-20150203</a>]</span> to the hub's subscription URL advertised by the
publisher. The <code>GET</code> HTTP method must be used. The connection <span class="bcp14">SHOULD</span> use HTTP/2 to leverage
mutliplexing and other advanced features of this protocol.<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">The subscriber specifies the list of topics to get updates from by using one or several query
parameters named <code>topic</code>. The <code>topic</code> query parameters <span class="bcp14">MUST</span> contain topic selectors. See
<a href="#topic-selectors" class="xref">Section 3</a>.<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">The protocol doesn't specify the maximum number of <code>topic</code> parameters that can be sent, but the hub
<span class="bcp14">MAY</span> apply an arbitrary limit. A subscription is created for every provided <code>topic</code> parameter.
See <a href="#subscription-events" class="xref">Section 8.1</a>.<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4"><a href="https://html.spec.whatwg.org/multipage/server-sent-events.html#the-eventsource-interface">The EventSource JavaScript
interface</a>
        <span class="bcp14">MAY</span> be used to establish the connection. Any other appropriate mechanism
including, but not limited to, readable streams <span>[<a href="#W3C.NOTE-streams-api-20161129" class="xref">W3C.NOTE-streams-api-20161129</a>]</span> and
<a href="https://xhr.spec.whatwg.org/">XMLHttpRequest</a> (used by popular polyfills) <span class="bcp14">MAY</span> also be used.<a href="#section-4-4" class="pilcrow">¶</a></p>
<p id="section-4-5">The hub sends to the subscriber updates for topics matching the provided topic selectors.<a href="#section-4-5" class="pilcrow">¶</a></p>
<p id="section-4-6">If an update is marked as <code>private</code>, the hub <span class="bcp14">MUST NOT</span> dispatch it to subscribers not authorized
to receive it. See <a href="#authorization" class="xref">Section 6</a>.<a href="#section-4-6" class="pilcrow">¶</a></p>
<p id="section-4-7">The hub <span class="bcp14">MUST</span> send these updates as <code>text/event-stream</code> compliant events
[!@W3C.REC-eventsource-20150203].<a href="#section-4-7" class="pilcrow">¶</a></p>
<p id="section-4-8">The <code>data</code> property <span class="bcp14">MUST</span> contain the new version of the topic. It can be the full resource, or a
partial update by using formats such as JSON Patch <span>[<a href="#RFC6902" class="xref">RFC6902</a>]</span> or JSON Merge Patch <span>[<a href="#RFC7386" class="xref">RFC7386</a>]</span>.<a href="#section-4-8" class="pilcrow">¶</a></p>
<p id="section-4-9">All other properties defined in the Server-Sent Events specification <span class="bcp14">MAY</span> be used and <span class="bcp14">MUST</span> be
supported by hubs.<a href="#section-4-9" class="pilcrow">¶</a></p>
<p id="section-4-10">The resource <span class="bcp14">SHOULD</span> be represented in a format with hypermedia capabilities such as
JSON-LD <span>[<a href="#W3C.REC-json-ld-20140116" class="xref">W3C.REC-json-ld-20140116</a>]</span>, Atom <span>[<a href="#RFC4287" class="xref">RFC4287</a>]</span>, XML <span>[<a href="#W3C.REC-xml-20081126" class="xref">W3C.REC-xml-20081126</a>]</span> or HTML
<span>[<a href="#W3C.REC-html52-20171214" class="xref">W3C.REC-html52-20171214</a>]</span>.<a href="#section-4-10" class="pilcrow">¶</a></p>
<p id="section-4-11">Web Linking <span>[<a href="#RFC5988" class="xref">RFC5988</a>]</span> <span class="bcp14">SHOULD</span> be used to indicate the IRI of the resource sent in the event.
When using Atom, XML or HTML as the serialization format for the resource, the document <span class="bcp14">SHOULD</span>
contain a <code>link</code> element with a <code>self</code> relation containing the IRI of the resource. When using
JSON-LD, the document <span class="bcp14">SHOULD</span> contain an <code>@id</code> property containing the IRI of the resource.<a href="#section-4-11" class="pilcrow">¶</a></p>
<p id="section-4-12">Example:<a href="#section-4-12" class="pilcrow">¶</a></p>
<div id="section-4-13">
<pre class="sourcecode lang-javascript">// The subscriber subscribes to updates
// for the https://example.com/foo topic, the bar topic,
// and to any topic matching https://example.com/books/{name}
const url = new URL('https://example.com/.well-known/mercure');
url.searchParams.append('topic', 'https://example.com/foo');
url.searchParams.append('topic', 'bar');
url.searchParams.append('topic', 'https://example.com/bar/{id}');

const eventSource = new EventSource(url);

// The callback will be called every time an update is published
eventSource.onmessage = function ({data}) {
    console.log(data);
};
</pre><a href="#section-4-13" class="pilcrow">¶</a>
</div>
<p id="section-4-14">The hub <span class="bcp14">MAY</span> require subscribers and publishers to be authenticated, and <span class="bcp14">MAY</span> apply extra
authorization rules not defined in this specification.<a href="#section-4-14" class="pilcrow">¶</a></p>
</section>
</div>
<div id="publication">
<section id="section-5">
      <h2 id="name-publication">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-publication" class="section-name selfRef">Publication</a>
      </h2>
<p id="section-5-1">The publisher sends updates by issuing <code>POST</code> HTTPS requests on the hub URL. When it receives an
update, the hub dispatches it to subscribers using the established server-sent events connections.<a href="#section-5-1" class="pilcrow">¶</a></p>
<p id="section-5-2">An application <strong>CAN</strong> send events directly to subscribers without using an external hub server, if
it is able to do so. In this case, it <strong>MAY NOT</strong> implement the endpoint to publish updates.<a href="#section-5-2" class="pilcrow">¶</a></p>
<p id="section-5-3">The request <span class="bcp14">MUST</span> be encoded using the <code>application/x-www-form-urlencoded</code> format
<span>[<a href="#W3C.REC-html52-20171214" class="xref">W3C.REC-html52-20171214</a>]</span> and contains the following name-value tuples:<a href="#section-5-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5-4.1">
          <p id="section-5-4.1.1"><code>topic</code>: The identifiers of the updated topic. It is <span class="bcp14">RECOMMENDED</span> to use an IRI as
identifier. If this name is present several times, the first occurrence is considered to be the
canonical IRI of the topic, and other ones are considered to be alternate IRIs. The hub <span class="bcp14">MUST</span>
dispatch this update to subscribers that are subscribed to both canonical or alternate IRIs.<a href="#section-5-4.1.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-5-4.2">
          <p id="section-5-4.2.1"><code>data</code> (optional): the content of the new version of this topic.<a href="#section-5-4.2.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-5-4.3">
          <p id="section-5-4.3.1"><code>private</code> (optional): if this name is set, the update <span class="bcp14">MUST NOT</span> be dispatched to subscribers
not authorized to receive it. See <a href="#authorization" class="xref">Section 6</a>. It is recommended to set the value to <code>on</code>
but it <strong>CAN</strong> contain any value including an empty string.<a href="#section-5-4.3.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-5-4.4">
          <p id="section-5-4.4.1"><code>id</code> (optional): the topic's revision identifier: it will be used as the SSE's <code>id</code> property.
The provided id <span class="bcp14">MUST NOT</span> start with the <code>#</code> character. The provided id <span class="bcp14">SHOULD</span> be a valid
IRI. If omitted, the hub <span class="bcp14">MUST</span> generate a valid IRI <span>[<a href="#RFC3987" class="xref">RFC3987</a>]</span>. An UUID <span>[<a href="#RFC4122" class="xref">RFC4122</a>]</span> or a DID
(@W3C.WD-did-core-20200421) <span class="bcp14">MAY</span> be used. Alternatively the hub <span class="bcp14">MAY</span> generate a relative
URI composed of a fragment (starting with <code>#</code>). This is convenient to return an offset or a
sequence that is unique for this hub. Even if provided, the hub <span class="bcp14">MAY</span> ignore the id provided
by the client and generate its own id.<a href="#section-5-4.4.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-5-4.5">
          <p id="section-5-4.5.1"><code>type</code> (optional): the SSE's <code>event</code> property (a specific event type).<a href="#section-5-4.5.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-5-4.6">
          <p id="section-5-4.6.1"><code>retry</code> (optional): the SSE's <code>retry</code> property (the reconnection time).<a href="#section-5-4.6.1" class="pilcrow">¶</a></p>
</li>
</ul>
<p id="section-5-5">In the event of success, the HTTP response's body <span class="bcp14">MUST</span> be the <code>id</code> associated to this update
generated by the hub and a success HTTP status code <span class="bcp14">MUST</span> be returned. The publisher <span class="bcp14">MUST</span> be
authorized to publish updates. See <a href="#authorization" class="xref">Section 6</a>.<a href="#section-5-5" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authorization">
<section id="section-6">
      <h2 id="name-authorization">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-authorization" class="section-name selfRef">Authorization</a>
      </h2>
<p id="section-6-1">To ensure that they are authorized, both publishers and subscribers must present a valid JWS
<span>[<a href="#RFC7515" class="xref">RFC7515</a>]</span> in compact serialization to the hub. This JWS <span class="bcp14">SHOULD</span> be short-lived, especially
if the subscriber is a web browser. A different key <span class="bcp14">MAY</span> be used to sign subscribers' and
publishers' tokens.<a href="#section-6-1" class="pilcrow">¶</a></p>
<p id="section-6-2">Two mechanisms are defined to present the JWS to the hub:<a href="#section-6-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6-3.1">
          <p id="section-6-3.1.1">using an <code>Authorization</code> HTTP header<a href="#section-6-3.1.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-6-3.2">
          <p id="section-6-3.2.1">using a cookie<a href="#section-6-3.2.1" class="pilcrow">¶</a></p>
</li>
</ul>
<p id="section-6-4">If the publisher or the subscriber is not a web browser, it <span class="bcp14">SHOULD</span> use an <code>Authorization</code>
HTTP header. This <code>Authorization</code> header <span class="bcp14">MUST</span> contain the string <code>Bearer</code> followed by the JWS.
The hub will check that the JWS conforms to the rules (defined later) ensuring that the client is
authorized to publish or subscribe to updates.<a href="#section-6-4" class="pilcrow">¶</a></p>
<p id="section-6-5">By the <code>EventSource</code> specification <span>[<a href="#W3C.REC-eventsource-20150203" class="xref">W3C.REC-eventsource-20150203</a>]</span>, web browsers
can not set custom HTTP headers for such connections, and they can only be
established using the <code>GET</code> HTTP method. However, cookies are supported and
can be included even in cross-domain requests if <a href="https://html.spec.whatwg.org/multipage/server-sent-events.html#dom-eventsourceinit-withcredentials">the CORS credentials are
set</a>:<a href="#section-6-5" class="pilcrow">¶</a></p>
<p id="section-6-6">If the publisher or the subscriber is a web browser, it <span class="bcp14">SHOULD</span> send a cookie called
<code>mercureAuthorization</code> containing the JWS when connecting to the hub.<a href="#section-6-6" class="pilcrow">¶</a></p>
<p id="section-6-7">Whenever possible, the <code>mercureAuthorization</code> cookie <span class="bcp14">SHOULD</span> be set during discovery (see
<a href="#discovery" class="xref">Section 2</a>) to improve the overall security. Consequently, if the cookie is set during the
discovery, both the publisher and the hub have to share the same second level domain. The <code>Domain</code>
attribute <span class="bcp14">MAY</span> be used to allow the publisher and the hub to use different subdomains. See
<a href="#discovery" class="xref">Section 2</a>.<a href="#section-6-7" class="pilcrow">¶</a></p>
<p id="section-6-8">The cookie <span class="bcp14">SHOULD</span> have the <code>Secure</code>, <code>HttpOnly</code> and <code>SameSite</code> attributes set. The cookie's
<code>Path</code> attribute <span class="bcp14">SHOULD</span> also be set to the hub's URL. See <a href="#security-considerations" class="xref">Section 12</a>.<a href="#section-6-8" class="pilcrow">¶</a></p>
<p id="section-6-9">When using authorization mechanisms, the connection <span class="bcp14">MUST</span> use an encryption layer such as HTTPS.<a href="#section-6-9" class="pilcrow">¶</a></p>
<p id="section-6-10">If both an <code>Authorization</code> HTTP header and a cookie named <code>mercureAuthorization</code> are presented by
the client, the cookie <span class="bcp14">MUST</span> be ignored. If the client tries to execute an operation it is not
allowed to, a 403 HTTP status code <span class="bcp14">SHOULD</span> be returned.<a href="#section-6-10" class="pilcrow">¶</a></p>
<div id="publishers">
<section id="section-6.1">
        <h3 id="name-publishers">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-publishers" class="section-name selfRef">Publishers</a>
        </h3>
<p id="section-6.1-1">Publishers <span class="bcp14">MUST</span> be authorized to dispatch updates to the hub, and <span class="bcp14">MUST</span> prove that they are
authorized to send updates for the specified topics.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">To be allowed to publish an update, the JWS presented by the publisher <span class="bcp14">MUST</span> contain a claim
called <code>mercure</code>, and this claim <span class="bcp14">MUST</span> contain a <code>publish</code> key. <code>mercure.publish</code> contains an
array of topic selectors. See <a href="#topic-selectors" class="xref">Section 3</a>.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
<p id="section-6.1-3">If <code>mercure.publish</code>:<a href="#section-6.1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.1-4.1">
            <p id="section-6.1-4.1.1">is not defined, then the publisher <span class="bcp14">MUST NOT</span> be authorized to dispatch any update<a href="#section-6.1-4.1.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-6.1-4.2">
            <p id="section-6.1-4.2.1">contains an empty array, the publisher <span class="bcp14">MUST NOT</span> be authorized to publish private updates,
but can publish public updates for all topics.<a href="#section-6.1-4.2.1" class="pilcrow">¶</a></p>
</li>
</ul>
<p id="section-6.1-5">Otherwise, the hub <span class="bcp14">MUST</span> check that every topics of the update to dispatch matches at least one
of the topic selectors contained in <code>mercure.publish</code>.<a href="#section-6.1-5" class="pilcrow">¶</a></p>
<p id="section-6.1-6">If the publisher is not authorized for all the topics of an update, the hub <span class="bcp14">MUST NOT</span> dispatch
the update (even if some topics in the list are allowed) and <span class="bcp14">MUST</span> return a 403 HTTP status code.<a href="#section-6.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="subscribers">
<section id="section-6.2">
        <h3 id="name-subscribers">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-subscribers" class="section-name selfRef">Subscribers</a>
        </h3>
<p id="section-6.2-1">To receive updates marked as <code>private</code>, a subscriber <span class="bcp14">MUST</span> prove that it is authorized for at
least one of the topics of this update. If the subscriber is not authorized to receive an update
marked as <code>private</code>, it <span class="bcp14">MUST NOT</span> receive it.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2-2">To receive updates marked as <code>private</code>, the JWS presented by the subscriber <span class="bcp14">MUST</span> have a
claim named <code>mercure</code> with a key named <code>subscribe</code> that contains an array of topic selectors. See
<a href="#topic-selectors" class="xref">Section 3</a>.<a href="#section-6.2-2" class="pilcrow">¶</a></p>
<p id="section-6.2-3">The hub <span class="bcp14">MUST</span> check that at least one topic of the update to dispatch matches at least one topic
selector provided in <code>mercure.subscribe</code>.<a href="#section-6.2-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="payload">
<section id="section-6.3">
        <h3 id="name-payload">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-payload" class="section-name selfRef">Payload</a>
        </h3>
<p id="section-6.3-1">The <code>mercure</code> claim of the JWS <strong>CAN</strong> also contain user-defined values under the <code>payload</code> key.
This JSON document will be attached to the subscription and made available in subscription events.
See <a href="#subscription-events" class="xref">Section 8.1</a>.<a href="#section-6.3-1" class="pilcrow">¶</a></p>
<p id="section-6.3-2">For instance, <code>mercure.payload</code> can contain the user ID of the subscriber, a list of groups it
belongs to, or its IP address. Storing data in <code>mercure.payload</code> is a convenient way to share data
related to one subscriber to other subscribers.<a href="#section-6.3-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="reconciliation">
<section id="section-7">
      <h2 id="name-reconnection-state-reconcil">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-reconnection-state-reconcil" class="section-name selfRef">Reconnection, State Reconciliation and Event Sourcing</a>
      </h2>
<p id="section-7-1">The protocol allows to reconciliate states after a reconnection. It can also be used to implement an
<a href="https://en.wikipedia.org/wiki/Event_store">Event store</a>.<a href="#section-7-1" class="pilcrow">¶</a></p>
<p id="section-7-2">To allow re-establishment in case of connection lost, events dispatched by the hub <span class="bcp14">MUST</span> include
an <code>id</code> property. The value contained in this <code>id</code> property <span class="bcp14">SHOULD</span> be an IRI <span>[<a href="#RFC3987" class="xref">RFC3987</a>]</span>. An
UUID <span>[<a href="#RFC4122" class="xref">RFC4122</a>]</span> or a DID (@W3C.WD-did-core-20200421) <span class="bcp14">MAY</span> be used.<a href="#section-7-2" class="pilcrow">¶</a></p>
<p id="section-7-3">According to the server-sent events specification, in case of connection
lost the subscriber will try to automatically re-connect. During the
re-connection, the subscriber <span class="bcp14">MUST</span> send the last received event id in a
<a href="https://html.spec.whatwg.org/multipage/iana.html#last-event-id">Last-Event-ID</a> HTTP header.<a href="#section-7-3" class="pilcrow">¶</a></p>
<p id="section-7-4">In order to fetch any update dispatched between the initial resource generation by the publisher and
the connection to the hub, the subscriber <span class="bcp14">MUST</span> send the event id provided during the discovery
in the <code>last-event-id</code> as the last event id. See <a href="#discovery" class="xref">Section 2</a>.<a href="#section-7-4" class="pilcrow">¶</a></p>
<p id="section-7-5"><code>EventSource</code> implementations may not allow to set HTTP headers during the first connection (before
a reconnection) and implementations in web browsers don't allow to set it.<a href="#section-7-5" class="pilcrow">¶</a></p>
<p id="section-7-6">To work around this problem, the hub <span class="bcp14">MUST</span> also allow to pass the last event id in a query
parameter named <code>Last-Event-ID</code>.<a href="#section-7-6" class="pilcrow">¶</a></p>
<p id="section-7-7">If both the <code>Last-Event-ID</code> HTTP header and the query parameter are present, the HTTP header
<span class="bcp14">MUST</span> take precedence.<a href="#section-7-7" class="pilcrow">¶</a></p>
<p id="section-7-8">If the <code>Last-Event-ID</code> HTTP header or query parameter exists, the hub <span class="bcp14">SHOULD</span> send all events
published following the one bearing this identifier to the subscriber.<a href="#section-7-8" class="pilcrow">¶</a></p>
<p id="section-7-9">The reserved value <code>earliest</code> can be used to hint the hub to send all updates it has for the
subscribed topics. According to its own policy, the hub <span class="bcp14">MAY</span> or <strong>MAY NOT</strong> fulfil this request.<a href="#section-7-9" class="pilcrow">¶</a></p>
<p id="section-7-10">The hub <span class="bcp14">MAY</span> discard some events for operational reasons. When the request contains a
<code>Last-Event-ID</code> HTTP header or query parameter the hub <span class="bcp14">MUST</span> set a <code>Last-Event-ID</code> header on
the HTTP response. The value of the <code>Last-Event-ID</code> response header <span class="bcp14">MUST</span> be the id of the event
preceding the first one sent to the subscriber, or the reserved value <code>earliest</code> if there is no
preceding event (it happens when the hub history is empty, when the subscriber requests the earliest
event or when the subscriber requests an event that doesn't exist).<a href="#section-7-10" class="pilcrow">¶</a></p>
<p id="section-7-11">The subscriber <span class="bcp14">SHOULD NOT</span> assume that no events will be lost (it may happen, for example if the
hub stores only a limited number of events in its history). In some cases (for instance when sending
partial updates in the JSON Patch <span>[<a href="#RFC6902" class="xref">RFC6902</a>]</span> format, or when using the hub as an event store),
updates lost can cause data lost.<a href="#section-7-11" class="pilcrow">¶</a></p>
<p id="section-7-12">To detect if a data lost ocurred, the subscriber <strong>CAN</strong> compare the value of the <code>Last-Event-ID</code>
response HTTP header with <code>Last-Event-ID</code> it requested. In case of data lost, the subscriber
<span class="bcp14">SHOULD</span> re-fetch the original topic.<a href="#section-7-12" class="pilcrow">¶</a></p>
<p id="section-7-13">Note: Native <code>EventSource</code> implementations don't give access to headers associated with the HTTP
response, however polyfills and server-sent events clients in most programming languages allow it.<a href="#section-7-13" class="pilcrow">¶</a></p>
<p id="section-7-14">The hub <strong>CAN</strong> also specify the reconnection time using the <code>retry</code> key, as specified in the
server-sent events format.<a href="#section-7-14" class="pilcrow">¶</a></p>
</section>
</div>
<div id="active-subscriptions">
<section id="section-8">
      <h2 id="name-active-subscriptions">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-active-subscriptions" class="section-name selfRef">Active Subscriptions</a>
      </h2>
<p id="section-8-1">Mercure provides a mechanism to track active subscriptions. If the hub support this optional set
of features, updates will be published when a subscription is created, or terminated, and a web API
exposes the list of active subscriptions.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">Variables are templated and expanded in accordance with <span>[<a href="#RFC6570" class="xref">RFC6570</a>]</span>.<a href="#section-8-2" class="pilcrow">¶</a></p>
<div id="subscription-events">
<section id="section-8.1">
        <h3 id="name-subscription-events">
<a href="#section-8.1" class="section-number selfRef">8.1. </a><a href="#name-subscription-events" class="section-name selfRef">Subscription Events</a>
        </h3>
<p id="section-8.1-1">If the hub supports the active subscription feature, it <span class="bcp14">MUST</span> publish an update when a
subscription is created or terminated. If this feature is implemented by the hub, an update <span class="bcp14">MUST</span>
be dispatched every time that a subscription is created or terminated.<a href="#section-8.1-1" class="pilcrow">¶</a></p>
<p id="section-8.1-2">The topic of these updates <span class="bcp14">MUST</span> be an expansion of
<code>/.well-known/mercure/subscriptions/{topic}/{subscriber}</code>. <code>{topic}</code> is the topic selector used for
this subscription and <code>{subscriber}</code> is an unique identifier for the subscriber.<a href="#section-8.1-2" class="pilcrow">¶</a></p>
<p id="section-8.1-3">Note: Because it is recommended to use URI Templates and IRIs for the <code>{topic}</code> and <code>{subscriber}</code>
variables, values will usually contain the <code>:</code>, <code>/</code>, <code>{</code> and <code>}</code> characters. Per <span>[<a href="#RFC6570" class="xref">RFC6570</a>]</span>, these
characters are reserved. They <span class="bcp14">MUST</span> be percent encoded during the expansion process.<a href="#section-8.1-3" class="pilcrow">¶</a></p>
<p id="section-8.1-4">If a subscriber has several subscriptions, it <span class="bcp14">SHOULD</span> be identified by the same
identifier. <code>{subscriber}</code> <span class="bcp14">SHOULD</span> be an IRI <span>[<a href="#RFC3987" class="xref">RFC3987</a>]</span>. An UUID <span>[<a href="#RFC4122" class="xref">RFC4122</a>]</span> or a DID
(@W3C.WD-did-core-20200421) <span class="bcp14">MAY</span> be used.<a href="#section-8.1-4" class="pilcrow">¶</a></p>
<p id="section-8.1-5">The content of the update <span class="bcp14">MUST</span> be a JSON-LD <span>[<a href="#W3C.REC-json-ld-20140116" class="xref">W3C.REC-json-ld-20140116</a>]</span> document containing at
least the following properties:<a href="#section-8.1-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.1-6.1">
            <p id="section-8.1-6.1.1"><code>@context</code>: the fixed value <code>https://mercure.rocks/</code>. <code>@context</code> can be omitted if already
defined in a parent node. See <a href="#json-ld-context" class="xref">Section 9</a>.<a href="#section-8.1-6.1.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-8.1-6.2">
            <p id="section-8.1-6.2.1"><code>id</code>: the identifier of this update, it <span class="bcp14">MUST</span> be the same value as the subscription update's
topic<a href="#section-8.1-6.2.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-8.1-6.3">
            <p id="section-8.1-6.3.1"><code>type</code>: the fixed value <code>Subscription</code><a href="#section-8.1-6.3.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-8.1-6.4">
            <p id="section-8.1-6.4.1"><code>topic</code>: the topic selector used of this subscription<a href="#section-8.1-6.4.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-8.1-6.5">
            <p id="section-8.1-6.5.1"><code>subscriber</code>: the topic identifier of the subscriber. It <span class="bcp14">SHOULD</span> be an IRI.<a href="#section-8.1-6.5.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-8.1-6.6">
            <p id="section-8.1-6.6.1"><code>active</code>: <code>true</code> when the subscription is active, and <code>false</code> when it is terminated<a href="#section-8.1-6.6.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-8.1-6.7">
            <p id="section-8.1-6.7.1"><code>payload</code> (optional): the content of <code>mercure.payload</code> in the subscriber's JWS (see
<a href="#authorization" class="xref">Section 6</a>)<a href="#section-8.1-6.7.1" class="pilcrow">¶</a></p>
</li>
</ul>
<p id="section-8.1-7">The JSON-LD document <span class="bcp14">MAY</span> contain other properties.<a href="#section-8.1-7" class="pilcrow">¶</a></p>
<p id="section-8.1-8">In order to only allow authorized subscribers to receive subscription events, the subscription
update <span class="bcp14">MUST</span> be marked as <code>private</code>.<a href="#section-8.1-8" class="pilcrow">¶</a></p>
<p id="section-8.1-9">Example:<a href="#section-8.1-9" class="pilcrow">¶</a></p>
<div id="section-8.1-10">
<pre class="sourcecode lang-json">{
   "id": "/.well-known/mercure/subscriptions/https%3A%2F%2Fexample.com%2F%7Bselector%7D/urn%3Auuid%3Abb3de268-05b0-4c65-b44e-8f9acefc29d6",
   "type": "Subscription",
   "topic": "https://example.com/{selector}",
   "subscriber": "urn:uuid:bb3de268-05b0-4c65-b44e-8f9acefc29d6",
   "active": true,
   "payload": {"foo": "bar"}
}
</pre><a href="#section-8.1-10" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="subscription-api">
<section id="section-8.2">
        <h3 id="name-subscription-api">
<a href="#section-8.2" class="section-number selfRef">8.2. </a><a href="#name-subscription-api" class="section-name selfRef">Subscription API</a>
        </h3>
<p id="section-8.2-1">If the hub supports subscription events (see <a href="#subscription-events" class="xref">Section 8.1</a>), it <span class="bcp14">SHOULD</span> also expose
active subscriptions through a web API.<a href="#section-8.2-1" class="pilcrow">¶</a></p>
<p id="section-8.2-2">For instance, subscribers interested in maintaining a list of active subscriptions can call the web
API to retrieve them, and then use subscription events (see <a href="#subscription-events" class="xref">Section 8.1</a>) to keep it up to
date.<a href="#section-8.2-2" class="pilcrow">¶</a></p>
<p id="section-8.2-3">The web API <span class="bcp14">MUST</span> expose endpoints following these patterns:<a href="#section-8.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2-4.1">
            <p id="section-8.2-4.1.1"><code>/.well-known/subscriptions</code>: the collection of subscriptions<a href="#section-8.2-4.1.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-8.2-4.2">
            <p id="section-8.2-4.2.1"><code>/.well-known/subscriptions/{topic}</code>: the collection subscriptions for the given topic selector<a href="#section-8.2-4.2.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-8.2-4.3">
            <p id="section-8.2-4.3.1"><code>/.well-known/subscriptions/{topic}/{subscriber}</code>: a specific subscription<a href="#section-8.2-4.3.1" class="pilcrow">¶</a></p>
</li>
</ul>
<p id="section-8.2-5">To access to the URLs exposed by the web API, clients <span class="bcp14">MUST</span> be authorized according to the rules
defined in <a href="#authorization" class="xref">Section 6</a>. The requested URL <span class="bcp14">MUST</span> match at least one of the topic selectors
provided in the <code>mercure.subscribe</code> key of the JWS.<a href="#section-8.2-5" class="pilcrow">¶</a></p>
<p id="section-8.2-6">The web API <span class="bcp14">MUST</span> set the <code>Content-Type</code> HTTP header to <code>application/ld+json</code>.<a href="#section-8.2-6" class="pilcrow">¶</a></p>
<p id="section-8.2-7">URLs returning a single subscription (following the pattern
<code>/.well-known/subscriptions/{topic}/{subscriber}</code>) <span class="bcp14">MUST</span> expose the same JSON-LD document as
described in <a href="#subscription-events" class="xref">Section 8.1</a>. If the requested subscription does not exist, a <code>404</code> status
code <span class="bcp14">MUST</span> be returned.<a href="#section-8.2-7" class="pilcrow">¶</a></p>
<p id="section-8.2-8">If the requested subscription isn't active anymore, the hub can either return the JSON-LD document
with the <code>active</code> property set to <code>false</code> or return a <code>404</code> status code. Accordingly, collection
endpoints <strong>CAN</strong> return terminated connections with the <code>active</code> property set to <code>false</code> or omit
them.<a href="#section-8.2-8" class="pilcrow">¶</a></p>
<p id="section-8.2-9">Collection endpoints <span class="bcp14">MUST</span> return JSON-LD documents containing at least the following properties:<a href="#section-8.2-9" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2-10.1">
            <p id="section-8.2-10.1.1"><code>@context</code>: the fixed value <code>https://mercure.rocks/</code>. <code>@context</code> can be omitted if already
defined in a parent node. See <a href="#json-ld-context" class="xref">Section 9</a>.<a href="#section-8.2-10.1.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-8.2-10.2">
            <p id="section-8.2-10.2.1"><code>id</code>: the URL used to retrieve the document<a href="#section-8.2-10.2.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-8.2-10.3">
            <p id="section-8.2-10.3.1"><code>type</code>: the fixed value <code>Subscriptions</code><a href="#section-8.2-10.3.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-8.2-10.4">
            <p id="section-8.2-10.4.1"><code>subscriptions</code>: an array of subscription documents as described in <a href="#subscription-events" class="xref">Section 8.1</a><a href="#section-8.2-10.4.1" class="pilcrow">¶</a></p>
</li>
</ul>
<p id="section-8.2-11">In addition, all endpoints <span class="bcp14">MUST</span> set the <code>lastEventID</code> property at the root of the returned
JSON-LD document:<a href="#section-8.2-11" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-8.2-12.1">
            <p id="section-8.2-12.1.1"><code>lastEventID</code>: the identifier of the last event dispatched by the hub at the time of this
request (see <a href="#reconciliation" class="xref">Section 7</a>). The value <span class="bcp14">MUST</span> be <code>earliest</code> if no events have been
dispatched yet. The value of this property <span class="bcp14">SHOULD</span> be passed back to the hub when subscribing
to subscription events to prevent data loss.<a href="#section-8.2-12.1.1" class="pilcrow">¶</a></p>
</li>
</ul>
<p id="section-8.2-13">As data returned by this web API is volatile, clients <span class="bcp14">SHOULD</span> validate that a response coming
from cache is still valid before using it.<a href="#section-8.2-13" class="pilcrow">¶</a></p>
<p id="section-8.2-14">Examples:<a href="#section-8.2-14" class="pilcrow">¶</a></p>
<div id="section-8.2-15">
<pre class="sourcecode lang-http">GET /.well-known/subscriptions HTTP/1.1
Host: example.com

HTTP/1.1 200 OK
Content-type: application/ld+json
Link: &lt;https://example.com/.well-known/mercure&gt;; rel="mercure"
ETag: urn:uuid:5e94c686-2c0b-4f9b-958c-92ccc3bbb4eb
Cache-control: must-revalidate

{
   "@context": "https://mercure.rocks/",
   "id": "/.well-known/subscriptions",
   "type": "Subscriptions",
   "lastEventID": "urn:uuid:5e94c686-2c0b-4f9b-958c-92ccc3bbb4eb",
   "subscriptions": [
      {
         "id": "/.well-known/mercure/subscriptions/https%3A%2F%2Fexample.com%2F%7Bselector%7D/urn%3Auuid%3Abb3de268-05b0-4c65-b44e-8f9acefc29d6",
         "type": "Subscription",
         "topic": "https://example.com/{selector}",
         "subscriber": "urn:uuid:bb3de268-05b0-4c65-b44e-8f9acefc29d6",
         "active": true,
         "payload": {"foo": "bar"}
      },
      {
         "id": "/.well-known/mercure/subscriptions/https%3A%2F%2Fexample.com%2Fa-topic/urn%3Auuid%3A1e0cba4c-4bcd-44f0-ae8a-7b76f7ef1280",
         "type": "Subscription",
         "topic": "https://example.com/a-topic",
         "subscriber": "urn:uuid:1e0cba4c-4bcd-44f0-ae8a-7b76f7ef1280",
         "active": true,
         "payload": {"baz": "bat"}
      },
      {
         "id": "/.well-known/mercure/subscriptions/https%3A%2F%2Fexample.com%2F%7Bselector%7D/urn%3Auuid%3Aa6c49794-5f74-4723-999c-3a7e33e51d49",
         "type": "Subscription",
         "topic": "https://example.com/{selector}",
         "subscriber": "urn:uuid:a6c49794-5f74-4723-999c-3a7e33e51d49",
         "active": true,
         "payload": {"foo": "bap"}
      }
   ]
}
</pre><a href="#section-8.2-15" class="pilcrow">¶</a>
</div>
<div id="section-8.2-16">
<pre class="sourcecode lang-http">GET /.well-known/subscriptions/https%3A%2F%2Fexample.com%2F%7Bselector%7D HTTP/1.1
Host: example.com

HTTP/1.1 200 OK
Content-type: application/ld+json
Link: &lt;https://example.com/.well-known/mercure&gt;; rel="mercure"
ETag: urn:uuid:5e94c686-2c0b-4f9b-958c-92ccc3bbb4eb
Cache-control: must-revalidate

{
   "@context": "https://mercure.rocks/",
   "id": "/.well-known/subscriptions/https%3A%2F%2Fexample.com%2F%7Bselector%7D",
   "type": "Subscriptions",
   "lastEventID": "urn:uuid:5e94c686-2c0b-4f9b-958c-92ccc3bbb4eb",
   "subscriptions": [
      {
         "id": "/.well-known/mercure/subscriptions/https%3A%2F%2Fexample.com%2F%7Bselector%7D/urn%3Auuid%3Abb3de268-05b0-4c65-b44e-8f9acefc29d6",
         "type": "Subscription",
         "topic": "https://example.com/{selector}",
         "subscriber": "urn:uuid:bb3de268-05b0-4c65-b44e-8f9acefc29d6",
         "active": true,
         "payload": {"foo": "bar"}
      },
      {
         "id": "/.well-known/mercure/subscriptions/https%3A%2F%2Fexample.com%2F%7Bselector%7D/urn%3Auuid%3Aa6c49794-5f74-4723-999c-3a7e33e51d49",
         "type": "Subscription",
         "topic": "https://example.com/{selector}",
         "subscriber": "urn:uuid:a6c49794-5f74-4723-999c-3a7e33e51d49",
         "active": true,
         "payload": {"foo": "bap"}
      }
   ]
}
</pre><a href="#section-8.2-16" class="pilcrow">¶</a>
</div>
<div id="section-8.2-17">
<pre class="sourcecode lang-http">GET /.well-known/mercure/subscriptions/https%3A%2F%2Fexample.com%2F%7Bselector%7D/urn%3Auuid%3Abb3de268-05b0-4c65-b44e-8f9acefc29d6 HTTP/1.1
Host: example.com

HTTP/1.1 200 OK
Content-type: application/ld+json
Link: &lt;https://example.com/.well-known/mercure&gt;; rel="mercure"
ETag: urn:uuid:5e94c686-2c0b-4f9b-958c-92ccc3bbb4eb
Cache-control: must-revalidate

{
   "@context": "https://mercure.rocks/",
   "id": "/.well-known/mercure/subscriptions/https%3A%2F%2Fexample.com%2F%7Bselector%7D/urn%3Auuid%3Abb3de268-05b0-4c65-b44e-8f9acefc29d6",
   "type": "Subscription",
   "topic": "https://example.com/{selector}",
   "subscriber": "urn:uuid:bb3de268-05b0-4c65-b44e-8f9acefc29d6",
   "active": true,
   "payload": {"foo": "bar"},
   "lastEventID": "urn:uuid:5e94c686-2c0b-4f9b-958c-92ccc3bbb4eb"
}
</pre><a href="#section-8.2-17" class="pilcrow">¶</a>
</div>
</section>
</div>
</section>
</div>
<div id="json-ld-context">
<section id="section-9">
      <h2 id="name-json-ld-context">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-json-ld-context" class="section-name selfRef">JSON-LD Context</a>
      </h2>
<p id="section-9-1">The JSON-LD context available at <code>https://mercure.rocks</code> is the following:<a href="#section-9-1" class="pilcrow">¶</a></p>
<div id="section-9-2">
<pre class="sourcecode lang-json">{
"@context": {
   "@vocab": "_:",
   "mercure": "https://mercure.rocks/",
   "id": "@id",
   "type": "@type",
   "Subscription": "mercure:Subscription",
   "Subscriptions": "mercure:Subscriptions",
   "subscriptions": "mercure:subscriptions",
   "topic": "mercure:topic",
   "subscriber": "mercure:subscriber",
   "active": "mercure:active",
   "payload": "mercure:payload",
   "lastEventID": "mercure:lastEventID"
}
</pre><a href="#section-9-2" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="encryption">
<section id="section-10">
      <h2 id="name-encryption">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-encryption" class="section-name selfRef">Encryption</a>
      </h2>
<p id="section-10-1">Using HTTPS does not prevent the hub from accessing the update's content. Depending of the intended
privacy of information contained in the update, it <span class="bcp14">MAY</span> be necessary to prevent eavesdropping by
the hub.<a href="#section-10-1" class="pilcrow">¶</a></p>
<p id="section-10-2">To make sure that the message content can not be read by the hub, the publisher <span class="bcp14">MAY</span> encrypt the
message before sending it to the hub. The publisher <span class="bcp14">SHOULD</span> use JSON Web Encryption <span>[<a href="#RFC7516" class="xref">RFC7516</a>]</span>
to encrypt the update content. The publisher <span class="bcp14">MAY</span> provide the URL pointing to the relevant
encryption key(s) in the <code>key-set</code> attribute of the Link HTTP header during the discovery. See
<a href="#discovery" class="xref">Section 2</a>. The <code>key-set</code> attribute <span class="bcp14">MUST</span> contain a key encoded using the JSON Web Key Set
<span>[<a href="#RFC7517" class="xref">RFC7517</a>]</span> format. Any other out-of-band mechanism <span class="bcp14">MAY</span> be used instead to share the key between
the publisher and the subscriber.<a href="#section-10-2" class="pilcrow">¶</a></p>
<p id="section-10-3">Update encryption is considered a best practice to prevent mass surveillance. This is especially
relevant if the hub is managed by an external provider.<a href="#section-10-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="iana-considerations">
<section id="section-11">
      <h2 id="name-iana-considerations">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<div id="well-known-uris-registry">
<section id="section-11.1">
        <h3 id="name-well-known-uris-registry">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-well-known-uris-registry" class="section-name selfRef">Well-Known URIs Registry</a>
        </h3>
<p id="section-11.1-1">A new "well-known" URI as described in <a href="#discovery" class="xref">Section 2</a> has been registered in the "Well-Known URIs"
registry as described below:<a href="#section-11.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11.1-2.1">
            <p id="section-11.1-2.1.1">URI Suffix: mercure<a href="#section-11.1-2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-11.1-2.2">
            <p id="section-11.1-2.2.1">Change Controller: IETF<a href="#section-11.1-2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-11.1-2.3">
            <p id="section-11.1-2.3.1">Specification document(s): This specification, <a href="#discovery" class="xref">Section 2</a><a href="#section-11.1-2.3.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-11.1-2.4">
            <p id="section-11.1-2.4.1">Related information: N/A<a href="#section-11.1-2.4.1" class="pilcrow">¶</a></p>
</li>
</ul>
</section>
</div>
<div id="link-relation-types-registry">
<section id="section-11.2">
        <h3 id="name-link-relation-types-registr">
<a href="#section-11.2" class="section-number selfRef">11.2. </a><a href="#name-link-relation-types-registr" class="section-name selfRef">Link Relation Types Registry</a>
        </h3>
<p id="section-11.2-1">A new "Link Relation Type" as described in <a href="#discovery" class="xref">Section 2</a> has been registered in the "Link Relation
Type" registry with the following entry:<a href="#section-11.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-11.2-2.1">
            <p id="section-11.2-2.1.1">Relation Name: mercure<a href="#section-11.2-2.1.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-11.2-2.2">
            <p id="section-11.2-2.2.1">Description: The Mercure Hub to use to subscribe to updates of this resource.<a href="#section-11.2-2.2.1" class="pilcrow">¶</a></p>
</li>
<li class="normal" id="section-11.2-2.3">
            <p id="section-11.2-2.3.1">Reference: This specification, <a href="#discovery" class="xref">Section 2</a><a href="#section-11.2-2.3.1" class="pilcrow">¶</a></p>
</li>
</ul>
</section>
</div>
</section>
</div>
<div id="security-considerations">
<section id="section-12">
      <h2 id="name-security-considerations">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-12-1">The confidentiality of the secret key(s) used to generate the JWSs is a primary concern. The
secret key(s) <span class="bcp14">MUST</span> be stored securely. They <span class="bcp14">MUST</span> be revoked immediately in the event of
compromission.<a href="#section-12-1" class="pilcrow">¶</a></p>
<p id="section-12-2">Possessing valid JWSs allows any client to subscribe, or to publish to the hub. Their
confidentiality <span class="bcp14">MUST</span> therefore be ensured. To do so, JWSs <span class="bcp14">MUST</span> only be transmitted over
secure connections.<a href="#section-12-2" class="pilcrow">¶</a></p>
<p id="section-12-3">Also, when the client is a web browser, the JWS <span class="bcp14">SHOULD</span> not be made accessible
to JavaScript scripts for resilience against <a href="https://owasp.org/www-community/attacks/xss/">Cross-site Scripting (XSS)
attacks</a>. It's the main reason why, when the client
is a web browser, using <code>HttpOnly</code> cookies as the authorization mechanism <span class="bcp14">SHOULD</span> always be
preferred.<a href="#section-12-3" class="pilcrow">¶</a></p>
<p id="section-12-4">In the event of compromission, revoking JWSs before their expiration is often difficult. To that
end, using short-lived tokens is strongly <span class="bcp14">RECOMMENDED</span>.<a href="#section-12-4" class="pilcrow">¶</a></p>
<p id="section-12-5">The publish endpoint of the hub may be targeted by <a href="https://owasp.org/www-community/attacks/csrf">Cross-Site Request Forgery (CSRF)
attacks</a> when the cookie-based authorization mechanism
is used. Therefore, implementations supporting this mechanism <span class="bcp14">MUST</span> mitigate such attacks.<a href="#section-12-5" class="pilcrow">¶</a></p>
<p id="section-12-6">The first prevention method to implement is to set the <code>mercureAuthorization</code>
cookie's <code>SameSite</code> attribute. However, <a href="https://caniuse.com/#feat=same-site-cookie-attribute">some web browsers still not support this
attribute</a> and will remain vulnerable.
Additionally, hub implementations <span class="bcp14">SHOULD</span> use the <code>Origin</code> and <code>Referer</code> HTTP headers set by web
browsers to verify that the source origin matches the target origin. If none of these headers are
available, the hub <span class="bcp14">SHOULD</span> discard the request.<a href="#section-12-6" class="pilcrow">¶</a></p>
<p id="section-12-7">CSRF prevention techniques, including those previously mentioned, are described
in depth in <a href="https://cheatsheetseries.owasp.org/cheatsheets/Cross-Site_Request_Forgery_Prevention_Cheat_Sheet.html">OWASP's Cross-Site Request Forgery (CSRF) Prevention Cheat
Sheet</a>.<a href="#section-12-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="implementation-status">
<section id="section-13">
      <h2 id="name-implementation-status">
<a href="#section-13" class="section-number selfRef">13. </a><a href="#name-implementation-status" class="section-name selfRef">Implementation Status</a>
      </h2>
<p id="section-13-1">[RFC Editor Note: Please remove this entire seciton prior to publication as an RFC.]<a href="#section-13-1" class="pilcrow">¶</a></p>
<p id="section-13-2">This section records the status of known implementations of the protocol defined by this
specification at the time of posting of this Internet-Draft, and is based on a proposal described
in <span>[<a href="#RFC6982" class="xref">RFC6982</a>]</span>. The description of implementations in this section is intended to assist the IETF in
its decision processes in progressing drafts to RFCs. Please note that the listing of any individual
implementation here does not imply endorsement by the IETF. Furthermore, no effort has been spent to
verify the information presented here that was supplied by IETF contributors. This is not intended
as, and must not be construed to be, a catalog of available implementations or their features.
Readers are advised to note that other implementations may exist. According to RFC 6982, "this will
allow reviewers and working groups to assign due consideration to documents that have the benefit
of running code, which may serve as evidence of valuable experimentation and feedback that have
made the implemented protocols more mature. It is up to the individual working groups to use this
information as they see fit."<a href="#section-13-2" class="pilcrow">¶</a></p>
<div id="mercure-rocks-hub">
<section id="section-13.1">
        <h3 id="name-mercurerocks-hub">
<a href="#section-13.1" class="section-number selfRef">13.1. </a><a href="#name-mercurerocks-hub" class="section-name selfRef">Mercure.rocks Hub</a>
        </h3>
<p id="section-13.1-1">Organization responsible for the implementation:<a href="#section-13.1-1" class="pilcrow">¶</a></p>
<p id="section-13.1-2">Dunglas Services SAS Les-Tilleuls.coop<a href="#section-13.1-2" class="pilcrow">¶</a></p>
<p id="section-13.1-3">Implementation Name and Details:<a href="#section-13.1-3" class="pilcrow">¶</a></p>
<p id="section-13.1-4">Mercure.rocks, available at <a href="https://mercure.rocks">https://mercure.rocks</a><a href="#section-13.1-4" class="pilcrow">¶</a></p>
<p id="section-13.1-5">Brief Description:<a href="#section-13.1-5" class="pilcrow">¶</a></p>
<p id="section-13.1-6">This is the reference implementation of the Mercure hub. It is written in Go and is optimized for
performance.<a href="#section-13.1-6" class="pilcrow">¶</a></p>
<p id="section-13.1-7">Level of Maturity:<a href="#section-13.1-7" class="pilcrow">¶</a></p>
<p id="section-13.1-8">Widely used.<a href="#section-13.1-8" class="pilcrow">¶</a></p>
<p id="section-13.1-9">Coverage:<a href="#section-13.1-9" class="pilcrow">¶</a></p>
<p id="section-13.1-10">All the features of the protocol.<a href="#section-13.1-10" class="pilcrow">¶</a></p>
<p id="section-13.1-11">Version compatibility:<a href="#section-13.1-11" class="pilcrow">¶</a></p>
<p id="section-13.1-12">The implementation follows the latest draft.<a href="#section-13.1-12" class="pilcrow">¶</a></p>
<p id="section-13.1-13">Licensing:<a href="#section-13.1-13" class="pilcrow">¶</a></p>
<p id="section-13.1-14">All code is covered under the GNU Affero Public License version 3 or later.<a href="#section-13.1-14" class="pilcrow">¶</a></p>
<p id="section-13.1-15">Implementation Experience:<a href="#section-13.1-15" class="pilcrow">¶</a></p>
<p id="section-13.1-16">Used in production.<a href="#section-13.1-16" class="pilcrow">¶</a></p>
<p id="section-13.1-17">Contact Information:<a href="#section-13.1-17" class="pilcrow">¶</a></p>
<p id="section-13.1-18">K&amp;#233;vin Dunglas, <a href="mailto:dunglas+mercure@gmail.com">dunglas+mercure@gmail.com</a>
          <a href="https://mercure.rocks">https://mercure.rocks</a><a href="#section-13.1-18" class="pilcrow">¶</a></p>
<p id="section-13.1-19">Interoperability:<a href="#section-13.1-19" class="pilcrow">¶</a></p>
<p id="section-13.1-20">Reported compatible with all major browsers and server-side tools.<a href="#section-13.1-20" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ilshidur-node-mercure">
<section id="section-13.2">
        <h3 id="name-ilshidur-node-mercure">
<a href="#section-13.2" class="section-number selfRef">13.2. </a><a href="#name-ilshidur-node-mercure" class="section-name selfRef">Ilshidur/node-mercure</a>
        </h3>
<p id="section-13.2-1">Implementation Name and Details:<a href="#section-13.2-1" class="pilcrow">¶</a></p>
<p id="section-13.2-2">Ilshidur/node-mercure, <a href="https://github.com/Ilshidur/node-mercure">https://github.com/Ilshidur/node-mercure</a><a href="#section-13.2-2" class="pilcrow">¶</a></p>
<p id="section-13.2-3">Brief Description:<a href="#section-13.2-3" class="pilcrow">¶</a></p>
<p id="section-13.2-4">Hub and Publisher implemented in Node.<a href="#section-13.2-4" class="pilcrow">¶</a></p>
<p id="section-13.2-5">Level of Maturity:<a href="#section-13.2-5" class="pilcrow">¶</a></p>
<p id="section-13.2-6">Beta, not suitable for production.<a href="#section-13.2-6" class="pilcrow">¶</a></p>
<p id="section-13.2-7">Coverage:<a href="#section-13.2-7" class="pilcrow">¶</a></p>
<p id="section-13.2-8">All the features of the protocol except the subscription events.<a href="#section-13.2-8" class="pilcrow">¶</a></p>
<p id="section-13.2-9">Version compatibility:<a href="#section-13.2-9" class="pilcrow">¶</a></p>
<p id="section-13.2-10">The implementation currently follows the revision 5 of the draft.<a href="#section-13.2-10" class="pilcrow">¶</a></p>
<p id="section-13.2-11">Licensing:<a href="#section-13.2-11" class="pilcrow">¶</a></p>
<p id="section-13.2-12">All code is covered under the GNU Public License version 3 or later.<a href="#section-13.2-12" class="pilcrow">¶</a></p>
<p id="section-13.2-13">Contact Information:<a href="#section-13.2-13" class="pilcrow">¶</a></p>
<p id="section-13.2-14"><a href="https://github.com/Ilshidur/node-mercure">https://github.com/Ilshidur/node-mercure</a><a href="#section-13.2-14" class="pilcrow">¶</a></p>
<p id="section-13.2-15">Interoperability:<a href="#section-13.2-15" class="pilcrow">¶</a></p>
<p id="section-13.2-16">Reported compatible with all major browsers and server-side tools.<a href="#section-13.2-16" class="pilcrow">¶</a></p>
</section>
</div>
<div id="symfony">
<section id="section-13.3">
        <h3 id="name-symfony">
<a href="#section-13.3" class="section-number selfRef">13.3. </a><a href="#name-symfony" class="section-name selfRef">Symfony</a>
        </h3>
<p id="section-13.3-1">Implementation Name and Details:<a href="#section-13.3-1" class="pilcrow">¶</a></p>
<p id="section-13.3-2">Symfony Mercure Component, available at <a href="https://symfony.com/doc/current/components/mercure.html">https://symfony.com/doc/current/components/mercure.html</a><a href="#section-13.3-2" class="pilcrow">¶</a></p>
<p id="section-13.3-3">Brief Description:<a href="#section-13.3-3" class="pilcrow">¶</a></p>
<p id="section-13.3-4">This a publisher library written in PHP. It also provides support for Mercure in the Symfony web
framework.<a href="#section-13.3-4" class="pilcrow">¶</a></p>
<p id="section-13.3-5">Level of Maturity:<a href="#section-13.3-5" class="pilcrow">¶</a></p>
<p id="section-13.3-6">Widely used.<a href="#section-13.3-6" class="pilcrow">¶</a></p>
<p id="section-13.3-7">Coverage:<a href="#section-13.3-7" class="pilcrow">¶</a></p>
<p id="section-13.3-8">All the publisher features of the protocol.<a href="#section-13.3-8" class="pilcrow">¶</a></p>
<p id="section-13.3-9">Version compatibility:<a href="#section-13.3-9" class="pilcrow">¶</a></p>
<p id="section-13.3-10">The implementation follows the latest draft.<a href="#section-13.3-10" class="pilcrow">¶</a></p>
<p id="section-13.3-11">Licensing:<a href="#section-13.3-11" class="pilcrow">¶</a></p>
<p id="section-13.3-12">All code is covered under the MIT license.<a href="#section-13.3-12" class="pilcrow">¶</a></p>
<p id="section-13.3-13">Implementation Experience:<a href="#section-13.3-13" class="pilcrow">¶</a></p>
<p id="section-13.3-14">Used in production.<a href="#section-13.3-14" class="pilcrow">¶</a></p>
<p id="section-13.3-15">Contact Information:<a href="#section-13.3-15" class="pilcrow">¶</a></p>
<p id="section-13.3-16"><a href="https://symfony.com">https://symfony.com</a><a href="#section-13.3-16" class="pilcrow">¶</a></p>
<p id="section-13.3-17">Interoperability:<a href="#section-13.3-17" class="pilcrow">¶</a></p>
<p id="section-13.3-18">Reported compatible with the Mercure.rocks Hub.<a href="#section-13.3-18" class="pilcrow">¶</a></p>
</section>
</div>
<div id="api-platform">
<section id="section-13.4">
        <h3 id="name-api-platform">
<a href="#section-13.4" class="section-number selfRef">13.4. </a><a href="#name-api-platform" class="section-name selfRef">API Platform</a>
        </h3>
<p id="section-13.4-1">Implementation Name and Details:<a href="#section-13.4-1" class="pilcrow">¶</a></p>
<p id="section-13.4-2">API Platform, available at <a href="https://api-platform.com/docs/core/mercure/">https://api-platform.com/docs/core/mercure/</a><a href="#section-13.4-2" class="pilcrow">¶</a></p>
<p id="section-13.4-3">Brief Description:<a href="#section-13.4-3" class="pilcrow">¶</a></p>
<p id="section-13.4-4">The API Platform framework, allows to create async APIs implementing the Mercure protocol and to
generate clients for these APIs.<a href="#section-13.4-4" class="pilcrow">¶</a></p>
<p id="section-13.4-5">Level of Maturity:<a href="#section-13.4-5" class="pilcrow">¶</a></p>
<p id="section-13.4-6">Widely used.<a href="#section-13.4-6" class="pilcrow">¶</a></p>
<p id="section-13.4-7">Coverage:<a href="#section-13.4-7" class="pilcrow">¶</a></p>
<p id="section-13.4-8">All the publisher and consumer features of the protocol.<a href="#section-13.4-8" class="pilcrow">¶</a></p>
<p id="section-13.4-9">Version compatibility:<a href="#section-13.4-9" class="pilcrow">¶</a></p>
<p id="section-13.4-10">The implementation follows the latest draft.<a href="#section-13.4-10" class="pilcrow">¶</a></p>
<p id="section-13.4-11">Licensing:<a href="#section-13.4-11" class="pilcrow">¶</a></p>
<p id="section-13.4-12">All code is covered under the MIT license.<a href="#section-13.4-12" class="pilcrow">¶</a></p>
<p id="section-13.4-13">Implementation Experience:<a href="#section-13.4-13" class="pilcrow">¶</a></p>
<p id="section-13.4-14">Used in production.<a href="#section-13.4-14" class="pilcrow">¶</a></p>
<p id="section-13.4-15">Contact Information:<a href="#section-13.4-15" class="pilcrow">¶</a></p>
<p id="section-13.4-16"><a href="https://api-platform.com">https://api-platform.com</a><a href="#section-13.4-16" class="pilcrow">¶</a></p>
<p id="section-13.4-17">Interoperability:<a href="#section-13.4-17" class="pilcrow">¶</a></p>
<p id="section-13.4-18">Reported compatible with the reference implementation of the Mercure Hub.<a href="#section-13.4-18" class="pilcrow">¶</a></p>
</section>
</div>
<div id="laravel-mercure-broadcaster">
<section id="section-13.5">
        <h3 id="name-laravel-mercure-broadcaster">
<a href="#section-13.5" class="section-number selfRef">13.5. </a><a href="#name-laravel-mercure-broadcaster" class="section-name selfRef">Laravel Mercure Broadcaster</a>
        </h3>
<p id="section-13.5-1">Implementation Name and Details:<a href="#section-13.5-1" class="pilcrow">¶</a></p>
<p id="section-13.5-2">Laravel Mercure Broadcaster, available at
<a href="https://github.com/mvanduijker/laravel-mercure-broadcaster">https://github.com/mvanduijker/laravel-mercure-broadcaster</a><a href="#section-13.5-2" class="pilcrow">¶</a></p>
<p id="section-13.5-3">Brief Description:<a href="#section-13.5-3" class="pilcrow">¶</a></p>
<p id="section-13.5-4">Laravel broadcaster for Mercure. Use the Mercure protocol as transport for Laravel Broadcast.<a href="#section-13.5-4" class="pilcrow">¶</a></p>
<p id="section-13.5-5">Level of Maturity:<a href="#section-13.5-5" class="pilcrow">¶</a></p>
<p id="section-13.5-6">Production<a href="#section-13.5-6" class="pilcrow">¶</a></p>
<p id="section-13.5-7">Coverage:<a href="#section-13.5-7" class="pilcrow">¶</a></p>
<p id="section-13.5-8">All the publisher features of the protocol.<a href="#section-13.5-8" class="pilcrow">¶</a></p>
<p id="section-13.5-9">Version compatibility:<a href="#section-13.5-9" class="pilcrow">¶</a></p>
<p id="section-13.5-10">The implementation currently follows the revision 5 of the draft. An open Pull Request adds support
for the latest version of the draft.<a href="#section-13.5-10" class="pilcrow">¶</a></p>
<p id="section-13.5-11">Licensing:<a href="#section-13.5-11" class="pilcrow">¶</a></p>
<p id="section-13.5-12">All code is covered under the MIT license.<a href="#section-13.5-12" class="pilcrow">¶</a></p>
<p id="section-13.5-13">Implementation Experience:<a href="#section-13.5-13" class="pilcrow">¶</a></p>
<p id="section-13.5-14">Used in production.<a href="#section-13.5-14" class="pilcrow">¶</a></p>
<p id="section-13.5-15">Contact Information:<a href="#section-13.5-15" class="pilcrow">¶</a></p>
<p id="section-13.5-16"><a href="https://github.com/mvanduijker/laravel-mercure-broadcaster">https://github.com/mvanduijker/laravel-mercure-broadcaster</a><a href="#section-13.5-16" class="pilcrow">¶</a></p>
<p id="section-13.5-17">Interoperability:<a href="#section-13.5-17" class="pilcrow">¶</a></p>
<p id="section-13.5-18">Reported compatible with the reference implementation of the Mercure Hub.<a href="#section-13.5-18" class="pilcrow">¶</a></p>
</section>
</div>
<div id="dart-mercure">
<section id="section-13.6">
        <h3 id="name-dart_mercure">
<a href="#section-13.6" class="section-number selfRef">13.6. </a><a href="#name-dart_mercure" class="section-name selfRef">dart_mercure</a>
        </h3>
<p id="section-13.6-1">Implementation Name and Details:<a href="#section-13.6-1" class="pilcrow">¶</a></p>
<p id="section-13.6-2">dart<em>mercure, available at <a href="https://github.com/wallforfry/dart">https://github.com/wallforfry/dart</a></em>mercure<a href="#section-13.6-2" class="pilcrow">¶</a></p>
<p id="section-13.6-3">Brief Description:<a href="#section-13.6-3" class="pilcrow">¶</a></p>
<p id="section-13.6-4">Publisher and Subscriber library for Dart / Flutter.<a href="#section-13.6-4" class="pilcrow">¶</a></p>
<p id="section-13.6-5">Level of Maturity:<a href="#section-13.6-5" class="pilcrow">¶</a></p>
<p id="section-13.6-6">Stable<a href="#section-13.6-6" class="pilcrow">¶</a></p>
<p id="section-13.6-7">Coverage:<a href="#section-13.6-7" class="pilcrow">¶</a></p>
<p id="section-13.6-8">All the publisher and subscriber features of the protocol.<a href="#section-13.6-8" class="pilcrow">¶</a></p>
<p id="section-13.6-9">Version compatibility:<a href="#section-13.6-9" class="pilcrow">¶</a></p>
<p id="section-13.6-10">The implementation follows the latest draft.<a href="#section-13.6-10" class="pilcrow">¶</a></p>
<p id="section-13.6-11">Licensing:<a href="#section-13.6-11" class="pilcrow">¶</a></p>
<p id="section-13.6-12">All code is covered under the BSD 2-Clause "Simplified" License.<a href="#section-13.6-12" class="pilcrow">¶</a></p>
<p id="section-13.6-13">Contact Information:<a href="#section-13.6-13" class="pilcrow">¶</a></p>
<p id="section-13.6-14"><a href="https://github.com/wallforfry/dart_mercure">https://github.com/wallforfry/dart_mercure</a><a href="#section-13.6-14" class="pilcrow">¶</a></p>
<p id="section-13.6-15">Interoperability:<a href="#section-13.6-15" class="pilcrow">¶</a></p>
<p id="section-13.6-16">Reported compatible with the reference implementation of the Mercure Hub.<a href="#section-13.6-16" class="pilcrow">¶</a></p>
</section>
</div>
<div id="pymercure">
<section id="section-13.7">
        <h3 id="name-pymercure">
<a href="#section-13.7" class="section-number selfRef">13.7. </a><a href="#name-pymercure" class="section-name selfRef">pymercure</a>
        </h3>
<p id="section-13.7-1">Implementation Name and Details:<a href="#section-13.7-1" class="pilcrow">¶</a></p>
<p id="section-13.7-2">pymercure, available at <a href="https://github.com/vitorluis/python-mercure">https://github.com/vitorluis/python-mercure</a><a href="#section-13.7-2" class="pilcrow">¶</a></p>
<p id="section-13.7-3">Brief Description:<a href="#section-13.7-3" class="pilcrow">¶</a></p>
<p id="section-13.7-4">Publisher and Subscriber library for Python.<a href="#section-13.7-4" class="pilcrow">¶</a></p>
<p id="section-13.7-5">Level of Maturity:<a href="#section-13.7-5" class="pilcrow">¶</a></p>
<p id="section-13.7-6">Alpha<a href="#section-13.7-6" class="pilcrow">¶</a></p>
<p id="section-13.7-7">Coverage:<a href="#section-13.7-7" class="pilcrow">¶</a></p>
<p id="section-13.7-8">All the publisher and subscriber features of the protocol.<a href="#section-13.7-8" class="pilcrow">¶</a></p>
<p id="section-13.7-9">Version compatibility:<a href="#section-13.7-9" class="pilcrow">¶</a></p>
<p id="section-13.7-10">The implementation currently follows the revision 5 of the draft. An open Pull Request adds support
for the latest version of the draft.<a href="#section-13.7-10" class="pilcrow">¶</a></p>
<p id="section-13.7-11">Licensing:<a href="#section-13.7-11" class="pilcrow">¶</a></p>
<p id="section-13.7-12">All code is covered under the BSD 2-Clause "Simplified" License.<a href="#section-13.7-12" class="pilcrow">¶</a></p>
<p id="section-13.7-13">Contact Information:<a href="#section-13.7-13" class="pilcrow">¶</a></p>
<p id="section-13.7-14"><a href="https://github.com/vitorluis/python-mercure">https://github.com/vitorluis/python-mercure</a><a href="#section-13.7-14" class="pilcrow">¶</a></p>
<p id="section-13.7-15">Interoperability:<a href="#section-13.7-15" class="pilcrow">¶</a></p>
<p id="section-13.7-16">Reported compatible with the reference implementation of the Mercure Hub.<a href="#section-13.7-16" class="pilcrow">¶</a></p>
</section>
</div>
<div id="amphp-mercure-publisher">
<section id="section-13.8">
        <h3 id="name-amphp-mercure-publisher">
<a href="#section-13.8" class="section-number selfRef">13.8. </a><a href="#name-amphp-mercure-publisher" class="section-name selfRef">Amphp Mercure Publisher</a>
        </h3>
<p id="section-13.8-1">Implementation Name and Details:<a href="#section-13.8-1" class="pilcrow">¶</a></p>
<p id="section-13.8-2">Amphp Mercure Publisher, available at <a href="https://github.com/eislambey/amp-mercure-publisher">https://github.com/eislambey/amp-mercure-publisher</a><a href="#section-13.8-2" class="pilcrow">¶</a></p>
<p id="section-13.8-3">Brief Description:<a href="#section-13.8-3" class="pilcrow">¶</a></p>
<p id="section-13.8-4">Async Mercure publisher based on Amphp.<a href="#section-13.8-4" class="pilcrow">¶</a></p>
<p id="section-13.8-5">Level of Maturity:<a href="#section-13.8-5" class="pilcrow">¶</a></p>
<p id="section-13.8-6">Stable<a href="#section-13.8-6" class="pilcrow">¶</a></p>
<p id="section-13.8-7">Coverage:<a href="#section-13.8-7" class="pilcrow">¶</a></p>
<p id="section-13.8-8">All the publisher features of the protocol.<a href="#section-13.8-8" class="pilcrow">¶</a></p>
<p id="section-13.8-9">Version compatibility:<a href="#section-13.8-9" class="pilcrow">¶</a></p>
<p id="section-13.8-10">The implementation currently follows the revision 5 of the draft. An open Pull Request adds support
for the latest version of the draft.<a href="#section-13.8-10" class="pilcrow">¶</a></p>
<p id="section-13.8-11">Licensing:<a href="#section-13.8-11" class="pilcrow">¶</a></p>
<p id="section-13.8-12">All code is covered under the MIT license.<a href="#section-13.8-12" class="pilcrow">¶</a></p>
<p id="section-13.8-13">Contact Information:<a href="#section-13.8-13" class="pilcrow">¶</a></p>
<p id="section-13.8-14"><a href="https://github.com/eislambey/amp-mercure-publisher">https://github.com/eislambey/amp-mercure-publisher</a><a href="#section-13.8-14" class="pilcrow">¶</a></p>
<p id="section-13.8-15">Interoperability:<a href="#section-13.8-15" class="pilcrow">¶</a></p>
<p id="section-13.8-16">Reported compatible with the reference implementation of the Mercure Hub.<a href="#section-13.8-16" class="pilcrow">¶</a></p>
</section>
</div>
<div id="java-library-for-mercure">
<section id="section-13.9">
        <h3 id="name-java-library-for-mercure">
<a href="#section-13.9" class="section-number selfRef">13.9. </a><a href="#name-java-library-for-mercure" class="section-name selfRef">Java Library for Mercure</a>
        </h3>
<p id="section-13.9-1">Implementation Name and Details:<a href="#section-13.9-1" class="pilcrow">¶</a></p>
<p id="section-13.9-2">Java Library for Mercure, available at <a href="https://github.com/vitorluis/java-mercure">https://github.com/vitorluis/java-mercure</a><a href="#section-13.9-2" class="pilcrow">¶</a></p>
<p id="section-13.9-3">Brief Description:<a href="#section-13.9-3" class="pilcrow">¶</a></p>
<p id="section-13.9-4">Java library to publish messages to a Mercure Hub!<a href="#section-13.9-4" class="pilcrow">¶</a></p>
<p id="section-13.9-5">Level of Maturity:<a href="#section-13.9-5" class="pilcrow">¶</a></p>
<p id="section-13.9-6">Alpha<a href="#section-13.9-6" class="pilcrow">¶</a></p>
<p id="section-13.9-7">Coverage:<a href="#section-13.9-7" class="pilcrow">¶</a></p>
<p id="section-13.9-8">All the publisher features of the protocol.<a href="#section-13.9-8" class="pilcrow">¶</a></p>
<p id="section-13.9-9">Version compatibility:<a href="#section-13.9-9" class="pilcrow">¶</a></p>
<p id="section-13.9-10">The implementation currently follows the revision 5 of the draft. An open Pull Request adds support
for the latest version of the draft.<a href="#section-13.9-10" class="pilcrow">¶</a></p>
<p id="section-13.9-11">Licensing:<a href="#section-13.9-11" class="pilcrow">¶</a></p>
<p id="section-13.9-12">All code is covered under the MIT license.<a href="#section-13.9-12" class="pilcrow">¶</a></p>
<p id="section-13.9-13">Contact Information:<a href="#section-13.9-13" class="pilcrow">¶</a></p>
<p id="section-13.9-14"><a href="https://github.com/vitorluis/java-mercure">https://github.com/vitorluis/java-mercure</a><a href="#section-13.9-14" class="pilcrow">¶</a></p>
<p id="section-13.9-15">Interoperability:<a href="#section-13.9-15" class="pilcrow">¶</a></p>
<p id="section-13.9-16">Reported compatible with the reference implementation of the Mercure Hub.<a href="#section-13.9-16" class="pilcrow">¶</a></p>
</section>
</div>
<div id="yii-2-mercure-behavior">
<section id="section-13.10">
        <h3 id="name-yii-2-mercure-behavior">
<a href="#section-13.10" class="section-number selfRef">13.10. </a><a href="#name-yii-2-mercure-behavior" class="section-name selfRef">Yii 2 Mercure behavior</a>
        </h3>
<p id="section-13.10-1">Implementation Name and Details:<a href="#section-13.10-1" class="pilcrow">¶</a></p>
<p id="section-13.10-2">Yii 2 Mercure behavior, available at <a href="https://github.com/bizley/mercure-behavior">https://github.com/bizley/mercure-behavior</a><a href="#section-13.10-2" class="pilcrow">¶</a></p>
<p id="section-13.10-3">Brief Description:<a href="#section-13.10-3" class="pilcrow">¶</a></p>
<p id="section-13.10-4">Yii 2 behavior to automatically publish updates to a Mercure hub.<a href="#section-13.10-4" class="pilcrow">¶</a></p>
<p id="section-13.10-5">Level of Maturity:<a href="#section-13.10-5" class="pilcrow">¶</a></p>
<p id="section-13.10-6">Stable<a href="#section-13.10-6" class="pilcrow">¶</a></p>
<p id="section-13.10-7">Coverage:<a href="#section-13.10-7" class="pilcrow">¶</a></p>
<p id="section-13.10-8">All the publisher features of the protocol.<a href="#section-13.10-8" class="pilcrow">¶</a></p>
<p id="section-13.10-9">Version compatibility:<a href="#section-13.10-9" class="pilcrow">¶</a></p>
<p id="section-13.10-10">The implementation currently follows the revision 5 of the draft.<a href="#section-13.10-10" class="pilcrow">¶</a></p>
<p id="section-13.10-11">Licensing:<a href="#section-13.10-11" class="pilcrow">¶</a></p>
<p id="section-13.10-12">All code is covered under the Apache License 2.0.<a href="#section-13.10-12" class="pilcrow">¶</a></p>
<p id="section-13.10-13">Contact Information:<a href="#section-13.10-13" class="pilcrow">¶</a></p>
<p id="section-13.10-14"><a href="https://github.com/bizley/mercure-behavior">https://github.com/bizley/mercure-behavior</a><a href="#section-13.10-14" class="pilcrow">¶</a></p>
<p id="section-13.10-15">Interoperability:<a href="#section-13.10-15" class="pilcrow">¶</a></p>
<p id="section-13.10-16">Reported compatible with the reference implementation of the Mercure Hub.<a href="#section-13.10-16" class="pilcrow">¶</a></p>
</section>
</div>
<div id="github-action-for-mercure">
<section id="section-13.11">
        <h3 id="name-github-action-for-mercure">
<a href="#section-13.11" class="section-number selfRef">13.11. </a><a href="#name-github-action-for-mercure" class="section-name selfRef">GitHub Action for Mercure</a>
        </h3>
<p id="section-13.11-1">Implementation Name and Details:<a href="#section-13.11-1" class="pilcrow">¶</a></p>
<p id="section-13.11-2">GitHub Action for Mercure, available at
<a href="https://github.com/marketplace/actions/github-action-for-mercure">https://github.com/marketplace/actions/github-action-for-mercure</a><a href="#section-13.11-2" class="pilcrow">¶</a></p>
<p id="section-13.11-3">Brief Description:<a href="#section-13.11-3" class="pilcrow">¶</a></p>
<p id="section-13.11-4">Send a Mercure update when a GitHub event occurs.<a href="#section-13.11-4" class="pilcrow">¶</a></p>
<p id="section-13.11-5">Level of Maturity:<a href="#section-13.11-5" class="pilcrow">¶</a></p>
<p id="section-13.11-6">Stable<a href="#section-13.11-6" class="pilcrow">¶</a></p>
<p id="section-13.11-7">Coverage:<a href="#section-13.11-7" class="pilcrow">¶</a></p>
<p id="section-13.11-8">All the publisher features of the protocol.<a href="#section-13.11-8" class="pilcrow">¶</a></p>
<p id="section-13.11-9">Version compatibility:<a href="#section-13.11-9" class="pilcrow">¶</a></p>
<p id="section-13.11-10">The implementation currently follows the latest version of the draft.<a href="#section-13.11-10" class="pilcrow">¶</a></p>
<p id="section-13.11-11">Licensing:<a href="#section-13.11-11" class="pilcrow">¶</a></p>
<p id="section-13.11-12">All code is covered under the GNU Public License version 3 or later.<a href="#section-13.11-12" class="pilcrow">¶</a></p>
<p id="section-13.11-13">Contact Information:<a href="#section-13.11-13" class="pilcrow">¶</a></p>
<p id="section-13.11-14"><a href="https://github.com/Ilshidur/action-mercure">https://github.com/Ilshidur/action-mercure</a><a href="#section-13.11-14" class="pilcrow">¶</a></p>
<p id="section-13.11-15">Interoperability:<a href="#section-13.11-15" class="pilcrow">¶</a></p>
<p id="section-13.11-16">Reported compatible with the reference implementation of the Mercure Hub.<a href="#section-13.11-16" class="pilcrow">¶</a></p>
</section>
</div>
<div id="other-implementations">
<section id="section-13.12">
        <h3 id="name-other-implementations">
<a href="#section-13.12" class="section-number selfRef">13.12. </a><a href="#name-other-implementations" class="section-name selfRef">Other Implementations</a>
        </h3>
<p id="section-13.12-1">Other implementations can be found on GitHub: <a href="https://github.com/topics/mercure">https://github.com/topics/mercure</a><a href="#section-13.12-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="acknowledgements">
<section id="section-14">
      <h2 id="name-acknowledgements">
<a href="#section-14" class="section-number selfRef">14. </a><a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-14-1">Parts of this specification, especially <a href="#discovery" class="xref">Section 2</a> have been adapted from the WebSub
recommendation <span>[<a href="#W3C.REC-websub-20180123" class="xref">W3C.REC-websub-20180123</a>]</span>. The editor wish to thanks all the authors of this
specification.<a href="#section-14-1" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-15">
      <h2 id="name-normative-references">
<a href="#section-15" class="section-number selfRef">15. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
      </h2>
<dl class="references">
<dt id="RFC3987">[RFC3987]</dt>
<dd>
<span class="refAuthor">Duerst, M.</span><span class="refAuthor"> and M. Suignard</span>, <span class="refTitle">"Internationalized Resource Identifiers (IRIs)"</span>, <span class="seriesInfo">RFC 3987</span>, <span class="seriesInfo">DOI 10.17487/RFC3987</span>, <time datetime="2005-01">January 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3987">https://www.rfc-editor.org/info/rfc3987</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7517">[RFC7517]</dt>
<dd>
<span class="refAuthor">Jones, M.</span>, <span class="refTitle">"JSON Web Key (JWK)"</span>, <span class="seriesInfo">RFC 7517</span>, <span class="seriesInfo">DOI 10.17487/RFC7517</span>, <time datetime="2015-05">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7517">https://www.rfc-editor.org/info/rfc7517</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
<dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7516">[RFC7516]</dt>
<dd>
<span class="refAuthor">Jones, M.</span><span class="refAuthor"> and J. Hildebrand</span>, <span class="refTitle">"JSON Web Encryption (JWE)"</span>, <span class="seriesInfo">RFC 7516</span>, <span class="seriesInfo">DOI 10.17487/RFC7516</span>, <time datetime="2015-05">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7516">https://www.rfc-editor.org/info/rfc7516</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7230">[RFC7230]</dt>
<dd>
<span class="refAuthor">Fielding, R., Ed.</span><span class="refAuthor"> and J. Reschke, Ed.</span>, <span class="refTitle">"Hypertext Transfer Protocol (HTTP/1.1): Message Syntax and Routing"</span>, <span class="seriesInfo">RFC 7230</span>, <span class="seriesInfo">DOI 10.17487/RFC7230</span>, <time datetime="2014-06">June 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7230">https://www.rfc-editor.org/info/rfc7230</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6570">[RFC6570]</dt>
<dd>
<span class="refAuthor">Gregorio, J.</span><span class="refAuthor">, Fielding, R.</span><span class="refAuthor">, Hadley, M.</span><span class="refAuthor">, Nottingham, M.</span><span class="refAuthor">, and D. Orchard</span>, <span class="refTitle">"URI Template"</span>, <span class="seriesInfo">RFC 6570</span>, <span class="seriesInfo">DOI 10.17487/RFC6570</span>, <time datetime="2012-03">March 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6570">https://www.rfc-editor.org/info/rfc6570</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="W3C.REC-json-ld-20140116">[W3C.REC-json-ld-20140116]</dt>
<dd>
<span class="refAuthor">Sporny, M.</span><span class="refAuthor">, Kellogg, G.</span><span class="refAuthor">, and M. Lanthaler</span>, <span class="refTitle">"JSON-LD 1.0"</span>, <span class="seriesInfo">World Wide Web Consortium Recommendation REC-json-ld-20140116</span>, <time datetime="2014-01-16">16 January 2014</time>, <span>&lt;<a href="http://www.w3.org/TR/2014/REC-json-ld-20140116">http://www.w3.org/TR/2014/REC-json-ld-20140116</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7515">[RFC7515]</dt>
<dd>
<span class="refAuthor">Jones, M.</span><span class="refAuthor">, Bradley, J.</span><span class="refAuthor">, and N. Sakimura</span>, <span class="refTitle">"JSON Web Signature (JWS)"</span>, <span class="seriesInfo">RFC 7515</span>, <span class="seriesInfo">DOI 10.17487/RFC7515</span>, <time datetime="2015-05">May 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7515">https://www.rfc-editor.org/info/rfc7515</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3986">[RFC3986]</dt>
<dd>
<span class="refAuthor">Berners-Lee, T.</span><span class="refAuthor">, Fielding, R.</span><span class="refAuthor">, and L. Masinter</span>, <span class="refTitle">"Uniform Resource Identifier (URI): Generic Syntax"</span>, <span class="seriesInfo">STD 66</span>, <span class="seriesInfo">RFC 3986</span>, <span class="seriesInfo">DOI 10.17487/RFC3986</span>, <time datetime="2005-01">January 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3986">https://www.rfc-editor.org/info/rfc3986</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5785">[RFC5785]</dt>
<dd>
<span class="refAuthor">Nottingham, M.</span><span class="refAuthor"> and E. Hammer-Lahav</span>, <span class="refTitle">"Defining Well-Known Uniform Resource Identifiers (URIs)"</span>, <span class="seriesInfo">RFC 5785</span>, <span class="seriesInfo">DOI 10.17487/RFC5785</span>, <time datetime="2010-04">April 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5785">https://www.rfc-editor.org/info/rfc5785</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5988">[RFC5988]</dt>
<dd>
<span class="refAuthor">Nottingham, M.</span>, <span class="refTitle">"Web Linking"</span>, <span class="seriesInfo">RFC 5988</span>, <span class="seriesInfo">DOI 10.17487/RFC5988</span>, <time datetime="2010-10">October 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5988">https://www.rfc-editor.org/info/rfc5988</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-16">
      <h2 id="name-informative-references">
<a href="#section-16" class="section-number selfRef">16. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
      </h2>
<dl class="references">
<dt id="RFC7386">[RFC7386]</dt>
<dd>
<span class="refAuthor">Hoffman, P.</span><span class="refAuthor"> and J. Snell</span>, <span class="refTitle">"JSON Merge Patch"</span>, <span class="seriesInfo">RFC 7386</span>, <span class="seriesInfo">DOI 10.17487/RFC7386</span>, <time datetime="2014-10">October 2014</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7386">https://www.rfc-editor.org/info/rfc7386</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4122">[RFC4122]</dt>
<dd>
<span class="refAuthor">Leach, P.</span><span class="refAuthor">, Mealling, M.</span><span class="refAuthor">, and R. Salz</span>, <span class="refTitle">"A Universally Unique IDentifier (UUID) URN Namespace"</span>, <span class="seriesInfo">RFC 4122</span>, <span class="seriesInfo">DOI 10.17487/RFC4122</span>, <time datetime="2005-07">July 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4122">https://www.rfc-editor.org/info/rfc4122</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6982">[RFC6982]</dt>
<dd>
<span class="refAuthor">Sheffer, Y.</span><span class="refAuthor"> and A. Farrel</span>, <span class="refTitle">"Improving Awareness of Running Code: The Implementation Status Section"</span>, <span class="seriesInfo">RFC 6982</span>, <span class="seriesInfo">DOI 10.17487/RFC6982</span>, <time datetime="2013-07">July 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6982">https://www.rfc-editor.org/info/rfc6982</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6838">[RFC6838]</dt>
<dd>
<span class="refAuthor">Freed, N.</span><span class="refAuthor">, Klensin, J.</span><span class="refAuthor">, and T. Hansen</span>, <span class="refTitle">"Media Type Specifications and Registration Procedures"</span>, <span class="seriesInfo">BCP 13</span>, <span class="seriesInfo">RFC 6838</span>, <span class="seriesInfo">DOI 10.17487/RFC6838</span>, <time datetime="2013-01">January 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6838">https://www.rfc-editor.org/info/rfc6838</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="W3C.REC-eventsource-20150203">[W3C.REC-eventsource-20150203]</dt>
<dd>
<span class="refAuthor">Hickson, I.</span>, <span class="refTitle">"Server-Sent Events"</span>, <span class="seriesInfo">World Wide Web Consortium Recommendation REC-eventsource-20150203</span>, <time datetime="2015-02-03">3 February 2015</time>, <span>&lt;<a href="http://www.w3.org/TR/2015/REC-eventsource-20150203">http://www.w3.org/TR/2015/REC-eventsource-20150203</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4287">[RFC4287]</dt>
<dd>
<span class="refAuthor">Nottingham, M., Ed.</span><span class="refAuthor"> and R. Sayre, Ed.</span>, <span class="refTitle">"The Atom Syndication Format"</span>, <span class="seriesInfo">RFC 4287</span>, <span class="seriesInfo">DOI 10.17487/RFC4287</span>, <time datetime="2005-12">December 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4287">https://www.rfc-editor.org/info/rfc4287</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="W3C.REC-html52-20171214">[W3C.REC-html52-20171214]</dt>
<dd>
<span class="refAuthor">Faulkner, S.</span><span class="refAuthor">, Eicholz, A.</span><span class="refAuthor">, Leithead, T.</span><span class="refAuthor">, Danilo, A.</span><span class="refAuthor">, and S. Moon</span>, <span class="refTitle">"HTML 5.2"</span>, <span class="seriesInfo">World Wide Web Consortium Recommendation REC-html52-20171214</span>, <time datetime="2017-12-14">14 December 2017</time>, <span>&lt;<a href="https://www.w3.org/TR/2017/REC-html52-20171214">https://www.w3.org/TR/2017/REC-html52-20171214</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="W3C.REC-websub-20180123">[W3C.REC-websub-20180123]</dt>
<dd>
<span class="refAuthor">Genestoux, J.</span><span class="refAuthor"> and A. Parecki</span>, <span class="refTitle">"WebSub"</span>, <span class="seriesInfo">World Wide Web Consortium Recommendation REC-websub-20180123</span>, <time datetime="2018-01-23">23 January 2018</time>, <span>&lt;<a href="https://www.w3.org/TR/2018/REC-websub-20180123">https://www.w3.org/TR/2018/REC-websub-20180123</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="W3C.NOTE-streams-api-20161129">[W3C.NOTE-streams-api-20161129]</dt>
<dd>
<span class="refAuthor">Moussa, F.</span><span class="refAuthor"> and T. Yoshino</span>, <span class="refTitle">"Streams API"</span>, <span class="seriesInfo">World Wide Web Consortium NOTE NOTE-streams-api-20161129</span>, <time datetime="2016-11-29">29 November 2016</time>, <span>&lt;<a href="https://www.w3.org/TR/2016/NOTE-streams-api-20161129">https://www.w3.org/TR/2016/NOTE-streams-api-20161129</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6902">[RFC6902]</dt>
<dd>
<span class="refAuthor">Bryan, P., Ed.</span><span class="refAuthor"> and M. Nottingham, Ed.</span>, <span class="refTitle">"JavaScript Object Notation (JSON) Patch"</span>, <span class="seriesInfo">RFC 6902</span>, <span class="seriesInfo">DOI 10.17487/RFC6902</span>, <time datetime="2013-04">April 2013</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6902">https://www.rfc-editor.org/info/rfc6902</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="W3C.REC-xml-20081126">[W3C.REC-xml-20081126]</dt>
<dd>
<span class="refAuthor">Bray, T.</span><span class="refAuthor">, Paoli, J.</span><span class="refAuthor">, Sperberg-McQueen, M.</span><span class="refAuthor">, Maler, E.</span><span class="refAuthor">, and F. Yergeau</span>, <span class="refTitle">"Extensible Markup Language (XML) 1.0 (Fifth Edition)"</span>, <span class="seriesInfo">World Wide Web Consortium Recommendation REC-xml-20081126</span>, <time datetime="2008-11-26">26 November 2008</time>, <span>&lt;<a href="http://www.w3.org/TR/2008/REC-xml-20081126">http://www.w3.org/TR/2008/REC-xml-20081126</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<div id="authors-addresses">
<section id="section-appendix.a">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Kévin Dunglas</span></div>
<div dir="auto" class="left"><span class="org">Les-Tilleuls.coop</span></div>
<div dir="auto" class="left"><span class="street-address">82 rue Winston Churchill</span></div>
<div dir="auto" class="left">
<span class="postal-code">59160</span> <span class="locality">Lille</span>
</div>
<div dir="auto" class="left"><span class="country-name">France</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:kevin@les-tilleuls.coop" class="email">kevin@les-tilleuls.coop</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
