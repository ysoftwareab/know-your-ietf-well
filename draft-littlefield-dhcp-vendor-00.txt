


INTERNET-DRAFT                                          Josh Littlefield
Expires: December 2003                                     Cisco Systems
                                                               June 2003


               Vendor-Identifying Vendor Options for DHCPv4
                   draft-littlefield-dhcp-vendor-00.txt


Status of this Memo

   This document is an Internet-Draft and is subject to all provisions
   of Section 10 of RFC2026.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet- Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/1id-abstracts.html

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html

Copyright Notice

   Copyright (C) The Internet Society (2003).  All Rights Reserved.

Abstract

   The DHCP options for Vendor Class and Vendor-Specific Information can
   be ambiguous when a DHCP client represents multiple vendors.  This
   document defines two new options, modeled on the IPv6 options for
   vendor class and vendor-specific information, which contain
   Enterprise Numbers to remove ambiguity.

Conventions used in this document

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED",  "MAY", and "OPTIONAL" in this
   document are to be interpreted as described in RFC-2119 [1].

Table of Contents

   1. Introduction...................................................2
   2. Vendor-Identifying Vendor Class Option.........................2
   3. Vendor-Identifying Vendor-Specific Information Option..........3


Littlefield                                                   [Page 1]

INTERNET DRAFT    Vendor-Identifying Vendor Options         June 2003


   4. IANA Considerations............................................5
   5. Security Considerations........................................5
   References........................................................5
   Author's Address..................................................6
   Acknowledgement...................................................7


1. Introduction

   The DHCP protocol for IPv4 defines options to allow a client to
   indicate its vendor type (option 60), and to allow the DHCP client
   and server to exchange vendor-specific information (option 43) [2].
   While there is no prohibition against passing multiple copies of
   these options in a single packet, doing so would introduce ambiguity
   of interpretation, particularly if conveying vendor-specific
   information for multiple vendors.  The vendor identified by option 60
   defines the interpretation of option 43, which itself carries no
   vendor identifier.

   There are circumstances where an implementation may need to support
   multiple, independently defined forms of vendor-specific information.
   For example, implementations that must conform to an industry-
   standard use of DHCPv4, to allow interoperability in a particular
   technology space, may be required to support the vendor-specific
   options of that industry group.  But the same implementation may also
   require support for vendor-specific options defined by the
   manufacturer.  In particular, this is an issue for vendors of devices
   supporting CableLabs standards, such as DOCSIS, CableHome, and
   PacketCable, since those standards define an industry-specific use
   for options 60 and 43.

   This document defines two new options, modeled on the IPv6 options
   for vendor class and vendor-specific information [3], which contain
   Enterprise Numbers to remove ambiguity.  If desired, these new
   options can be used in addition to the current vendor class and
   vendor information options, whose definition is unaffected by this
   document.

2. Vendor-Identifying Vendor Class Option

   A DHCP client may use this option to unambiguously identify the
   vendor that manufactured the hardware on which the client is running,
   or an industry consortium to which the vendor belongs.  The
   information contained in the data area of this option is contained in
   one or more opaque fields that identify details of the hardware
   configuration.








Littlefield             Expires December 2003                [Page 2]

INTERNET DRAFT    Vendor-Identifying Vendor Options         June 2003


   The format of the V-I Vendor Class option is:

      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |    OPTION_V-I VENDOR_CLASS    |           option-len          |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                       enterprise-number                       |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     .                                                               .
     .                       vendor-class-data                       .
     .                             . . .                             .
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

      option-code          OPTION_V-I VENDOR_CLASS (to be assigned by
                           IANA)

      option-len           4 + length of vendor class data field

      enterprise-number    The vendor's registered Enterprise Number as
                           registered with IANA [4].

      vendor-class-data    The hardware configuration of the host on
                           which the client is running.

   Each instance of this option contains information corresponding to a
   single Enterprise Number.  Multiple instances of this option may be
   present, and each is treated independently.

   The vendor-class-data is composed of a series of separate items, each
   of which describes some characteristic of the client's hardware
   configuration or capabilities.  Examples of vendor-class-data
   instances might include the version of the operating system the
   client is running or the amount of memory installed on the client.

   Each instance of the vendor-class-data is formatted as follows:

     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-...-+-+-+-+-+-+-+
     |       vendor-class-len        |          opaque-data          |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-...-+-+-+-+-+-+-+

   The vendor-class-len is two octets long and specifies the length of
   the opaque vendor class data in network byte order.

3. Vendor-Identifying Vendor-Specific Information Option

   DHCP Clients and servers may use this option to exchange vendor-
   specific information.







Littlefield             Expires December 2003                [Page 3]

INTERNET DRAFT    Vendor-Identifying Vendor Options         June 2003


   The format of the V-I Vendor-specific Information option is:

      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |    OPTION_V-I VENDOR_OPTS     |           option-len          |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |                       enterprise-number                       |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     .                                                               .
     .                          option-data                          .
     .                                                               .
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

      option-code          OPTION_V-I VENDOR_OPTS (to be assigned by
                           IANA)

      option-len           4 + length of option-data field

      enterprise-number    The vendor's registered Enterprise Number as
                           registered with IANA [4].

      option-data          Encapsulated vendor-specific options,
                           described below.

   The definition of the information carried in this option is vendor
   specific.  The vendor is indicated in the enterprise-number field.
   Each instance of this option contains information corresponding to a
   single Enterprise Number.  Multiple instances of this option may be
   present, and each is treated independently.

   Use of vendor-specific information allows enhanced operation,
   utilizing additional features in a vendor's DHCP implementation.
   Servers not equipped to interpret the vendor-specific information
   sent by a client MUST ignore it.  Clients that do not receive desired
   vendor-specific information SHOULD make an attempt to operate without
   it.

   The encapsulated vendor-specific options field MUST be encoded as a
   sequence of code/length/value fields of identical format to the DHCP
   options field.  The option codes are defined by the vendor identified
   in the enterprise-number field and are not managed by IANA.  Option
   codes 0 and 255 have no pre-defined interpretation or format.  Each
   of the encapsulated options is formatted as follows:

      0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     |          opt-code             |             option-len        |
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
     .                                                               .
     .                          option-data                          .
     .                                                               .
     +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+


Littlefield             Expires December 2003                [Page 4]

INTERNET DRAFT    Vendor-Identifying Vendor Options         June 2003




      opt-code             The code for the encapsulated option

      option-len           An unsigned integer giving the length of the
                           option-data field in this encapsulated option
                           in octets.

      option-data          The data area for the encapsulated option

   Multiple instances of the Vendor-specific Information option may
   appear in a DHCP message.  Each instance of the option is interpreted
   according to the option codes defined by the vendor identified by the
   Enterprise Number in that option.

4. IANA Considerations

   The values for the V-I VENDOR CLASS and V-I VENDOR OPTS option codes
   must be assigned from the numbering space defined for public DHCP
   Options in RFC 2939 [5].

5. Security Considerations

   This document in and by itself provides no security, nor does it
   impact existing security.  DHCP provides an authentication and
   message integrity mechanism, as described in RFC 3118 [6], which may
   be used if authenticity is required for data carried by the options
   defined in this document.

References

   [1] Bradner, S., "Key words for use in RFCs to Indicate Requirement
       Levels", BCP 14, RFC 2119, March 1997.

   [2] S. Alexander and R. Droms.  "DHCP Options and BOOTP Vendor
       Extensions", RFC 2132, March 1997.

   [3] Droms, R., Bound, J., Volz, B., Lemon, T., Perkins, C., and
       Carney, M., "Dynamic Host Configuration Protocol for IPv6
       (DHCPv6)ö, RFCXXXX, November 2002.

   [4] IANA.  Private Enterprise Numbers.
       http://www.iana.org/assignments/enterprise-numbers.html.

   [5] Droms, R., "Procedures and IANA Guidelines for Definition of New
       DHCP Options and Message Types", BCP 43, RFC 2939, September
       2000.

   [6] Droms, R. and W. Arbaugh, "Authentication for DHCP Messages", RFC
       3118, June 2001.




Littlefield             Expires December 2003                [Page 5]











Author's Address

   Josh Littlefield
   Cisco Systems, Inc.
   1414 Massachusetts Avenue
   Boxborough, MA 01719 USA

   Phone: 978-936-1379
   Email: joshl@cisco.com













































Littlefield                                                   [Page 6]

INTERNET DRAFT    Vendor-Identifying Vendor Options         June 2003


Full Copyright Statement

   Copyright (C) The Internet Society (2003).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Acknowledgement

   Funding for the RFC editor function is currently provided by the
   Internet Society.






















Littlefield             Expires December 2003                [Page 7]







