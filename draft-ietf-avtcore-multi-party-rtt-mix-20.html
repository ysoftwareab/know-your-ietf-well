<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>RTP-mixer formatting of multiparty Real-time text</title>
<meta content="Gunnar Hellstrom" name="author">
<meta content='
       
This
document provides enhancements for RFC 4103 real-time text mixing suitable for a centralized conference model that enables source identification and rapidly
interleaved transmission of text from different sources. The intended use is for real-time text mixers and participant endpoints capable of providing an efficient presentation or other treatment of a multiparty real-time text session. The specified mechanism builds on the standard use of the Contributing Source (CSRC) list in the Realtime Protocol (RTP) packet for source identification. The method makes use of the same "text/t140" and "text/red" formats as for two-party sessions.
 
       
Solutions using multiple RTP streams in the same RTP session are briefly mentioned, as they could have some benefits over the RTP-mixer model. The possibility to implement the solution in a wide range of existing RTP implementations made the RTP-mixer model be selected to be fully specified in this document. 
 
       
 A capability exchange is specified so that it can be verified that a mixer and a participant can handle the multiparty-coded real-time text stream using the RTP-mixer method. The capability is indicated by use of an RFC 8866 Session Description Protocol (SDP) media attribute "rtt-mixer".
       
       
The document updates RFC 4103 "RTP Payload for Text Conversation".
       
       
 A specification of how a mixer can format text for the case when the endpoint is not multiparty-aware is also provided.
       
    ' name="description">
<meta content="xml2rfc 3.8.0" name="generator">
<meta content="draft-ietf-avtcore-multi-party-rtt-mix-20" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.8.0
    Python 3.6.12
    appdirs 1.4.4
    ConfigArgParse 1.4.1
    google-i18n-address 2.4.0
    html5lib 1.1
    intervaltree 3.1.0
    Jinja2 2.11.3
    kitchen 1.2.6
    lxml 4.6.3
    pycountry 20.7.3
    pyflakes 2.3.1
    PyYAML 5.4.1
    requests 2.25.1
    setuptools 56.2.0
    six 1.16.0
-->
<link href="/tmp/draft-ietf-avtcore-multi-party-rtt-mix-20-y194v7aw.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">/*

  NOTE: Changes at the bottom of this file overrides some earlier settings.

  Once the style has stabilized and has been adopted as an official RFC style,
  this can be consolidated so that style settings occur only in one place, but
  for now the contents of this file consists first of the initial CSS work as
  provided to the RFC Formatter (xml2rfc) work, followed by itemized and
  commented changes found necssary during the development of the v3
  formatters.

*/

/* fonts */
@import url('https://fonts.googleapis.com/css?family=Noto+Sans'); /* Sans-serif */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif'); /* Serif (print) */
@import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); /* Monospace */

@viewport {
  zoom: 1.0;
  width: extend-to-zoom;
}
@-ms-viewport {
  width: extend-to-zoom;
  zoom: 1.0;
}
/* general and mobile first */
html {
}
body {
  max-width: 90%;
  margin: 1.5em auto;
  color: #222;
  background-color: #fff;
  font-size: 14px;
  font-family: 'Noto Sans', Arial, Helvetica, sans-serif;
  line-height: 1.6;
  scroll-behavior: smooth;
}
.ears {
  display: none;
}

/* headings */
#title, h1, h2, h3, h4, h5, h6 {
  margin: 1em 0 0.5em;
  font-weight: bold;
  line-height: 1.3;
}
#title {
  clear: both;
  border-bottom: 1px solid #ddd;
  margin: 0 0 0.5em 0;
  padding: 1em 0 0.5em;
}
.author {
  padding-bottom: 4px;
}
h1 {
  font-size: 26px;
  margin: 1em 0;
}
h2 {
  font-size: 22px;
  margin-top: -20px;  /* provide offset for in-page anchors */
  padding-top: 33px;
}
h3 {
  font-size: 18px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h4 {
  font-size: 16px;
  margin-top: -36px;  /* provide offset for in-page anchors */
  padding-top: 42px;
}
h5, h6 {
  font-size: 14px;
}
#n-copyright-notice {
  border-bottom: 1px solid #ddd;
  padding-bottom: 1em;
  margin-bottom: 1em;
}
/* general structure */
p {
  padding: 0;
  margin: 0 0 1em 0;
  text-align: left;
}
div, span {
  position: relative;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignRight.art-text pre {
  padding: 0;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
.alignCenter.art-text {
  background-color: #f9f9f9;
  border: 1px solid #eee;
  border-radius: 3px;
  padding: 1em 1em 0;
  margin-bottom: 1.5em;
}
.alignCenter.art-text pre {
  padding: 0;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 1em 2em;
}
ol ol, ul ul, ol ul, ul ol {
  margin-left: 1em;
}
li {
  margin: 0 0 0.25em 0;
}
.ulCompact li {
  margin: 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
}
ul.empty li, .ulEmpty li {
  margin-top: 0.5em;
}
ul.compact, .ulCompact,
ol.compact, .olCompact {
  line-height: 100%;
  margin: 0 0 0 2em;
}

/* definition lists */
dl {
}
dl > dt {
  float: left;
  margin-right: 1em;
}
/* 
dl.nohang > dt {
  float: none;
}
*/
dl > dd {
  margin-bottom: .8em;
  min-height: 1.3em;
}
dl.compact > dd, .dlCompact > dd {
  margin-bottom: 0em;
}
dl > dd > dl {
  margin-top: 0.5em;
  margin-bottom: 0em;
}

/* links */
a {
  text-decoration: none;
}
a[href] {
  color: #22e; /* Arlen: WCAG 2019 */
}
a[href]:hover {
  background-color: #f2f2f2;
}
figcaption a[href],
a[href].selfRef {
  color: #222;
}
/* XXX probably not this:
a.selfRef:hover {
  background-color: transparent;
  cursor: default;
} */

/* Figures */
tt, code, pre, code {
  background-color: #f9f9f9;
  font-family: 'Roboto Mono', monospace;
}
pre {
  border: 1px solid #eee;
  margin: 0;
  padding: 1em;
}
img {
  max-width: 100%;
}
figure {
  margin: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption {
  font-style: italic;
  margin: 0 0 1em 0;
}
@media screen {
  pre {
    overflow-x: auto;
    max-width: 100%;
    max-width: calc(100% - 22px);
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 1.2em 2em;
}
blockquote {
  background-color: #f9f9f9;
  color: #111; /* Arlen: WCAG 2019 */
  border: 1px solid #ddd;
  border-radius: 3px;
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
  border: 1px solid #eee;
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 0.5em 0.75em;
}
th {
  text-align: left;
  background-color: #e9e9e9;
}
tr:nth-child(2n+1) > td {
  background-color: #f5f5f5;
}
table caption {
  font-style: italic;
  margin: 0;
  padding: 0;
  text-align: left;
}
table p {
  /* XXX to avoid bottom margin on table row signifiers. If paragraphs should
     be allowed within tables more generally, it would be far better to select on a class. */
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  color: #666; /* Arlen: AHDJ 2019 */
  text-decoration: none;
  visibility: hidden;
  user-select: none;
  -ms-user-select: none;
  -o-user-select:none;
  -moz-user-select: none;
  -khtml-user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
}
@media screen {
  aside:hover > a.pilcrow,
  p:hover > a.pilcrow,
  blockquote:hover > a.pilcrow,
  div:hover > a.pilcrow,
  li:hover > a.pilcrow,
  pre:hover > a.pilcrow {
    visibility: visible;
  }
  a.pilcrow:hover {
    background-color: transparent;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid #eee;
}
.bcp14 {
  font-variant: small-caps;
}

.role {
  font-variant: all-small-caps;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: 0.9em;
}
#identifiers dt {
  width: 3em;
  clear: left;
}
#identifiers dd {
  float: left;
  margin-bottom: 0;
}
#identifiers .authors .author {
  display: inline-block;
  margin-right: 1.5em;
}
#identifiers .authors .org {
  font-style: italic;
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #666; /* Arlen: WCAG 2019 */
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: left;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc  {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;
}
nav.toc ul {
  margin: 0 0.5em 0 0;
  padding: 0;
  list-style: none;
}
nav.toc li {
  line-height: 1.3em;
  margin: 0.75em 0;
  padding-left: 1.2em;
  text-indent: -1.2em;
}
/* references */
.references dt {
  text-align: right;
  font-weight: bold;
  min-width: 7em;
}
.references dd {
  margin-left: 8em;
  overflow: auto;
}

.refInstance {
  margin-bottom: 1.25em;
}

.references .ascii {
  margin-bottom: 0.25em;
}

/* index */
.index ul {
  margin: 0 0 0 1em;
  padding: 0;
  list-style: none;
}
.index ul ul {
  margin: 0;
}
.index li {
  margin: 0;
  text-indent: -2em;
  padding-left: 2em;
  padding-bottom: 5px;
}
.indexIndex {
  margin: 0.5em 0 1em;
}
.index a {
  font-weight: 700;
}
/* make the index two-column on all but the smallest screens */
@media (min-width: 600px) {
  .index ul {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
  }
  .index ul ul {
    -moz-column-count: 1;
    -moz-column-gap: 0;
  }
}

/* authors */
address.vcard {
  font-style: normal;
  margin: 1em 0;
}

address.vcard .nameRole {
  font-weight: 700;
  margin-left: 0;
}
address.vcard .label {
  font-family: "Noto Sans",Arial,Helvetica,sans-serif;
  margin: 0.5em 0;
}
address.vcard .type {
  display: none;
}
.alternative-contact {
  margin: 1.5em 0 1em;
}
hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}

/* temporary notes */
.rfcEditorRemove::before {
  position: absolute;
  top: 0.2em;
  right: 0.2em;
  padding: 0.2em;
  content: "The RFC Editor will remove this note";
  color: #9e2a00; /* Arlen: WCAG 2019 */
  background-color: #ffd; /* Arlen: WCAG 2019 */
}
.rfcEditorRemove {
  position: relative;
  padding-top: 1.8em;
  background-color: #ffd; /* Arlen: WCAG 2019 */
  border-radius: 3px;
}
.cref {
  background-color: #ffd; /* Arlen: WCAG 2019 */
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}
/* alternative layout for smaller screens */
@media screen and (max-width: 1023px) {
  body {
    padding-top: 2em;
  }
  #title {
    padding: 1em 0;
  }
  h1 {
    font-size: 24px;
  }
  h2 {
    font-size: 20px;
    margin-top: -18px;  /* provide offset for in-page anchors */
    padding-top: 38px;
  }
  #identifiers dd {
    max-width: 60%;
  }
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 0;
    margin: 0;
    background-color: inherit;
    border-bottom: 1px solid #ccc;
  }
  #toc h2 {
    margin: -1px 0 0 0;
    padding: 4px 0 4px 6px;
    padding-right: 1em;
    min-width: 190px;
    font-size: 1.1em;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
  }
  #toc h2::before { /* css hamburger */
    float: right;
    position: relative;
    width: 1em;
    height: 1px;
    left: -164px;
    margin: 6px 0 0 0;
    background: white none repeat scroll 0 0;
    box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
    content: "";
  }
  #toc nav {
    display: none;
    padding: 0.5em 1em 1em;
    overflow: auto;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
}

/* alternative layout for wide screens */
@media screen and (min-width: 1024px) {
  body {
    max-width: 724px;
    margin: 42px auto;
    padding-left: 1.5em;
    padding-right: 29em;
  }
  #toc {
    position: fixed;
    top: 42px;
    right: 42px;
    width: 25%;
    margin: 0;
    padding: 0 1em;
    z-index: 1;
  }
  #toc h2 {
    border-top: none;
    border-bottom: 1px solid #ddd;
    font-size: 1em;
    font-weight: normal;
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 0;
    overflow: auto;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
}

/* pagination */
@media print {
  body {

    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre {
    page-break-inside: avoid;
  }
  figure {
    overflow: scroll;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  h2+*, h3+*, h4+*, h5+*, h6+* {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

/* This is commented out here, as the string-set: doesn't
   pass W3C validation currently */
/*
.ears thead .left {
  string-set: ears-top-left content();
}

.ears thead .center {
  string-set: ears-top-center content();
}

.ears thead .right {
  string-set: ears-top-right content();
}

.ears tfoot .left {
  string-set: ears-bottom-left content();
}

.ears tfoot .center {
  string-set: ears-bottom-center content();
}

.ears tfoot .right {
  string-set: ears-bottom-right content();
}
*/

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
  /* The follwing is commented out here, but set appropriately by in code, as
     the content depends on the document */
  /*
  @top-left {
    content: 'Internet-Draft';
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-left {
    content: string(ears-top-left);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-center {
    content: string(ears-top-center);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @top-right {
    content: string(ears-top-right);
    vertical-align: bottom;
    border-bottom: solid 1px #ccc;
  }
  @bottom-left {
    content: string(ears-bottom-left);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-center {
    content: string(ears-bottom-center);
    vertical-align: top;
    border-top: solid 1px #ccc;
  }
  @bottom-right {
      content: '[Page ' counter(page) ']';
      vertical-align: top;
      border-top: solid 1px #ccc;
  }
  */

}

/* Changes introduced to fix issues found during implementation */
/* Make sure links are clickable even if overlapped by following H* */
a {
  z-index: 2;
}
/* Separate body from document info even without intervening H1 */
section {
  clear: both;
}


/* Top align author divs, to avoid names without organization dropping level with org names */
.author {
  vertical-align: top;
}

/* Leave room in document info to show Internet-Draft on one line */
#identifiers dt {
  width: 8em;
}

/* Don't waste quite as much whitespace between label and value in doc info */
#identifiers dd {
  margin-left: 1em;
}

/* Give floating toc a background color (needed when it's a div inside section */
#toc {
  background-color: white;
}

/* Make the collapsed ToC header render white on gray also when it's a link */
@media screen and (max-width: 1023px) {
  #toc h2 a,
  #toc h2 a:link,
  #toc h2 a:focus,
  #toc h2 a:hover,
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
}

/* Give the bottom of the ToC some whitespace */
@media screen and (min-width: 1024px) {
  #toc {
    padding: 0 0 1em 1em;
  }
}

/* Style section numbers with more space between number and title */
.section-number {
  padding-right: 0.5em;
}

/* prevent monospace from becoming overly large */
tt, code, pre, code {
  font-size: 95%;
}

/* Fix the height/width aspect for ascii art*/
pre.sourcecode,
.art-text pre {
  line-height: 1.12;
}


/* Add styling for a link in the ToC that points to the top of the document */
a.toplink {
  float: right;
  margin-right: 0.5em;
}

/* Fix the dl styling to match the RFC 7992 attributes */
dl > dt,
dl.dlParallel > dt {
  float: left;
  margin-right: 1em;
}
dl.dlNewline > dt {
  float: none;
}

/* Provide styling for table cell text alignment */
table td.text-left,
table th.text-left {
  text-align: left;
}
table td.text-center,
table th.text-center {
  text-align: center;
}
table td.text-right,
table th.text-right {
  text-align: right;
}

/* Make the alternative author contact informatio look less like just another
   author, and group it closer with the primary author contact information */
.alternative-contact {
  margin: 0.5em 0 0.25em 0;
}
address .non-ascii {
  margin: 0 0 0 2em;
}

/* With it being possible to set tables with alignment
  left, center, and right, { width: 100%; } does not make sense */
table {
  width: auto;
}

/* Avoid reference text that sits in a block with very wide left margin,
   because of a long floating dt label.*/
.references dd {
  overflow: visible;
}

/* Control caption placement */
caption {
  caption-side: bottom;
}

/* Limit the width of the author address vcard, so names in right-to-left
   script don't end up on the other side of the page. */

address.vcard {
  max-width: 30em;
  margin-right: auto;
}

/* For address alignment dependent on LTR or RTL scripts */
address div.left {
  text-align: left;
}
address div.right {
  text-align: right;
}

/* Provide table alignment support.  We can't use the alignX classes above
   since they do unwanted things with caption and other styling. */
table.right {
 margin-left: auto;
 margin-right: 0;
}
table.center {
 margin-left: auto;
 margin-right: auto;
}
table.left {
 margin-left: 0;
 margin-right: auto;
}

/* Give the table caption label the same styling as the figcaption */
caption a[href] {
  color: #222;
}

@media print {
  .toplink {
    display: none;
  }

  /* avoid overwriting the top border line with the ToC header */
  #toc {
    padding-top: 1px;
  }

  /* Avoid page breaks inside dl and author address entries */
  .vcard {
    page-break-inside: avoid;
  }

}
/* Tweak the bcp14 keyword presentation */
.bcp14 {
  font-variant: small-caps;
  font-weight: bold;
  font-size: 0.9em;
}
/* Tweak the invisible space above H* in order not to overlay links in text above */
 h2 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 31px;
 }
 h3 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
 h4 {
  margin-top: -18px;  /* provide offset for in-page anchors */
  padding-top: 24px;
 }
/* Float artwork pilcrow to the right */
@media screen {
  .artwork a.pilcrow {
    display: block;
    line-height: 0.7;
    margin-top: 0.15em;
  }
}
/* Make pilcrows on dd visible */
@media screen {
  dd:hover > a.pilcrow {
    visibility: visible;
  }
}
/* Make the placement of figcaption match that of a table's caption
   by removing the figure's added bottom margin */
.alignLeft.art-text,
.alignCenter.art-text,
.alignRight.art-text {
   margin-bottom: 0;
}
.alignLeft,
.alignCenter,
.alignRight {
  margin: 1em 0 0 0;
}
/* In print, the pilcrow won't show on hover, so prevent it from taking up space,
   possibly even requiring a new line */
@media print {
  a.pilcrow {
    display: none;
  }
}
/* Styling for the external metadata */
div#external-metadata {
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 0.5em;
  display: none;
}
div#internal-metadata {
  padding: 0.5em;                       /* to match the external-metadata padding */
}
/* Styling for title RFC Number */
h1#rfcnum {
  clear: both;
  margin: 0 0 -1em;
  padding: 1em 0 0 0;
}
/* Make .olPercent look the same as <ol><li> */
dl.olPercent > dd {
  margin-bottom: 0.25em;
  min-height: initial;
}
/* Give aside some styling to set it apart */
aside {
  border-left: 1px solid #ddd;
  margin: 1em 0 1em 2em;
  padding: 0.2em 2em;
}
aside > dl,
aside > ol,
aside > ul,
aside > table,
aside > p {
  margin-bottom: 0.5em;
}
/* Additional page break settings */
@media print {
  figcaption, table caption {
    page-break-before: avoid;
  }
}
/* Font size adjustments for print */
@media print {
  body  { font-size: 10pt;      line-height: normal; max-width: 96%; }
  h1    { font-size: 1.72em;    padding-top: 1.5em; } /* 1*1.2*1.2*1.2 */
  h2    { font-size: 1.44em;    padding-top: 1.5em; } /* 1*1.2*1.2 */
  h3    { font-size: 1.2em;     padding-top: 1.5em; } /* 1*1.2 */
  h4    { font-size: 1em;       padding-top: 1.5em; }
  h5, h6 { font-size: 1em;      margin: initial; padding: 0.5em 0 0.3em; }
}
/* Sourcecode margin in print, when there's no pilcrow */
@media print {
  .artwork,
  .sourcecode {
    margin-bottom: 1em;
  }
}
/* Avoid narrow tables forcing too narrow table captions, which may render badly */
table {
  min-width: 20em;
}
/* ol type a */
ol.type-a { list-style-type: lower-alpha; }
ol.type-A { list-style-type: upper-alpha; }
ol.type-i { list-style-type: lower-roman; }
ol.type-I { list-style-type: lower-roman; }
/* Apply the print table and row borders in general, on request from the RPC,
and increase the contrast between border and odd row background sligthtly */
table {
  border: 1px solid #ddd;
}
td {
  border-top: 1px solid #ddd;
}
tr:nth-child(2n+1) > td {
  background-color: #f8f8f8;
}
/* Use style rules to govern display of the TOC. */
@media screen and (max-width: 1023px) {
  #toc nav { display: none; }
  #toc.active nav { display: block; }
}
/* Add support for keepWithNext */
.keepWithNext {
  break-after: avoid-page;
  break-after: avoid-page;
}
/* Add support for keepWithPrevious */
.keepWithPrevious {
  break-before: avoid-page;
}
/* Change the approach to avoiding breaks inside artwork etc. */
figure, pre, table, .artwork, .sourcecode  {
  break-before: avoid-page;
  break-after: auto;
}
/* Avoid breaks between <dt> and <dd> */
dl {
  break-before: auto;
  break-inside: auto;
}
dt {
  break-before: auto;
  break-after: avoid-page;
}
dd {
  break-before: avoid-page;
  break-after: auto;
  orphans: 3;
  widows: 3
}
span.break, dd.break {
  margin-bottom: 0;
  min-height: 0;
  break-before: auto;
  break-inside: auto;
  break-after: auto;
}
/* Undo break-before ToC */
@media print {
  #toc {
    break-before: auto;
  }
}
/* Text in compact lists should not get extra bottim margin space,
   since that would makes the list not compact */
ul.compact p, .ulCompact p,
ol.compact p, .olCompact p {
 margin: 0;
}
/* But the list as a whole needs the extra space at the end */
section ul.compact,
section .ulCompact,
section ol.compact,
section .olCompact {
  margin-bottom: 1em;                    /* same as p not within ul.compact etc. */
}
/* The tt and code background above interferes with for instance table cell
   backgrounds.  Changed to something a bit more selective. */
tt, code {
  background-color: transparent;
}
p tt, p code, li tt, li code {
  background-color: #f8f8f8;
}
/* Tweak the pre margin -- 0px doesn't come out well */
pre {
   margin-top: 0.5px;
}
/* Tweak the comact list text */
ul.compact, .ulCompact,
ol.compact, .olCompact,
dl.compact, .dlCompact {
  line-height: normal;
}
/* Don't add top margin for nested lists */
li > ul, li > ol, li > dl,
dd > ul, dd > ol, dd > dl,
dl > dd > dl {
  margin-top: initial;
}
/* Elements that should not be rendered on the same line as a <dt> */
/* This should match the element list in writer.text.TextWriter.render_dl() */
dd > div.artwork:first-child,
dd > aside:first-child,
dd > figure:first-child,
dd > ol:first-child,
dd > div:first-child > pre.sourcecode,
dd > table:first-child,
dd > ul:first-child {
  clear: left;
}
/* fix for weird browser behaviour when <dd/> is empty */
dt+dd:empty::before{
  content: "\00a0";
}
/* Make paragraph spacing inside <li> smaller than in body text, to fit better within the list */
li > p {
  margin-bottom: 0.5em
}
/* Don't let p margin spill out from inside list items */
li > p:last-of-type {
  margin-bottom: 0;
}
</style>
<link href="rfc-local.css" rel="stylesheet" type="text/css">
<script type="application/javascript">async function addMetadata(){try{const e=document.styleSheets[0].cssRules;for(let t=0;t<e.length;t++)if(/#identifiers/.exec(e[t].selectorText)){const a=e[t].cssText.replace("#identifiers","#external-updates");document.styleSheets[0].insertRule(a,document.styleSheets[0].cssRules.length)}}catch(e){console.log(e)}const e=document.getElementById("external-metadata");if(e)try{var t,a="",o=function(e){const t=document.getElementsByTagName("meta");for(let a=0;a<t.length;a++)if(t[a].getAttribute("name")===e)return t[a].getAttribute("content");return""}("rfc.number");if(o){t="https://www.rfc-editor.org/rfc/rfc"+o+".json";try{const e=await fetch(t);a=await e.json()}catch(e){t=document.URL.indexOf("html")>=0?document.URL.replace(/html$/,"json"):document.URL+".json";const o=await fetch(t);a=await o.json()}}if(!a)return;e.style.display="block";const s="",d="https://datatracker.ietf.org/doc",n="https://datatracker.ietf.org/ipr/search",c="https://www.rfc-editor.org/info",l=a.doc_id.toLowerCase(),i=a.doc_id.slice(0,3).toLowerCase(),f=a.doc_id.slice(3).replace(/^0+/,""),u={status:"Status",obsoletes:"Obsoletes",obsoleted_by:"Obsoleted By",updates:"Updates",updated_by:"Updated By",see_also:"See Also",errata_url:"Errata"};let h="<dl style='overflow:hidden' id='external-updates'>";["status","obsoletes","obsoleted_by","updates","updated_by","see_also","errata_url"].forEach(e=>{if("status"==e){a[e]=a[e].toLowerCase();var t=a[e].split(" "),o=t.length,w="",p=1;for(let e=0;e<o;e++)p<o?w=w+r(t[e])+" ":w+=r(t[e]),p++;a[e]=w}else if("obsoletes"==e||"obsoleted_by"==e||"updates"==e||"updated_by"==e){var g,m="",b=1;g=a[e].length;for(let t=0;t<g;t++)a[e][t]&&(a[e][t]=String(a[e][t]).toLowerCase(),m=b<g?m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>, ":m+"<a href='"+s+"/rfc/".concat(a[e][t])+"'>"+a[e][t].slice(3)+"</a>",b++);a[e]=m}else if("see_also"==e){var y,L="",C=1;y=a[e].length;for(let t=0;t<y;t++)if(a[e][t]){a[e][t]=String(a[e][t]);var _=a[e][t].slice(0,3),v=a[e][t].slice(3).replace(/^0+/,"");L=C<y?"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>, ":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>, ":"RFC"!=_?L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+_+" "+v+"</a>":L+"<a href='"+s+"/info/"+_.toLowerCase().concat(v.toLowerCase())+"'>"+v+"</a>",C++}a[e]=L}else if("errata_url"==e){var R="";R=a[e]?R+"<a href='"+a[e]+"'>Errata exist</a> | <a href='"+d+"/"+l+"'>Datatracker</a>| <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>":"<a href='"+d+"/"+l+"'>Datatracker</a> | <a href='"+n+"/?"+i+"="+f+"&submit="+i+"'>IPR</a> | <a href='"+c+"/"+l+"'>Info page</a>",a[e]=R}""!=a[e]?"Errata"==u[e]?h+=`<dt>More info:</dt><dd>${a[e]}</dd>`:h+=`<dt>${u[e]}:</dt><dd>${a[e]}</dd>`:"Errata"==u[e]&&(h+=`<dt>More info:</dt><dd>${a[e]}</dd>`)}),h+="</dl>",e.innerHTML=h}catch(e){console.log(e)}else console.log("Could not locate metadata <div> element");function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}}window.removeEventListener("load",addMetadata),window.addEventListener("load",addMetadata);</script>
</head>
<body>
<script src="metadata.min.js"></script>
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">RTP-mixer format for multiparty RTT</td>
<td class="right">May 2021</td>
</tr></thead>
<tfoot><tr>
<td class="left">Hellstrom</td>
<td class="center">Expires 27 November 2021</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">AVTCore</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-ietf-avtcore-multi-party-rtt-mix-20</dd>
<dt class="label-updates">Updates:</dt>
<dd class="updates">
<a href="https://www.rfc-editor.org/rfc/rfc4103" class="eref">4103</a> (if approved)</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2021-05-26" class="published">26 May 2021</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Standards Track</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2021-11-27">27 November 2021</time></dd>
<dt class="label-authors">Author:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">G. Hellstrom</div>
<div class="org">Gunnar Hellstrom Accessible Communication</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">RTP-mixer formatting of multiparty Real-time text</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">
This
document provides enhancements for RFC 4103 real-time text mixing suitable for a centralized conference model that enables source identification and rapidly
interleaved transmission of text from different sources. The intended use is for real-time text mixers and participant endpoints capable of providing an efficient presentation or other treatment of a multiparty real-time text session. The specified mechanism builds on the standard use of the Contributing Source (CSRC) list in the Realtime Protocol (RTP) packet for source identification. The method makes use of the same "text/t140" and "text/red" formats as for two-party sessions.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">
Solutions using multiple RTP streams in the same RTP session are briefly mentioned, as they could have some benefits over the RTP-mixer model. The possibility to implement the solution in a wide range of existing RTP implementations made the RTP-mixer model be selected to be fully specified in this document.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
<p id="section-abstract-3">
 A capability exchange is specified so that it can be verified that a mixer and a participant can handle the multiparty-coded real-time text stream using the RTP-mixer method. The capability is indicated by use of an RFC 8866 Session Description Protocol (SDP) media attribute "rtt-mixer".<a href="#section-abstract-3" class="pilcrow">¶</a></p>
<p id="section-abstract-4">
The document updates RFC 4103 "RTP Payload for Text Conversation".<a href="#section-abstract-4" class="pilcrow">¶</a></p>
<p id="section-abstract-5">
 A specification of how a mixer can format text for the case when the endpoint is not multiparty-aware is also provided.<a href="#section-abstract-5" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 27 November 2021.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2021 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document. Code Components extracted from this
            document must include Simplified BSD License text as described in
            Section 4.e of the Trust Legal Provisions and are provided without
            warranty as described in the Simplified BSD License.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1"><a href="#section-1" class="xref">1</a>.  <a href="#name-introduction" class="xref">Introduction</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.1.2.1">
                <p id="section-toc.1-1.1.2.1.1" class="keepWithNext"><a href="#section-1.1" class="xref">1.1</a>.  <a href="#name-terminology" class="xref">Terminology</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.1.2.2">
                <p id="section-toc.1-1.1.2.2.1" class="keepWithNext"><a href="#section-1.2" class="xref">1.2</a>.  <a href="#name-selected-solution-and-consi" class="xref">Selected solution and considered alternatives</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.1.2.3">
                <p id="section-toc.1-1.1.2.3.1" class="keepWithNext"><a href="#section-1.3" class="xref">1.3</a>.  <a href="#name-intended-application" class="xref">Intended application</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1"><a href="#section-2" class="xref">2</a>.  <a href="#name-overview-of-the-two-specifi" class="xref">Overview of the two specified solutions and selection of method</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1"><a href="#section-2.1" class="xref">2.1</a>.  <a href="#name-the-rtp-mixer-based-solutio" class="xref">The RTP-mixer-based solution for multiparty-aware endpoints</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.2.2.2">
                <p id="section-toc.1-1.2.2.2.1"><a href="#section-2.2" class="xref">2.2</a>.  <a href="#name-mixing-for-multiparty-unawa" class="xref">Mixing for multiparty-unaware endpoints</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.2.2.3">
                <p id="section-toc.1-1.2.2.3.1"><a href="#section-2.3" class="xref">2.3</a>.  <a href="#name-offer-answer-considerations" class="xref">Offer/answer considerations</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.2.2.4">
                <p id="section-toc.1-1.2.2.4.1"><a href="#section-2.4" class="xref">2.4</a>.  <a href="#name-actions-depending-on-capabi" class="xref">Actions depending on capability negotiation result</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="xref">3</a>.  <a href="#name-details-for-the-rtp-mixer-b" class="xref">Details for the RTP-mixer-based mixing method for multiparty-aware endpoints</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.3.2.1">
                <p id="section-toc.1-1.3.2.1.1"><a href="#section-3.1" class="xref">3.1</a>.  <a href="#name-use-of-fields-in-the-rtp-pa" class="xref">Use of fields in the RTP packets</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.2">
                <p id="section-toc.1-1.3.2.2.1"><a href="#section-3.2" class="xref">3.2</a>.  <a href="#name-initial-transmission-of-a-b" class="xref">Initial transmission of a BOM character</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.3">
                <p id="section-toc.1-1.3.2.3.1"><a href="#section-3.3" class="xref">3.3</a>.  <a href="#name-keep-alive" class="xref">Keep-alive</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.4">
                <p id="section-toc.1-1.3.2.4.1"><a href="#section-3.4" class="xref">3.4</a>.  <a href="#name-transmission-interval" class="xref">Transmission interval</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.5">
                <p id="section-toc.1-1.3.2.5.1"><a href="#section-3.5" class="xref">3.5</a>.  <a href="#name-only-one-source-per-packet" class="xref">Only one source per packet</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.6">
                <p id="section-toc.1-1.3.2.6.1"><a href="#section-3.6" class="xref">3.6</a>.  <a href="#name-do-not-send-received-text-t" class="xref">Do not send received text to the originating source</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.7">
                <p id="section-toc.1-1.3.2.7.1"><a href="#section-3.7" class="xref">3.7</a>.  <a href="#name-clean-incoming-text" class="xref">Clean incoming text</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.8">
                <p id="section-toc.1-1.3.2.8.1"><a href="#section-3.8" class="xref">3.8</a>.  <a href="#name-redundant-transmission-prin" class="xref">Redundant transmission principles</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.9">
                <p id="section-toc.1-1.3.2.9.1"><a href="#section-3.9" class="xref">3.9</a>.  <a href="#name-text-placement-in-packets" class="xref">Text placement in packets</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.10">
                <p id="section-toc.1-1.3.2.10.1"><a href="#section-3.10" class="xref">3.10</a>. <a href="#name-empty-t140blocks" class="xref">Empty T140blocks</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.11">
                <p id="section-toc.1-1.3.2.11.1"><a href="#section-3.11" class="xref">3.11</a>. <a href="#name-creation-of-the-redundancy" class="xref">Creation of the redundancy</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.12">
                <p id="section-toc.1-1.3.2.12.1"><a href="#section-3.12" class="xref">3.12</a>. <a href="#name-timer-offset-fields" class="xref">Timer offset fields</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.13">
                <p id="section-toc.1-1.3.2.13.1"><a href="#section-3.13" class="xref">3.13</a>. <a href="#name-other-rtp-header-fields" class="xref">Other RTP header fields</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.14">
                <p id="section-toc.1-1.3.2.14.1"><a href="#section-3.14" class="xref">3.14</a>. <a href="#name-pause-in-transmission" class="xref">Pause in transmission</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.15">
                <p id="section-toc.1-1.3.2.15.1"><a href="#section-3.15" class="xref">3.15</a>. <a href="#name-rtcp-considerations" class="xref">RTCP considerations</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.16">
                <p id="section-toc.1-1.3.2.16.1"><a href="#section-3.16" class="xref">3.16</a>. <a href="#name-reception-of-multiparty-con" class="xref">Reception of multiparty contents</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.17">
                <p id="section-toc.1-1.3.2.17.1"><a href="#section-3.17" class="xref">3.17</a>. <a href="#name-performance-considerations" class="xref">Performance considerations</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.18">
                <p id="section-toc.1-1.3.2.18.1"><a href="#section-3.18" class="xref">3.18</a>. <a href="#name-security-for-session-contro" class="xref">Security for session control and media</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.19">
                <p id="section-toc.1-1.3.2.19.1"><a href="#section-3.19" class="xref">3.19</a>. <a href="#name-sdp-offer-answer-examples" class="xref">SDP offer/answer examples</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.20">
                <p id="section-toc.1-1.3.2.20.1"><a href="#section-3.20" class="xref">3.20</a>. <a href="#name-packet-sequence-example-fro" class="xref">Packet sequence example from interleaved transmission</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.3.2.21">
                <p id="section-toc.1-1.3.2.21.1"><a href="#section-3.21" class="xref">3.21</a>. <a href="#name-maximum-character-rate-cps" class="xref">Maximum character rate "cps"</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="xref">4</a>.  <a href="#name-presentation-level-consider" class="xref">Presentation level considerations</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="xref">4.1</a>.  <a href="#name-presentation-by-multiparty-" class="xref">Presentation by multiparty-aware endpoints</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="xref">4.2</a>.  <a href="#name-multiparty-mixing-for-multi" class="xref">Multiparty mixing for multiparty-unaware endpoints</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="xref">5</a>.  <a href="#name-relation-to-conference-cont" class="xref">Relation to Conference Control</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="xref">5.1</a>.  <a href="#name-use-with-sip-centralized-co" class="xref">Use with SIP centralized conferencing framework</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="xref">5.2</a>.  <a href="#name-conference-control" class="xref">Conference control</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="xref">6</a>.  <a href="#name-gateway-considerations" class="xref">Gateway Considerations</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="xref">6.1</a>.  <a href="#name-gateway-considerations-with" class="xref">Gateway considerations with Textphones</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="xref">6.2</a>.  <a href="#name-gateway-considerations-with-" class="xref">Gateway considerations with WebRTC</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="xref">7</a>.  <a href="#name-updates-to-rfc-4103" class="xref">Updates to RFC 4103</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="xref">8</a>.  <a href="#name-congestion-considerations" class="xref">Congestion considerations</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="xref">9</a>.  <a href="#name-iana-considerations" class="xref">IANA Considerations</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="xref">9.1</a>.  <a href="#name-registration-of-the-rtt-mix" class="xref">Registration of the "rtt-mixer" SDP media attribute</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#section-10" class="xref">10</a>. <a href="#name-security-considerations" class="xref">Security Considerations</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#section-11" class="xref">11</a>. <a href="#name-change-history" class="xref">Change history</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#section-11.1" class="xref">11.1</a>.  <a href="#name-changes-included-in-draft-i" class="xref">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-20</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#section-11.2" class="xref">11.2</a>.  <a href="#name-changes-included-in-draft-ie" class="xref">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-19</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.3">
                <p id="section-toc.1-1.11.2.3.1"><a href="#section-11.3" class="xref">11.3</a>.  <a href="#name-changes-included-in-draft-iet" class="xref">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-18</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.4">
                <p id="section-toc.1-1.11.2.4.1"><a href="#section-11.4" class="xref">11.4</a>.  <a href="#name-changes-included-in-draft-ietf" class="xref">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-17</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.5">
                <p id="section-toc.1-1.11.2.5.1"><a href="#section-11.5" class="xref">11.5</a>.  <a href="#name-changes-included-in-draft-ietf-" class="xref">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-16</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.6">
                <p id="section-toc.1-1.11.2.6.1"><a href="#section-11.6" class="xref">11.6</a>.  <a href="#name-changes-included-in-draft-ietf-a" class="xref">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-15</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.7">
                <p id="section-toc.1-1.11.2.7.1"><a href="#section-11.7" class="xref">11.7</a>.  <a href="#name-changes-included-in-draft-ietf-av" class="xref">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-14</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.8">
                <p id="section-toc.1-1.11.2.8.1"><a href="#section-11.8" class="xref">11.8</a>.  <a href="#name-changes-included-in-draft-ietf-avt" class="xref">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-13</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.9">
                <p id="section-toc.1-1.11.2.9.1"><a href="#section-11.9" class="xref">11.9</a>.  <a href="#name-changes-included-in-draft-ietf-avtc" class="xref">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-12</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.10">
                <p id="section-toc.1-1.11.2.10.1"><a href="#section-11.10" class="xref">11.10</a>. <a href="#name-changes-included-in-draft-ietf-avtc-2" class="xref">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-11</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.11">
                <p id="section-toc.1-1.11.2.11.1"><a href="#section-11.11" class="xref">11.11</a>. <a href="#name-changes-included-in-draft-ietf-avtc-3" class="xref">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-10</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.12">
                <p id="section-toc.1-1.11.2.12.1"><a href="#section-11.12" class="xref">11.12</a>. <a href="#name-changes-included-in-draft-ietf-avtc-4" class="xref">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-09</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.13">
                <p id="section-toc.1-1.11.2.13.1"><a href="#section-11.13" class="xref">11.13</a>. <a href="#name-changes-included-in-draft-ietf-avtc-5" class="xref">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-08</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.14">
                <p id="section-toc.1-1.11.2.14.1"><a href="#section-11.14" class="xref">11.14</a>. <a href="#name-changes-included-in-draft-ietf-avtc-6" class="xref">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-07</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.15">
                <p id="section-toc.1-1.11.2.15.1"><a href="#section-11.15" class="xref">11.15</a>. <a href="#name-changes-included-in-draft-ietf-avtc-7" class="xref">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-06</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.16">
                <p id="section-toc.1-1.11.2.16.1"><a href="#section-11.16" class="xref">11.16</a>. <a href="#name-changes-included-in-draft-ietf-avtc-8" class="xref">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-05</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.17">
                <p id="section-toc.1-1.11.2.17.1"><a href="#section-11.17" class="xref">11.17</a>. <a href="#name-changes-included-in-draft-ietf-avtc-9" class="xref">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-04</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.18">
                <p id="section-toc.1-1.11.2.18.1"><a href="#section-11.18" class="xref">11.18</a>. <a href="#name-changes-included-in-draft-ietf-avtc-10" class="xref">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-03</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.19">
                <p id="section-toc.1-1.11.2.19.1"><a href="#section-11.19" class="xref">11.19</a>. <a href="#name-changes-included-in-draft-ietf-avtc-11" class="xref">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-02</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.20">
                <p id="section-toc.1-1.11.2.20.1"><a href="#section-11.20" class="xref">11.20</a>. <a href="#name-changes-to-draft-ietf-avtco" class="xref">Changes to draft-ietf-avtcore-multi-party-rtt-mix-01</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.21">
                <p id="section-toc.1-1.11.2.21.1"><a href="#section-11.21" class="xref">11.21</a>. <a href="#name-changes-from-draft-hellstro" class="xref">Changes from draft-hellstrom-avtcore-multi-party-rtt-source-03 to draft-ietf-avtcore-multi-party-rtt-mix-00</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.22">
                <p id="section-toc.1-1.11.2.22.1"><a href="#section-11.22" class="xref">11.22</a>. <a href="#name-changes-from-draft-hellstrom" class="xref">Changes from draft-hellstrom-avtcore-multi-party-rtt-source-02 to -03</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.23">
                <p id="section-toc.1-1.11.2.23.1"><a href="#section-11.23" class="xref">11.23</a>. <a href="#name-changes-from-draft-hellstrom-" class="xref">Changes from draft-hellstrom-avtcore-multi-party-rtt-source-01 to -02</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.11.2.24">
                <p id="section-toc.1-1.11.2.24.1"><a href="#section-11.24" class="xref">11.24</a>. <a href="#name-changes-from-draft-hellstrom-a" class="xref">Changes from draft-hellstrom-avtcore-multi-party-rtt-source-00 to -01</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#section-12" class="xref">12</a>. <a href="#name-references" class="xref">References</a></p>
<ul class="toc ulEmpty compact">
<li class="toc ulEmpty compact" id="section-toc.1-1.12.2.1">
                <p id="section-toc.1-1.12.2.1.1"><a href="#section-12.1" class="xref">12.1</a>.  <a href="#name-normative-references" class="xref">Normative References</a></p>
</li>
              <li class="toc ulEmpty compact" id="section-toc.1-1.12.2.2">
                <p id="section-toc.1-1.12.2.2.1"><a href="#section-12.2" class="xref">12.2</a>.  <a href="#name-informative-references" class="xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.13">
            <p id="section-toc.1-1.13.1"><a href="#section-appendix.a" class="xref"></a><a href="#name-acknowledgements" class="xref">Acknowledgements</a></p>
</li>
          <li class="toc ulEmpty compact" id="section-toc.1-1.14">
            <p id="section-toc.1-1.14.1"><a href="#section-appendix.b" class="xref"></a><a href="#name-authors-address" class="xref">Author's Address</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">
"RTP Payload for Text Conversation" <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span> specifies use of the Real-Time Transport Protocol (RTP) <span>[<a href="#RFC3550" class="xref">RFC3550</a>]</span> for transmission of real-time text (RTT) and the "text/t140" format. It also specifies a redundancy format "text/red" for increased robustness. The "text/red" format is registered in <span>[<a href="#RFC4102" class="xref">RFC4102</a>]</span>.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">
  Real-time text is usually provided together with audio and sometimes with video in conversational sessions.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">
A requirement related to multiparty sessions from the presentation level standard T.140 <span>[<a href="#T140" class="xref">T140</a>]</span> for real-time text is:
"The display of text from the members of the conversation should be arranged so that the text from
each participant is clearly readable, and its source and the relative timing of entered text is visualized
in the display."<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">
Another requirement is that the mixing procedure must not introduce delays in the text streams that are experienced to be disturbing the real-time experience of the receiving users.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">
Use of RTT is increasing, and specifically, use in emergency calls is increasing.  Emergency call use requires multiparty mixing because it is common that one agent needs to transfer the call to another specialized agent but is obliged to stay on the call at least to verify that the transfer was successful. Mixer implementations for RFC 4103 "RTP Payload for Text Conversation" can use traditional RFC 3550 RTP functions for mixing and source identification, but the performance of the mixer when giving turns for the different sources to transmit is limited when using the default transmission characteristics with redundancy.<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">
The redundancy scheme of <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span> enables efficient transmission of earlier transmitted redundant text in packets together with new text. However, the redundancy header format has no source indicators for the redundant transmissions. The redundant parts in a packet must therefore be from the same source as the new text. The recommended transmission is one new and two redundant generations of text (T140blocks) in each packet and the recommended transmission interval for two-party use is 300 ms.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">
Real-time text mixers for multiparty sessions need to include the
source with each transmitted group of text from a conference participant so that the text can be transmitted interleaved with text groups from different sources at the rate they are created. This enables the text groups to be presented by endpoints in suitable grouping with other text from the same source.<a href="#section-1-7" class="pilcrow">¶</a></p>
<p id="section-1-8">
The presentation can then be arranged so that text from different sources can be presented in real-time and easily read. At the same time it is possible for a reading user to perceive approximately when the text was created in real time by the different parties. The transmission and mixing is intended to be done in a general way, so that presentation can be arranged in a layout decided by the endpoint.<a href="#section-1-8" class="pilcrow">¶</a></p>
<p id="section-1-9">
 There are existing implementations of RFC 4103 in endpoints without the updates from this document. These will not be able to receive and present real-time text mixed for multiparty-aware endpoints.<a href="#section-1-9" class="pilcrow">¶</a></p>
<p id="section-1-10">
 A negotiation mechanism is therefore needed for verification if the parties are able to handle a common method for multiparty transmission and agreeing on using that method.<a href="#section-1-10" class="pilcrow">¶</a></p>
<p id="section-1-11">
 A fallback mixing procedure is also needed for cases when the negotiation result indicates that a receiving endpoint is not capable of handling the mixed format. Multiparty-unaware endpoints would possibly otherwise present all received multiparty mixed text as if it came from the same source regardless of any accompanying source indication coded in fields in the packet. Or they may have other undesirable ways of acting on the multiparty content. The fallback method is called the mixing procedure for multiparty-unaware endpoints. The fallback method is naturally not expected to meet all performance requirements placed on the mixing procedure for multiparty-aware endpoints.<a href="#section-1-11" class="pilcrow">¶</a></p>
<p id="section-1-12">
     The document updates <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span> by introducing an attribute for declaring support of the RTP-mixer-based multiparty mixing case and rules for source indications and interleaving of text from different sources.<a href="#section-1-12" class="pilcrow">¶</a></p>
<section id="section-1.1">
        <h3 id="name-terminology">
<a href="#section-1.1" class="section-number selfRef">1.1. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
        </h3>
<p id="section-1.1-1">The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED",
"MAY", and "OPTIONAL" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown above.<a href="#section-1.1-1" class="pilcrow">¶</a></p>
<p id="section-1.1-2">
  The terms Source Description (SDES), Canonical name (CNAME), Name (NAME), Synchronization Source (SSRC), Contributing Source (CSRC), CSRC list, CSRC count [CC], Real-Time control protocol (RTCP), RTP-mixer, RTP-translator are defined in <span>[<a href="#RFC3550" class="xref">RFC3550</a>]</span>.<a href="#section-1.1-2" class="pilcrow">¶</a></p>
<p id="section-1.1-3">
  The term "T140block" is defined in <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span>  to contain one or more T.140 code elements.<a href="#section-1.1-3" class="pilcrow">¶</a></p>
<p id="section-1.1-4">
        "TTY" stands for a textphone type used in North America.<a href="#section-1.1-4" class="pilcrow">¶</a></p>
<p id="section-1.1-5">
      Web based real-time communication (WebRTC) is specified by the World Wide Web Consortium (W3C) and IETF. See <span>[<a href="#RFC8825" class="xref">RFC8825</a>]</span>.<a href="#section-1.1-5" class="pilcrow">¶</a></p>
<p id="section-1.1-6">
        "DTLS-SRTP" is a Datagram Transport Layer Security (DTLS) extension for use with Secure Real-Time Transport Protocol/Secure Real-Time Control Protocol (SRTP/SRTCP) specified in <span>[<a href="#RFC5764" class="xref">RFC5764</a>]</span>.<a href="#section-1.1-6" class="pilcrow">¶</a></p>
<p id="section-1.1-7">
   "multiparty-aware" describes an endpoint receiving real-time text from multiple sources through a common conference mixer being able to present the text in real-time, separated by source, and presented so that a user can get an impression of the approximate relative timing of text from different parties.<a href="#section-1.1-7" class="pilcrow">¶</a></p>
<p id="section-1.1-8">
   "multiparty-unaware" describes an endpoint not itself being able to separate text from different sources when received through a common conference mixer.<a href="#section-1.1-8" class="pilcrow">¶</a></p>
</section>
<div id="alternatives">
<section id="section-1.2">
        <h3 id="name-selected-solution-and-consi">
<a href="#section-1.2" class="section-number selfRef">1.2. </a><a href="#name-selected-solution-and-consi" class="section-name selfRef">Selected solution and considered alternatives</a>
        </h3>
<p id="section-1.2-1">
    A number of alternatives were considered when searching an efficient and easily implemented multiparty method for real-time text. This section explains a few of them briefly.<a href="#section-1.2-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-1.2-2">
          <dt id="section-1.2-2.1">
  Multiple RTP streams, one per participant
          </dt>
          <dd style="margin-left: 1.5em" id="section-1.2-2.2">
One RTP stream per source would be sent in the same RTP session with the "text/red" format.   
   From some points of view, use of multiple RTP streams, one for each source, sent in the same RTP session would be efficient, and would use exactly the same packet format as <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span> and the same payload type.
   A couple of relevant scenarios using multiple RTP-streams are specified in "RTP Topologies" <span>[<a href="#RFC7667" class="xref">RFC7667</a>]</span>. One possibility of special interest is the Selective Forwarding Middlebox (SFM) topology specified in RFC 7667 section 3.7 that could enable end-to-end encryption. In contrast to audio and video, real-time text is only transmitted when the users actually transmit information. Thus, an SFM solution would not need to exclude any party from transmission under normal conditions. In order to allow the mixer to convey the packets with the payload preserved and encrypted, an SFM solution would need to act on some specific characteristics of the "text/red" format. The redundancy headers are part of the payload, so the receiver would need to just assume that the payload type number in the redundancy header is for "text/t140". The characters per second parameter (cps) would need to act per stream. The relation between the SSRC and the source would need to be conveyed in some specified way, e.g., in the CSRC. Recovery and loss detection would preferably be based on sequence number gap detection. Thus, sequence number gaps in the incoming stream to the mixer would need to be reflected in the stream to the participant, with no new gaps created by the mixer.    
   However, the RTP implementation in both mixers and endpoints need to support multiple streams in the same RTP session in order to use this mechanism. For best deployment opportunity, it should be possible to upgrade existing endpoint solutions to be multiparty-aware with a reasonable effort. There is currently a lack of support for multi-stream RTP in certain implementations. This fact led to this solution being only briefly mentioned in this document as an option for further study.<a href="#section-1.2-2.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.3">
   RTP-mixer-based method for multiparty-aware endpoints
          </dt>
          <dd style="margin-left: 1.5em" id="section-1.2-2.4">
 The "text/red" format in RFC 4103 is sent with a shorter transmission interval with the RTP-mixer method and indicating the source in the CSRC field.
   The "text/red" format with a "text/t140" payload in a single RTP stream can be sent when text is available from the call participants instead of at the regular 300 ms. Transmission of packets with text from different sources can then be done smoothly while simultaneous transmission occurs as long as it is not limited by the maximum character rate "cps". With ten participants sending text simultaneously, the switching and transmission performance is good. With more simultaneously sending participants, and with receivers having the default capacity there will be a noticeable jerkiness and delay in text presentation. The jerkiness will be more expressed the more participants who send text simultaneously. Two seconds jerkiness will be noticeable and slightly unpleasant, but it corresponds in time to what typing humans often cause by hesitation or changing position while typing. A benefit of this method is that no new packet format needs to be introduced and implemented. Since simultaneous typing by more than two parties is expected to be very rare as described in <a href="#intendedapp" class="xref">Section 1.3</a>, this method can be used successfully with good performance. Recovery of text in case of packet loss is based on analysis of timestamps of received redundancy versus earlier received text. Negotiation is based on a new SDP media attribute "rtt-mixer". This method is selected to be the main one specified in this document.<a href="#section-1.2-2.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.5">Multiple sources per packet</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-2.6">
 A new "text" media subtype would be specified with up to 15 sources in each packet. 
   The mechanism would make use of the RTP mixer model specified in RTP <span>[<a href="#RFC3550" class="xref">RFC3550</a>]</span>. The sources are indicated in strict order in the CSRC list of the RTP packets. The CSRC list can have up to 15 members. Therefore, text from up to 15 sources can be included in each packet. Packets are normally sent with 300 ms intervals. The mean delay will be 150 ms. A new redundancy packet format is specified. This method would result in good performance, but would require standardization and implementation of new releases in the target technologies that would take more time than desirable to complete. It was therefore not selected to be included in this document.<a href="#section-1.2-2.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.7">Mixing for multiparty-unaware endpoints</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-2.8">
Presentation of text from multiple parties is prepared by the mixer in one single stream. 
  It is desirable to have a method that does not require any modifications in existing user devices implementing RFC 4103 for RTT without explicit support of multiparty sessions. This is possible by having the mixer insert a new line and a text formatted source label before each switch of text source in the stream. Switch of source can only be done in places in the text where it does not disturb the perception of the contents. Text from only one source can be presented in real time at a time. The delay will therefore vary. The method also has other limitations, but is included in this document as a fallback method. In calls where parties take turns properly by ending their entries with a new line, the limitations will have limited influence on the user experience. when only two parties send text, these two will see the text in real time with no delay. This method is specified as a fallback method in this document.<a href="#section-1.2-2.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-1.2-2.9">
  RTT transport in WebRTC
</dt>
          <dd style="margin-left: 1.5em" id="section-1.2-2.10">
  Transport of real-time text in the WebRTC technology is specified to use the WebRTC data channel in <span>[<a href="#RFC8865" class="xref">RFC8865</a>]</span>. That specification contains a section briefly describing its use in multiparty sessions. The focus of this document is RTP transport. Therefore, even if the WebRTC transport provides good multiparty performance, it is just mentioned in this document in relation to providing gateways with multiparty capabilities between RTP and WebRTC technologies.<a href="#section-1.2-2.10" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
<div id="intendedapp">
<section id="section-1.3">
        <h3 id="name-intended-application">
<a href="#section-1.3" class="section-number selfRef">1.3. </a><a href="#name-intended-application" class="section-name selfRef">Intended application</a>
        </h3>
<p id="section-1.3-1">
        The method for multiparty real-time text specified in this document is primarily intended for use in transmission between mixers and endpoints in centralized mixing configurations. It is also applicable between mixers. An often mentioned application is for emergency service calls with real-time text and voice, where a call taker wants to make an attended handover of a call to another agent, and stay to observe the session. Multimedia conference sessions with support for participants to contribute in text is another application. Conferences with central support for speech-to-text conversion is yet another mentioned application.<a href="#section-1.3-1" class="pilcrow">¶</a></p>
<p id="section-1.3-2">
          In all these applications, normally only one participant at a time will send long text utterances. In some cases, one other participant will occasionally contribute with a longer comment simultaneously. That may also happen in some rare cases when text is interpreted to text in another language in a conference. Apart from these cases, other participants are only expected to contribute with very brief utterings while others are sending text.<a href="#section-1.3-2" class="pilcrow">¶</a></p>
<p id="section-1.3-3">
 Users expect that the text they send is presented in real-time in a readable way to the other participants even if they send simultaneously with other users and even when they make brief edit operations of their text by backspacing and correcting their text.<a href="#section-1.3-3" class="pilcrow">¶</a></p>
<p id="section-1.3-4">
          Text is supposed to be human generated, by some text input means, such as typing on a keyboard or using speech-to-text technology. Occasional small cut-and-paste operations may appear even if that is not the initial purpose of real-time text.<a href="#section-1.3-4" class="pilcrow">¶</a></p>
<p id="section-1.3-5">
          The real-time characteristics of real-time text is essential for the participants to be able to contribute to a conversation. If the text is too much delayed from typing a letter to its presentation, then, in some conference situations, the opportunity to comment will be gone and someone else will grab the turn. A delay of more than one second in such situations is an obstacle for good conversation.<a href="#section-1.3-5" class="pilcrow">¶</a></p>
</section>
</div>
</section>
<section id="section-2">
      <h2 id="name-overview-of-the-two-specifi">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-overview-of-the-two-specifi" class="section-name selfRef">Overview of the two specified solutions and selection of method</a>
      </h2>
<p id="section-2-1">
  This section contains a brief introduction of the two methods specified in this document.<a href="#section-2-1" class="pilcrow">¶</a></p>
<div id="negouse">
<section id="section-2.1">
        <h3 id="name-the-rtp-mixer-based-solutio">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-the-rtp-mixer-based-solutio" class="section-name selfRef">The RTP-mixer-based solution for multiparty-aware endpoints</a>
        </h3>
<p id="section-2.1-1">
 This method specifies negotiated use of the RFC 4103 format for multiparty transmission in a single RTP stream. 
The main purpose of this document is to specify a method for true multiparty real-time text mixing for multiparty-aware endpoints that can be widely deployed. The RTP-mixer-based method makes use of the current format for real-time text in <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span>. It is an update of RFC 4103 by a clarification on one way to use it in the multiparty situation. That is done by completing a negotiation for this kind of multiparty capability and by interleaving packets from different sources. The source is indicated in the CSRC element in the RTP packets. Specific considerations are made to be able to recover text after packet loss.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.1-2">
The detailed procedures for the RTP-mixer-based multiparty-aware case are specified in <a href="#nego2" class="xref">Section 3</a>.<a href="#section-2.1-2" class="pilcrow">¶</a></p>
<p id="section-2.1-3">
   Please use <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span> as reference when reading the specification.<a href="#section-2.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-2.2">
        <h3 id="name-mixing-for-multiparty-unawa">
<a href="#section-2.2" class="section-number selfRef">2.2. </a><a href="#name-mixing-for-multiparty-unawa" class="section-name selfRef">Mixing for multiparty-unaware endpoints</a>
        </h3>
<p id="section-2.2-1">
  A method is also specified in this document for cases when the endpoint participating in a multiparty call does not itself implement any solution, or not the same, as the mixer. The method requires the mixer to insert text dividers and readable
    labels and only send text from one source at a time until a suitable point appears for source change.
    This solution is a fallback method with functional limitations. It acts on the presentation level.<a href="#section-2.2-1" class="pilcrow">¶</a></p>
<p id="section-2.2-2">
A mixer SHOULD by default format and transmit text to a call participant to be suitable to present on a multiparty-unaware endpoint which has not negotiated any method for true multiparty RTT handling, but negotiated a "text/red" or "text/t140" format in a session. This SHOULD be done if nothing else is specified for the application in order to maintain interoperability. <a href="#UnawareFormat" class="xref">Section 4.2</a> specifies how this mixing is done.<a href="#section-2.2-2" class="pilcrow">¶</a></p>
</section>
<div id="nego1">
<section id="section-2.3">
        <h3 id="name-offer-answer-considerations">
<a href="#section-2.3" class="section-number selfRef">2.3. </a><a href="#name-offer-answer-considerations" class="section-name selfRef">Offer/answer considerations</a>
        </h3>
<p id="section-2.3-1">
RTP Payload for Text Conversation <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span> specifies use of RTP <span>[<a href="#RFC3550" class="xref">RFC3550</a>]</span>, and a redundancy format "text/red" for increased robustness of real-time text transmission.
This document updates <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span>
by introducing a capability negotiation for handling multiparty real-time text, a way to indicate the source of transmitted text, and rules for efficient timing of the transmissions interleaved from different sources.<a href="#section-2.3-1" class="pilcrow">¶</a></p>
<p id="section-2.3-2">
The capability negotiation for the "RTP-mixer-based multiparty method" is based on use of the SDP media attribute "rtt-mixer".<a href="#section-2.3-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlNewline" id="section-2.3-3">
          <dt id="section-2.3-3.1">The syntax is as follows:</dt>
          <dd style="margin-left: 1.5em" id="section-2.3-3.2">"a=rtt-mixer"<a href="#section-2.3-3.2" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
<p id="section-2.3-4">
If any other method for RTP-based multiparty real-time text gets specified by additional work, it is assumed that it will be recognized by some specific SDP feature exchange.<a href="#section-2.3-4" class="pilcrow">¶</a></p>
<section id="section-2.3.1">
          <h4 id="name-initial-offer">
<a href="#section-2.3.1" class="section-number selfRef">2.3.1. </a><a href="#name-initial-offer" class="section-name selfRef">Initial offer</a>
          </h4>
<p id="section-2.3.1-1">
A party intending to set up a session and being willing to use the RTP-mixer-based method of this specification for sending or receiving or both sending and receiving real-time text SHALL include the "rtt-mixer" SDP attribute in the corresponding "text" media section in the initial offer.<a href="#section-2.3.1-1" class="pilcrow">¶</a></p>
<p id="section-2.3.1-2"> 
The party MAY indicate capability for both the RTP-mixer-based method of this specification and other methods.<a href="#section-2.3.1-2" class="pilcrow">¶</a></p>
<p id="section-2.3.1-3">
When the offeror has sent the offer including the "rtt-mixer" attribute, it MUST be prepared to receive and handle real-time text formatted according to both the method for multiparty-aware parties specified in <a href="#nego2" class="xref">Section 3</a> in this specification and two-party formatted real-time text.<a href="#section-2.3.1-3" class="pilcrow">¶</a></p>
</section>
<section id="section-2.3.2">
          <h4 id="name-answering-the-offer">
<a href="#section-2.3.2" class="section-number selfRef">2.3.2. </a><a href="#name-answering-the-offer" class="section-name selfRef">Answering the offer</a>
          </h4>
<p id="section-2.3.2-1">
  A party receiving an offer containing the "rtt-mixer" SDP attribute and being willing to use the RTP-mixer-based method of this specification for sending or receiving or both sending and receiving SHALL include the "rtt-mixer" SDP attribute in the corresponding "text" media section in the answer.<a href="#section-2.3.2-1" class="pilcrow">¶</a></p>
<p id="section-2.3.2-2">
  If the offer did not contain the "rtt-mixer" attribute, the answer MUST NOT contain the "rtt-mixer" attribute.<a href="#section-2.3.2-2" class="pilcrow">¶</a></p>
<p id="section-2.3.2-3">
  Even when the "rtt-mixer" attribute is successfully negotiated, the parties MAY send and receive two-party coded real-time text.<a href="#section-2.3.2-3" class="pilcrow">¶</a></p>
<p id="section-2.3.2-4">
  An answer MUST NOT include acceptance of more than one method for multiparty real-time text in the same RTP session.<a href="#section-2.3.2-4" class="pilcrow">¶</a></p>
<p id="section-2.3.2-5">
  When the answer including acceptance is transmitted, the answerer MUST be prepared to act on received text in the negotiated session according to the method for multiparty-aware parties specified in <a href="#nego2" class="xref">Section 3</a> of this specification. Reception of text for a two-party session SHALL also be supported.<a href="#section-2.3.2-5" class="pilcrow">¶</a></p>
<p id="section-2.3.2-6"></p>
</section>
<section id="section-2.3.3">
          <h4 id="name-offeror-processing-the-answ">
<a href="#section-2.3.3" class="section-number selfRef">2.3.3. </a><a href="#name-offeror-processing-the-answ" class="section-name selfRef">Offeror processing the answer</a>
          </h4>
<p id="section-2.3.3-1">
 When the answer is processed by the offeror, it MUST act as specified in <a href="#negoresult" class="xref">Section 2.4</a><a href="#section-2.3.3-1" class="pilcrow">¶</a></p>
</section>
<section id="section-2.3.4">
          <h4 id="name-modifying-a-session">
<a href="#section-2.3.4" class="section-number selfRef">2.3.4. </a><a href="#name-modifying-a-session" class="section-name selfRef">Modifying a session</a>
          </h4>
<p id="section-2.3.4-1">
 A session MAY be modified at any time by any party offering a modified SDP with or without the "rtt-mixer" SDP attribute expressing a desired change in the support of multiparty real-time text.<a href="#section-2.3.4-1" class="pilcrow">¶</a></p>
<p id="section-2.3.4-2">
  If the modified offer adds indication of support for multiparty real-time text by including the "rtt-mixer" SDP attribute, the procedures specified in the previous subsections SHALL be applied.<a href="#section-2.3.4-2" class="pilcrow">¶</a></p>
<p id="section-2.3.4-3">
  If the modified offer deletes indication of support for multiparty real-time text by excluding the "rtt-mixer" SDP attribute, the answer MUST NOT contain the "rtt-mixer" attribute. After processing this SDP exchange, the parties MUST NOT send real-time text formatted for multiparty-aware parties according to this specification.<a href="#section-2.3.4-3" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<div id="negoresult">
<section id="section-2.4">
        <h3 id="name-actions-depending-on-capabi">
<a href="#section-2.4" class="section-number selfRef">2.4. </a><a href="#name-actions-depending-on-capabi" class="section-name selfRef">Actions depending on capability negotiation result</a>
        </h3>
<p id="section-2.4-1">
  A transmitting party SHALL send text according to the RTP-mixer-based multiparty method only when the negotiation for that method was successful and when it conveys text for another source. In all other cases, the packets SHALL be populated and interpreted as for a two-party session.<a href="#section-2.4-1" class="pilcrow">¶</a></p>
<p id="section-2.4-2">
  A party which has negotiated the "rtt-mixer" SDP media attribute MUST populate the CSRC-list, and format the packets according to <a href="#nego2" class="xref">Section 3</a>  if it acts as an rtp-mixer and sends multiparty text.<a href="#section-2.4-2" class="pilcrow">¶</a></p>
<p id="section-2.4-3">
  A party which has negotiated the "rtt-mixer" SDP media attribute MUST interpret the contents of the "CC" field, the CSRC-list and the packets according to <a href="#nego2" class="xref">Section 3</a> in received RTP packets in the corresponding RTP stream.<a href="#section-2.4-3" class="pilcrow">¶</a></p>
<p id="section-2.4-4">
   A party which has not successfully completed the negotiation of the "rtt-mixer" SDP media attribute MUST NOT transmit packets interleaved from different sources in the same RTP stream as specified in <a href="#nego2" class="xref">Section 3</a>. 
   If the party is a mixer and did declare the "rtt-mixer" SDP media attribute, it SHOULD perform the procedure for multiparty-unaware endpoints. If the party is not a mixer, it SHOULD transmit as in a two-party session according to <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span>.<a href="#section-2.4-4" class="pilcrow">¶</a></p>
</section>
</div>
</section>
<div id="nego2">
<section id="section-3">
      <h2 id="name-details-for-the-rtp-mixer-b">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-details-for-the-rtp-mixer-b" class="section-name selfRef">Details for the RTP-mixer-based mixing method for multiparty-aware endpoints</a>
      </h2>
<section id="section-3.1">
        <h3 id="name-use-of-fields-in-the-rtp-pa">
<a href="#section-3.1" class="section-number selfRef">3.1. </a><a href="#name-use-of-fields-in-the-rtp-pa" class="section-name selfRef">Use of fields in the RTP packets</a>
        </h3>
<p id="section-3.1-1">
The CC field SHALL show the number of members in the CSRC list, which SHALL be one (1) in transmissions from a mixer  when conveying text from other sources in a multiparty session, and otherwise 0.<a href="#section-3.1-1" class="pilcrow">¶</a></p>
<p id="section-3.1-2">
When text is conveyed by a mixer during a multiparty session, a CSRC list SHALL be included in the packet. The single member in the CSRC-list SHALL contain the SSRC of the source of the T140blocks in the packet.<a href="#section-3.1-2" class="pilcrow">¶</a></p>
<p id="section-3.1-3">
 When redundancy is used, the RECOMMENDED level of redundancy is to use one primary and two redundant generations of T140blocks. In some cases, a primary or redundant T140block is empty, but is still represented by a member in the redundancy header.<a href="#section-3.1-3" class="pilcrow">¶</a></p>
<p id="section-3.1-4">
  In other regards, the contents of the RTP packets are equal to what is specified in <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span>.<a href="#section-3.1-4" class="pilcrow">¶</a></p>
</section>
<section id="section-3.2">
        <h3 id="name-initial-transmission-of-a-b">
<a href="#section-3.2" class="section-number selfRef">3.2. </a><a href="#name-initial-transmission-of-a-b" class="section-name selfRef">Initial transmission of a BOM character</a>
        </h3>
<p id="section-3.2-1">
      As soon as a participant is known to participate in a session with another entity and is available for text reception, a Unicode Byte-Order Mark (BOM) character SHALL be sent to it by the other entity according to the procedures in this section. This is useful in many configurations to open ports and firewalls and setting up the connection between the application and the network. If the transmitter is a mixer, then the source of this character SHALL be indicated to be the mixer itself.<a href="#section-3.2-1" class="pilcrow">¶</a></p>
<p id="section-3.2-2">
              Note that the BOM character SHALL be transmitted with the same redundancy procedures as any other text.<a href="#section-3.2-2" class="pilcrow">¶</a></p>
</section>
<section id="section-3.3">
        <h3 id="name-keep-alive">
<a href="#section-3.3" class="section-number selfRef">3.3. </a><a href="#name-keep-alive" class="section-name selfRef">Keep-alive</a>
        </h3>
<p id="section-3.3-1">
      After that, the transmitter SHALL send keep-alive traffic to the receiver(s) at regular intervals when no other traffic has occurred during that interval, if that is decided for the actual connection. It is RECOMMENDED to use the keep-alive solution from <span>[<a href="#RFC6263" class="xref">RFC6263</a>]</span>. The consent check of <span>[<a href="#RFC7675" class="xref">RFC7675</a>]</span> is a possible alternative if it is used anyway for other reasons.<a href="#section-3.3-1" class="pilcrow">¶</a></p>
</section>
<div id="transmint">
<section id="section-3.4">
        <h3 id="name-transmission-interval">
<a href="#section-3.4" class="section-number selfRef">3.4. </a><a href="#name-transmission-interval" class="section-name selfRef">Transmission interval</a>
        </h3>
<p id="section-3.4-1">
      A "text/red" or "text/t140" transmitter in a mixer SHALL send packets distributed in time as long as there is something (new or redundant T140blocks) to transmit.  The maximum transmission interval between text transmissions from the same source SHALL then be 330 ms, when no other limitations cause a longer interval to be temporarily used. It is RECOMMENDED to send the next packet to a receiver as soon as new text to that receiver is available, as long as the mean character rate of new text to the receiver calculated over the last 10 one-second intervals does not exceed the "cps" value of the receiver. The intention is to keep the latency low and network load limited while keeping good protection against text loss in bursty packet loss conditions. The main purpose of the 330 ms interval is for timing of redundant transmission, when no new text from the same source is available.<a href="#section-3.4-1" class="pilcrow">¶</a></p>
<p id="section-3.4-2">
 The reason for the value 330 ms is that many sources of text will
   transmit new text with 300 ms intervals during periods of 
   continuous user typing, and then reception in the mixer of such new
   text will cause a combined transmission of the new text and the 
   unsent redundancy from the previous transmission. Only when the user 
   stops typing, the 330 ms interval will be applied to send the 
   redundancy.<a href="#section-3.4-2" class="pilcrow">¶</a></p>
<p id="section-3.4-3">
 If the Characters Per Second (cps) value is reached, a longer transmission interval SHALL be applied for text from all sources as specified in  <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span> and only as much of the text queued for transmission SHALL be sent at the end of each transmission interval as can be allowed without exceeding the "cps" value. Division of text for partial transmission MUST then be made at T140block borders. When the transmission rate falls under the "cps" value again, 
   the transmission intervals SHALL be returned to 330 ms and transmission of new text SHALL return to be made as soon as new 
   text is available.<a href="#section-3.4-3" class="pilcrow">¶</a></p>
<p id="section-3.4-4">

   NOTE: that extending the transmission intervals during high load 
   periods does not change the number of characters to be conveyed. 
   It just evens out the load in time and reduces the number of packets 
   per second. With human created conversational text, the sending 
   user will eventually take a pause letting transmission catch up.<a href="#section-3.4-4" class="pilcrow">¶</a></p>
<p id="section-3.4-5">
   See also <a href="#congest" class="xref">Section 8</a>.<a href="#section-3.4-5" class="pilcrow">¶</a></p>
<p id="section-3.4-6">
 For a transmitter not acting as a mixer, the transmission interval principles from  <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span> apply, and the normal transmission interval SHALL be 300 ms.<a href="#section-3.4-6" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-3.5">
        <h3 id="name-only-one-source-per-packet">
<a href="#section-3.5" class="section-number selfRef">3.5. </a><a href="#name-only-one-source-per-packet" class="section-name selfRef">Only one source per packet</a>
        </h3>
<p id="section-3.5-1"> New text and redundant copies of earlier text from one source SHALL be transmitted in the same packet if available for transmission at the same time. Text from different sources MUST NOT be transmitted in the same packet.<a href="#section-3.5-1" class="pilcrow">¶</a></p>
</section>
<section id="section-3.6">
        <h3 id="name-do-not-send-received-text-t">
<a href="#section-3.6" class="section-number selfRef">3.6. </a><a href="#name-do-not-send-received-text-t" class="section-name selfRef">Do not send received text to the originating source</a>
        </h3>
<p id="section-3.6-1">
              Text received by a mixer from a participant SHOULD NOT be included in transmission from the mixer to that participant, because the normal behavior of the endpoint is to present locally-produced text locally.<a href="#section-3.6-1" class="pilcrow">¶</a></p>
</section>
<section id="section-3.7">
        <h3 id="name-clean-incoming-text">
<a href="#section-3.7" class="section-number selfRef">3.7. </a><a href="#name-clean-incoming-text" class="section-name selfRef">Clean incoming text</a>
        </h3>
<p id="section-3.7-1">
              A mixer SHALL handle reception, recovery from packet loss, deletion of superfluous redundancy, marking of possible text loss and deletion of 'BOM' characters from each participant before queueing received text for transmission to receiving participants as specified in <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span> for single-party sources and <a href="#reception" class="xref">Section 3.16</a> for multiparty sources (chained mixers).<a href="#section-3.7-1" class="pilcrow">¶</a></p>
</section>
<section id="section-3.8">
        <h3 id="name-redundant-transmission-prin">
<a href="#section-3.8" class="section-number selfRef">3.8. </a><a href="#name-redundant-transmission-prin" class="section-name selfRef">Redundant transmission principles</a>
        </h3>
<p id="section-3.8-1">
      A transmitting party using redundancy SHALL send redundant repetitions of T140blocks already transmitted in earlier packets.<a href="#section-3.8-1" class="pilcrow">¶</a></p>
<p id="section-3.8-2"> The number of redundant generations of T140blocks to include in transmitted packets SHALL be deduced from the SDP negotiation. It SHALL be set to the minimum of the number declared by the two parties negotiating a connection. It is RECOMMENDED to declare and transmit one original and two redundant generations of the T140blocks because that provides good protection against text loss in case of packet loss, and low overhead.<a href="#section-3.8-2" class="pilcrow">¶</a></p>
</section>
<section id="section-3.9">
        <h3 id="name-text-placement-in-packets">
<a href="#section-3.9" class="section-number selfRef">3.9. </a><a href="#name-text-placement-in-packets" class="section-name selfRef">Text placement in packets</a>
        </h3>
<p id="section-3.9-1">
   The mixer SHALL compose and transmit an RTP packet to a receiver when one or more of the following conditions have occurred:<a href="#section-3.9-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3.9-2.1">The transmission interval is the normal 330 ms and there is newly received unsent text available for transmission to that receiver.<a href="#section-3.9-2.1" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.9-2.2">The current transmission interval has passed and is longer than the normal 330 ms and there is newly received unsent text available for transmission to that receiver.<a href="#section-3.9-2.2" class="pilcrow">¶</a>
</li>
          <li class="normal" id="section-3.9-2.3">The current transmission interval ( normally 330 ms) has passed since already transmitted text was queued for transmission as redundant text.<a href="#section-3.9-2.3" class="pilcrow">¶</a>
</li>
        </ul>
<p id="section-3.9-3">
 The principles from <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span> apply for populating the header, the redundancy header and the 
data in the packet with specifics specified here and in the following sections.<a href="#section-3.9-3" class="pilcrow">¶</a></p>
<p id="section-3.9-4">
             At the time of transmission, the mixer SHALL populate the RTP packet with all T140blocks queued for transmission originating from the source in turn for transmission as long as this is not in conflict with the allowed number of characters per second ("cps") or the maximum packet size. In this way, the latency of the latest received text is kept low even in moments of simultaneous transmission from many sources.<a href="#section-3.9-4" class="pilcrow">¶</a></p>
<p id="section-3.9-5">
   Redundant text SHALL also be included, and the assessment of how much new text can be included within the maximum packet size MUST take into account that the redundancy has priority to be transmitted in its entirety.  See <a href="#transmint" class="xref">Section 3.4</a><a href="#section-3.9-5" class="pilcrow">¶</a></p>
<p id="section-3.9-6">
   The SSRC of the source SHALL be placed as the only member in the CSRC-list.<a href="#section-3.9-6" class="pilcrow">¶</a></p>
<p id="section-3.9-7">
Note: The CSRC-list in an RTP packet only includes the participant whose text is included in text blocks. It is not the same as the total list of participants in a conference. With audio and video media, the CSRC-list would often contain all participants who are not muted whereas text participants that don't type are completely silent and thus are not represented in RTP packet CSRC-lists.<a href="#section-3.9-7" class="pilcrow">¶</a></p>
</section>
<section id="section-3.10">
        <h3 id="name-empty-t140blocks">
<a href="#section-3.10" class="section-number selfRef">3.10. </a><a href="#name-empty-t140blocks" class="section-name selfRef">Empty T140blocks</a>
        </h3>
<p id="section-3.10-1">
      If no unsent T140blocks were available for a source at the time of populating a packet, but T140blocks are available which have not yet been sent the full intended number of redundant transmissions, then the primary T140block for that source is composed of an empty T140block, and populated (without taking up any length) in a packet for transmission. The corresponding SSRC SHALL be placed as usual in its place in the CSRC-list.<a href="#section-3.10-1" class="pilcrow">¶</a></p>
<p id="section-3.10-2">
        The first packet in the session, the first after a source switch, and the first after a pause SHALL be populated with the
        available T140blocks for the source in turn to be sent as primary, and empty T140blocks for the agreed number of redundancy generations.<a href="#section-3.10-2" class="pilcrow">¶</a></p>
</section>
<div id="redundancy">
<section id="section-3.11">
        <h3 id="name-creation-of-the-redundancy">
<a href="#section-3.11" class="section-number selfRef">3.11. </a><a href="#name-creation-of-the-redundancy" class="section-name selfRef">Creation of the redundancy</a>
        </h3>
<p id="section-3.11-1">
      The primary T140block from a source in the latest transmitted packet is saved for populating the first redundant T140block for that source in the next transmission of text from that source. The first redundant T140block for that source from the latest transmission is saved for populating the second redundant T140block in the next transmission of text from that source.<a href="#section-3.11-1" class="pilcrow">¶</a></p>
<p id="section-3.11-2">
      Usually this is the level of redundancy used. If a higher level of redundancy is negotiated, then the procedure SHALL be maintained until all available redundant levels of T140blocks are placed in the packet. If a receiver has negotiated a lower number of "text/red" generations, then that level SHALL be the maximum used by the transmitter.<a href="#section-3.11-2" class="pilcrow">¶</a></p>
<p id="section-3.11-3">
   The T140blocks saved for transmission as redundant data are assigned a planned transmission time 330 ms after the current time, but SHOULD be transmitted earlier if new text for the same source gets in turn for transmission before that time.<a href="#section-3.11-3" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-3.12">
        <h3 id="name-timer-offset-fields">
<a href="#section-3.12" class="section-number selfRef">3.12. </a><a href="#name-timer-offset-fields" class="section-name selfRef">Timer offset fields</a>
        </h3>
<p id="section-3.12-1">
      The timestamp offset values SHALL be inserted in the redundancy header, with the time offset from the RTP timestamp in the packet when the corresponding T140block was sent as primary.<a href="#section-3.12-1" class="pilcrow">¶</a></p>
<p id="section-3.12-2">
        The timestamp offsets are expressed in the same clock tick units as the RTP timestamp.<a href="#section-3.12-2" class="pilcrow">¶</a></p>
<p id="section-3.12-3">
        The timestamp offset values for empty T140blocks have no relevance but SHOULD be assigned realistic values.<a href="#section-3.12-3" class="pilcrow">¶</a></p>
</section>
<section id="section-3.13">
        <h3 id="name-other-rtp-header-fields">
<a href="#section-3.13" class="section-number selfRef">3.13. </a><a href="#name-other-rtp-header-fields" class="section-name selfRef">Other RTP header fields</a>
        </h3>
<p id="section-3.13-1">
      The number of members in the CSRC list (0 or 1) SHALL be placed in the "CC" header field. Only mixers place value 1 in the "CC" field. A value of "0" indicates that the source is the transmitting device itself and that the source is indicated by the SSRC field. This value is used by endpoints, and by mixers sending self-sourced data.<a href="#section-3.13-1" class="pilcrow">¶</a></p>
<p id="section-3.13-2">
                The current time SHALL be inserted in the timestamp.<a href="#section-3.13-2" class="pilcrow">¶</a></p>
<p id="section-3.13-3">
        The SSRC header field SHALL contain the SSRC of the RTP session where the packet will be transmitted.<a href="#section-3.13-3" class="pilcrow">¶</a></p>
<p id="section-3.13-4">
        The M-bit SHALL be handled as specified in <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span>.<a href="#section-3.13-4" class="pilcrow">¶</a></p>
</section>
<section id="section-3.14">
        <h3 id="name-pause-in-transmission">
<a href="#section-3.14" class="section-number selfRef">3.14. </a><a href="#name-pause-in-transmission" class="section-name selfRef">Pause in transmission</a>
        </h3>
<p id="section-3.14-1">
      When there is no new T140block to transmit, and no redundant T140block that has not been retransmitted the intended number of times from any source, the transmission process SHALL be stopped until either new T140blocks arrive, or a keep-alive method calls for transmission of keep-alive packets.<a href="#section-3.14-1" class="pilcrow">¶</a></p>
</section>
<section id="section-3.15">
        <h3 id="name-rtcp-considerations">
<a href="#section-3.15" class="section-number selfRef">3.15. </a><a href="#name-rtcp-considerations" class="section-name selfRef">RTCP considerations</a>
        </h3>
<p id="section-3.15-1">
      A mixer SHALL send RTCP reports with SDES, CNAME, and NAME information about the sources in the multiparty call. This makes it possible for participants to compose a suitable label for text from each source.<a href="#section-3.15-1" class="pilcrow">¶</a></p>
<p id="section-3.15-2">
              Privacy considerations SHALL be taken when composing these fields. They contain name and address information that may be sensitive to transmit in its entirety, e.g., to unauthenticated participants.<a href="#section-3.15-2" class="pilcrow">¶</a></p>
</section>
<div id="reception">
<section id="section-3.16">
        <h3 id="name-reception-of-multiparty-con">
<a href="#section-3.16" class="section-number selfRef">3.16. </a><a href="#name-reception-of-multiparty-con" class="section-name selfRef">Reception of multiparty contents</a>
        </h3>
<p id="section-3.16-1">

The "text/red" receiver included in an endpoint with presentation functions will receive RTP packets in the single stream from the mixer, and SHALL distribute the T140blocks for presentation in presentation areas for each source. Other receiver roles, such as gateways or chained mixers, are also feasible. They require considerations if the stream shall just be forwarded, or distributed based on the different sources.<a href="#section-3.16-1" class="pilcrow">¶</a></p>
<section id="section-3.16.1">
          <h4 id="name-acting-on-the-source-of-the">
<a href="#section-3.16.1" class="section-number selfRef">3.16.1. </a><a href="#name-acting-on-the-source-of-the" class="section-name selfRef">Acting on the source of the packet contents</a>
          </h4>
<p id="section-3.16.1-1">
If the "CC" field value of a received packet is 1, it indicates that
   the text is conveyed from a source indicated in the single member in the CSRC-list, and the receiver MUST act on the source according to its role. If the CC value is 0, the source is indicated in the SSRC field.<a href="#section-3.16.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-3.16.2">
          <h4 id="name-detection-and-indication-of">
<a href="#section-3.16.2" class="section-number selfRef">3.16.2. </a><a href="#name-detection-and-indication-of" class="section-name selfRef">Detection and indication of possible text loss</a>
          </h4>
<p id="section-3.16.2-1">
The receiver SHALL monitor the RTP sequence numbers of the received packets for gaps and packets out of order.
If a sequence number gap appears and still exists after some defined short time for jitter and reordering resolution, the packets in the gap SHALL be regarded as lost.<a href="#section-3.16.2-1" class="pilcrow">¶</a></p>
<p id="section-3.16.2-2">
If it is known that only one source is active in the RTP session, then it is likely that a gap equal to or larger than the agreed number of redundancy generations (including the primary) causes text loss. In that case, the receiver SHALL create a t140block with a marker for possible text loss <span>[<a href="#T140ad1" class="xref">T140ad1</a>]</span> and associate it with the source and insert it in the reception buffer for that source.<a href="#section-3.16.2-2" class="pilcrow">¶</a></p>
<p id="section-3.16.2-3">
If it is known that more than one source is active in the RTP session, then it is not possible in general to evaluate if text was lost when packets were lost. With two active sources and the recommended number of redundancy generations (3), it can take a gap of five consecutive lost packets until any text may be lost, but text loss can also appear if three non-consecutive packets are lost when they contained consecutive data from the same source. A simple method to decide when there is risk for resulting text loss is to evaluate if three or more packets were lost within one second. If this simple method is used, then a t140block SHOULD be created with a marker for possible text loss <span>[<a href="#T140ad1" class="xref">T140ad1</a>]</span> and associated with the SSRC of the RTP session as a general input from the mixer.<a href="#section-3.16.2-3" class="pilcrow">¶</a></p>
<p id="section-3.16.2-4">
Implementations MAY apply more refined methods for more reliable detection of whether text was lost or not. Any refined method SHOULD prefer marking possible loss rather than not marking when it is uncertain if there was loss.<a href="#section-3.16.2-4" class="pilcrow">¶</a></p>
</section>
<section id="section-3.16.3">
          <h4 id="name-extracting-text-and-handlin">
<a href="#section-3.16.3" class="section-number selfRef">3.16.3. </a><a href="#name-extracting-text-and-handlin" class="section-name selfRef">Extracting text and handling recovery</a>
          </h4>
<p id="section-3.16.3-1">
When applying the following procedures, the effects MUST be considered of possible timestamp wrap around and the RTP session possibly changing SSRC.<a href="#section-3.16.3-1" class="pilcrow">¶</a></p>
<p id="section-3.16.3-2">
When a packet is received in an RTP session using the packetization for multiparty-aware endpoints, its T140blocks SHALL be extracted in the following way.<a href="#section-3.16.3-2" class="pilcrow">¶</a></p>
<p id="section-3.16.3-3">
The source SHALL be extracted from the CSRC-list if available, otherwise from the SSRC.<a href="#section-3.16.3-3" class="pilcrow">¶</a></p>
<p id="section-3.16.3-4">
If the received packet is the first packet received from the source, then all T140blocks in the packet SHALL be retrieved and assigned to a receive buffer for the source beginning with the oldest available redundant generation, continuing with the younger redundant generations in age order and finally the primary.<a href="#section-3.16.3-4" class="pilcrow">¶</a></p>
<p id="section-3.16.3-5">
Note: The normal case is that in the first packet, only the primary data has contents. The redundant data has contents in the first received packet from a source only after initial packet loss.<a href="#section-3.16.3-5" class="pilcrow">¶</a></p>
<p id="section-3.16.3-6">
If the packet is not the first packet from a source, then if redundant
   data is available, the process SHALL start with the oldest generation.
   The timestamp of that redundant data SHALL be
   created by subtracting its timestamp offset from the RTP timestamp.
   If the resulting timestamp is later than the latest retrieved data
   from the same source, then the redundant data SHALL be retrieved and
   appended to the receive buffer. The process SHALL be continued in
   the same way for all younger generations of redundant data.  After that,
   the timestamp of the packet SHALL be compared with the timestamp of
   the latest retrieved data from the same source and if it is later,
   then the primary data SHALL be retrieved from the packet and appended
   to the receive buffer for the source.<a href="#section-3.16.3-6" class="pilcrow">¶</a></p>
</section>
<section id="section-3.16.4">
          <h4 id="name-delete-bom">
<a href="#section-3.16.4" class="section-number selfRef">3.16.4. </a><a href="#name-delete-bom" class="section-name selfRef">Delete 'BOM'</a>
          </h4>
<p id="section-3.16.4-1">
Unicode character 'BOM' is used as a start indication and sometimes used as a filler or keep alive by transmission implementations. These SHALL be deleted after extraction from received packets.<a href="#section-3.16.4-1" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<div id="perf">
<section id="section-3.17">
        <h3 id="name-performance-considerations">
<a href="#section-3.17" class="section-number selfRef">3.17. </a><a href="#name-performance-considerations" class="section-name selfRef">Performance considerations</a>
        </h3>
<p id="section-3.17-1">
      This solution has good performance with low text delays, as long as the mean number of characters per second sent during any 10-second interval from a number of simultaneously sending participants to a receiving participant, does not reach the "cps" value. At higher numbers of sent characters per second, a jerkiness is visible in the presentation of text. The solution is therefore suitable for emergency service use, relay service use, and small or well-managed larger multimedia conferences. Only in large unmanaged conferences with a high number of participants there may on very rare occasions appear situations when many participants happen to send text simultaneously. In such circumstances, the result may be unpleasantly jerky presentation of text from each sending participant. It should be noted that it is only the number of users sending text within the same moment that causes jerkiness, not the total number of users with RTT capability.<a href="#section-3.17-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security2">
<section id="section-3.18">
        <h3 id="name-security-for-session-contro">
<a href="#section-3.18" class="section-number selfRef">3.18. </a><a href="#name-security-for-session-contro" class="section-name selfRef">Security for session control and media</a>
        </h3>
<p id="section-3.18-1">

  Security mechanisms to provide confidentiality and
integrity protection and peer authentication SHOULD be applied when possible regarding the capabilities of the participating devices by use of SIP over TLS by default according to <span>[<a href="#RFC5630" class="xref">RFC5630</a>]</span> section 3.1.3 on the session control level and by default using DTLS-SRTP <span>[<a href="#RFC5764" class="xref">RFC5764</a>]</span> on the media level. In applications where legacy endpoints without security are allowed, a negotiation SHOULD be performed to decide if encryption on the media level will be applied. If no other security solution is mandated for the application, then OSRTP <span>[<a href="#RFC8643" class="xref">RFC8643</a>]</span> is a suitable method to be applied to negotiate SRTP media security with DTLS. Most SDP examples below are for simplicity expressed without the security additions. The principles (but not all details) for applying DTLS-SRTP <span>[<a href="#RFC5764" class="xref">RFC5764</a>]</span> security are shown in a couple of the following examples.<a href="#section-3.18-1" class="pilcrow">¶</a></p>
<p id="section-3.18-2">
  Further general security considerations are covered in <a href="#Security" class="xref">Section 10</a>.<a href="#section-3.18-2" class="pilcrow">¶</a></p>
<p id="section-3.18-3">
  End-to-end encryption would require further work and could be based on WebRTC as specified in <a href="#alternatives" class="xref">Section 1.2</a> or on double encryption as specified in <span>[<a href="#RFC8723" class="xref">RFC8723</a>]</span>.<a href="#section-3.18-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="SDP-examples2">
<section id="section-3.19">
        <h3 id="name-sdp-offer-answer-examples">
<a href="#section-3.19" class="section-number selfRef">3.19. </a><a href="#name-sdp-offer-answer-examples" class="section-name selfRef">SDP offer/answer examples</a>
        </h3>
<p id="section-3.19-1">
      This section shows some examples of SDP for session negotiation of the real-time text media in SIP sessions. Audio is usually provided in the same session, and sometimes also video. The examples only show the part of importance for the real-time text media. The examples relate to the single RTP stream mixing for multiparty-aware endpoints and for multiparty-unaware endpoints.<a href="#section-3.19-1" class="pilcrow">¶</a></p>
<p id="section-3.19-2">
Note: Multiparty RTT MAY also be provided through other methods, e.g., by a Selective Forwarding Middlebox (SFM). In that case, the
   SDP of the offer will include something specific for that method, e.g., an SDP attribute or another media format. An answer selecting the use of that method would accept it by a corresponding acknowledgement included in the SDP. The offer may contain also the "rtt-mixer" SDP media attribute for the main RTT media when the offeror has capability for both multiparty methods, while an answer, selecting to use SFM will not include the "rtt-mixer" SDP media attribute.<a href="#section-3.19-2" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-3.19-3">
<pre>

  Offer example for "text/red" format and multiparty support:

        m=text 11000 RTP/AVP 100 98
        a=rtpmap:98 t140/1000
        a=rtpmap:100 red/1000
        a=fmtp:100 98/98/98
        a=rtt-mixer
</pre><a href="#section-3.19-3" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-3.19-4">
<pre>
   Answer example from a multiparty-aware device
        m=text 14000 RTP/AVP 100 98
        a=rtpmap:98 t140/1000
        a=rtpmap:100 red/1000
        a=fmtp:100 98/98/98
        a=rtt-mixer
</pre><a href="#section-3.19-4" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-3.19-5">
<pre>

   Offer example for "text/red" format including multiparty
   and security:
         a=fingerprint: (fingerprint1)
         m=text 11000 RTP/AVP 100 98
         a=rtpmap:98 t140/1000
         a=rtpmap:100 red/1000
         a=fmtp:100 98/98/98
         a=rtt-mixer
</pre><a href="#section-3.19-5" class="pilcrow">¶</a>
</div>
<p id="section-3.19-6">The "fingerprint" is sufficient to offer DTLS-SRTP, with the media line still indicating RTP/AVP.<a href="#section-3.19-6" class="pilcrow">¶</a></p>
<p id="section-3.19-7">
    Note: For brevity, the entire value of the SDP fingerprint attribute
   is not shown in this and the following example.<a href="#section-3.19-7" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-3.19-8">
<pre>
    Answer example from a multiparty-aware device with security
         a=fingerprint: (fingerprint2)
         m=text 16000 RTP/AVP 100 98
         a=rtpmap:98 t140/1000
         a=rtpmap:100 red/1000
         a=fmtp:100 98/98/98
         a=rtt-mixer
</pre><a href="#section-3.19-8" class="pilcrow">¶</a>
</div>
<p id="section-3.19-9">
    With the "fingerprint" the device acknowledges use of SRTP/DTLS.<a href="#section-3.19-9" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-3.19-10">
<pre>

  Answer example from a multiparty-unaware device that also
  does not support security:

        m=text 12000 RTP/AVP 100 98
        a=rtpmap:98 t140/1000
        a=rtpmap:100 red/1000
        a=fmtp:100 98/98/98
</pre><a href="#section-3.19-10" class="pilcrow">¶</a>
</div>
</section>
</div>
<div id="pseq">
<section id="section-3.20">
        <h3 id="name-packet-sequence-example-fro">
<a href="#section-3.20" class="section-number selfRef">3.20. </a><a href="#name-packet-sequence-example-fro" class="section-name selfRef">Packet sequence example from interleaved transmission</a>
        </h3>
<p id="section-3.20-1">

  This example shows a symbolic flow of packets from a mixer including loss and recovery. The sequence includes interleaved transmission of text from two RTT sources A and B.
  P indicates primary data. R1 is first redundant generation data and R2 is the second redundant generation data. A1, B1, A2 etc. are text chunks (T140blocks) received from the respective sources and sent on to the receiver by the mixer. X indicates a dropped packet between the mixer and a receiver. The session is assumed to use original and two redundant generations of RTT.<a href="#section-3.20-1" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-3.20-2">
<pre>
  |-----------------------|
  |Seq no 101, Time=20400 |
  |CC=1                   |
  |CSRC list A            |
  |R2: A1, Offset=600     |
  |R1: A2, Offset=300     |
  |P:  A3                 |
  |-----------------------|
</pre><a href="#section-3.20-2" class="pilcrow">¶</a>
</div>
<p id="section-3.20-3">
  Assuming that earlier packets (with text A1 and A2) were received in sequence, text A3 is received from packet 101 and assigned to reception buffer A. The mixer is now assumed to have received initial text from source B 100 ms after packet 101 and will send that text. Transmission of A2 and A3 as redundancy is planned for 330 ms after packet 101 if no new text from A is ready to be sent before that.<a href="#section-3.20-3" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-3.20-4">
<pre>
  |-----------------------|
  |Seq no 102, Time=20500 |
  |CC=1                   |
  |CSRC list B            |
  |R2  Empty, Offset=600  |
  |R1: Empty, Offset=300  |
  |P:  B1                 |
  |-----------------------|
  Packet 102 is received.
  B1 is retrieved from this packet. Redundant transmission of
  B1 is planned 330 ms after packet 102.
</pre><a href="#section-3.20-4" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-3.20-5">
<pre>
  X------------------------|
  X Seq no 103, Timer=20730|
  X CC=1                   |
  X CSRC list A            |
  X R2: A2, Offset=630     |
  X R1: A3, Offset=330     |
  X P:  Empty              |
  X------------------------|
  Packet 103 is assumed to be lost due to network problems.
  It contains redundancy for A. Sending A3 as second level
  redundancy is planned for 330 ms after packet 103.
</pre><a href="#section-3.20-5" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-3.20-6">
<pre>
  X------------------------|
  X Seq no 104, Timer=20800|
  X CC=1                   |
  X CSRC list B            |
  X R2: Empty, Offset=600  |
  X R1: B1, Offset=300     |
  X P:  B2                 |
  X------------------------|
  Packet 104 contains text from B, including new B2 and
  redundant B1. It is assumed dropped due to network
  problems.
  The mixer has A3 redundancy to send, but no new text
  appears from A and therefore the redundancy is sent
  330 ms after the previous packet with text from A.

</pre><a href="#section-3.20-6" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-3.20-7">
<pre>
  |------------------------|
  | Seq no 105, Timer=21060|
  | CC=1                   |
  | CSRC list A            |
  | R2: A3, Offset=660     |
  | R1: Empty, Offset=330  |
  | P:  Empty              |
  |------------------------|
  Packet 105 is received.
  A gap for lost packets 103 and 104 is detected.
  Assume that no other loss was detected during the last second.
  Then it can be concluded that nothing was totally lost.

  R2 is checked. Its original time was 21060-660=20400.
  A packet with text from A was received with that
  timestamp, so nothing needs to be recovered.

  B1 and B2 still need to be transmitted as redundancy.
  This is planned 330 ms after packet 104. That
  would be at 21130.
</pre><a href="#section-3.20-7" class="pilcrow">¶</a>
</div>
<div class="artwork art-text alignLeft" id="section-3.20-8">
<pre>
  |-----------------------|
  |Seq no 106, Timer=21130|
  |CC=1                   |
  |CSRC list B            |
  | R2: B1, Offset=630    |
  | R1: B2, Offset=330    |
  | P:  Empty             |
  |-----------------------|
</pre><a href="#section-3.20-8" class="pilcrow">¶</a>
</div>
<p id="section-3.20-9">
  Packet 106 is received.<a href="#section-3.20-9" class="pilcrow">¶</a></p>
<p id="section-3.20-10">
The second level redundancy in packet 106 is B1 and has timestamp offset 630 ms.
The timestamp of packet 106 minus 630 is 20500 which is the timestamp of packet 102 that was received. So B1 does not need to be retrieved.
The first level redundancy in packet 106 has offset 330. The timestamp of packet 106 minus 330 is 20800. That is later than the latest received packet with source B. Therefore B2 is retrieved and assigned to the input buffer for source B.   
No primary is available in packet 106.<a href="#section-3.20-10" class="pilcrow">¶</a></p>
<p id="section-3.20-11">
    After this sequence, A3 and B1 and B2 have been received. In this case no text was lost.<a href="#section-3.20-11" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-3.21">
        <h3 id="name-maximum-character-rate-cps">
<a href="#section-3.21" class="section-number selfRef">3.21. </a><a href="#name-maximum-character-rate-cps" class="section-name selfRef">Maximum character rate "cps"</a>
        </h3>
<p id="section-3.21-1">
   The default maximum rate of reception of "text/t140" real-time text is in <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span> specified to be 30 characters per second. The actual rate is calculated without regard to any redundant text transmission and is in the multiparty case evaluated for all sources contributing to transmission to a receiver. The value MAY be modified in the "cps" parameter of the FMTP attribute in the media section for the "text/t140" media. A mixer combining real-time text from a number of sources may occasionally have a higher combined flow of text coming from the sources. Endpoints SHOULD therefore specify a suitable higher value for the "cps" parameter, corresponding to its real reception capability. A value for "cps" of 90 SHALL be the default for the "text/t140" stream in the "text/red" format when multiparty real-time text is negotiated. See <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span> for the format and use of the "cps" parameter. The same rules apply for the multiparty case except for the default value.<a href="#section-3.21-1" class="pilcrow">¶</a></p>
</section>
</section>
</div>
<section id="section-4">
      <h2 id="name-presentation-level-consider">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-presentation-level-consider" class="section-name selfRef">Presentation level considerations</a>
      </h2>
<p id="section-4-1">
"Protocol for multimedia application text conversation" <span>[<a href="#T140" class="xref">T140</a>]</span> provides the presentation level requirements for the <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span> transport. Functions for erasure and other formatting functions are specified in <span>[<a href="#T140" class="xref">T140</a>]</span> which has the following general statement for the presentation:<a href="#section-4-1" class="pilcrow">¶</a></p>
<p id="section-4-2">
"The display of text from the members of the conversation should be arranged so that the text from
each participant is clearly readable, and its source and the relative timing of entered text is visualized
in the display. Mechanisms for looking back in the contents from the current session should be
provided. The text should be displayed as soon as it is received."<a href="#section-4-2" class="pilcrow">¶</a></p>
<p id="section-4-3">
Strict application of <span>[<a href="#T140" class="xref">T140</a>]</span> is of essence for the interoperability of real-time text implementations and to fulfill the intention that the session participants have the same information conveyed in the text contents of the conversation without necessarily having the exact same layout of the conversation.<a href="#section-4-3" class="pilcrow">¶</a></p>
<p id="section-4-4">
 <span>[<a href="#T140" class="xref">T140</a>]</span> specifies a set of presentation control codes to include in the stream. Some of them are optional. Implementations MUST ignore optional control codes that they do not support.<a href="#section-4-4" class="pilcrow">¶</a></p>
<p id="section-4-5">
There is no strict "message" concept in real-time text. The Unicode Line Separator character SHALL be used as a separator allowing a part of received text to be grouped in presentation. The characters "CRLF" may be used by other implementations as a replacement for Line Separator. The "CRLF" combination SHALL be erased by just one erasing action, the same as the Line Separator. Presentation functions are allowed to group text for presentation in smaller groups than the line separators imply and present such groups with source indication together with text groups from other sources (see the following presentation examples). Erasure has no specific limit by any delimiter in the text stream.<a href="#section-4-5" class="pilcrow">¶</a></p>
<section id="section-4.1">
        <h3 id="name-presentation-by-multiparty-">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-presentation-by-multiparty-" class="section-name selfRef">Presentation by multiparty-aware endpoints</a>
        </h3>
<p id="section-4.1-1">
A multiparty-aware receiving party, presenting real-time text MUST separate text from different sources and present them in separate presentation fields.
The receiving party MAY separate presentation of parts of text from a source in readable groups based on other criteria than line separator and merge these groups in the presentation area when it benefits the user to most easily find and read text from the different participants. The criteria MAY e.g., be a received comma, full stop, or other phrase delimiters, or a long pause.<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<p id="section-4.1-2">
When text is received from multiple original sources, the presentation SHALL provide a view where text is added in multiple presentation fields.<a href="#section-4.1-2" class="pilcrow">¶</a></p>
<p id="section-4.1-3">
If the presentation presents text from different sources in one common area, the presenting endpoint SHOULD insert text from the local user ended at suitable points merged with received text to indicate the relative timing for when the text groups were completed. In this presentation mode, the receiving endpoint SHALL present the source of the different groups of text. This presentation style is called the "chat" style here and provides a possibility to follow text arriving from multiple parties and the approximate relative time that text is received related to text from the local user.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
<p id="section-4.1-4">A view of a three-party RTT call in chat style is shown in this example .<a href="#section-4.1-4" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.1-5">
<pre>
              _________________________________________________
             |                                              |^|
             |[Alice] Hi, Alice here.                       |-|
             |                                              | |
             |[Bob] Bob as well.                            | |
             |                                              | |
             |[Eve] Hi, this is Eve, calling from Paris.    | |
             |      I thought you should be here.           | |
             |                                              | |
             |[Alice] I am coming on Thursday, my           | |
             |      performance is not until Friday morning.| |
             |                                              | |
             |[Bob] And I on Wednesday evening.             | |
             |                                              | |
             |[Alice] Can we meet on Thursday evening?      | |
             |                                              | |
             |[Eve] Yes, definitely. How about 7pm.         | |
             |     at the entrance of the restaurant        | |
             |     Le Lion Blanc?                           | |
             |[Eve] we can have dinner and then take a walk |-|
             |______________________________________________|v|
             | &lt;Eve-typing&gt; But I need to be back to        |^|
             |    the hotel by 11 because I need            |-|
             |                                              | |
             | &lt;Bob-typing&gt; I wou                           |-|
             |______________________________________________|v|
             | of course, I underst                           |
             |________________________________________________|
</pre><a href="#section-4.1-5" class="pilcrow">¶</a>
</div>
<p id="section-4.1-6"> Figure 3: Example of a three-party RTT call presented in chat style seen at participant 'Alice's endpoint.<a href="#section-4.1-6" class="pilcrow">¶</a></p>
<p id="section-4.1-7">Other presentation styles than the chat style MAY be arranged.<a href="#section-4.1-7" class="pilcrow">¶</a></p>
<p id="section-4.1-8">This figure shows how a coordinated column view
        MAY be presented.<a href="#section-4.1-8" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.1-9">
<pre>_____________________________________________________________________
|       Bob          |       Eve            |       Alice           |
|____________________|______________________|_______________________|
|                    |                      |I will arrive by TGV.  |
|My flight is to Orly|                      |Convenient to the main |
|                    |Hi all, can we plan   |station.               |
|                    |for the seminar?      |                       |
|Eve, will you do    |                      |                       |
|your presentation on|                      |                       |
|Friday?             |Yes, Friday at 10.    |                       |
|Fine, wo            |                      |We need to meet befo   |
|___________________________________________________________________|
</pre><a href="#section-4.1-9" class="pilcrow">¶</a>
</div>
<p id="section-4.1-10">Figure 4: An example of a coordinated column-view of a three-party
        session with entries ordered vertically in approximate time-order.<a href="#section-4.1-10" class="pilcrow">¶</a></p>
</section>
<div id="UnawareFormat">
<section id="section-4.2">
        <h3 id="name-multiparty-mixing-for-multi">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-multiparty-mixing-for-multi" class="section-name selfRef">Multiparty mixing for multiparty-unaware endpoints</a>
        </h3>
<p id="section-4.2-1">
    When the mixer has indicated RTT multiparty capability  in an SDP negotiation, but the multiparty capability negotiation fails with an endpoint, then the agreed "text/red" or "text/t140" format SHALL be used and the mixer SHOULD compose a best-effort presentation of multiparty real-time text in one stream intended to be presented by an endpoint with no multiparty awareness, when that is desired in the actual implementation. The following specifies a procedure which MAY be applied in that situation.<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2-2">
 This presentation format has functional limitations and SHOULD be used only to enable participation in multiparty calls by legacy deployed endpoints implementing only RFC 4103 without any multiparty extensions specified in this document.<a href="#section-4.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2-3">
 The principles and procedures below do not specify any new protocol elements. They are instead composed of information from <span>[<a href="#T140" class="xref">T140</a>]</span> and an ambition to provide a best-effort presentation on an endpoint which has functions originally intended only for two-party calls.<a href="#section-4.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2-4">
The mixer mixing for multiparty-unaware endpoints SHALL compose a simulated, limited multiparty RTT view suitable for presentation in one presentation area. The mixer SHALL group text in suitable groups and prepare for presentation of them by inserting a line separator between them if the transmitted text did not already end with a new line (line separator or CRLF). A presentable label SHALL be composed and sent for the source initially in the session and after each source switch. With this procedure the time for switching from transmission of text from one source to transmission of text from another source depends on the actions of the users. In order to expedite source switching, a user can, for example, end its turn with a new line.<a href="#section-4.2-4" class="pilcrow">¶</a></p>
<section id="section-4.2.1">
          <h4 id="name-actions-by-the-mixer-at-rec">
<a href="#section-4.2.1" class="section-number selfRef">4.2.1. </a><a href="#name-actions-by-the-mixer-at-rec" class="section-name selfRef">Actions by the mixer at reception from the call participants</a>
          </h4>
<p id="section-4.2.1-1">
When text is received by the mixer from the different participants, the mixer SHALL recover text from redundancy if any packets are lost. The mark for lost text <span>[<a href="#T140ad1" class="xref">T140ad1</a>]</span> SHALL be inserted in the stream if unrecoverable loss appears. Any Unicode "BOM" characters, possibly used for keep-alive, SHALL be deleted.
The time of creation of text (retrieved from the RTP timestamp) SHALL be stored together with the received text from each source in queues for transmission to the recipients in order to be able to evaluate text loss.<a href="#section-4.2.1-1" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.2">
          <h4 id="name-actions-by-the-mixer-for-tr">
<a href="#section-4.2.2" class="section-number selfRef">4.2.2. </a><a href="#name-actions-by-the-mixer-for-tr" class="section-name selfRef">Actions by the mixer for transmission to the recipients</a>
          </h4>
<p id="section-4.2.2-1">
The following procedure SHALL be applied for each multiparty-unaware recipient of multiparty text from the mixer.<a href="#section-4.2.2-1" class="pilcrow">¶</a></p>
<p id="section-4.2.2-2">
The text for transmission SHALL be formatted by the mixer for each receiving user for presentation in one single presentation area. Text received from a participant SHOULD NOT be included in transmission to that participant because it is usually presented locally at transmission time. When there is text available for transmission from the mixer to a receiving party from more than one participant, the mixer SHALL switch between transmission of text from the different sources at suitable points in the transmitted stream.<a href="#section-4.2.2-2" class="pilcrow">¶</a></p>
<p id="section-4.2.2-3">
When switching source, the mixer SHALL insert a line separator if the already transmitted text did not end with a new line (line separator or CRLF). A label SHALL be composed of information in the CNAME and NAME fields in RTCP reports from the participant to have its text transmitted, or from other session information for that user. The label SHALL be delimited by suitable characters (e.g., '[ ]') and transmitted. The CSRC SHALL indicate the selected source. Then text from that selected participant SHALL be transmitted until a new suitable point for switching source is reached.<a href="#section-4.2.2-3" class="pilcrow">¶</a></p>
<p id="section-4.2.2-4">
  Information available to the mixer for composing the label may contain sensitive personal information that SHOULD NOT be revealed in sessions not securely authenticated and confidentiality protected. Privacy considerations regarding how much personal information is included in the label SHOULD therefore be taken when composing the label.<a href="#section-4.2.2-4" class="pilcrow">¶</a></p>
<p id="section-4.2.2-5">
Seeking a suitable point for switching source SHALL be done when there is older text waiting for transmission from any party than the age of the last transmitted text.
Suitable points for switching are:<a href="#section-4.2.2-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2.2-6.1">A completed phrase ended by comma<a href="#section-4.2.2-6.1" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.2.2-6.2">A completed sentence<a href="#section-4.2.2-6.2" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.2.2-6.3">A new line (line separator or CRLF)<a href="#section-4.2.2-6.3" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.2.2-6.4">A long pause (e.g., &gt; 10 seconds) in received text from the currently transmitted source<a href="#section-4.2.2-6.4" class="pilcrow">¶</a>
</li>
            <li class="normal" id="section-4.2.2-6.5">If text from one participant has been transmitted with text from other sources waiting for transmission for a long time (e.g., &gt; 1 minute) and none of the other suitable points for switching has occurred, a source switch MAY be forced by the mixer at the next word delimiter, and also  even if a word delimiter does not occur within a time (e.g., 15 seconds) after the scan for a word delimiter started.<a href="#section-4.2.2-6.5" class="pilcrow">¶</a>
</li>
          </ul>
<p id="section-4.2.2-7">
When switching source, the source which has the oldest text in queue SHALL be selected to be transmitted.
A character display count SHALL be maintained for the currently transmitted source, starting at zero after the label is transmitted for the currently transmitted source.<a href="#section-4.2.2-7" class="pilcrow">¶</a></p>
<p id="section-4.2.2-8">
The status SHALL be maintained for the latest control code for Select Graphic Rendition (SGR) from each source.
If there is an SGR code stored as the status for the current source before the source switch is done, a reset of SGR SHALL be sent by the sequence SGR 0 [009B 0000 006D] after the new line and before the new label during a source switch. See SGR below for an explanation. This transmission does not influence the display count.<a href="#section-4.2.2-8" class="pilcrow">¶</a></p>
<p id="section-4.2.2-9">
If there is an SGR code stored for the new source after the source switch, that SGR code SHALL be transmitted to the recipient before the label. This transmission does not influence the display count.<a href="#section-4.2.2-9" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.3">
          <h4 id="name-actions-on-transmission-of-">
<a href="#section-4.2.3" class="section-number selfRef">4.2.3. </a><a href="#name-actions-on-transmission-of-" class="section-name selfRef">Actions on transmission of text</a>
          </h4>
<p id="section-4.2.3-1">
Text from a source sent to the recipient SHALL increase the display count by one per transmitted character.<a href="#section-4.2.3-1" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.4">
          <h4 id="name-actions-on-transmission-of-c">
<a href="#section-4.2.4" class="section-number selfRef">4.2.4. </a><a href="#name-actions-on-transmission-of-c" class="section-name selfRef">Actions on transmission of control codes</a>
          </h4>
<p id="section-4.2.4-1">
The following control codes specified by T.140 require specific actions. They SHALL cause specific considerations in the mixer. Note that the codes presented here are expressed in UCS-16, while transmission is made in the UTF-8 encoding of these codes.<a href="#section-4.2.4-1" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-4.2.4-2">
            <dt id="section-4.2.4-2.1">BEL 0007 Bell</dt>
            <dd style="margin-left: 1.5em" id="section-4.2.4-2.2"> Alert in session. Provides for alerting during an active session. The display count SHALL NOT be altered.<a href="#section-4.2.4-2.2" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.2.4-2.3">NEW LINE 2028</dt>
            <dd style="margin-left: 1.5em" id="section-4.2.4-2.4"> Line separator. Check and perform a source switch if appropriate. Increase the display count by 1.<a href="#section-4.2.4-2.4" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.2.4-2.5">CR LF 000D 000A</dt>
            <dd style="margin-left: 1.5em" id="section-4.2.4-2.6"> A supported but not preferred way of requesting a new line. Check and perform a source switch if appropriate. Increase the display count by 1.<a href="#section-4.2.4-2.6" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.2.4-2.7">INT ESC 0061</dt>
            <dd style="margin-left: 1.5em" id="section-4.2.4-2.8"> Interrupt (used to initiate the mode negotiation procedure). The display count SHALL NOT be altered.<a href="#section-4.2.4-2.8" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.2.4-2.9">SGR 009B Ps 006D </dt>
            <dd style="margin-left: 1.5em" id="section-4.2.4-2.10">Select graphic rendition.  Ps is the rendition parameters specified in ISO 6429. The display count SHALL NOT be altered. The SGR code SHOULD be stored for the current source.<a href="#section-4.2.4-2.10" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.2.4-2.11">SOS 0098</dt>
            <dd style="margin-left: 1.5em" id="section-4.2.4-2.12"> Start of string, used as a general protocol element introducer, followed by a maximum 256-byte string and the ST. The display count SHALL NOT be altered.<a href="#section-4.2.4-2.12" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.2.4-2.13">ST 009C</dt>
            <dd style="margin-left: 1.5em" id="section-4.2.4-2.14"> String terminator, end of SOS string. The display count SHALL NOT be altered.<a href="#section-4.2.4-2.14" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.2.4-2.15">ESC 001B</dt>
            <dd style="margin-left: 1.5em" id="section-4.2.4-2.16"> Escape - used in control strings. The display count SHALL NOT be altered for the complete escape code.<a href="#section-4.2.4-2.16" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.2.4-2.17">Byte order mark "BOM" (U+FEFF)</dt>
            <dd style="margin-left: 1.5em" id="section-4.2.4-2.18">"Zero width, no break space", used for synchronization and keep-alive. It SHALL be deleted from incoming streams. It SHALL also be sent first after session establishment to the recipient. The display count SHALL NOT be altered.<a href="#section-4.2.4-2.18" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.2.4-2.19">Missing text mark (U+FFFD)</dt>
            <dd style="margin-left: 1.5em" id="section-4.2.4-2.20"> "Replacement character", represented as a question mark in a rhombus, or if that is not feasible, replaced by an apostrophe '. It marks the place in the stream of possible text loss. This mark SHALL be inserted by the reception procedure in case of unrecoverable loss of packets. The display count SHALL be increased by one when sent as for any other character.<a href="#section-4.2.4-2.20" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.2.4-2.21">SGR</dt>
            <dd style="margin-left: 1.5em" id="section-4.2.4-2.22"> If a control code for selecting graphic rendition (SGR) other than reset of the graphic rendition (SGR 0) is sent to a recipient, that control code SHALL also be stored as the status for the source in the storage for SGR status. If a reset graphic rendition (SGR 0) originating from a source is sent, then the SGR status storage for that source SHALL be cleared.  The display count SHALL NOT be increased.<a href="#section-4.2.4-2.22" class="pilcrow">¶</a>
</dd>
            <dd class="break"></dd>
<dt id="section-4.2.4-2.23">BS (U+0008)</dt>
            <dd style="margin-left: 1.5em" id="section-4.2.4-2.24"> Back Space, intended to erase the last entered character by a source. Erasure by backspace cannot always be performed as the erasing party intended.  If an erasing action erases all text up to the end of the leading label after a source switch, then the mixer MUST NOT transmit more backspaces. Instead, it is RECOMMENDED that a letter "X" is inserted in the text stream for each backspace as an indication of the intent to erase more. A new line is usually coded by a Line Separator, but the character combination "CRLF" MAY be used instead.  Erasure of a new line is in both cases done by just one erasing action (Backspace). If the display count has a positive value it SHALL be decreased by one when the BS is sent. If the display count is at zero, it SHALL NOT be altered.<a href="#section-4.2.4-2.24" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
</dl>
</section>
<section id="section-4.2.5">
          <h4 id="name-packet-transmission">
<a href="#section-4.2.5" class="section-number selfRef">4.2.5. </a><a href="#name-packet-transmission" class="section-name selfRef">Packet transmission</a>
          </h4>
<p id="section-4.2.5-1">
    A mixer transmitting to a multiparty-unaware terminal SHALL send primary data only from one source per packet. The SSRC SHALL be the SSRC of the mixer. The CSRC list SHALL contain one member and be the SSRC of the source of the primary data.<a href="#section-4.2.5-1" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.6">
          <h4 id="name-functional-limitations">
<a href="#section-4.2.6" class="section-number selfRef">4.2.6. </a><a href="#name-functional-limitations" class="section-name selfRef">Functional limitations</a>
          </h4>
<p id="section-4.2.6-1">
    When a multiparty-unaware endpoint presents a conversation in one display area in a chat style, it inserts source indications for remote text and local user text as they are merged in completed text groups. When an endpoint using this layout receives and presents text mixed for multiparty-unaware endpoints, there will be two levels of source indicators for the received text; one generated by the mixer and inserted in a label after each source switch, and another generated by the receiving endpoint and inserted after each switch between local and remote source in the presentation area. This will waste display space and look inconsistent to the reader.<a href="#section-4.2.6-1" class="pilcrow">¶</a></p>
<p id="section-4.2.6-2">
    New text can be presented only from one source at a time. Switch of source to be presented takes place at suitable places in the text, such as end of phrase, end of sentence, line separator and inactivity. Therefore, the time to switch to present waiting text from other sources may become long and will vary and depend on the actions of the currently presented source.<a href="#section-4.2.6-2" class="pilcrow">¶</a></p>
<p id="section-4.2.6-3">
    Erasure can only be done up to the latest source switch. If a user tries to erase more text, the erasing actions will be presented as letter X after the label.<a href="#section-4.2.6-3" class="pilcrow">¶</a></p>
<p id="section-4.2.6-4">
      Text loss because of network errors may hit the label between entries from different parties, causing risk for misunderstanding from which source a piece of text is.<a href="#section-4.2.6-4" class="pilcrow">¶</a></p>
<p id="section-4.2.6-5">
 These facts make it strongly RECOMMENDED implementing multiparty awareness in RTT endpoints. The use of the mixing method for multiparty-unaware endpoints should be left for use with endpoints which are impossible to upgrade to become multiparty-aware.<a href="#section-4.2.6-5" class="pilcrow">¶</a></p>
</section>
<section id="section-4.2.7">
          <h4 id="name-example-views-of-presentati">
<a href="#section-4.2.7" class="section-number selfRef">4.2.7. </a><a href="#name-example-views-of-presentati" class="section-name selfRef">Example views of presentation on multiparty-unaware endpoints</a>
          </h4>
<p id="section-4.2.7-1">
The following pictures are examples of the view on a participant's display for the multiparty-unaware case.<a href="#section-4.2.7-1" class="pilcrow">¶</a></p>
<p id="section-4.2.7-2"></p>
<div class="artwork art-text alignLeft" id="section-4.2.7-3">
<pre>


  _________________________________________________
 |       Conference       |          Alice          |
 |________________________|_________________________|
 |                        |I will arrive by TGV.    |
 |[Bob]:My flight is to   |Convenient to the main   |
 |Orly.                   |station.                 |
 |[Eve]:Hi all, can we    |                         |
 |plan for the seminar.   |                         |
 |                        |                         |
 |[Bob]:Eve, will you do  |                         |
 |your presentation on    |                         |
 |Friday?                 |                         |
 |[Eve]:Yes, Friday at 10.|                         |
 |[Bob]: Fine, wo         |We need to meet befo     |
 |________________________|_________________________|
</pre><a href="#section-4.2.7-3" class="pilcrow">¶</a>
</div>
<p id="section-4.2.7-4">Figure 5: Alice who has a conference-unaware client is receiving the multiparty real-time text in a single-stream.<a href="#section-4.2.7-4" class="pilcrow">¶</a></p>
<p id="section-4.2.7-5">   This figure shows how a coordinated column view MAY be presented on Alice's device in a view with two-columns. The mixer inserts labels to show how the sources alternate in the column with received text. The mixer alternates between the sources at suitable points in the text exchange so that text entries from each party can be conveniently read.<a href="#section-4.2.7-5" class="pilcrow">¶</a></p>
<div class="artwork art-text alignLeft" id="section-4.2.7-6">
<pre>
  _________________________________________________
 |                                              |^|
 |(Alice) Hi, Alice here.                       |-|
 |                                              | |
 |(mix)[Bob)] Bob as well.                      | |
 |                                              | |
 |[Eve] Hi, this is Eve, calling from Paris     | |
 |      I thought you should be here.           | |
 |                                              | |
 |(Alice) I am coming on Thursday, my           | |
 |      performance is not until Friday morning.| |
 |                                              | |
 |(mix)[Bob] And I on Wednesday evening.        | |
 |                                              | |
 |[Eve] we can have dinner and then walk        | |
 |                                              | |
 |[Eve] But I need to be back to                | |
 |    the hotel by 11 because I need            | |
 |                                              |-|
 |______________________________________________|v|
 | of course, I underst                           |
 |________________________________________________|
</pre><a href="#section-4.2.7-6" class="pilcrow">¶</a>
</div>
<p id="section-4.2.7-7">Figure 6: An example of a view of the multiparty-unaware presentation in chat style. Alice is the local user.<a href="#section-4.2.7-7" class="pilcrow">¶</a></p>
<p id="section-4.2.7-8">
   In this view, there is a tradition in receiving applications to include a label showing the source of the text, here shown with parenthesis "()". The mixer also inserts source labels for the multiparty call participants, here shown with brackets "[]".<a href="#section-4.2.7-8" class="pilcrow">¶</a></p>
</section>
</section>
</div>
</section>
<section id="section-5">
      <h2 id="name-relation-to-conference-cont">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-relation-to-conference-cont" class="section-name selfRef">Relation to Conference Control</a>
      </h2>
<section id="section-5.1">
        <h3 id="name-use-with-sip-centralized-co">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-use-with-sip-centralized-co" class="section-name selfRef">Use with SIP centralized conferencing framework</a>
        </h3>
<p id="section-5.1-1">
  The Session Initiation Protocol (SIP) conferencing framework, mainly specified in <span>[<a href="#RFC4353" class="xref">RFC4353</a>]</span>, <span>[<a href="#RFC4579" class="xref">RFC4579</a>]</span> and <span>[<a href="#RFC4575" class="xref">RFC4575</a>]</span> is suitable for coordinating sessions including multiparty RTT. The RTT stream between the mixer and a participant is one and the same during the conference. Participants get announced by notifications when participants are joining or leaving, and further user information may be provided. The SSRC of the text to expect from joined users MAY be included in a notification. The notifications MAY be used both for security purposes and for translation to a label for presentation to other users.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
</section>
<div id="confcontrol">
<section id="section-5.2">
        <h3 id="name-conference-control">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-conference-control" class="section-name selfRef">Conference control</a>
        </h3>
<p id="section-5.2-1">
          In managed conferences, control of the real-time text media SHOULD be provided in the same way as other for media, e.g., for muting and unmuting by the direction attributes in SDP <span>[<a href="#RFC8866" class="xref">RFC8866</a>]</span>.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<p id="section-5.2-2">
          Note that floor control functions may be of value for RTT users as well as for users of other media in a conference.<a href="#section-5.2-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
<section id="section-6">
      <h2 id="name-gateway-considerations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-gateway-considerations" class="section-name selfRef">Gateway Considerations</a>
      </h2>
<section id="section-6.1">
        <h3 id="name-gateway-considerations-with">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-gateway-considerations-with" class="section-name selfRef">Gateway considerations with Textphones</a>
        </h3>
<p id="section-6.1-1">
   multiparty RTT sessions may involve gateways of different kinds. Gateways involved in setting up sessions SHALL correctly reflect the multiparty capability or unawareness of the combination of the gateway and the remote endpoint beyond the gateway.<a href="#section-6.1-1" class="pilcrow">¶</a></p>
<p id="section-6.1-2">
   One case that may occur is a gateway to Public Switched Telephone Network (PSTN) for communication with textphones (e.g., TTYs). Textphones are limited devices with no multiparty awareness, and it SHOULD therefore be suitable for the gateway to not indicate multiparty awareness for that case. Another solution is that the gateway indicates multiparty capability towards the mixer, and includes the multiparty mixer function for multiparty-unaware endpoints itself. This solution makes it possible to adapt to the functional limitations of the textphone.<a href="#section-6.1-2" class="pilcrow">¶</a></p>
<p id="section-6.1-3">
   More information on gateways to textphones is found in <span>[<a href="#RFC5194" class="xref">RFC5194</a>]</span><a href="#section-6.1-3" class="pilcrow">¶</a></p>
</section>
<section id="section-6.2">
        <h3 id="name-gateway-considerations-with-">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-gateway-considerations-with-" class="section-name selfRef">Gateway considerations with WebRTC</a>
        </h3>
<p id="section-6.2-1">
   Gateway operation to real-time text in WebRTC may also be required. In WebRTC, RTT is specified in <span>[<a href="#RFC8865" class="xref">RFC8865</a>]</span>.<a href="#section-6.2-1" class="pilcrow">¶</a></p>
<p id="section-6.2-2">
    A multiparty bridge may have functionality for communicating by RTT both in RTP streams with RTT and WebRTC T.140 data channels. Other configurations may consist of a multiparty bridge with either technology for RTT transport and a separate gateway for conversion of the text communication streams between RTP and T.140 data channel.<a href="#section-6.2-2" class="pilcrow">¶</a></p>
<p id="section-6.2-3">
In WebRTC, it is assumed that for a multiparty session, one T.140 data channel is established for each source from a gateway or bridge to each participant. Each participant also has a data channel with a two-way connection with the gateway or bridge.<a href="#section-6.2-3" class="pilcrow">¶</a></p>
<p id="section-6.2-4">
  The T.140 data channel used both ways is for text from the WebRTC user and from the bridge or gateway itself to the WebRTC user. The label parameter of this T.140 data channel is used as the NAME field in RTCP to participants on the RTP side. The other T.140 data channels are only for text from other participants to the WebRTC user.<a href="#section-6.2-4" class="pilcrow">¶</a></p>
<p id="section-6.2-5">
  When a new participant has entered the session with RTP transport of RTT, a new T.140 channel SHOULD be established to WebRTC users with the label parameter composed of information from the NAME field in RTCP on the RTP side.<a href="#section-6.2-5" class="pilcrow">¶</a></p>
<p id="section-6.2-6">
  When a new participant has entered the multiparty session with RTT transport in a WebRTC T.140 data channel, the new participant SHOULD be announced by a notification to RTP users. The label parameter from the WebRTC side SHOULD be used as the NAME RTCP field on the RTP side, or other available session information.<a href="#section-6.2-6" class="pilcrow">¶</a></p>
<p id="section-6.2-7">
  When a participant on the RTP side is disconnected from the multiparty session, the corresponding T.140 data channel(s) SHOULD be closed.<a href="#section-6.2-7" class="pilcrow">¶</a></p>
<p id="section-6.2-8">
  When a WebRTC user of T.140 data channels disconnects from the mixer, the corresponding RTP streams or sources in an RTP-mixed stream SHOULD be closed.<a href="#section-6.2-8" class="pilcrow">¶</a></p>
<p id="section-6.2-9">
  T.140 data channels MAY be opened and closed by negotiation or renegotiation of the session or by any other valid means as specified in section 1 of <span>[<a href="#RFC8865" class="xref">RFC8865</a>]</span>.<a href="#section-6.2-9" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-7">
      <h2 id="name-updates-to-rfc-4103">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-updates-to-rfc-4103" class="section-name selfRef">Updates to RFC 4103</a>
      </h2>
<p id="section-7-1">
  This document updates <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span> by introducing an SDP media attribute "rtt-mixer" for negotiation of multiparty-mixing capability with the <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span> format, and by specifying the rules for packets when multiparty capability is negotiated and in use.<a href="#section-7-1" class="pilcrow">¶</a></p>
</section>
<div id="congest">
<section id="section-8">
      <h2 id="name-congestion-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-congestion-considerations" class="section-name selfRef">Congestion considerations</a>
      </h2>
<p id="section-8-1">
The congestion considerations and recommended actions from <span>[<a href="#RFC4103" class="xref">RFC4103</a>]</span> are also valid in multiparty situations.<a href="#section-8-1" class="pilcrow">¶</a></p>
<p id="section-8-2">
        The time values SHALL then be applied per source of text sent to a receiver.<a href="#section-8-2" class="pilcrow">¶</a></p>
<p id="section-8-3">
        If the very unlikely situation appears that many participants in a conference send text simultaneously for a long period, a delay may build up for presentation of text at the receivers if the limitation in characters per second ("cps") to be transmitted to the participants is exceeded. More delay than 7 seconds can cause confusion in the session. It is therefore RECOMMENDED that an RTP-mixer-based mixer discards such text causing excessive delays and inserts a general indication of possible text loss <span>[<a href="#T140ad1" class="xref">T140ad1</a>]</span> in the session. If the main text contributor is indicated in any way, the mixer MAY avoid deleting text from that participant. It should however be noted that human creation of text normally contains pauses, when the transmission can catch up, so that the transmission overload situations are expected to be very rare.<a href="#section-8-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="IANAConsiderations">
<section id="section-9">
      <h2 id="name-iana-considerations">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<div id="reg-rtt-mix">
<section id="section-9.1">
        <h3 id="name-registration-of-the-rtt-mix">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-registration-of-the-rtt-mix" class="section-name selfRef">Registration of the "rtt-mixer" SDP media attribute</a>
        </h3>
<p id="section-9.1-1">

[RFC EDITOR NOTE: Please replace all instances of RFCXXXX with the
RFC number of this document.]<a href="#section-9.1-1" class="pilcrow">¶</a></p>
<p id="section-9.1-2">
IANA is asked to register the new SDP attribute "rtt-mixer".<a href="#section-9.1-2" class="pilcrow">¶</a></p>
<span class="break"></span><dl class="dlParallel" id="section-9.1-3">
          <dt id="section-9.1-3.1">Contact name:
</dt>
          <dd style="margin-left: 1.5em" id="section-9.1-3.2">IESG<a href="#section-9.1-3.2" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-9.1-3.3">Contact email:
</dt>
          <dd style="margin-left: 1.5em" id="section-9.1-3.4">iesg@ietf.org<a href="#section-9.1-3.4" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-9.1-3.5">Attribute name:
</dt>
          <dd style="margin-left: 1.5em" id="section-9.1-3.6">rtt-mixer<a href="#section-9.1-3.6" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-9.1-3.7">Attribute semantics:
</dt>
          <dd style="margin-left: 1.5em" id="section-9.1-3.8">See RFCXXXX <a href="#nego1" class="xref">Section 2.3</a><a href="#section-9.1-3.8" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-9.1-3.9">Attribute value:
</dt>
          <dd style="margin-left: 1.5em" id="section-9.1-3.10">none<a href="#section-9.1-3.10" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-9.1-3.11">Usage level:
</dt>
          <dd style="margin-left: 1.5em" id="section-9.1-3.12">media<a href="#section-9.1-3.12" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-9.1-3.13">Purpose:
</dt>
          <dd style="margin-left: 1.5em" id="section-9.1-3.14">Indicate support by mixer and endpoint of multiparty mixing for real-time text transmission, using a common RTP-stream for transmission of text from a number of sources mixed with one source at a time and the source indicated in a single CSRC-list member.<a href="#section-9.1-3.14" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-9.1-3.15">Charset Dependent:
</dt>
          <dd style="margin-left: 1.5em" id="section-9.1-3.16">no<a href="#section-9.1-3.16" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-9.1-3.17">O/A procedure:
</dt>
          <dd style="margin-left: 1.5em" id="section-9.1-3.18">See RFCXXXX <a href="#nego1" class="xref">Section 2.3</a><a href="#section-9.1-3.18" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-9.1-3.19">Mux Category:
</dt>
          <dd style="margin-left: 1.5em" id="section-9.1-3.20">normal<a href="#section-9.1-3.20" class="pilcrow">¶</a>
</dd>
          <dd class="break"></dd>
<dt id="section-9.1-3.21">Reference:
</dt>
          <dd style="margin-left: 1.5em" id="section-9.1-3.22">RFCXXXX<a href="#section-9.1-3.22" class="pilcrow">¶</a>
</dd>
        <dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="Security">
<section id="section-10">
      <h2 id="name-security-considerations">
<a href="#section-10" class="section-number selfRef">10. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-10-1">

The RTP-mixer model requires the mixer to be allowed to decrypt, pack, and encrypt secured text from the conference participants. Therefore, the mixer needs to be trusted
to maintain confidentiality and integrity of the RTT data. This situation is similar to the situation for handling audio and video media in centralized mixers.<a href="#section-10-1" class="pilcrow">¶</a></p>
<p id="section-10-2">
The requirement to transfer information about the user in RTCP reports in SDES, CNAME, and NAME fields, and in conference notifications, may have privacy concerns as already stated in RFC 3550 <span>[<a href="#RFC3550" class="xref">RFC3550</a>]</span>, and may be restricted for privacy reasons. When used for creation of readable labels in the presentation, the receiving user will then get a more symbolic label for the source.<a href="#section-10-2" class="pilcrow">¶</a></p>
<p id="section-10-3">
   The services available through the RTT mixer may have special interest for deaf and hard-of-hearing persons. Some users may want to refrain from revealing such characteristics broadly in conferences. The design of the conference systems where the mixer is included MAY need to be made with confidentiality of such characteristics in mind.<a href="#section-10-3" class="pilcrow">¶</a></p>
<p id="section-10-4">
   Participants with malicious intentions may appear and e.g., disturb the multiparty session by emitting a continuous flow of text. They may also send text that appears to originate from other participants. Counteractions should be to require secure signaling, media and authentication, and to provide higher-layer conference functions e.g., for blocking, muting, and expelling participants.<a href="#section-10-4" class="pilcrow">¶</a></p>
<p id="section-10-5">
   Participants with malicious intentions may also try to disturb the presentation by sending incomplete or malformed control codes. Handling of text from the different sources by the receivers MUST therefore be well separated so that the effects of such actions only affect text from the source causing the action.<a href="#section-10-5" class="pilcrow">¶</a></p>
<p id="section-10-6">
   Care should be taken that if use of the mixer is allowed for users both with and without security procedures, opens for possible attacks by both unauthenticated call participants and even eavesdropping and manipulating of content non-participants.<a href="#section-10-6" class="pilcrow">¶</a></p>
<p id="section-10-7">
   As already stated in <a href="#security2" class="xref">Section 3.18</a>, security in media SHOULD be applied by using DTLS-SRTP <span>[<a href="#RFC5764" class="xref">RFC5764</a>]</span> on the media level.<a href="#section-10-7" class="pilcrow">¶</a></p>
<p id="section-10-8">Further security considerations specific for this application are specified in <a href="#security2" class="xref">Section 3.18</a>.<a href="#section-10-8" class="pilcrow">¶</a></p>
</section>
</div>
<section id="section-11">
      <h2 id="name-change-history">
<a href="#section-11" class="section-number selfRef">11. </a><a href="#name-change-history" class="section-name selfRef">Change history</a>
      </h2>
<p id="section-11-1">
       [RFC Editor: Please remove this section prior to publication.]<a href="#section-11-1" class="pilcrow">¶</a></p>
<section id="section-11.1">
        <h3 id="name-changes-included-in-draft-i">
<a href="#section-11.1" class="section-number selfRef">11.1. </a><a href="#name-changes-included-in-draft-i" class="section-name selfRef">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-20</a>
        </h3>
<p id="section-11.1-1">
    Inclusion of edits as respone to a comment by Benjamin Kaduk in section 3.16.3 to make the recovery procedure generic.<a href="#section-11.1-1" class="pilcrow">¶</a></p>
<p id="section-11.1-2">
    Added persons to the acknowledgements and moved acknowledgements to last in the document.<a href="#section-11.1-2" class="pilcrow">¶</a></p>
</section>
<section id="section-11.2">
        <h3 id="name-changes-included-in-draft-ie">
<a href="#section-11.2" class="section-number selfRef">11.2. </a><a href="#name-changes-included-in-draft-ie" class="section-name selfRef">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-19</a>
        </h3>
<p id="section-11.2-1">
   Edits because of comments in a review by Francesca Palombini.<a href="#section-11.2-1" class="pilcrow">¶</a></p>
<p id="section-11.2-2">
   Edits because of comments from Benjamin Kaduk.<a href="#section-11.2-2" class="pilcrow">¶</a></p>
<p id="section-11.2-3">
   Proposed to not change anything because of Robert Wilton's comments.<a href="#section-11.2-3" class="pilcrow">¶</a></p>
<p id="section-11.2-4">
   Two added sentences in the security section to meet comments by Roman Danyliw.<a href="#section-11.2-4" class="pilcrow">¶</a></p>
</section>
<section id="section-11.3">
        <h3 id="name-changes-included-in-draft-iet">
<a href="#section-11.3" class="section-number selfRef">11.3. </a><a href="#name-changes-included-in-draft-iet" class="section-name selfRef">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-18</a>
        </h3>
<p id="section-11.3-1">
   Edits of nits as proposed in a review by Lars Eggert.<a href="#section-11.3-1" class="pilcrow">¶</a></p>
<p id="section-11.3-2">
   Edits as response to review by Martin Duke.<a href="#section-11.3-2" class="pilcrow">¶</a></p>
</section>
<section id="section-11.4">
        <h3 id="name-changes-included-in-draft-ietf">
<a href="#section-11.4" class="section-number selfRef">11.4. </a><a href="#name-changes-included-in-draft-ietf" class="section-name selfRef">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-17</a>
        </h3>
<p id="section-11.4-1">
   Actions on Gen-ART review comments.<a href="#section-11.4-1" class="pilcrow">¶</a></p>
<p id="section-11.4-2">
   Actions on SecDir review comments.<a href="#section-11.4-2" class="pilcrow">¶</a></p>
</section>
<section id="section-11.5">
        <h3 id="name-changes-included-in-draft-ietf-">
<a href="#section-11.5" class="section-number selfRef">11.5. </a><a href="#name-changes-included-in-draft-ietf-" class="section-name selfRef">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-16</a>
        </h3>
<p id="section-11.5-1">
   Improvements in the offer/answer considerations section by adding subsections for each phase in the negotiation as requested by IANA expert review.<a href="#section-11.5-1" class="pilcrow">¶</a></p>
</section>
<section id="section-11.6">
        <h3 id="name-changes-included-in-draft-ietf-a">
<a href="#section-11.6" class="section-number selfRef">11.6. </a><a href="#name-changes-included-in-draft-ietf-a" class="section-name selfRef">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-15</a>
        </h3>
<p id="section-11.6-1">
   Actions on review comments from Jurgen Schonwalder:<a href="#section-11.6-1" class="pilcrow">¶</a></p>
<p id="section-11.6-2">
   A bit more about congestion situations and that they are expected to be very rare.<a href="#section-11.6-2" class="pilcrow">¶</a></p>
<p id="section-11.6-3">
   Explanation of differences in security between the conference-aware and the conference-unaware case added in security section.<a href="#section-11.6-3" class="pilcrow">¶</a></p>
<p id="section-11.6-4">
   Presentation examples with suource labels made less confusing, and explained.<a href="#section-11.6-4" class="pilcrow">¶</a></p>
<p id="section-11.6-5">
   Reference to T.140 inserted at first mentioning of T.140.<a href="#section-11.6-5" class="pilcrow">¶</a></p>
<p id="section-11.6-6">
   Reference to RFC 8825 inserted to explain WebRTC<a href="#section-11.6-6" class="pilcrow">¶</a></p>
<p id="section-11.6-7">
   Nit in wording in terminology section adjusted.<a href="#section-11.6-7" class="pilcrow">¶</a></p>
</section>
<section id="section-11.7">
        <h3 id="name-changes-included-in-draft-ietf-av">
<a href="#section-11.7" class="section-number selfRef">11.7. </a><a href="#name-changes-included-in-draft-ietf-av" class="section-name selfRef">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-14</a>
        </h3>
<p id="section-11.7-1">
   Changes from comments by Murray Kucherawy during AD review.<a href="#section-11.7-1" class="pilcrow">¶</a></p>
<p id="section-11.7-2">
   Many SHOULD in section 4.2 on multiparty-unaware mixing changed to SHALL, and the whole section instead 
   specified to be optional depending on the application.<a href="#section-11.7-2" class="pilcrow">¶</a></p>
<p id="section-11.7-3">
   Some SHOULD in section 3 either explained or changed to SHALL.<a href="#section-11.7-3" class="pilcrow">¶</a></p>
<p id="section-11.7-4">
   In order to have explainable conditions behind SHOULDs, the transmission interval in 3.4 is changed to as soon as text is available as a main principle. The call participants send with 300 ms interval so that will create realistic load conditions anyway.<a href="#section-11.7-4" class="pilcrow">¶</a></p>
</section>
<section id="section-11.8">
        <h3 id="name-changes-included-in-draft-ietf-avt">
<a href="#section-11.8" class="section-number selfRef">11.8. </a><a href="#name-changes-included-in-draft-ietf-avt" class="section-name selfRef">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-13</a>
        </h3>
<p id="section-11.8-1">
   Changed year to 2021.<a href="#section-11.8-1" class="pilcrow">¶</a></p>
<p id="section-11.8-2">
   Changed reference to draft on RTT in WebRTC to recently published RFC 8865.<a href="#section-11.8-2" class="pilcrow">¶</a></p>
<p id="section-11.8-3">
   Changed label brackets in example from "[]" to "()" to avoid nits comment.<a href="#section-11.8-3" class="pilcrow">¶</a></p>
<p id="section-11.8-4">
   Changed reference "RFC 4566" to recently published "RFC 8866"<a href="#section-11.8-4" class="pilcrow">¶</a></p>
</section>
<section id="section-11.9">
        <h3 id="name-changes-included-in-draft-ietf-avtc">
<a href="#section-11.9" class="section-number selfRef">11.9. </a><a href="#name-changes-included-in-draft-ietf-avtc" class="section-name selfRef">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-12</a>
        </h3>
<p id="section-11.9-1">
   Changes according to responses on comments from Brian Rosen in Avtcore list on 2020-12-05 and -06.<a href="#section-11.9-1" class="pilcrow">¶</a></p>
<p id="section-11.9-2">
   Changes according to responses to comments by Bernard Aboba in avtcore list 2020-12-06.<a href="#section-11.9-2" class="pilcrow">¶</a></p>
<p id="section-11.9-3">
   Introduction of an optiona RTP multi-stream mixing method for further study as proposed by Bernard Aboba.<a href="#section-11.9-3" class="pilcrow">¶</a></p>
<p id="section-11.9-4">
   Changes clarifying how to open and close T.140 data channels included in 6.2 after comments by Lorenzo Miniero.<a href="#section-11.9-4" class="pilcrow">¶</a></p>
<p id="section-11.9-5">
   Changes to satisfy nits check. Some "not" changed to "NOT" in normative wording combinations. Some lower case normative words changed to upper case. A normative reference deleted from the abstract. Two informative documents moved from normative references to informative references.<a href="#section-11.9-5" class="pilcrow">¶</a></p>
</section>
<section id="section-11.10">
        <h3 id="name-changes-included-in-draft-ietf-avtc-2">
<a href="#section-11.10" class="section-number selfRef">11.10. </a><a href="#name-changes-included-in-draft-ietf-avtc-2" class="section-name selfRef">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-11</a>
        </h3>
<p id="section-11.10-1">
   Timestamps and timestamp offsets added to the packet examples in section 3.23, and the description corrected.<a href="#section-11.10-1" class="pilcrow">¶</a></p>
<p id="section-11.10-2">
   A number of minor corrections added in sections 3.10 - 3.23.<a href="#section-11.10-2" class="pilcrow">¶</a></p>
</section>
<section id="section-11.11">
        <h3 id="name-changes-included-in-draft-ietf-avtc-3">
<a href="#section-11.11" class="section-number selfRef">11.11. </a><a href="#name-changes-included-in-draft-ietf-avtc-3" class="section-name selfRef">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-10</a>
        </h3>
<p id="section-11.11-1">
   The packet composition was modified for interleaving packets from different sources.<a href="#section-11.11-1" class="pilcrow">¶</a></p>
<p id="section-11.11-2">
   The packet reception was modified for the new interleaving method.<a href="#section-11.11-2" class="pilcrow">¶</a></p>
<p id="section-11.11-3">
   
   The packet sequence examples was adjusted for the new interleaving method.<a href="#section-11.11-3" class="pilcrow">¶</a></p>
<p id="section-11.11-4">
   Modifications according to responses to Brian Rosen of 2020-11-03<a href="#section-11.11-4" class="pilcrow">¶</a></p>
</section>
<section id="section-11.12">
        <h3 id="name-changes-included-in-draft-ietf-avtc-4">
<a href="#section-11.12" class="section-number selfRef">11.12. </a><a href="#name-changes-included-in-draft-ietf-avtc-4" class="section-name selfRef">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-09</a>
        </h3>
<p id="section-11.12-1">
            Changed name on the SDP media attribute to "rtt-mixer"<a href="#section-11.12-1" class="pilcrow">¶</a></p>
<p id="section-11.12-2">
            Restructure of section 2 for balance between aware and unaware cases.<a href="#section-11.12-2" class="pilcrow">¶</a></p>
<p id="section-11.12-3">
            Moved conference control to own section.<a href="#section-11.12-3" class="pilcrow">¶</a></p>
<p id="section-11.12-4">
            Improved clarification of recovery and loss in the packet sequence example.<a href="#section-11.12-4" class="pilcrow">¶</a></p>
<p id="section-11.12-5">
            A number of editorial corrections and improvements.<a href="#section-11.12-5" class="pilcrow">¶</a></p>
</section>
<section id="section-11.13">
        <h3 id="name-changes-included-in-draft-ietf-avtc-5">
<a href="#section-11.13" class="section-number selfRef">11.13. </a><a href="#name-changes-included-in-draft-ietf-avtc-5" class="section-name selfRef">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-08</a>
        </h3>
<p id="section-11.13-1">
            Deleted the method requiring a new packet format "text/rex" because of the longer standardization and implementation period it needs.<a href="#section-11.13-1" class="pilcrow">¶</a></p>
<p id="section-11.13-2">
            Focus on use of RFC 4103 text/red format with shorter transmission interval, and source indicated in CSRC.<a href="#section-11.13-2" class="pilcrow">¶</a></p>
</section>
<section id="section-11.14">
        <h3 id="name-changes-included-in-draft-ietf-avtc-6">
<a href="#section-11.14" class="section-number selfRef">11.14. </a><a href="#name-changes-included-in-draft-ietf-avtc-6" class="section-name selfRef">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-07</a>
        </h3>
<p id="section-11.14-1">
            Added a method based on the "text/red" format and single source per packet, negotiated by the "rtt-mixer" SDP attribute.<a href="#section-11.14-1" class="pilcrow">¶</a></p>
<p id="section-11.14-2">
            Added reasoning and recommendation about indication of loss.<a href="#section-11.14-2" class="pilcrow">¶</a></p>
<p id="section-11.14-3">
            The highest number of sources in one packet is 15, not 16. Changed.<a href="#section-11.14-3" class="pilcrow">¶</a></p>
<p id="section-11.14-4">
          Added in information on update to RFC 4103 that RFC 4103 explicitly allows addition of FEC method. The redundancy is a kind of forward error correction.<a href="#section-11.14-4" class="pilcrow">¶</a></p>
</section>
<section id="section-11.15">
        <h3 id="name-changes-included-in-draft-ietf-avtc-7">
<a href="#section-11.15" class="section-number selfRef">11.15. </a><a href="#name-changes-included-in-draft-ietf-avtc-7" class="section-name selfRef">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-06</a>
        </h3>
<p id="section-11.15-1">
          Improved definitions list format.<a href="#section-11.15-1" class="pilcrow">¶</a></p>
<p id="section-11.15-2">
            The format of the media subtype parameters is made to match the requirements.<a href="#section-11.15-2" class="pilcrow">¶</a></p>
<p id="section-11.15-3">
            The mapping of media subtype parameters to SDP is included.<a href="#section-11.15-3" class="pilcrow">¶</a></p>
<p id="section-11.15-4">
            The "cps" parameter belongs to the t140 subtype and does not need to be registered here.<a href="#section-11.15-4" class="pilcrow">¶</a></p>
</section>
<section id="section-11.16">
        <h3 id="name-changes-included-in-draft-ietf-avtc-8">
<a href="#section-11.16" class="section-number selfRef">11.16. </a><a href="#name-changes-included-in-draft-ietf-avtc-8" class="section-name selfRef">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-05</a>
        </h3>
<p id="section-11.16-1">
            nomenclature and editorial improvements<a href="#section-11.16-1" class="pilcrow">¶</a></p>
<p id="section-11.16-2">
            "this document" used consistently to refer to this document.<a href="#section-11.16-2" class="pilcrow">¶</a></p>
</section>
<section id="section-11.17">
        <h3 id="name-changes-included-in-draft-ietf-avtc-9">
<a href="#section-11.17" class="section-number selfRef">11.17. </a><a href="#name-changes-included-in-draft-ietf-avtc-9" class="section-name selfRef">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-04</a>
        </h3>
<p id="section-11.17-1">
'Redundancy header' renamed to 'data header'.<a href="#section-11.17-1" class="pilcrow">¶</a></p>
<p id="section-11.17-2">
  More clarifications added.<a href="#section-11.17-2" class="pilcrow">¶</a></p>
<p id="section-11.17-3">
  Language and figure number corrections.<a href="#section-11.17-3" class="pilcrow">¶</a></p>
</section>
<section id="section-11.18">
        <h3 id="name-changes-included-in-draft-ietf-avtc-10">
<a href="#section-11.18" class="section-number selfRef">11.18. </a><a href="#name-changes-included-in-draft-ietf-avtc-10" class="section-name selfRef">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-03</a>
        </h3>
<p id="section-11.18-1">
Mention possible need to mute and raise hands as for other media.   ---done ----<a href="#section-11.18-1" class="pilcrow">¶</a></p>
<p id="section-11.18-2">
  Make sure that use in two-party calls is also possible and explained. - may need more wording -<a href="#section-11.18-2" class="pilcrow">¶</a></p>
<p id="section-11.18-3">
  Clarify the RTT is often used together with other media. --done--<a href="#section-11.18-3" class="pilcrow">¶</a></p>
<p id="section-11.18-4">
  Tell that text mixing is N-1. A users own text is not received in the mix. -done-<a href="#section-11.18-4" class="pilcrow">¶</a></p>
<p id="section-11.18-5">
  In 3. correct the interval to:
  A "text/rex" transmitter SHOULD send packets distributed in time as long as there is something (new or  redundant T140blocks) to transmit.  The maximum transmission interval SHOULD then be 300 ms. It is RECOMMENDED to send a packet to a receiver as soon as new text  to that receiver is available, as long as the time after the latest sent packet to the same receiver is more than 150 ms, and also the maximum character rate to the receiver is not exceeded. The intention is to keep the latency low while keeping a good protection against text loss in bursty packet loss conditions.  -done-<a href="#section-11.18-5" class="pilcrow">¶</a></p>
<p id="section-11.18-6">
  In 1.3 say that the format is used both ways. -done-<a href="#section-11.18-6" class="pilcrow">¶</a></p>
<p id="section-11.18-7">
  In 13.1 change presentation area to presentation field so that reader does not think it shall be totally separated. -done-<a href="#section-11.18-7" class="pilcrow">¶</a></p>
<p id="section-11.18-8">
  In Performance and intro, tell the performance in number of simultaneous sending users and introduced delay 16, 150 vs requirements 5 vs 500. -done --<a href="#section-11.18-8" class="pilcrow">¶</a></p>
<p id="section-11.18-9">
  Clarify redundancy level per connection.  -done-<a href="#section-11.18-9" class="pilcrow">¶</a></p>
<p id="section-11.18-10">
  Timestamp also for the last data header. To make it possible for all text to have time offset as for transmission from the source. Make that header equal to the others. -done-<a href="#section-11.18-10" class="pilcrow">¶</a></p>
<p id="section-11.18-11">
  Mixer always use the CSRC list, even for its own BOM. -done-<a href="#section-11.18-11" class="pilcrow">¶</a></p>
<p id="section-11.18-12">
  Combine all talk about transmission interval (300 ms vs when text has arrived) in section 3 in one paragraph or close to each other. -done-<a href="#section-11.18-12" class="pilcrow">¶</a></p>
<p id="section-11.18-13">
  Documents the goal of good performance with low delay for 5 simultaneous typers in the introduction. -done-<a href="#section-11.18-13" class="pilcrow">¶</a></p>
<p id="section-11.18-14">
  Describe better that only primary text shall be sent on to receivers. Redundancy and loss must be resolved by the mixer. -done-<a href="#section-11.18-14" class="pilcrow">¶</a></p>
</section>
<section id="section-11.19">
        <h3 id="name-changes-included-in-draft-ietf-avtc-11">
<a href="#section-11.19" class="section-number selfRef">11.19. </a><a href="#name-changes-included-in-draft-ietf-avtc-11" class="section-name selfRef">Changes included in draft-ietf-avtcore-multi-party-rtt-mix-02</a>
        </h3>
<p id="section-11.19-1">
SDP and better description and visibility of security by OSRTP RFC 8634 needed.<a href="#section-11.19-1" class="pilcrow">¶</a></p>
<p id="section-11.19-2">
The description of gatewaying to WebRTC extended.<a href="#section-11.19-2" class="pilcrow">¶</a></p>
<p id="section-11.19-3">
The description of the data header in the packet is improved.<a href="#section-11.19-3" class="pilcrow">¶</a></p>
</section>
<section id="section-11.20">
        <h3 id="name-changes-to-draft-ietf-avtco">
<a href="#section-11.20" class="section-number selfRef">11.20. </a><a href="#name-changes-to-draft-ietf-avtco" class="section-name selfRef">Changes to draft-ietf-avtcore-multi-party-rtt-mix-01</a>
        </h3>
<p id="section-11.20-1">
 2,5,6 More efficient format "text/rex" introduced and attribute a=rtt-mix deleted.<a href="#section-11.20-1" class="pilcrow">¶</a></p>
<p id="section-11.20-2">
 3. Brief about use of OSRTP for security included- More needed.<a href="#section-11.20-2" class="pilcrow">¶</a></p>
<p id="section-11.20-3">
     4. Brief motivation for the solution and why not rtp-translator is used added to intro.<a href="#section-11.20-3" class="pilcrow">¶</a></p>
<p id="section-11.20-4">
     7. More limitations for the multiparty-unaware mixing method inserted.<a href="#section-11.20-4" class="pilcrow">¶</a></p>
<p id="section-11.20-5">
 8. Updates to RFC 4102 and 4103 more clearly expressed.<a href="#section-11.20-5" class="pilcrow">¶</a></p>
<p id="section-11.20-6">
 9. Gateway to WebRTC started. More needed.<a href="#section-11.20-6" class="pilcrow">¶</a></p>
</section>
<section id="section-11.21">
        <h3 id="name-changes-from-draft-hellstro">
<a href="#section-11.21" class="section-number selfRef">11.21. </a><a href="#name-changes-from-draft-hellstro" class="section-name selfRef">Changes from draft-hellstrom-avtcore-multi-party-rtt-source-03 to draft-ietf-avtcore-multi-party-rtt-mix-00</a>
        </h3>
<p id="section-11.21-1">
 Changed file name to draft-ietf-avtcore-multi-party-rtt-mix-00<a href="#section-11.21-1" class="pilcrow">¶</a></p>
<p id="section-11.21-2">
 Replaced CDATA in IANA registration table with better coding.<a href="#section-11.21-2" class="pilcrow">¶</a></p>
<p id="section-11.21-3">
 Converted to xml2rfc version 3.<a href="#section-11.21-3" class="pilcrow">¶</a></p>
</section>
<section id="section-11.22">
        <h3 id="name-changes-from-draft-hellstrom">
<a href="#section-11.22" class="section-number selfRef">11.22. </a><a href="#name-changes-from-draft-hellstrom" class="section-name selfRef">Changes from draft-hellstrom-avtcore-multi-party-rtt-source-02 to -03</a>
        </h3>
<p id="section-11.22-1">
 Changed company and e-mail of the author.<a href="#section-11.22-1" class="pilcrow">¶</a></p>
<p id="section-11.22-2">
 Changed title to "RTP-mixer formatting of multi-party Real-time text"
 to better match contents.<a href="#section-11.22-2" class="pilcrow">¶</a></p>
<p id="section-11.22-3">
 Check and modification where needed of use of RFC 2119 words SHALL etc.<a href="#section-11.22-3" class="pilcrow">¶</a></p>
<p id="section-11.22-4">
 More about the CC value in sections on transmitters and receivers so that 1-to-1 sessions do not use the mixer format.<a href="#section-11.22-4" class="pilcrow">¶</a></p>
<p id="section-11.22-5">
 Enhanced section on presentation for multiparty-unaware endpoints<a href="#section-11.22-5" class="pilcrow">¶</a></p>
<p id="section-11.22-6">
 A paragraph recommending cps=150 inserted in the performance section.<a href="#section-11.22-6" class="pilcrow">¶</a></p>
</section>
<section id="section-11.23">
        <h3 id="name-changes-from-draft-hellstrom-">
<a href="#section-11.23" class="section-number selfRef">11.23. </a><a href="#name-changes-from-draft-hellstrom-" class="section-name selfRef">Changes from draft-hellstrom-avtcore-multi-party-rtt-source-01 to -02</a>
        </h3>
<p id="section-11.23-1">
In Abstract and 1. Introduction: Introduced wording about regulatory requirements.<a href="#section-11.23-1" class="pilcrow">¶</a></p>
<p id="section-11.23-2">
In section 5: The transmission interval is decreased to 100 ms when there is text from more than one source to transmit.<a href="#section-11.23-2" class="pilcrow">¶</a></p>
<p id="section-11.23-3">
In section 11 about SDP negotiation, a SHOULD-requirement is introduced that the mixer should make a mix for multiparty-unaware endpoints if the negotiation is not successful. And a reference to a later chapter about it.<a href="#section-11.23-3" class="pilcrow">¶</a></p>
<p id="section-11.23-4">
The presentation considerations chapter 14 is extended with more information about presentation on multiparty-aware endpoints, and a new section on the multiparty-unaware mixing with low functionality but SHOULD be implemented in mixers. Presentation examples are added.<a href="#section-11.23-4" class="pilcrow">¶</a></p>
<p id="section-11.23-5">
A short chapter 15 on gateway considerations is introduced.<a href="#section-11.23-5" class="pilcrow">¶</a></p>
<p id="section-11.23-6">
Clarification about the text/t140 format included in chapter 10.<a href="#section-11.23-6" class="pilcrow">¶</a></p>
<p id="section-11.23-7">
This sentence added to the chapter 10 about use without redundancy. "The text/red format SHOULD be used unless some other protection against packet loss is utilized, for example a reliable network or transport."<a href="#section-11.23-7" class="pilcrow">¶</a></p>
<p id="section-11.23-8">
Note about deviation from RFC 2198 added in chapter 4.<a href="#section-11.23-8" class="pilcrow">¶</a></p>
<p id="section-11.23-9">
In chapter 9.  "Use with SIP centralized conferencing framework" the following note is inserted:
Note: The CSRC-list in an RTP packet only includes participants whose text is included in one or more text blocks. It is not the same as the list of participants in a conference. With audio and video media, the CSRC-list would often contain all participants who are not muted whereas text participants that don't type are completely silent and so don't show up in RTP packet CSRC-lists.<a href="#section-11.23-9" class="pilcrow">¶</a></p>
<p id="section-11.23-10"></p>
</section>
<section id="section-11.24">
        <h3 id="name-changes-from-draft-hellstrom-a">
<a href="#section-11.24" class="section-number selfRef">11.24. </a><a href="#name-changes-from-draft-hellstrom-a" class="section-name selfRef">Changes from draft-hellstrom-avtcore-multi-party-rtt-source-00 to -01</a>
        </h3>
<p id="section-11.24-1">
          Editorial cleanup.<a href="#section-11.24-1" class="pilcrow">¶</a></p>
<p id="section-11.24-2">
          Changed capability indication from fmtp-parameter to SDP attribute "rtt-mix".<a href="#section-11.24-2" class="pilcrow">¶</a></p>
<p id="section-11.24-3">
          Swapped order of redundancy elements in the example to match reality.<a href="#section-11.24-3" class="pilcrow">¶</a></p>
<p id="section-11.24-4">
          Increased the SDP negotiation section<a href="#section-11.24-4" class="pilcrow">¶</a></p>
</section>
</section>
<section id="section-12">
      <h2 id="name-references">
<a href="#section-12" class="section-number selfRef">12. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<section id="section-12.1">
        <h3 id="name-normative-references">
<a href="#section-12.1" class="section-number selfRef">12.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc2119">https://www.rfc-editor.org/info/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC3550">[RFC3550]</dt>
        <dd>
<span class="refAuthor">Schulzrinne, H.</span>, <span class="refAuthor">Casner, S.</span>, <span class="refAuthor">Frederick, R.</span>, and <span class="refAuthor">V. Jacobson</span>, <span class="refTitle">"RTP: A Transport Protocol for Real-Time Applications"</span>, <span class="seriesInfo">STD 64</span>, <span class="seriesInfo">RFC 3550</span>, <span class="seriesInfo">DOI 10.17487/RFC3550</span>, <time datetime="2003-07" class="refDate">July 2003</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc3550">https://www.rfc-editor.org/info/rfc3550</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4102">[RFC4102]</dt>
        <dd>
<span class="refAuthor">Jones, P.</span>, <span class="refTitle">"Registration of the text/red MIME Sub-Type"</span>, <span class="seriesInfo">RFC 4102</span>, <span class="seriesInfo">DOI 10.17487/RFC4102</span>, <time datetime="2005-06" class="refDate">June 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4102">https://www.rfc-editor.org/info/rfc4102</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4103">[RFC4103]</dt>
        <dd>
<span class="refAuthor">Hellstrom, G.</span> and <span class="refAuthor">P. Jones</span>, <span class="refTitle">"RTP Payload for Text Conversation"</span>, <span class="seriesInfo">RFC 4103</span>, <span class="seriesInfo">DOI 10.17487/RFC4103</span>, <time datetime="2005-06" class="refDate">June 2005</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4103">https://www.rfc-editor.org/info/rfc4103</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5630">[RFC5630]</dt>
        <dd>
<span class="refAuthor">Audet, F.</span>, <span class="refTitle">"The Use of the SIPS URI Scheme in the Session Initiation Protocol (SIP)"</span>, <span class="seriesInfo">RFC 5630</span>, <span class="seriesInfo">DOI 10.17487/RFC5630</span>, <time datetime="2009-10" class="refDate">October 2009</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5630">https://www.rfc-editor.org/info/rfc5630</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5764">[RFC5764]</dt>
        <dd>
<span class="refAuthor">McGrew, D.</span> and <span class="refAuthor">E. Rescorla</span>, <span class="refTitle">"Datagram Transport Layer Security (DTLS) Extension to Establish Keys for the Secure Real-time Transport Protocol (SRTP)"</span>, <span class="seriesInfo">RFC 5764</span>, <span class="seriesInfo">DOI 10.17487/RFC5764</span>, <time datetime="2010-05" class="refDate">May 2010</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5764">https://www.rfc-editor.org/info/rfc5764</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC6263">[RFC6263]</dt>
        <dd>
<span class="refAuthor">Marjou, X.</span> and <span class="refAuthor">A. Sollaud</span>, <span class="refTitle">"Application Mechanism for Keeping Alive the NAT Mappings Associated with RTP / RTP Control Protocol (RTCP) Flows"</span>, <span class="seriesInfo">RFC 6263</span>, <span class="seriesInfo">DOI 10.17487/RFC6263</span>, <time datetime="2011-06" class="refDate">June 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc6263">https://www.rfc-editor.org/info/rfc6263</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7675">[RFC7675]</dt>
        <dd>
<span class="refAuthor">Perumal, M.</span>, <span class="refAuthor">Wing, D.</span>, <span class="refAuthor">Ravindranath, R.</span>, <span class="refAuthor">Reddy, T.</span>, and <span class="refAuthor">M. Thomson</span>, <span class="refTitle">"Session Traversal Utilities for NAT (STUN) Usage for Consent Freshness"</span>, <span class="seriesInfo">RFC 7675</span>, <span class="seriesInfo">DOI 10.17487/RFC7675</span>, <time datetime="2015-10" class="refDate">October 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7675">https://www.rfc-editor.org/info/rfc7675</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8174">https://www.rfc-editor.org/info/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8865">[RFC8865]</dt>
        <dd>
<span class="refAuthor">Holmberg, C.</span> and <span class="refAuthor">G. Hellström</span>, <span class="refTitle">"T.140 Real-Time Text Conversation over WebRTC Data Channels"</span>, <span class="seriesInfo">RFC 8865</span>, <span class="seriesInfo">DOI 10.17487/RFC8865</span>, <time datetime="2021-01" class="refDate">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8865">https://www.rfc-editor.org/info/rfc8865</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8866">[RFC8866]</dt>
        <dd>
<span class="refAuthor">Begen, A.</span>, <span class="refAuthor">Kyzivat, P.</span>, <span class="refAuthor">Perkins, C.</span>, and <span class="refAuthor">M. Handley</span>, <span class="refTitle">"SDP: Session Description Protocol"</span>, <span class="seriesInfo">RFC 8866</span>, <span class="seriesInfo">DOI 10.17487/RFC8866</span>, <time datetime="2021-01" class="refDate">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8866">https://www.rfc-editor.org/info/rfc8866</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="T140">[T140]</dt>
        <dd>
<span class="refAuthor">ITU-T</span>, <span class="refTitle">"Recommendation ITU-T T.140 (02/1998), Protocol for multimedia application text conversation"</span>, <time datetime="1998-02" class="refDate">February 1998</time>, <span>&lt;<a href="https://www.itu.int/rec/T-REC-T.140-199802-I/en">https://www.itu.int/rec/T-REC-T.140-199802-I/en</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="T140ad1">[T140ad1]</dt>
      <dd>
<span class="refAuthor">ITU-T</span>, <span class="refTitle">"Recommendation ITU-T.140 Addendum 1 - (02/2000), Protocol for multimedia application text conversation"</span>, <time datetime="2000-02" class="refDate">February 2000</time>, <span>&lt;<a href="https://www.itu.int/rec/T-REC-T.140-200002-I!Add1/en">https://www.itu.int/rec/T-REC-T.140-200002-I!Add1/en</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
<section id="section-12.2">
        <h3 id="name-informative-references">
<a href="#section-12.2" class="section-number selfRef">12.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="RFC4353">[RFC4353]</dt>
        <dd>
<span class="refAuthor">Rosenberg, J.</span>, <span class="refTitle">"A Framework for Conferencing with the Session Initiation Protocol (SIP)"</span>, <span class="seriesInfo">RFC 4353</span>, <span class="seriesInfo">DOI 10.17487/RFC4353</span>, <time datetime="2006-02" class="refDate">February 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4353">https://www.rfc-editor.org/info/rfc4353</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4575">[RFC4575]</dt>
        <dd>
<span class="refAuthor">Rosenberg, J.</span>, <span class="refAuthor">Schulzrinne, H.</span>, and <span class="refAuthor">O. Levin, Ed.</span>, <span class="refTitle">"A Session Initiation Protocol (SIP) Event Package for Conference State"</span>, <span class="seriesInfo">RFC 4575</span>, <span class="seriesInfo">DOI 10.17487/RFC4575</span>, <time datetime="2006-08" class="refDate">August 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4575">https://www.rfc-editor.org/info/rfc4575</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC4579">[RFC4579]</dt>
        <dd>
<span class="refAuthor">Johnston, A.</span> and <span class="refAuthor">O. Levin</span>, <span class="refTitle">"Session Initiation Protocol (SIP) Call Control - Conferencing for User Agents"</span>, <span class="seriesInfo">BCP 119</span>, <span class="seriesInfo">RFC 4579</span>, <span class="seriesInfo">DOI 10.17487/RFC4579</span>, <time datetime="2006-08" class="refDate">August 2006</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc4579">https://www.rfc-editor.org/info/rfc4579</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC5194">[RFC5194]</dt>
        <dd>
<span class="refAuthor">van Wijk, A., Ed.</span> and <span class="refAuthor">G. Gybels, Ed.</span>, <span class="refTitle">"Framework for Real-Time Text over IP Using the Session Initiation Protocol (SIP)"</span>, <span class="seriesInfo">RFC 5194</span>, <span class="seriesInfo">DOI 10.17487/RFC5194</span>, <time datetime="2008-06" class="refDate">June 2008</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc5194">https://www.rfc-editor.org/info/rfc5194</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC7667">[RFC7667]</dt>
        <dd>
<span class="refAuthor">Westerlund, M.</span> and <span class="refAuthor">S. Wenger</span>, <span class="refTitle">"RTP Topologies"</span>, <span class="seriesInfo">RFC 7667</span>, <span class="seriesInfo">DOI 10.17487/RFC7667</span>, <time datetime="2015-11" class="refDate">November 2015</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc7667">https://www.rfc-editor.org/info/rfc7667</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8643">[RFC8643]</dt>
        <dd>
<span class="refAuthor">Johnston, A.</span>, <span class="refAuthor">Aboba, B.</span>, <span class="refAuthor">Hutton, A.</span>, <span class="refAuthor">Jesske, R.</span>, and <span class="refAuthor">T. Stach</span>, <span class="refTitle">"An Opportunistic Approach for Secure Real-time Transport Protocol (OSRTP)"</span>, <span class="seriesInfo">RFC 8643</span>, <span class="seriesInfo">DOI 10.17487/RFC8643</span>, <time datetime="2019-08" class="refDate">August 2019</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8643">https://www.rfc-editor.org/info/rfc8643</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8723">[RFC8723]</dt>
        <dd>
<span class="refAuthor">Jennings, C.</span>, <span class="refAuthor">Jones, P.</span>, <span class="refAuthor">Barnes, R.</span>, and <span class="refAuthor">A.B. Roach</span>, <span class="refTitle">"Double Encryption Procedures for the Secure Real-Time Transport Protocol (SRTP)"</span>, <span class="seriesInfo">RFC 8723</span>, <span class="seriesInfo">DOI 10.17487/RFC8723</span>, <time datetime="2020-04" class="refDate">April 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8723">https://www.rfc-editor.org/info/rfc8723</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8825">[RFC8825]</dt>
      <dd>
<span class="refAuthor">Alvestrand, H.</span>, <span class="refTitle">"Overview: Real-Time Protocols for Browser-Based Applications"</span>, <span class="seriesInfo">RFC 8825</span>, <span class="seriesInfo">DOI 10.17487/RFC8825</span>, <time datetime="2021-01" class="refDate">January 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/info/rfc8825">https://www.rfc-editor.org/info/rfc8825</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</section>
<div id="Acknowledgements">
<section id="section-appendix.a">
      <h2 id="name-acknowledgements">
<a href="#name-acknowledgements" class="section-name selfRef">Acknowledgements</a>
      </h2>
<p id="section-appendix.a-1">The author want to thank the following persons for support, reviews and valuable comments: Bernard Aboba, Amanda Baber, Roman Danyliw, Spencer Dawkins, Martin Duke, Lars Eggert, James Hamlin, Benjamin Kaduk, Murray Kucherawy, Paul Kyziwat, Jonathan Lennox, Lorenzo Miniero, Dan Mongrain, Francesca Palombini, Colin Perkins, Brian Rosen, Juergen Schoenwaelder, Rich Salz, Robert Wilton, Dale Worley, Peter Yee and Yong Xin.<a href="#section-appendix.a-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="authors-addresses">
<section id="section-appendix.b">
      <h2 id="name-authors-address">
<a href="#name-authors-address" class="section-name selfRef">Author's Address</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Gunnar Hellstrom</span></div>
<div dir="auto" class="left"><span class="org">Gunnar Hellstrom Accessible Communication</span></div>
<div dir="auto" class="left">SE-<span class="postal-code">13670</span> <span class="locality">Vendelso</span>
</div>
<div dir="auto" class="left"><span class="country-name">Sweden</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:gunnar.hellstrom@ghaccess.se" class="email">gunnar.hellstrom@ghaccess.se</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
