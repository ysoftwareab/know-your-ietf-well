<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Hierarchy Extensions for Atom</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Hierarchy Extensions for Atom">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">C. Divilly</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">N. Mehta</td></tr>
<tr><td class="header">Intended status: Experimental</td><td class="header">Oracle Corp.</td></tr>
<tr><td class="header">Expires: November 21, 2009</td><td class="header">May 20, 2009</td></tr>
</table></td></tr></table>
<h1><br />Hierarchy Extensions for Atom<br />draft-divilly-atom-hierarchy-00</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on November 21, 2009.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>
			This specification defines mechanisms for hierarchical navigation
      among Atom feeds and entries.
 			
</p>
<h3>Editorial Note</h3>

<p>
			To provide feedback on this Internet-Draft, join the
			<a href='http://www.imc.org/atom-syntax/'>atom-syntax mailing
			list (http://www.imc.org/atom-syntax/)</a>.
			
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor1">1.1.</a>&nbsp;
Namespace<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">1.2.</a>&nbsp;
Notational Conventions<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#terminology">1.3.</a>&nbsp;
Terminology<br />
<a href="#hierarchy-model">2.</a>&nbsp;
Hierarchy Model<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#entry-classification">2.1.</a>&nbsp;
Entry Classification<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#parent-representation">2.2.</a>&nbsp;
Entry parent representation<br />
<a href="#inline-representation">3.</a>&nbsp;
Inline Representation of Hierarchical Resources<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#hierarchy-representation">3.1.</a>&nbsp;
Representation of Linked Resources<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#count-attribute">3.1.1.</a>&nbsp;
The &quot;ah:count&quot; Extension Attribute<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#child-feeds">3.2.</a>&nbsp;
Child and descendant feeds<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#down-link">3.2.1.</a>&nbsp;
The &quot;down&quot; Link<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#down-tree-link">3.2.2.</a>&nbsp;
The &quot;down-tree&quot; Link<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#down-examples">3.2.3.</a>&nbsp;
Examples<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#parent-entries">3.3.</a>&nbsp;
Parent Entries and Parent and Ascendant Feeds<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#up-link">3.3.1.</a>&nbsp;
The &quot;up&quot; Link<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#up-tree-link">3.3.2.</a>&nbsp;
The &quot;up-tree&quot; Link<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#parent-examples">3.3.3.</a>&nbsp;
Examples<br />
<a href="#anchor3">4.</a>&nbsp;
Security Considerations<br />
<a href="#iana">5.</a>&nbsp;
IANA Considerations<br />
<a href="#rfc.references1">6.</a>&nbsp;
Normative References<br />
<a href="#anchor5">Appendix&nbsp;A.</a>&nbsp;
Acknowledgements<br />
<a href="#anchor6">Appendix&nbsp;B.</a>&nbsp;
Revision History<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>
			Many applications, besides blogs, provide their data in the form of 
      syndicated Web feeds using formats such as Atom <a class='info' href='#RFC4287'>[RFC4287]<span> (</span><span class='info'>Nottingham, M., Ed. and R. Sayre, Ed., &ldquo;The Atom Syndication Format,&rdquo; December&nbsp;2005.</span><span>)</span></a>. 
      Some such applications organize Atom Entries in a hierarchical fashion
      similar to a file system. 
      
</p>
<p>
      This specification describes a means of communicating about Atom Entries
      that are hierarchically related to each other since resource identifiers
      are opaque to clients and cannot be directly manipulated for the purposes
      of representation exchange, i.e., navigation.  
 	    
</p>
<p>
			This specification proposes new XML markup to extend the Atom Syndication Format and new
      link relations to obtain representations of hierarchically related Atom resources.
			
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.1"></a><h3>1.1.&nbsp;
Namespace</h3>

<p> The XML Namespaces URI for the XML data format described in this specification is: 
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
    http://purl.org/atom/hierarchy/</pre></div>
<p> This specification uses the prefix "ah:" for the namespace name.  The
       prefix "atom:" is used for "http://www.w3.org/2005/Atom", the namespace name of
       the Atom Syndication Format <a class='info' href='#RFC4287'>[RFC4287]<span> (</span><span class='info'>Nottingham, M., Ed. and R. Sayre, Ed., &ldquo;The Atom Syndication Format,&rdquo; December&nbsp;2005.</span><span>)</span></a>.
       These namespace prefixes are not semantically significant.
       
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.2"></a><h3>1.2.&nbsp;
Notational Conventions</h3>

<p>
				The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", 
				"SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" 
				in this document are to be interpreted as described in <a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
				
</p>
<a name="terminology"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1.3"></a><h3>1.3.&nbsp;
Terminology</h3>

<p>
          This specification uses Atom link relations to identify different
          types of links; see the Atom specification <a class='info' href='#RFC4287'>[RFC4287]<span> (</span><span class='info'>Nottingham, M., Ed. and R. Sayre, Ed., &ldquo;The Atom Syndication Format,&rdquo; December&nbsp;2005.</span><span>)</span></a> for
          information about their syntax, and the IANA link relation registry
          for more information about specific values.
         
</p>
<a name="hierarchy-model"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Hierarchy Model</h3>

<p>
			A hierarchy exists when a resource indicates the likelihood of a parent
      and/or a child resource. The terms parent and child are indicative
      of the need for the former to exist before the latter can be created.
			
</p>
<a name="entry-classification"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.1"></a><h3>2.1.&nbsp;
Entry Classification</h3>

<p>
				The Atom Syndication Format <a class='info' href='#RFC4287'>[RFC4287]<span> (</span><span class='info'>Nottingham, M., Ed. and R. Sayre, Ed., &ldquo;The Atom Syndication Format,&rdquo; December&nbsp;2005.</span><span>)</span></a> defines the Atom Entry construct. 
				The extensions in this specification define two specialized kinds of Entry construct --
				parent Entry and child Entry. 
        
</p>
<p>
				A parent Entry is a container for child Entries. A parent Entry 
        could itself be a child of another parent Entry.
				
</p>
<p>Every Entry construct is represented as an Atom Entry Document <a class='info' href='#RFC4287'>[RFC4287]<span> (</span><span class='info'>Nottingham, M., Ed. and R. Sayre, Ed., &ldquo;The Atom Syndication Format,&rdquo; December&nbsp;2005.</span><span>)</span></a> 
        referred to in this specification as an "entry" and its plural. A logical  
        Feed comprising entirely of child entries of a given Entry is called 
        its child feed and one comprising entirely of its parent entries is 
        called its parent feed. Both parent feed and child feed are seen from the
        perspective of a given Entry resource. The entries in the parent feed and
        child feed of an Entry SHOULD be disjoint, i.e., not share any entries.
				
</p>
<p>
					A parent entry contains a "down" atom:link for its child feed. A parent 
          entry may also contain a "down-tree" atom:link for a child feed of a subset 
          of the descendants of that parent Entry.
					
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   atom:entry
        |
        o- atom:link@rel="down" (1..1)
        o- atom:link@rel="down-tree" (0..1)
</pre></div>
<p>
					A child entry contains an "up" atom:link for its parent feed or
          entry if the child only allows a single parent. A child entry may also 
          contain an "up-tree" atom:link for a parent feed of a subset of the 
          ascendants of that child Entry.
					
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
   atom:feed
        |
        o- atom:link@rel="up" (1..1)
        o- atom:link@rel="up-tree" (0..1)
</pre></div>
<a name="parent-representation"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2.2"></a><h3>2.2.&nbsp;
Entry parent representation</h3>

<p>
        Applications MAY allow more than one parent Entry to contain a given 
        child Entry. This is similar to hard links in filesystems. On the
        other hand, certain applications allow only a single parent Entry.
        
</p>
<p>
        A child Entry MUST use a logical Feed to represent multiple parent
        Entries. This implies use of a feed for the URI <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifier (URI): Generic Syntax,&rdquo; January&nbsp;2005.</span><span>)</span></a> identified
        as the child Entry's "up" link. A child Entry MAY use an entry 
        for the URI identified as the child Entry's "up" link if 
        it does not allow multiple parents for that child Entry. Clients
        SHOULD be prepared to inspect the representation received for the
        "up" link of a child Entry before assuming either cardinality models.
        
</p>
<a name="inline-representation"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Inline Representation of Hierarchical Resources</h3>

<p>
			A parent or child feed or a parent entry MAY be inlined in an entry. 
      Clients SHOULD NOT assume that the inline representations are identical 
      to the one available from the linked URI. Clients SHOULD use URI identified 
      by the relevant link relation to obtain its complete representation.
			
</p>
<a name="hierarchy-representation"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Representation of Linked Resources</h3>

<p>
				An entry references parent and child Entries via various links. 
        The representation of a hierarchically linked resource can be provided
        in the following ways:
					</p>
<ol class="text">
<li>
						Out-of-line reference: The Atom Processor can retrieve the representation by 
						following the URI specified in the link element.
						
</li>
<li>
						Inline content with out-of-line reference: The Atom Processor can use
						the content specified inside the link element as an approximation of 
            the server representation as detailed below. The embedded
            representation is only a hint and MAY differ from the representation
            obtained from the URI referenced in the link. 
						
</li>
</ol><p>
				
</p>
<a name="count-attribute"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1.1"></a><h3>3.1.1.&nbsp;
The &quot;ah:count&quot; Extension Attribute</h3>

<p>
            On the atom:link element, the value of the "ah:count" attribute MAY 
            be a non-negative integral value identifying an approximate count 
            of the number of entries in the inlined feed document. If the 
            inlined representation or the type identified in the atom:link is 
            the Atom Entry content type, i.e., application/atom+xml;type=entry, 
            then this attribute MUST NOT be used.
            
</p>
<a name="child-feeds"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Child and descendant feeds</h3>

<a name="down-link"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.1"></a><h3>3.2.1.&nbsp;
The &quot;down&quot; Link</h3>

<p>
					A parent entry  MUST contain an atom:link element with 
          link relation of "down" to indicate the child Feed URI. The type 
          attribute of this link element (if present), MUST be the Atom Feed 
          content type, i.e., application/atom+xml;type=feed.
					
</p>
<a name="down-tree-link"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.2"></a><h3>3.2.2.&nbsp;
The &quot;down-tree&quot; Link</h3>

<p>
					A parent entry  MAY contain an atom:link element with 
          link relation of "down-tree" to indicate the URI of a feed of descendant
          Entry resources. The type attribute of this link element (if present), 
          MUST be the Atom Feed content type, i.e., application/atom+xml;type=feed.
          This specification does not prescribe any means of limiting the depth
          to which descendants are available.
					
</p>
<a name="down-examples"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2.3"></a><h3>3.2.3.&nbsp;
Examples</h3>

<p>
						Example: Entry with out-of-line reference to child feed
						
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;atom:entry&gt;
  &lt;atom:title type="text"&gt;My Portfolio&lt;/atom:title&gt;
  &lt;atom:link rel="down" type="application/atom+xml;type=feed"
    href="/finance/feeds/default/portfolios/1/positions" ah:count="0"/&gt;
  ...
&lt;/atom:entry&gt;
</pre></div>
<p>
						Example: Parent entry representation with inline child feed 
						
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;atom:entry&gt;
  &lt;atom:link rel="down"
    href="/finance/feeds/default/portfolios/1/positions"&gt;
    &lt;atom:feed&gt;
      &lt;atom:link rel="self"
       href="/finance/feeds/default/portfolios/1/positions"/&gt;
       ...
    &lt;/atom:feed&gt;
  &lt;/atom:link&gt;
  ...
&lt;/atom:entry&gt;
</pre></div>
<p>
						Example: Entry with out-of-line reference to descendant feed
						
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;atom:entry&gt;
  &lt;atom:link rel="down-tree"
    href="/finance/feeds/default/portfolios/"/&gt;
  ...
&lt;/atom:entry&gt;
</pre></div>
<a name="parent-entries"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Parent Entries and Parent and Ascendant Feeds</h3>

<a name="up-link"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.1"></a><h3>3.3.1.&nbsp;
The &quot;up&quot; Link</h3>

<p>
					Child Entries identify the URIs of their parent Entry or multiple parent
          Entry resources in their own metadata. A child entry MUST contain an 
          atom:link element with link relation of "up" to indicate the parent Entry 
          URI. If the type attribute of this link is present, it MUST be an Atom 
          content type.
					
</p>
<p>
          A child feed MUST identify the URI of the parent Entry represented in
          the feed using the "up" link. This allows navigation back and forth 
          between the parent Entry and the child feed. This is in addition to the 
          "up" link present in individual child entries.
          
</p>
<a name="up-tree-link"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.2"></a><h3>3.3.2.&nbsp;
The &quot;up-tree&quot; Link</h3>

<p>
					A child entry MAY contain an atom:link element with 
          link relation of "up-tree" to indicate the URI of a feed of ascendant
          Entry resources. The type attribute of this link element (if present), 
          MUST be the Atom Feed content type, i.e., application/atom+xml;type=feed.
          This specification does not prescribe any means of limiting the height
          to which ascendants are available.
					
</p>
<a name="parent-examples"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3.3"></a><h3>3.3.3.&nbsp;
Examples</h3>

<p>
						Example: Child Entry with inline multiple parent Entries
						
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;atom:entry&gt;
  &lt;atom:title type="text"&gt;Position for NASDAQ:ORCL&lt;/atom:title&gt;
  &lt;atom:link rel="up"
    href="/finance/feeds/default/positions/NASDAQ:ORCL/up"&gt;
    &lt;atom:feed&gt;
      &lt;atom:entry&gt;
        &lt;atom:link rel="self"
          href="/finance/feeds/default/portfolios/1"/&gt;
        ...
      &lt;/atom:entry&gt;
      &lt;atom:entry&gt;
        &lt;atom:link rel="self"
          href="/finance/feeds/default/portfolios/2"/&gt;
        ...
      &lt;/atom:entry&gt;
    &lt;/atom:feed&gt;
  &lt;/atom:link&gt;
  ...
&lt;/atom:entry&gt;
</pre></div>
<p>
						Example: Child feed with out-of-line reference to parent Entry
						
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;atom:feed&gt;
  &lt;atom:title type="text"&gt;Positions&lt;/atom:title&gt;
  &lt;atom:link rel="up"
    href="/finance/feeds/default/portfolios/1" ah:count="2"/&gt;
  ...
&lt;/atom:feed&gt;
</pre></div>
<p>
						Example: Entry with out-of-line reference to ascendant feed
						
</p><div style='display: table; width: 0; margin-left: 3em; margin-right: auto'><pre>
&lt;atom:entry&gt;
  &lt;atom:link rel="up-tree"
    href="/finance/feeds/default/portfolios/1/positions"/&gt;
  ...
&lt;/atom:entry&gt;
</pre></div>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
Security Considerations</h3>

<p>
			Hierarchy Extensions for Atom is subject to the 
			security considerations found in Section 8 of <a class='info' href='#RFC4287'>[RFC4287]<span> (</span><span class='info'>Nottingham, M., Ed. and R. Sayre, Ed., &ldquo;The Atom Syndication Format,&rdquo; December&nbsp;2005.</span><span>)</span></a>.
			
</p>
<p>
      The down-tree relation can overwhelm a server if reasonable limits are not
      placed on the depth to which hierarchy can be navigated. For this reason, applications
      are advised to either restrict this relation's usage to out-of-line content 
      or apply reasonable limits on inline representation.
      
</p>
<a name="iana"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
IANA Considerations</h3>

<p>
		    This specification defines the following new relations that have been
		    added to the Link Relations registry:
				</p>
<ul class="text">
<li>Attribute Value: down
</li>
<li>Description: A URI that refers to a feed of child entries in a hierarchy 
          of Atom Entry resources.
</li>
<li>Expected display characteristics: none
</li>
<li>Security considerations: See this draft
</li>
</ul><p>
				</p>
<ul class="text">
<li>Attribute Value: down-tree
</li>
<li>Description: A URI that refers to the feed of descendant entries in a 
          hierarchy of Atom Entry resources.
</li>
<li>Expected display characteristics: none
</li>
<li>Security considerations: See this draft
</li>
</ul><p>
				</p>
<ul class="text">
<li>Attribute Value: up
</li>
<li>Description: A URI that refers to one or more parent entry resources
          in a hierarchy of Atom Entry resources.
</li>
<li>Expected display characteristics: none
</li>
<li>Security considerations: See this draft
</li>
</ul><p>
				</p>
<ul class="text">
<li>Attribute Value: up-tree
</li>
<li>Description: A URI that refers to the feed of ascendant entries 
          in a hierarchy of Atom Entry resources.
</li>
<li>Expected display characteristics: none
</li>
<li>Security considerations: See this draft
</li>
</ul><p>
			
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>6.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text"><a href="mailto:sob@harvard.edu">Bradner, S.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997 (<a href="http://www.rfc-editor.org/rfc/rfc2119.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc2119.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc2119.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3986">[RFC3986]</a></td>
<td class="author-text"><a href="mailto:timbl@w3.org">Berners-Lee, T.</a>, <a href="mailto:fielding@gbiv.com">Fielding, R.</a>, and <a href="mailto:LMM@acm.org">L. Masinter</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifier (URI): Generic Syntax</a>,&rdquo; STD&nbsp;66, RFC&nbsp;3986, January&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc3986.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc3986.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc3986.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4287">[RFC4287]</a></td>
<td class="author-text"><a href="mailto:mnot@pobox.com">Nottingham, M., Ed.</a> and <a href="mailto:rfsayre@boswijck.com">R. Sayre, Ed.</a>, &ldquo;<a href="http://tools.ietf.org/html/rfc4287">The Atom Syndication Format</a>,&rdquo; RFC&nbsp;4287, December&nbsp;2005 (<a href="http://www.rfc-editor.org/rfc/rfc4287.txt">TXT</a>, <a href="http://xml.resource.org/public/rfc/html/rfc4287.html">HTML</a>, <a href="http://xml.resource.org/public/rfc/xml/rfc4287.xml">XML</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="W3C.REC-xmlbase-20010627">[W3C.REC-xmlbase-20010627]</a></td>
<td class="author-text">Marsh, J., &ldquo;<a href="http://www.w3.org/TR/2001/REC-xmlbase-20010627">XML Base</a>,&rdquo; World Wide Web Consortium FirstEdition&nbsp;REC-xmlbase-20010627, June&nbsp;2001 (<a href="http://www.w3.org/TR/2001/REC-xmlbase-20010627">HTML</a>).</td></tr>
</table>

<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Acknowledgements</h3>

<p>
			Bill de h√ìra and Ashish Motivala reviewed early drafts of this I-D.
			
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B"></a><h3>Appendix B.&nbsp;
Revision History</h3>

<p>
			00 - Initial Revision.
      
</p>
<p>
			01 - Based on feedback from Peter Keane, Julian Reschke, and members of the CMIS TC made the following changes:
        </p>
<blockquote class="text"><dl>
<dt></dt>
<dd>Renamed the link relation "detail" to "down" and "master" to "up"
</dd>
<dt></dt>
<dd>Removed Section 3, 4, 6, and 7
</dd>
<dt></dt>
<dd>Changed namespace prefix from h to ah
</dd>
<dt></dt>
<dd>Added new link relations "up-tree" and "down-tree"
</dd>
</dl></blockquote><p>
      
</p>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Colm Divilly</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Oracle Corp.</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:colm.divilly@oracle.com">colm.divilly@oracle.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://cdivilly.wordpress.com">http://cdivilly.wordpress.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Nikunj R. Mehta</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Oracle Corp.</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:nikunj.mehta@oracle.com">nikunj.mehta@oracle.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://o-micron.blogspot.com/">http://o-micron.blogspot.com/</a></td></tr>
</table>
</body></html>
