<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>XML Media Types</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="XML Media Types">
<meta name="keywords" content="XML, media type, MIME, text, application, XSLT, XPath, Extensible Markup Language">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Network Working Group</td><td class="header">M. Murata</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">IBM Tokyo Research Laboratory</td></tr>
<tr><td class="header">Intended status: Standards Track</td><td class="header">D. Kohn</td></tr>
<tr><td class="header">Expires: February 1, 2010</td><td class="header">skymoon ventures</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">C. Lilley</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">W3C</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">July 31, 2009</td></tr>
</table></td></tr></table>
<h1><br />XML Media Types<br />draft-murata-kohn-lilley-xml-02.txt</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on February 1, 2010.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>This document standardizes three media types -- 
application/xml, 
application/xml-external-parsed-entity, and application/xml-dtd --
for use in exchanging network entities that are related to the
Extensible Markup Language (XML) while deprecating
text/xml and text/xml-external-parsed-entity.  This document also standardizes
a convention (using the suffix '+xml') for naming media types
outside of these five types when those media types represent XML MIME
entities. XML MIME entities are currently exchanged via the
HyperText Transfer Protocol on the World Wide Web, are an
integral part of the WebDAV protocol for remote web authoring,
and are expected to have utility in many domains.
</p>
<p>Major differences from <a class='info' href='#RFC3023'>[RFC3023]<span> (</span><span class='info'>Murata, M., St.Laurent, S., and D. Kohn, &ldquo;XML Media Types,&rdquo; January&nbsp;2001.</span><span>)</span></a> are deprecation of text/xml and text/xml-external-parsed-entity, the addition of XPointer and XML Base as fragment identifiers  and base URIs, respectively, mention of the XPointer Registry, and  updating of many references.

</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
<a href="#conventions">2.</a>&nbsp;
Notational Conventions<br />
<a href="#anchor1">3.</a>&nbsp;
XML Media Types<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#textxml">3.1.</a>&nbsp;
Text/xml Registration (deprecated)<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#applicationxml">3.2.</a>&nbsp;
Application/xml Registration<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#textepse">3.3.</a>&nbsp;
Text/xml-external-parsed-entity Registration (deprecated)<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor2">3.4.</a>&nbsp;
Application/xml-external-parsed-entity Registration<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor3">3.5.</a>&nbsp;
Application/xml-dtd Registration<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor4">3.6.</a>&nbsp;
Summary<br />
<a href="#anchor5">4.</a>&nbsp;
The Byte Order Mark (BOM) and Conversions to/from the UTF-16 Charset<br />
<a href="#frag">5.</a>&nbsp;
Fragment Identifiers<br />
<a href="#xmlbase">6.</a>&nbsp;
The Base URI<br />
<a href="#xmlVersions">7.</a>&nbsp;
XML Versions<br />
<a href="#naming">8.</a>&nbsp;
A Naming Convention for XML-Based Media Types<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#referencing">8.1.</a>&nbsp;
Referencing<br />
<a href="#anchor6">9.</a>&nbsp;
Examples<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor7">9.1.</a>&nbsp;
Text/xml (deprecated) with UTF-8 Charset<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor8">9.2.</a>&nbsp;
Text/xml (deprecated) with UTF-16 Charset<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor9">9.3.</a>&nbsp;
Text/xml (deprecated) with UTF-16BE Charset<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor10">9.4.</a>&nbsp;
Text/xml (deprecated) with ISO-2022-KR Charset<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor11">9.5.</a>&nbsp;
Text/xml (deprecated) with Omitted Charset<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor12">9.6.</a>&nbsp;
Application/xml with UTF-16 Charset<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor13">9.7.</a>&nbsp;
Application/xml with UTF-16BE Charset<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor14">9.8.</a>&nbsp;
Application/xml with ISO-2022-KR Charset<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor15">9.9.</a>&nbsp;
Application/xml with Omitted Charset and UTF-16 XML MIME Entity<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor16">9.10.</a>&nbsp;
Application/xml with Omitted Charset and UTF-8 Entity<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor17">9.11.</a>&nbsp;
Application/xml with Omitted Charset and Internal Encoding Declaration<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor18">9.12.</a>&nbsp;
Text/xml-external-parsed-entity (deprecated) with UTF-8 Charset<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor19">9.13.</a>&nbsp;
Application/xml-external-parsed-entity with UTF-16 Charset<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor20">9.14.</a>&nbsp;
Application/xml-external-parsed-entity with UTF-16BE Charset<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor21">9.15.</a>&nbsp;
Application/xml-dtd<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor22">9.16.</a>&nbsp;
Application/mathml+xml<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor23">9.17.</a>&nbsp;
Application/xslt+xml<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor24">9.18.</a>&nbsp;
Application/rdf+xml<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor25">9.19.</a>&nbsp;
Image/svg+xml<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor26">9.20.</a>&nbsp;
model/x3d+xml<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor27">9.21.</a>&nbsp;
INCONSISTENT EXAMPLE: Text/xml (deprecated) with UTF-8 Charset<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor28">9.22.</a>&nbsp;
application/xml<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor29">9.23.</a>&nbsp;
Application/soap+xml<br />
<a href="#anchor30">10.</a>&nbsp;
IANA Considerations<br />
<a href="#security">11.</a>&nbsp;
Security Considerations<br />
<a href="#rfc.references1">12.</a>&nbsp;
References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references1">12.1.</a>&nbsp;
Normative References<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#rfc.references2">12.2.</a>&nbsp;
Informative References<br />
<a href="#suffix_explanation">Appendix&nbsp;A.</a>&nbsp;
Why Use the '+xml' Suffix for XML-Based MIME Types?<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor33">A.1.</a>&nbsp;
Why not just use text/xml or application/xml and let the XML processor dispatch to the correct application based on the referenced DTD?<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor34">A.2.</a>&nbsp;
Why not create a new subtree (e.g., image/xml.svg) to represent XML MIME types?<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor35">A.3.</a>&nbsp;
Why not create a new top-level MIME type for XML-based media types?<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor36">A.4.</a>&nbsp;
Why not just have the MIME processor 'sniff' the content to determine whether it is XML?<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#parameter">A.5.</a>&nbsp;
Why not use a MIME parameter to specify that a media type uses XML syntax?<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#reverseparameter">A.6.</a>&nbsp;
How about labeling with parameters in the other direction (e.g., application/xml; Content-Feature=iotp)?<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#superclass">A.7.</a>&nbsp;
How about a new superclass MIME parameter that is defined to apply to all MIME types (e.g., Content-Type: application/iotp; $superclass=xml)?<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#newheader">A.8.</a>&nbsp;
What about adding a new parameter to the Content-Disposition header or creating a new Content-Structure header to indicate XML syntax?<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor37">A.9.</a>&nbsp;
How about a new Alternative-Content-Type header?<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor38">A.10.</a>&nbsp;
How about using a conneg tag instead (e.g., accept-features: (syntax=xml))?<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor39">A.11.</a>&nbsp;
How about a third-level content-type, such as text/xml/rdf?<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor40">A.12.</a>&nbsp;
Why use the plus ('+') character for the suffix '+xml'?<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor41">A.13.</a>&nbsp;
What is the semantic difference between application/foo and application/foo+xml?<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor42">A.14.</a>&nbsp;
What happens when an even better markup language (e.g., EBML) is defined, or a new category of data?<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor43">A.15.</a>&nbsp;
Why must I use the '+xml' suffix for my new XML-based media type?<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#anchor44">A.16.</a>&nbsp;
Why not redefine text/xml instead of deprecating it<br />
<a href="#anchor45">Appendix&nbsp;B.</a>&nbsp;
Changes from RFC 3023<br />
<a href="#anchor46">Appendix&nbsp;C.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>The World Wide Web Consortium has issued the
<a class='info' href='#XML'>Extensible Markup Language (XML) 1.0 specification.<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fifth Edition),&rdquo; November&nbsp;2008.</span><span>)</span></a> [XML].
To enable the exchange of XML network entities, this document
standardizes three media types -- application/xml,
application/xml-external-parsed-entity, and application/xml-dtd --,
deprecates two media types -- text/xml and text/xml-external-parsed-entity --,
as well as a naming convention for identifying XML-based MIME
media types.
</p>
<p>XML entities are currently exchanged on the World Wide Web,
and XML is also used for property values and parameter
marshalling by the 
<a class='info' href='#RFC4918'>WebDAV<span> (</span><span class='info'>Dusseault, L., &ldquo;HTTP Extensions for Distributed Authoring -- WEBDAV,&rdquo; June&nbsp;2007.</span><span>)</span></a> [RFC4918]
protocol for remote web authoring. Thus, there is a need for a
media type to properly label the exchange of XML network
entities.
</p>
<p>Although XML is a subset of the Standard Generalized Markup
Language (SGML) 
<a class='info' href='#SGML'>ISO 8879<span> (</span><span class='info'>International Standard Organization, &ldquo;Information Processing -- Text and Office Systems -- Standard Generalized Markup Language (SGML),&rdquo; October&nbsp;1986.</span><span>)</span></a> [SGML],
which has been assigned the media types text/sgml and
application/sgml, there are several reasons why use of text/sgml
or application/sgml to label XML is inappropriate. First, there
exist many applications that can process XML, but that cannot
process SGML, due to SGML's larger feature set. Second, SGML
applications cannot always process XML entities, because XML uses
features of recent technical corrigenda to SGML. Third, the
definition of text/sgml and application/sgml in 
<a class='info' href='#RFC1874'>[RFC1874]<span> (</span><span class='info'>Levinson, E., &ldquo;SGML Media Types,&rdquo; December&nbsp;1995.</span><span>)</span></a>
includes parameters for SGML bit combination transformation
format (SGML-bctf), and SGML boot attribute (SGML-boot). Since
XML does not use these parameters, it would be ambiguous if such
parameters were given for an XML MIME entity. For these reasons,
the best approach for labeling XML network entities has been to provide
new media types for XML.
</p>
<p>Since XML is an integral part of the WebDAV Distributed
Authoring Protocol, and since World Wide Web Consortium
Recommendations are assigned standards tree media
types, and since similar media types (HTML, SGML) have been
assigned standards tree media types, the XML media types were also placed
in the standards  tree <a class='info' href='#RFC3023'>[RFC3023]<span> (</span><span class='info'>Murata, M., St.Laurent, S., and D. Kohn, &ldquo;XML Media Types,&rdquo; January&nbsp;2001.</span><span>)</span></a>.
</p>
<p>Similarly, XML has been used as a foundation for other media
types, including types in every branch of the IETF media types
tree. To facilitate the processing of such types, media types
based on XML, but that are not identified using 
application/xml (or text/xml), SHOULD be named using a suffix of '+xml' as described in <a class='info' href='#naming'>Section&nbsp;8<span> (</span><span class='info'>A Naming Convention for XML-Based Media Types</span><span>)</span></a>. This
will allow XML-based tools -- browsers, editors, search engines,
and other processors -- to work with all XML-based media
types.
</p>
<a name="conventions"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
Notational Conventions</h3>

<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and
"OPTIONAL" in this document are to be interpreted as described in
<a class='info' href='#RFC2119'>[RFC2119]<span> (</span><span class='info'>Bradner, S., &ldquo;Key words for use in RFCs to Indicate Requirement Levels,&rdquo; March&nbsp;1997.</span><span>)</span></a>.
</p>
<p>As defined in <a class='info' href='#RFC2781'>[RFC2781]<span> (</span><span class='info'>Hoffman, P. and F. Yergeau, &ldquo;UTF-16, an encoding of ISO 10646,&rdquo; Februrary&nbsp;2000.</span><span>)</span></a> (informative), the three charsets "utf-16",
"utf-16le", and "utf-16be" are used to label UTF-16 text. In this document, 
"the UTF-16 family" refers to those three charsets. By contrast, the phrases
"utf-16" or UTF-16 in this document refer specifically to the single charset
"utf-16".
</p>
<p>As sometimes happens between two
communities, both MIME and XML have defined the term entity, with
different meanings. Section 2.4 of <a class='info' href='#RFC2045'>[RFC2045]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies,&rdquo; November&nbsp;1996.</span><span>)</span></a>
says:
</p>
<p>
				</p>
<blockquote class="text">
<p>"The term 'entity' refers specifically to the MIME-defined header
fields and contents of either a message or one of the parts in the
body of a multipart entity."
</p>
</blockquote><p>
			
</p>
<p>Section 4 of <a class='info' href='#XML'>[XML]<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fifth Edition),&rdquo; November&nbsp;2008.</span><span>)</span></a>
says:
</p>
<p>
				</p>
<blockquote class="text">
<p>"An XML document may consist of one or many storage units. These are called entities; they all have content and are all (except for the document entity and the external DTD subset) identified by entity name".
</p>
</blockquote><p>
			
</p>
<p>In this document, "XML MIME entity" is defined as the latter (an XML entity) encapsulated
in the former (a MIME entity).
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
XML Media Types</h3>

<p>This document standardizes three media types related to XML MIME
entities: application/xml,
application/xml-external-parsed-entity, and application/xml-dtd 
while deprecating text/xml and text/xml-external-parsed-entity.
Registration information for these media types is described in
the sections below.
</p>
<p>Within the XML specification, XML MIME entities can be classified
into four types. In the XML terminology, they are called "document
entities", "external DTD subsets", "external parsed entities", and
"external parameter entities". The media type 
application/xml MAY be used for "document entities", while
application/xml-external-parsed-entity SHOULD be used for "external
parsed entities". 
Note that <a class='info' href='#RFC3023'>[RFC3023]<span> (</span><span class='info'>Murata, M., St.Laurent, S., and D. Kohn, &ldquo;XML Media Types,&rdquo; January&nbsp;2001.</span><span>)</span></a> (which this document obsoletes) recommended
the use of text/xml and text/xml-external-parsed-entity for 
document entities and external parsed entities, respectively.
Although these media types are still commonly used,
this document deprecates them for future interoperability.
The media type application/xml-dtd SHOULD be used for
"external DTD subsets" or "external parameter entities". 
  application/xml MUST NOT be used for "external parameter entities" or "external DTD subsets", and MUST NOT be used for
"external parsed entities" unless they are also well-formed
"document entities" and are referenced as such.
  Note that <a class='info' href='#RFC2376'>[RFC2376]<span> (</span><span class='info'>Whitehead, E. and M. Murata, &ldquo;XML Media Types,&rdquo; July&nbsp;1998.</span><span>)</span></a> (which is obsolete) allowed such usage, although 
  in practice it is likely to have been rare.
</p>
<p>Neither external DTD subsets nor external parameter entities
parse as XML documents, and while some XML document entities may
be used as external parsed entities and vice versa, there are
many cases where the two are not interchangeable. XML also has
unparsed entities, internal parsed entities, and internal
parameter entities, but they are not XML MIME entities.
</p>
<p>
Application/xml and
application/xml-external-parsed-entity are recommended.
Unlike <a class='info' href='#RFC2376'>[RFC2376]<span> (</span><span class='info'>Whitehead, E. and M. Murata, &ldquo;XML Media Types,&rdquo; July&nbsp;1998.</span><span>)</span></a> or <a class='info' href='#RFC3023'>[RFC3023]<span> (</span><span class='info'>Murata, M., St.Laurent, S., and D. Kohn, &ldquo;XML Media Types,&rdquo; January&nbsp;2001.</span><span>)</span></a>, 
this document deprecates text/xml and text/xml-external-parsed-entity.  The 
reasons are as follows:
	</p>
<blockquote class="text">
<p>Conflicting specifications regarding the character encoding has caused
	  confusion.  
On the one hand, <a class='info' href='#RFC2046'>[RFC2046]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types,&rdquo; November&nbsp;1996.</span><span>)</span></a> specifies "The default character set, which must be
   assumed in the absence of a charset parameter, is US-ASCII.",
<a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Nielsen, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>
   Section 3.7.1, defines that "media subtypes of the 'text' type are
   defined to have a default charset value of 'ISO-8859-1'", and
   <a class='info' href='#RFC2376'>[RFC2376]<span> (</span><span class='info'>Whitehead, E. and M. Murata, &ldquo;XML Media Types,&rdquo; July&nbsp;1998.</span><span>)</span></a> as well as <a class='info' href='#RFC3023'>[RFC3023]<span> (</span><span class='info'>Murata, M., St.Laurent, S., and D. Kohn, &ldquo;XML Media Types,&rdquo; January&nbsp;2001.</span><span>)</span></a> 
   specify the default charset is US-ASCII.  On the other hand, 
implementors and users of XML parsers, 
following Appendix F of <a class='info' href='#XML'>[XML]<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fifth Edition),&rdquo; November&nbsp;2008.</span><span>)</span></a>, assume that the 
default is provided by the XML encoding declaration or BOM.
Note that this conflict does not exist for application/xml 
or application/xml-external-parsed-entity (see "Optional parameters" of application/xml
registration in <a class='info' href='#applicationxml'>Section&nbsp;3.2<span> (</span><span class='info'>Application/xml Registration</span><span>)</span></a>).
</p>
<p>An XML document -- that is, the unprocessed, source XML
	  document -- is unreadable by casual users.  Note that MIME
	  user agents that do not have explicit support for text/xml
	  will treat it as text/plain, for example, by displaying the
	  XML MIME entity as plain text.
</p>
<p>Using application/xml and
	  application/xml-external-parsed-entity instead of text/xml
	  and text/xml-external-parsed-entity does not loose any
	  functionalities.
</p>
<p>The top-level media type "text" has some restrictions on MIME
entities and they are described in 
<a class='info' href='#RFC2045'>[RFC2045]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies,&rdquo; November&nbsp;1996.</span><span>)</span></a>
and 
<a class='info' href='#RFC2046'>[RFC2046]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types,&rdquo; November&nbsp;1996.</span><span>)</span></a>.
In particular, the UTF-16 family, UCS-4, and UTF-32 are not allowed
(except over <a class='info' href='#RFC2616'>HTTP<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Nielsen, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a> [RFC2616], which uses a MIME-like mechanism).  However, section 4.3.3 of <a class='info' href='#XML'>[XML]<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fifth Edition),&rdquo; November&nbsp;2008.</span><span>)</span></a> says:
</p>
<p>
			</p>
<blockquote class="text">
<p>"Each external parsed entity in an XML document may use a different encoding for its characters. All XML processors MUST be able to read entities in both the UTF-8 and UTF-16 encodings."
</p>
</blockquote>
			

<p>Thus, although all XML processors can read entities in at least UTF-16, if an
XML document or external parsed entity is encoded in such
character encoding schemes, it cannot be labeled as text/xml or
text/xml-external-parsed-entity (except for HTTP).
</p>
</blockquote><p>

</p>
<p>XML provides a general framework for defining sequences of
structured data. In some cases, it may be desirable to define new
media types that use XML but define a specific application of
XML, perhaps due to domain-specific display, editing, security considerations or
runtime information. Furthermore, such media types may allow UTF-8 or
 UTF-16 only and prohibit other charsets. This document does not prohibit such media
types and in fact expects them to proliferate. However, developers of
such media types are STRONGLY RECOMMENDED to use this document as a basis for their registration.
				
In particular, the charset parameter SHOULD be used in the same
manner, as described in <a class='info' href='#referencing'>Section&nbsp;8.1<span> (</span><span class='info'>Referencing</span><span>)</span></a>,
in order to enhance interoperability.
</p>
<p>An XML document labeled as application/xml, or with a +xml media type, 
				(or text/xml) might contain
namespace declarations, stylesheet-linking processing instructions (PIs), schema information,
or other declarations that might be used to suggest how the document
is to be processed. For example, a document might have the XHTML
namespace and a reference to a CSS stylesheet. Such a document might
be handled by applications that would use this information to dispatch the document
for appropriate processing.
</p>
<a name="textxml"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
Text/xml Registration (deprecated)</h3>

<p>
					</p>
<blockquote class="text"><dl>
<dt>MIME media type name:</dt>
<dd>text
</dd>
<dt>MIME subtype name:</dt>
<dd>xml
</dd>
<dt>Mandatory parameters:</dt>
<dd>none
</dd>
<dt>Optional parameters:</dt>
<dd>charset
</dd>
</dl></blockquote><p>
					</p>
<blockquote class="text">
<p>Although listed as an optional parameter, the use of the charset parameter is REQUIRED, unless the charset is us-ascii.
The charset parameter can also be used to provide
protocol-specific operations, such as charset-based content
negotiation in HTTP. "utf-8" <a class='info' href='#RFC3629'>[RFC3629]<span> (</span><span class='info'>Yergeau, F., &ldquo;UTF-8, a transformation format of ISO 10646,&rdquo; November &nbsp;2003.</span><span>)</span></a>
is the recommended value, representing the UTF-8 charset.
UTF-8 is supported by all conforming processors of 
<a class='info' href='#XML'>[XML]<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fifth Edition),&rdquo; November&nbsp;2008.</span><span>)</span></a> 
</p>
<p>If the XML MIME entity is transmitted via HTTP, which uses a
MIME-like mechanism that is exempt from the restrictions on the
text top-level type (see section 19.4.1 of 
<a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Nielsen, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>),
"utf-16" <a class='info' href='#RFC2781'>[RFC2781]<span> (</span><span class='info'>Hoffman, P. and F. Yergeau, &ldquo;UTF-16, an encoding of ISO 10646,&rdquo; Februrary&nbsp;2000.</span><span>)</span></a>)
is also recommended. UTF-16 is supported by all conforming
processors of 
<a class='info' href='#XML'>[XML]<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fifth Edition),&rdquo; November&nbsp;2008.</span><span>)</span></a>.
Since the handling of CR, LF and NUL for text types in most
MIME applications would cause undesired transformations of
individual octets in UTF-16 multi-octet characters, gateways
from HTTP to these MIME applications MUST transform the XML
MIME entity from text/xml; charset="utf-16" to
application/xml; charset="utf-16".
</p>
<p>Conformant with 
<a class='info' href='#RFC2046'>[RFC2046]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types,&rdquo; November&nbsp;1996.</span><span>)</span></a>,
if a text/xml entity is received with the charset parameter
omitted, MIME processors and XML processors MUST use the
default charset value of <a class='info' href='#ASCII'>"us-ascii"<span> (</span><span class='info'>, &ldquo;US-ASCII. Coded Character Set -- 7-Bit American Standard Code for Information Interchange,&rdquo; 1986.</span><span>)</span></a> [ASCII]. In cases where the XML
MIME entity is transmitted via HTTP, the default charset value
is still "us-ascii". (Note: There is an inconsistency between
this specification and HTTP/1.1, which uses <a class='info' href='#ISO8859'>ISO-8859-1<span> (</span><span class='info'>, &ldquo;ISO-8859. International Standard -- Information Processing -- 8-bit Single-Byte Coded Graphic Character Sets -- Part 1: Latin alphabet No. 1, ISO-8859-1:1987,&rdquo; 1987.</span><span>)</span></a> [ISO8859] as the
default for a historical reason. Since it is the intersection of UTF-8 and ISO-8859-1 and since it is already used by MIME,  US-ASCII was
chosen, as the default charset for text/xml.  However, it is known 
that many servers and parsers ignore this default and 
rely on the XML encoding declaration or BOM. Thus, application/xml is a more suitable choice.

</p>
<p>There are several 
reasons that the charset
parameter was authoritative. First, some MIME processing engines do
transcoding of MIME bodies of the top-level media type "text" without
reference to any of the internal content. Thus, it is possible that
some agent might change text/xml; charset="iso-2022-jp" to
text/xml; charset="utf-8" without modifying the encoding declaration of
an XML document. Second, text/xml must be compatible with text/plain, 
since MIME agents that do not understand text/xml will fallback to handling
it as text/plain. If the charset parameter for text/xml were not
authoritative, such fallback would cause data corruption. Third,
recent web servers have been improved so that 
server administrators can specify the charset parameter.
Fourth, <a class='info' href='#RFC2130'>[RFC2130]<span> (</span><span class='info'>Weider, C., Cecilia Preston, C., Simonsen, K., Alvestrand, H., Atkinson, R., Crispin, M., and P. Svanberg, &ldquo;The Report of the IAB Character Set Workshop held 29 February - 1 March, 1996,&rdquo; April&nbsp;1997.</span><span>)</span></a> (informative)
specifies that the recommended specification scheme is the "charset"
parameter.
</p>
<p>Since the charset parameter is authoritative, the charset was
sometimes not declared within an XML encoding declaration. Thus,
special care was needed when the recipient stripped the MIME
header and provided persistent storage of the received XML MIME
entity (e.g., in a file system). Unless the charset is UTF-8 or
UTF-16, the recipient SHOULD also persistently store
information about the charset, perhaps by embedding a correct
XML encoding declaration within the XML MIME entity.
</p>
</blockquote><p>
					</p>
<blockquote class="text"><dl>
<dt>Encoding considerations:</dt>
<dd>This media type MAY be encoded as appropriate for the
charset and the capabilities of the underlying MIME transport.
For 7-bit transports, data in UTF-8 MUST be encoded
in quoted-printable or base64. For 8-bit clean transport
(e.g., <a class='info' href='#RFC1652'>8BITMIME<span> (</span><span class='info'>Klensin, J., Freed, N., Rose, M., Stefferud, E., and D. Crocker, &ldquo;SMTP Service Extension for 8bit-MIMEtransport,&rdquo; July&nbsp;1994.</span><span>)</span></a> [RFC1652] ESMTP or
<a class='info' href='#RFC3977'>NNTP<span> (</span><span class='info'>Feather, B., &ldquo;Network News Transfer Protocol,&rdquo; October&nbsp;2006.</span><span>)</span></a> [RFC3977]), UTF-8 does not need to be encoded.
Over <a class='info' href='#RFC2616'>HTTP<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Nielsen, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a> [RFC2616], no content-transfer-encoding is necessary
and UTF-16 may also be used.
</dd>
<dt>Security considerations:</dt>
<dd>See <a class='info' href='#security'>Section&nbsp;11<span> (</span><span class='info'>Security Considerations</span><span>)</span></a>.
</dd>
<dt>Interoperability considerations:</dt>
<dd>XML has proven
to be interoperable across WebDAV clients and servers, and for
import and export from multiple XML authoring tools.  For 
maximum interoperability, validating processors are
recommended.  Although non-validating processors may be more efficient,
they are not required to handle all features of XML.  For further
information, see sub-section 2.9 "Standalone Document Declaration" and
section 5 "Conformance" of <a class='info' href='#XML'>[XML]<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fifth Edition),&rdquo; November&nbsp;2008.</span><span>)</span></a> .
</dd>
<dt>Published specification:</dt>
<dd>
							<a class='info' href='#XML'>Extensible Markup Language (XML) 1.0 (Fifth Edition)<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fifth Edition),&rdquo; November&nbsp;2008.</span><span>)</span></a> [XML].
</dd>
<dt>Applications which use this media type:</dt>
<dd>XML is device-, platform-, and vendor-neutral and is
supported by a wide range of Web user agents, <a class='info' href='#RFC4918'>WebDAV<span> (</span><span class='info'>Dusseault, L., &ldquo;HTTP Extensions for Distributed Authoring -- WEBDAV,&rdquo; June&nbsp;2007.</span><span>)</span></a> [RFC4918] clients
and servers, as well as XML authoring tools.
</dd>
<dt>Additional information:</dt>
<dd>
							
<blockquote class="text"><dl>
<dt>Magic number(s):</dt>
<dd>None.
</dd>
</dl></blockquote>
							
<blockquote class="text">
<p>Although no byte sequences can be counted on to always be
present, XML MIME entities in ASCII-compatible charsets
(including UTF-8) often begin with hexadecimal 3C 3F 78 6D 6C
("&lt;?xml"), and those in UTF-16 often begin with hexadecimal
FE FF 00 3C 00 3F 00 78 00 6D 00 6C or FF FE 3C 00 3F 00 78 00 6D 00 6C 00
(the Byte Order Mark (BOM) followed by "&lt;?xml"). For more
information, see Appendix F of 
<a class='info' href='#XML'>[XML]<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fifth Edition),&rdquo; November&nbsp;2008.</span><span>)</span></a>.
</p>
</blockquote>
							
<blockquote class="text"><dl>
<dt>File extension(s):</dt>
<dd>.xml
</dd>
<dt>Macintosh File Type Code(s):</dt>
<dd>"TEXT"
</dd>
</dl></blockquote>
						
</dd>
<dt>Person and email address for further information:</dt>
<dd>
							
<blockquote class="text"><dl>
<dt></dt>
<dd>MURATA Makoto (FAMILY Given) &lt;eb2m-mrt@asahi-net.or.jp&gt;
</dd>
<dt></dt>
<dd>Daniel Kohn &lt;dan@dankohn.com&gt;
</dd>
<dt></dt>
<dd>Chris Lilley &lt;chris@w3.org&gt;
</dd>
</dl></blockquote>
						
</dd>
<dt>Intended usage:</dt>
<dd>COMMON
</dd>
<dt>Author/Change controller:</dt>
<dd>The XML specification
is a work product of the World Wide Web Consortium's XML Working
Group, and was edited by:

<blockquote class="text"><dl>
<dt></dt>
<dd>Tim Bray &lt;tbray@textuality.com&gt;
</dd>
<dt></dt>
<dd>Jean Paoli &lt;jeanpa@microsoft.com&gt;
</dd>
<dt></dt>
<dd>C. M. Sperberg-McQueen &lt;cmsmcq@uic.edu&gt;
</dd>
<dt></dt>
<dd>Eve Maler &lt;eve.maler@east.sun.com&gt;
</dd>
<dt></dt>
<dd>Francois Yergeau &lt;mailto:francois@yergeau.com&gt;
</dd>
</dl></blockquote>
						
</dd>
</dl></blockquote><p>
					</p>
<blockquote class="text">
<p>The W3C, and the W3C XML Core Working Group, have change
control over the XML specification.
</p>
</blockquote><p>
				
</p>
<a name="applicationxml"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
Application/xml Registration</h3>

<p>
					</p>
<blockquote class="text"><dl>
<dt>MIME media type name:</dt>
<dd>application
</dd>
<dt>MIME subtype name:</dt>
<dd>xml
</dd>
<dt>Mandatory parameters:</dt>
<dd>none
</dd>
<dt>Optional parameters:</dt>
<dd>charset
</dd>
</dl></blockquote><p>
					</p>
<blockquote class="text">
<p>Although listed as an optional parameter, the use
							of the charset parameter, when the charset is reliably known and agrees with the encoding declaration, is RECOMMENDED, since this information can be used by non-XML processors to determine authoritatively the charset of the XML MIME entity. The charset
parameter can also be used to provide protocol-specific
operations, such as charset-based content negotiation in
HTTP.
</p>
<p>"utf-8" <a class='info' href='#RFC3629'>[RFC3629]<span> (</span><span class='info'>Yergeau, F., &ldquo;UTF-8, a transformation format of ISO 10646,&rdquo; November &nbsp;2003.</span><span>)</span></a>
and "utf-16" <a class='info' href='#RFC2781'>[RFC2781]<span> (</span><span class='info'>Hoffman, P. and F. Yergeau, &ldquo;UTF-16, an encoding of ISO 10646,&rdquo; Februrary&nbsp;2000.</span><span>)</span></a>
are the recommended values, representing the UTF-8 and UTF-16
charsets, respectively. These charsets are preferred since they
are supported by all conforming processors of 
<a class='info' href='#XML'>[XML]<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fifth Edition),&rdquo; November&nbsp;2008.</span><span>)</span></a>.
</p>
<p>If an application/xml entity is received where the charset
parameter is omitted, no information is being provided about
the charset by the MIME Content-Type header. Conforming XML
processors MUST follow the requirements in section 4.3.3 of 
<a class='info' href='#XML'>[XML]<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fifth Edition),&rdquo; November&nbsp;2008.</span><span>)</span></a>
that directly address this contingency. However, MIME
processors that are not XML processors SHOULD NOT assume a
default charset if the charset parameter is omitted from an
application/xml entity.
</p>
<p>There are several reasons that the charset parameter is
authoritative.  First, recent web servers have been improved so that
users can specify the charset parameter.  Second, <a class='info' href='#RFC2130'>[RFC2130]<span> (</span><span class='info'>Weider, C., Cecilia Preston, C., Simonsen, K., Alvestrand, H., Atkinson, R., Crispin, M., and P. Svanberg, &ldquo;The Report of the IAB Character Set Workshop held 29 February - 1 March, 1996,&rdquo; April&nbsp;1997.</span><span>)</span></a> (informative) specifies that the recommended specification
scheme is the "charset" parameter.
</p>
<p>On the other hand, it has been
argued that the charset parameter should be omitted and the mechanism
described in Appendix F of <a class='info' href='#XML'>[XML]<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fifth Edition),&rdquo; November&nbsp;2008.</span><span>)</span></a>  (which is non-normative) should be solely relied on.  This approach would
allow users to avoid configuration of the charset parameter; an XML
document stored in a file is likely to contain a correct encoding
declaration or BOM (if necessary), since the operating system does not
typically provide charset information for files.  If users would like
to rely on the encoding declaration or BOM and to hide charset
information from protocols, they SHOULD determine not to use the 
parameter.
</p>
<p>Since the charset parameter is authoritative, the charset is
not always declared within an XML encoding declaration. 
However, since a receiving application can, with very high reliability, determine the encoding of an XML document by reading it, the XML encoding declaration SHOULD be provided and SHOULD agree with the charset parameter. 
Special care is needed when the recipient strips the MIME
header and provides persistent storage of the received XML MIME
entity (e.g., in a file system). Unless the charset is UTF-8 or
UTF-16, the recipient SHOULD also persistently store
information about the charset, perhaps by embedding a correct
							XML encoding declaration within the XML MIME entity.
</p>
</blockquote><p>
					</p>
<blockquote class="text"><dl>
<dt>Encoding considerations:</dt>
<dd>This media type MAY be encoded as appropriate for the
charset and the capabilities of the underlying MIME transport.
For 7-bit transports, data in either UTF-8 or UTF-16 MUST be encoded
in quoted-printable or base64. For 8-bit clean transport
(e.g., <a class='info' href='#RFC1652'>8BITMIME<span> (</span><span class='info'>Klensin, J., Freed, N., Rose, M., Stefferud, E., and D. Crocker, &ldquo;SMTP Service Extension for 8bit-MIMEtransport,&rdquo; July&nbsp;1994.</span><span>)</span></a> [RFC1652] ESMTP or <a class='info' href='#RFC3977'>NNTP<span> (</span><span class='info'>Feather, B., &ldquo;Network News Transfer Protocol,&rdquo; October&nbsp;2006.</span><span>)</span></a> [RFC3977]), UTF-8 is not encoded, but
the UTF-16 family MUST be encoded in base64. For binary clean transports (e.g.,
<a class='info' href='#RFC2616'>HTTP<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Nielsen, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a> [RFC2616]), no content-transfer-encoding is necessary.
</dd>
<dt>Security considerations:</dt>
<dd>See <a class='info' href='#security'>Section&nbsp;11<span> (</span><span class='info'>Security Considerations</span><span>)</span></a>.

</dd>
<dt>Interoperability considerations:</dt>
<dd>Same as <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.

</dd>
<dt>Published specification:</dt>
<dd>Same as <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.

</dd>
<dt>Applications which use this media type:</dt>
<dd>Same as <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.

</dd>
<dt>Additional information:</dt>
<dd>Same as <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.
</dd>
<dt>Person and email address for further information:</dt>
<dd>Same as <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.
</dd>
<dt>Intended usage:</dt>
<dd>COMMON
</dd>
<dt>Author/Change controller:</dt>
<dd>Same as <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.
</dd>
</dl></blockquote><p>
				
</p>
<a name="textepse"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
Text/xml-external-parsed-entity Registration (deprecated)</h3>

<p>
					</p>
<blockquote class="text"><dl>
<dt>MIME media type name:</dt>
<dd>text
</dd>
<dt>MIME subtype name:</dt>
<dd>xml-external-parsed-entity
</dd>
<dt>Mandatory parameters:</dt>
<dd>none
</dd>
<dt>Optional parameters:</dt>
<dd>charset
</dd>
</dl></blockquote><p>
					</p>
<blockquote class="text">
<p>The charset parameter of text/xml-external-parsed-entity is
handled the same as that of text/xml as described in <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.
</p>
</blockquote><p>
					</p>
<blockquote class="text"><dl>
<dt>Encoding considerations:</dt>
<dd>Same as <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.
</dd>
<dt>Security considerations:</dt>
<dd>See <a class='info' href='#security'>Section&nbsp;11<span> (</span><span class='info'>Security Considerations</span><span>)</span></a>.
</dd>
<dt>Interoperability considerations:</dt>
<dd>XML external parsed entities are as interoperable as XML
documents, though they have a less tightly constrained
structure and therefore need to be referenced by XML documents for
proper handling by XML processors. Similarly, XML documents
cannot be reliably used as external parsed entities because
external parsed entities are prohibited from having
standalone document declarations or DTDs. Identifying
XML external parsed entities with their own content type should
enhance interoperability of both XML documents and XML external
parsed entities.
</dd>
<dt>Published specification:</dt>
<dd>Same as <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.
</dd>
<dt>Applications which use this media type:</dt>
<dd>Same as <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.
</dd>
<dt>Additional information:</dt>
<dd>
							
<blockquote class="text"><dl>
<dt>Magic number(s):</dt>
<dd>Same as <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.
</dd>
<dt>File extension(s):</dt>
<dd>.xml or .ent
</dd>
<dt>Macintosh File Type Code(s):</dt>
<dd>"TEXT"
</dd>
</dl></blockquote>
						
</dd>
<dt>Person and email address for further information:</dt>
<dd>Same as <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.
</dd>
<dt>Intended usage:</dt>
<dd>COMMON
</dd>
<dt>Author/Change controller:</dt>
<dd>Same as <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.
</dd>
</dl></blockquote><p>
				
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.4"></a><h3>3.4.&nbsp;
Application/xml-external-parsed-entity Registration</h3>

<p>
					</p>
<blockquote class="text"><dl>
<dt>MIME media type name:</dt>
<dd>application
</dd>
<dt>MIME subtype name:</dt>
<dd>xml-external-parsed-entity
</dd>
<dt>Mandatory parameters:</dt>
<dd>none
</dd>
<dt>Optional parameters:</dt>
<dd>charset
</dd>
</dl></blockquote><p>
					</p>
<blockquote class="text">
<p>The charset parameter of
application/xml-external-parsed-entity is handled the
same as that of application/xml as described in <a class='info' href='#applicationxml'>Section&nbsp;3.2<span> (</span><span class='info'>Application/xml Registration</span><span>)</span></a>.
</p>
</blockquote><p>
					</p>
<blockquote class="text"><dl>
<dt>Encoding considerations:</dt>
<dd>Same as <a class='info' href='#applicationxml'>Section&nbsp;3.2<span> (</span><span class='info'>Application/xml Registration</span><span>)</span></a>.
</dd>
<dt>Security considerations:</dt>
<dd>See <a class='info' href='#security'>Section&nbsp;11<span> (</span><span class='info'>Security Considerations</span><span>)</span></a>.
</dd>
<dt>Interoperability considerations:</dt>
<dd>Same as those for
text/xml-external-parsed-entity as described in <a class='info' href='#textepse'>Section&nbsp;3.3<span> (</span><span class='info'>Text/xml-external-parsed-entity Registration (deprecated)</span><span>)</span></a>.
</dd>
<dt>Published specification:</dt>
<dd>Same as text/xml as described in <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.
</dd>
<dt>Applications which use this media type:</dt>
<dd>Same as <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.
</dd>
<dt>Additional information:</dt>
<dd>
							
<blockquote class="text"><dl>
<dt>Magic number(s):</dt>
<dd>Same as <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.
</dd>
<dt>File extension(s):</dt>
<dd>.xml or .ent
</dd>
<dt>Macintosh File Type Code(s):</dt>
<dd>"TEXT"
</dd>
</dl></blockquote>
						
</dd>
<dt>Person and email address for further information:</dt>
<dd>Same as <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.
</dd>
<dt>Intended usage:</dt>
<dd>COMMON
</dd>
<dt>Author/Change controller:</dt>
<dd>Same as <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.
</dd>
</dl></blockquote><p>
				
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.5"></a><h3>3.5.&nbsp;
Application/xml-dtd Registration</h3>

<p>
					</p>
<blockquote class="text"><dl>
<dt>MIME media type name:</dt>
<dd>application
</dd>
<dt>MIME subtype name:</dt>
<dd>xml-dtd
</dd>
<dt>Mandatory parameters:</dt>
<dd>none
</dd>
<dt>Optional parameters:</dt>
<dd>charset
</dd>
</dl></blockquote><p>
					</p>
<blockquote class="text">
<p>The charset parameter of application/xml-dtd
is handled the same as that of application/xml as described in <a class='info' href='#applicationxml'>Section&nbsp;3.2<span> (</span><span class='info'>Application/xml Registration</span><span>)</span></a>.
</p>
</blockquote><p>
					</p>
<blockquote class="text"><dl>
<dt>Encoding considerations:</dt>
<dd>Same as <a class='info' href='#applicationxml'>Section&nbsp;3.2<span> (</span><span class='info'>Application/xml Registration</span><span>)</span></a>.
</dd>
<dt>Security considerations:</dt>
<dd>See <a class='info' href='#security'>Section&nbsp;11<span> (</span><span class='info'>Security Considerations</span><span>)</span></a>.
</dd>
<dt>Interoperability considerations:</dt>
<dd>XML DTDs have
proven to be interoperable by DTD authoring
tools and XML browsers, among others.
</dd>
<dt>Published specification:</dt>
<dd>Same as text/xml as described in <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.
</dd>
<dt>Applications which use this media type:</dt>
<dd>DTD authoring tools handle external DTD subsets as well as
external parameter entities. XML browsers may also access
external DTD subsets and external parameter entities.
</dd>
<dt>Additional information:</dt>
<dd>
							
<blockquote class="text"><dl>
<dt>Magic number(s):</dt>
<dd>Same as <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.
</dd>
<dt>File extension(s):</dt>
<dd>.dtd or .mod
</dd>
<dt>Macintosh File Type Code(s):</dt>
<dd>"TEXT"
</dd>
</dl></blockquote>
						
</dd>
<dt>Person and email address for further information:</dt>
<dd>Same as <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.
</dd>
<dt>Intended usage:</dt>
<dd>COMMON
</dd>
<dt>Author/Change controller:</dt>
<dd>Same as <a class='info' href='#textxml'>Section&nbsp;3.1<span> (</span><span class='info'>Text/xml Registration (deprecated)</span><span>)</span></a>.
</dd>
</dl></blockquote><p>
				
</p>
<a name="anchor4"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.6"></a><h3>3.6.&nbsp;
Summary</h3>

<p>The following list applies to application/xml,
application/xml-external-parsed-entity, application/xml-dtd, and
XML-based media types under top-level types other than "text"
that define the charset parameter according to this specification:
</p>
<ul class="text">
<li>Charset parameter is recommended,
if it agrees with the xml encoding declaration,
and if present, it takes precedence.
</li>
<li>If the charset parameter is omitted, conforming
XML processors MUST follow the requirements in section 4.3.3 of 
<a class='info' href='#XML'>[XML]<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fifth Edition),&rdquo; November&nbsp;2008.</span><span>)</span></a>.
</li>
</ul><p>
				
</p>
<p>Although 
text/xml,
text/xml-external-parsed-entity, and subtypes of "text" having the 
"+xml" suffix are deprecated, the next list applies to these media types:
</p>
<ul class="text">
<li>Charset parameter is strongly recommended.
</li>
<li>If the charset parameter is not specified, the
default is "us-ascii". The default of "iso-8859-1" in HTTP is
explicitly overridden.
</li>
<li>No error handling provisions.
</li>
<li>An encoding declaration, if present, is irrelevant, but
when saving a received resource as a file, the correct
encoding declaration SHOULD be inserted.
</li>
</ul><p>
				
</p>
<a name="anchor5"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
The Byte Order Mark (BOM) and Conversions to/from the UTF-16 Charset</h3>

<p>Section 4.3.3 of <a class='info' href='#XML'>[XML]<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fifth Edition),&rdquo; November&nbsp;2008.</span><span>)</span></a>
 specifies that XML MIME entities in
 the charset "utf-16" MUST begin with a byte order mark (BOM), which
 is a hexadecimal octet sequence 0xFE 0xFF (or 0xFF 0xFE, depending
 on endian). The XML Recommendation further states that the BOM is
 an encoding signature, and is not part of either the markup or the
 character data of the XML document.
</p>
<p>Due to the presence of the BOM, applications that convert XML from "utf-16"
 to a non-Unicode encoding MUST strip the BOM before
 conversion. Similarly, when converting from another encoding into
 "utf-16", the BOM MUST be added after conversion is complete.
</p>
<p>In addition to the charset "utf-16", <a class='info' href='#RFC2781'>[RFC2781]<span> (</span><span class='info'>Hoffman, P. and F. Yergeau, &ldquo;UTF-16, an encoding of ISO 10646,&rdquo; Februrary&nbsp;2000.</span><span>)</span></a> introduces "utf-16le" (little endian)
and "utf-16be" (big endian) as well. The BOM is prohibited for these
charsets. When an XML MIME entity is encoded in "utf-16le" or
"utf-16be", it MUST NOT begin with the BOM but SHOULD contain an
encoding declaration. Conversion from "utf-16" to "utf-16be" or
"utf-16le" and conversion in the other direction MUST strip or add the BOM,
respectively.
</p>
<a name="frag"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Fragment Identifiers</h3>

<p>Uniform Resource Identifiers (URIs)
may contain fragement identifiers (see
Section 3.5 of <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifiers (URI): Generic 			    Syntax.,&rdquo; January&nbsp;2005.</span><span>)</span></a>).
Likewise, Internationalized Resource Identifiers (IRIs)
<a class='info' href='#RFC3987'>[RFC3987]<span> (</span><span class='info'>D&#220;erst, M. and M. Suignard, &ldquo;Internationalized Resource Identifiers (IRIs),&rdquo; July&nbsp;2005.</span><span>)</span></a>
may contain fragement identifiers.

</p>
<p>A family of specifications define fragment identifiers for XML
media types.  The fragment identifier syntax for application/xml is defined by two W3C
Recommendations in this family, namely <a class='info' href='#XPointerFramework'>[XPointerFramework]<span> (</span><span class='info'>Grosso, P., Maler, E., Marsh, J., and N. Walsh, &ldquo;XPointer Framework,&rdquo; March&nbsp;2003.</span><span>)</span></a> and <a class='info' href='#XPointerElement'>[XPointerElement]<span> (</span><span class='info'>Grosso, P., Maler, E., Marsh, J., and N. Walsh, &ldquo;XPointer element() Scheme,&rdquo; March&nbsp;2003.</span><span>)</span></a>.
Schemes other than the element scheme MUST NOT be specified 
as part of fragment identifiers for these media types.  In particular, 
the xpointer scheme MUST NOT be specified since it is still at the 
	W3C working draft stage.
</p>
<p>When an XML-based MIME media type follows the naming convention
'+xml', the fragment identifier syntax for this media type SHALL
include the fragment identifier syntax for application/xml and
application/xml-external-parsed-entity.  It MAY further allow other
registered schemes such as the xmlns scheme and other schemes.

</p>
<p>A  <a class='info' href='#XPtrReg'>registry 
of XPointer schemes<span> (</span><span class='info'>Hazal-Massieux, D., &ldquo;XPointer Registry,&rdquo; 2005.</span><span>)</span></a> [XPtrReg] is maintained at the W3C. 
Unregistered schemes SHOULD NOT be used.
</p>
<p>If <a class='info' href='#XPointerFramework'>[XPointerFramework]<span> (</span><span class='info'>Grosso, P., Maler, E., Marsh, J., and N. Walsh, &ldquo;XPointer Framework,&rdquo; March&nbsp;2003.</span><span>)</span></a> and <a class='info' href='#XPointerElement'>[XPointerElement]<span> (</span><span class='info'>Grosso, P., Maler, E., Marsh, J., and N. Walsh, &ldquo;XPointer element() Scheme,&rdquo; March&nbsp;2003.</span><span>)</span></a> are inappropriate for some XML-based media
type, it SHOULD NOT follow the naming convention '+xml'.
</p>
<p>When a URI has a fragment identifier, it is encoded by a limited
subset of the repertoire of US-ASCII <a class='info' href='#ASCII'>[ASCII]<span> (</span><span class='info'>, &ldquo;US-ASCII. Coded Character Set -- 7-Bit American Standard Code for Information Interchange,&rdquo; 1986.</span><span>)</span></a>
characters, as defined in <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifiers (URI): Generic 			    Syntax.,&rdquo; January&nbsp;2005.</span><span>)</span></a>.  When a IRI
contains a fragment identifier, it is encoded by a much wider
repertoire of characters.  The conversion between IRI fragment
identifiers and URI fragment identifiers is presented in Section 7 of
<a class='info' href='#RFC3987'>[RFC3987]<span> (</span><span class='info'>D&#220;erst, M. and M. Suignard, &ldquo;Internationalized Resource Identifiers (IRIs),&rdquo; July&nbsp;2005.</span><span>)</span></a>.
</p>
<p>An XPointer fragment identifier does not have to
be resolved even when an XML document is retrieved.
</p>
<a name="xmlbase"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
The Base URI</h3>

<p>Section 5.1 of <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifiers (URI): Generic 			    Syntax.,&rdquo; January&nbsp;2005.</span><span>)</span></a>
specifies that the semantics of a relative URI
reference embedded in a MIME entity is dependent on the base
URI. The base URI is either (1) the base URI embedded in context, 
(2) the base URI from the encapsulating entity,
(3) the base URI from the Retrieval URI, or 
(4) the default base URI, where (1) has the
highest precedence. <a class='info' href='#RFC3986'>[RFC3986]<span> (</span><span class='info'>Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;Uniform Resource Identifiers (URI): Generic 			    Syntax.,&rdquo; January&nbsp;2005.</span><span>)</span></a> further specifies that the
mechanism for embedding the base URI is depaendent on the media
type.
</p>
<p>The media type dependent mechanism for embedding the base URI
in a MIME entity of type application/xml 
or
application/xml-external-parsed-entity is to use the xml:base
attribute described in detail in <a class='info' href='#XBase'>[XBase]<span> (</span><span class='info'>Marsh, J., &ldquo;XML Base,&rdquo; June&nbsp;2001.</span><span>)</span></a>.
</p>
<p>Note that the base URI may be embedded in a different MIME
entity, since the default value for the xml:base attribute may be
specified in an external DTD subset or external parameter entity.
</p>
<a name="xmlVersions"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
XML Versions</h3>

<p>application/xml, application/xml-external-parsed-entity, and application/xml-dtd, text/xml(deprecated) and text/xml-external-parsed-entity(deprecated) are to be used with <a class='info' href='#XML'>[XML]<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fifth Edition),&rdquo; November&nbsp;2008.</span><span>)</span></a>   In all examples
        herein where 
        version="1.0" is shown, it is understood that
        version="1.1" may also be used, providing the
        content does indeed conform to <a class='info' href='#XML1.1'>[XML1.1]<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., Yergeau, F., and J. Cowan, &ldquo;Extensible Markup Language (XML) 1.1,&rdquo; April&nbsp;2004.</span><span>)</span></a>.
</p>
<p>Specifications and recommendations based on or
        referring to this RFC SHOULD indicate any
        limitations on the particular versions of XML
        to be used.  For example, a particular
        specification might indicate: "content MUST be
        represented using media-type application/xml,
        and the document must either (a) carry an xml
        declaration specifying version="1.0" or (b)
        omit the XML declaration, in which case per the
        XML recommendation the version defaults to 1.0"
</p>
<a name="naming"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
A Naming Convention for XML-Based Media Types</h3>

<p>This document recommends the use of a naming convention (a
suffix of '+xml') for identifying XML-based MIME media types,
whatever their particular content may represent. This allows the
use of generic XML processors and technologies on a wide variety
of different XML document types at a minimum cost, using existing
frameworks for media type registration.
</p>
<p>Although the use of a suffix was not considered as part of the
original MIME architecture, this choice is considered to provide
the most functionality with the least potential for
interoperability problems or lack of future extensibility. The
alternatives to the '+xml' suffix and the reason for its selection
are described in 
<a class='info' href='#suffix_explanation'>Appendix&nbsp;A<span> (</span><span class='info'>Why Use the '+xml' Suffix for XML-Based MIME Types?</span><span>)</span></a>.
</p>
<p>As XML development continues, new XML document types are
appearing rapidly. Many of these XML document types would benefit
from the identification possibilities of a more specific MIME
media type than text/xml or application/xml can provide, and it
is likely that many new media types for XML-based document types
will be registered in the near and ongoing future.
</p>
<p>While the benefits of specific MIME types for particular types
of XML documents are significant, all XML documents share common
structures and syntax that make possible common processing.
</p>
<p>Some areas where 'generic' processing is useful include:
</p>
<p>
				</p>
<ul class="text">
<li>Browsing - An XML browser can display any XML document
with a provided 
<a class='info' href='#CSS'>[CSS]<span> (</span><span class='info'>Bos, B., Lie, H., Lilley, C., and I. Jacobs, &ldquo;Cascading Style Sheets, level 2 (CSS2) Specification,&rdquo; May&nbsp;1998.</span><span>)</span></a>
or 
<a class='info' href='#XSLT'>[XSLT]<span> (</span><span class='info'>Clark , J., &ldquo;XSL Transformations (XSLT) Version 1.0,&rdquo; November&nbsp;1999.</span><span>)</span></a>
style sheet, whatever the vocabulary of that document.
</li>
<li>Editing - Any XML editor can read, modify, and save any
XML document.
</li>
<li>Fragment identification - 
XPointers (see <a class='info' href='#frag'>Section&nbsp;5<span> (</span><span class='info'>Fragment Identifiers</span><span>)</span></a>) can work with any XML document, whatever vocabulary it uses.
</li>
<li>Hypertext linking - 
XLink (work in progress) hypertext linking is designed to connect any XML documents,
regardless of vocabulary.
</li>
<li>Searching - XML-oriented search engines, web crawlers,
agents, and query tools should be able to read XML documents
and extract the names and content of elements and attributes
even if the tools are ignorant of the particular vocabulary used
for elements and attributes.
</li>
<li>Storage - XML-oriented storage systems, which keep XML
documents internally in a parsed form, should similarly be
able to process, store, and recreate any XML document.
</li>
<li>Well-formedness and validity checking - An XML processor
can confirm that any XML document is well-formed and that it
is valid (i.e., conforms to its declared DTD or Schema).
</li>
</ul><p>
			
</p>
<p>When a new media type is introduced for an XML-based format,
the name of the media type SHOULD end with '+xml'. This
convention will allow applications that can process XML
generically to detect that the MIME entity is supposed to be an
XML document, verify this assumption by invoking some XML
processor, and then process the XML document accordingly.
Applications may match for types that represent XML MIME entities by
comparing the subtype to the pattern '*/*+xml'.  (Of course, 4 of
the 5 media types defined in this document -- text/xml,
application/xml, text/xml-external-parsed-entity, and
application/xml-external-parsed-entity -- also represent XML MIME entities
while not conforming to the '*/*+xml' pattern.)
</p>
<p>
				</p>
<blockquote class="text">
<p>NOTE: Section 14.1 of 
<a class='info' href='#RFC2616'>HTTP<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Nielsen, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a> [RFC2616]
does not support Accept headers of the form "Accept: */*+xml"
and so this header MUST NOT be used in this way. Instead,
<a class='info' href='#RFC2703'>content negotiation<span> (</span><span class='info'>Klyne, G., &ldquo;Protocol-independent Content Negotiation 						Framework,&rdquo; September&nbsp;1999.</span><span>)</span></a> [RFC2703] could potentially
be used if an XML-based MIME type
were needed.
</p>
</blockquote><p>
			
</p>
<p>Media types following the naming convention '+xml' SHOULD introduce
the charset parameter for consistency, since XML-generic processing
applies the same program for any such media type.  However, there are
some cases that the charset parameter needs not be introduced.  For
example:
</p>
<p></p>
<blockquote class="text">
<p>When an XML-based media type is restricted to UTF-8, it is not
necessary to introduce the charset paramter.  "UTF-8 only" is a
generic principle and UTF-8 is the default of XML.
</p>
<p>When an XML-based media type is restricted to UTF-8 and UTF-16, it
might not be unreasonable to omit the charset parameter.  Neither
UTF-8 nor UTF-16 require encoding declarations of XML.
</p>
<p>Note: Some argue that XML-based media types should not introduce 
the charset parameter, although others disagree.
</p>
</blockquote><p>

</p>
<p>XML generic processing is not always appropriate for
XML-based media types. For example, authors of some such media
types may wish that the types remain entirely opaque except to
applications that are specifically designed to deal with that
media type. By NOT following the naming convention '+xml', such
media types can avoid XML-generic processing. Since generic
processing will be useful in many cases, however -- including in
some situations that are difficult to predict ahead of time --
those registering media types SHOULD use the '+xml' convention
unless they have a particularly compelling reason not to.
</p>
<p>The registration process for these media types is described in
<a class='info' href='#RFC4288'>[RFC4288]<span> (</span><span class='info'>Freed, N. and J. Klensin, &ldquo;Media Type Specifications and Registration Procedures,&rdquo; December &nbsp;2005.</span><span>)</span></a> and <a class='info' href='#RFC4289'>[RFC4289]<span> (</span><span class='info'>Freed, N. and J. Klensin, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part 						Four: Registration Procedures,&rdquo; December &nbsp;2005.</span><span>)</span></a>  .
The registrar for the IETF tree will encourage new XML-based
media type registrations in the IETF tree to follow this
guideline. Registrars for other trees SHOULD follow this
convention in order to ensure maximum interoperability of their
XML-based documents. Similarly, media subtypes that do not
represent XML MIME entities MUST NOT be allowed to register with a
'+xml' suffix.
</p>
<a name="referencing"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8.1"></a><h3>8.1.&nbsp;
Referencing</h3>

<p>Registrations for new XML-based media types under the top-level type "text" are discouraged for the same reasons that text/xml and text/xml-external-parsed-entity are deprecated.

</p>
<p>Registrations for new XML-based media types under top-level types other than "text" SHOULD, in specifying the charset parameter and encoding considerations, define them as: "Same as [charset parameter / encoding considerations] of application/xml as specified in RFC XXXX."
</p>
<p>The use of the charset parameter is STRONGLY RECOMMENDED, since
this information can be used by XML processors to determine
authoritatively the charset of the XML MIME entity.    If there are some reasons not to follow this advice, they SHOULD be included as part of the registration.  As shown above, two such reasons are "UTF-8 only" or "UTF-8 or UTF-16 only".
</p>
<p>These registrations SHOULD specify that the XML-based media type being registered has all of the security considerations described in RFC XXXX plus any additional considerations specific to that media type.
</p>
<p>These registrations SHOULD also make reference to RFC XXXX in specifying magic numbers, fragment identifiers, base URIs, and use of the BOM.
</p>
<p>These registrations MAY reference the applicaiton/xml registration in RFC XXXX in specifying interoperability considerations, if these considerations are not overridden by issues specific to that media type.
</p>
<a name="anchor6"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Examples</h3>

<p>The examples below give the value of the MIME Content-type 
header and the XML declaration (which includes the encoding
declaration) inside the XML MIME entity. For UTF-16 examples, the
Byte Order Mark character is denoted as "{BOM}", and the XML
declaration is assumed to come at the beginning of the XML MIME
entity, immediately following the BOM. Note that other MIME
headers may be present, and the XML MIME entity may contain other
data in addition to the XML declaration; the examples focus on
the Content-type header and the encoding declaration for
clarity.
</p>
<a name="anchor7"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.1"></a><h3>9.1.&nbsp;
Text/xml (deprecated) with UTF-8 Charset</h3>

<p>Content-type: text/xml; charset="utf-8"
</p>
<p>&lt;?xml version="1.0" encoding="utf-8"?&gt;
</p>
<p>This is the recommended charset value for use with text/xml.
Since the charset parameter is provided, MIME and XML
processors MUST treat the enclosed entity as UTF-8 encoded.
</p>
<p>If sent using a 7-bit transport (e.g. <a class='info' href='#RFC5321'>SMTP<span> (</span><span class='info'>Klensin, J., &ldquo;Simple Mail Transfer Protocol,&rdquo; October&nbsp;2008.</span><span>)</span></a> [RFC5321]), the XML MIME entity
MUST use a content-transfer-encoding of either quoted-printable
or base64. For an 8-bit clean transport (e.g., 8BITMIME ESMTP
or NNTP), or a binary clean transport (e.g., HTTP), no
content-transfer-encoding is necessary.
</p>
<a name="anchor8"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.2"></a><h3>9.2.&nbsp;
Text/xml (deprecated) with UTF-16 Charset</h3>

<p>Content-type: text/xml; charset="utf-16"
</p>
<p>{BOM}&lt;?xml version='1.0' encoding='utf-16'?&gt;
</p>
<p>or
</p>
<p>{BOM}&lt;?xml version='1.0'?>
</p>
<p>This is possible only when the XML MIME entity is
transmitted via HTTP, which uses a MIME-like mechanism and is a
binary-clean protocol, hence does not perform CR and LF
transformations and allows NUL octets.
As described in <a class='info' href='#RFC2781'>[RFC2781]<span> (</span><span class='info'>Hoffman, P. and F. Yergeau, &ldquo;UTF-16, an encoding of ISO 10646,&rdquo; Februrary&nbsp;2000.</span><span>)</span></a>,
the UTF-16 family MUST NOT be used with media types under the 
top-level type "text" except over HTTP (see section 19.4.1 of 
<a class='info' href='#RFC2616'>[RFC2616]<span> (</span><span class='info'>Fielding, R., Gettys, J., Mogul, J., Nielsen, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;Hypertext Transfer Protocol -- HTTP/1.1,&rdquo; June&nbsp;1999.</span><span>)</span></a>
for details).
</p>
<p>Since HTTP is binary clean, no content-transfer-encoding is
necessary.
</p>
<a name="anchor9"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.3"></a><h3>9.3.&nbsp;
Text/xml (deprecated) with UTF-16BE Charset</h3>

<p>Content-type: text/xml; charset="utf-16be"
</p>
<p>&lt;?xml version='1.0' encoding='utf-16be'?>
</p>
<p>Observe that the BOM does not exist. This is again
possible only when the XML MIME entity is transmitted via HTTP.
</p>
<a name="anchor10"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.4"></a><h3>9.4.&nbsp;
Text/xml (deprecated) with ISO-2022-KR Charset</h3>

<p>Content-type: text/xml; charset="iso-2022-kr"
</p>
<p>&lt;?xml version="1.0" encoding='iso-2022-kr'?&gt;
</p>
<p>This example shows text/xml with a Korean charset (e.g.,
Hangul) encoded following the specification in 
<a class='info' href='#RFC1557'>[RFC1557]<span> (</span><span class='info'>Choi, U., Chon, K., and H. Park, &ldquo;Korean Character Encoding for Internet 						Messages,&rdquo; December&nbsp;1993.</span><span>)</span></a>.
Since the charset parameter is provided, MIME and XML
processors MUST treat the enclosed entity as encoded per 
RFC 1557.
</p>
<p>Since ISO-2022-KR has been defined to use only 7 bits of
data, no content-transfer-encoding is necessary with any
transport.
</p>
<a name="anchor11"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.5"></a><h3>9.5.&nbsp;
Text/xml (deprecated) with Omitted Charset</h3>

<p>Content-type: text/xml
</p>
<p>{BOM}&lt;?xml version="1.0" encoding="utf-16"?&gt;
</p>
<p>or
</p>
<p>{BOM}&lt;?xml version="1.0"?&gt;
</p>
<p>This example shows text/xml with the charset parameter
omitted. In this case, MIME and XML processors MUST assume the
charset is "us-ascii", the default charset value for text media
types specified in 
<a class='info' href='#RFC2046'>[RFC2046]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types,&rdquo; November&nbsp;1996.</span><span>)</span></a>.
The default of "us-ascii" holds even if the text/xml entity
is transported using HTTP.
</p>
<p>Omitting the charset parameter is NOT RECOMMENDED for
text/xml. For example, even if the contents of the XML MIME
entity are UTF-16 or UTF-8, or the XML MIME entity has an
explicit encoding declaration, XML and MIME processors MUST
assume the charset is "us-ascii".
</p>
<a name="anchor12"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.6"></a><h3>9.6.&nbsp;
Application/xml with UTF-16 Charset</h3>

<p>Content-type: application/xml; charset="utf-16"
</p>
<p>{BOM}&lt;?xml version="1.0" encoding="utf-16"?&gt;
</p>
<p>or
</p>
<p>{BOM}&lt;?xml version="1.0"?&gt;
</p>
<p>This is a recommended charset value for use with
application/xml. Since the charset parameter is provided, MIME
and XML processors MUST treat the enclosed entity as UTF-16
encoded.
</p>
<p>If sent using a 7-bit transport (e.g., SMTP) or an 8-bit
clean transport (e.g., 8BITMIME ESMTP or NNTP), the XML MIME
entity MUST be encoded in quoted-printable or base64. For a
binary clean transport (e.g., HTTP), no
content-transfer-encoding is necessary.
</p>
<a name="anchor13"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.7"></a><h3>9.7.&nbsp;
Application/xml with UTF-16BE Charset</h3>

<p>Content-type: application/xml; charset="utf-16be"
</p>
<p>&lt;?xml version='1.0' encoding='utf-16be'?>
</p>
<p>Observe that the BOM does not exist. Since the charset
 parameter is provided, MIME and XML processors MUST treat the
 enclosed entity as UTF-16BE encoded.
</p>
<a name="anchor14"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.8"></a><h3>9.8.&nbsp;
Application/xml with ISO-2022-KR Charset</h3>

<p>Content-type: application/xml; charset="iso-2022-kr"
</p>
<p>&lt;?xml version="1.0" encoding="iso-2022-kr"?&gt;
</p>
<p>This example shows application/xml with a Korean charset
(e.g., Hangul) encoded following the specification in 
<a class='info' href='#RFC1557'>[RFC1557]<span> (</span><span class='info'>Choi, U., Chon, K., and H. Park, &ldquo;Korean Character Encoding for Internet 						Messages,&rdquo; December&nbsp;1993.</span><span>)</span></a>.
Since the charset parameter is provided, MIME and XML
processors MUST treat the enclosed entity as encoded per RFC 1557,
independent of whether the XML MIME entity has an internal
encoding declaration (this example does show such a
declaration, which agrees with the charset parameter).
</p>
<p>Since ISO-2022-KR has been defined to use only 7 bits of
data, no content-transfer-encoding is necessary with any
transport.
</p>
<a name="anchor15"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.9"></a><h3>9.9.&nbsp;
Application/xml with Omitted Charset and UTF-16 XML MIME Entity</h3>

<p>Content-type: application/xml
</p>
<p>{BOM}&lt;?xml version='1.0' encoding="utf-16"?&gt;
</p>
<p>or
</p>
<p>{BOM}&lt;?xml version='1.0'?&gt;
</p>
<p>For this example, the XML MIME entity begins with a BOM.
Since the charset has been omitted, a conforming XML processor
follows the requirements of 
<a class='info' href='#XML'>[XML]<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fifth Edition),&rdquo; November&nbsp;2008.</span><span>)</span></a>,
section 4.3.3. Specifically, the XML processor reads the BOM,
and thus knows deterministically that the charset is
UTF-16.
</p>
<p>An XML-unaware MIME processor SHOULD make no assumptions
about the charset of the XML MIME entity.
</p>
<a name="anchor16"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.10"></a><h3>9.10.&nbsp;
Application/xml with Omitted Charset and UTF-8 Entity</h3>

<p>Content-type: application/xml
</p>
<p>&lt;?xml version='1.0'?&gt;
</p>
<p>In this example, the charset parameter has been omitted, and
there is no BOM. Since there is no BOM, the XML processor
follows the requirements in section 4.3.3, and optionally
applies the mechanism described in Appendix F (which is
non-normative) of 
<a class='info' href='#XML'>[XML]<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fifth Edition),&rdquo; November&nbsp;2008.</span><span>)</span></a> 
to determine the charset encoding of UTF-8. The XML MIME entity does
not contain an encoding declaration, but since the encoding is
UTF-8, this is still a conforming XML MIME entity.
</p>
<p>An XML-unaware MIME processor SHOULD make no assumptions
about the charset of the XML MIME entity.
</p>
<a name="anchor17"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.11"></a><h3>9.11.&nbsp;
Application/xml with Omitted Charset and Internal Encoding Declaration</h3>

<p>Content-type: application/xml
</p>
<p>&lt;?xml version='1.0' encoding="iso-10646-ucs-4"?&gt;
</p>
<p>In this example, the charset parameter has been omitted, and
there is no BOM. However, the XML MIME entity does have an
encoding declaration inside the XML MIME entity that specifies
the entity's charset. Following the requirements in section
4.3.3, and optionally applying the mechanism described in
Appendix F (non-normative) of 
<a class='info' href='#XML'>[XML]<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fifth Edition),&rdquo; November&nbsp;2008.</span><span>)</span></a>,
the XML processor determines the charset
encoding of the XML MIME entity (in this example, UCS-4).
</p>
<p>An XML-unaware MIME processor SHOULD make no assumptions
about the charset of the XML MIME entity.
</p>
<a name="anchor18"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.12"></a><h3>9.12.&nbsp;
Text/xml-external-parsed-entity (deprecated) with UTF-8 Charset</h3>

<p>Content-type: text/xml-external-parsed-entity;
charset="utf-8"
</p>
<p>&lt;?xml encoding="utf-8"?&gt;
</p>
<p>This is the recommended charset value for use with
text/xml-external-parsed-entity. Since the charset parameter is
provided, MIME and XML processors MUST treat the enclosed
entity as UTF-8 encoded.
</p>
<p>If sent using a 7-bit transport (e.g. SMTP), the XML MIME entity
MUST use a content-transfer-encoding of either quoted-printable
or base64. For an 8-bit clean transport (e.g., 8BITMIME ESMTP
or NNTP), or a binary clean transport (e.g., HTTP) no
content-transfer-encoding is necessary.
</p>
<a name="anchor19"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.13"></a><h3>9.13.&nbsp;
Application/xml-external-parsed-entity with UTF-16 Charset</h3>

<p>Content-type: application/xml-external-parsed-entity;
charset="utf-16"
</p>
<p>{BOM}&lt;?xml encoding="utf-16"?&gt;
</p>
<p>or
</p>
<p>{BOM}&lt;?xml?&gt;
</p>
<p>This is a recommended charset value for use with
application/xml-external-parsed-entity. Since the charset
parameter is provided, MIME and XML processors MUST treat the
enclosed entity as UTF-16 encoded.
</p>
<p>If sent using a 7-bit transport (e.g., SMTP) or an 8-bit
clean transport (e.g., 8BITMIME ESMTP or NNTP), the XML MIME
entity MUST be encoded in quoted-printable or base64. For a
binary clean transport (e.g., HTTP), no
content-transfer-encoding is necessary.
</p>
<a name="anchor20"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.14"></a><h3>9.14.&nbsp;
Application/xml-external-parsed-entity with UTF-16BE Charset</h3>

<p>Content-type: application/xml-external-parsed-entity; charset="utf-16be"
</p>
<p>&lt;?xml encoding="utf-16be"?>
</p>
<p>Since the charset parameter is provided, MIME and
 XML processors MUST treat the enclosed entity as UTF-16BE
 encoded.
</p>
<a name="anchor21"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.15"></a><h3>9.15.&nbsp;
Application/xml-dtd</h3>

<p>Content-type: application/xml-dtd; charset="utf-8"
</p>
<p>&lt;?xml encoding="utf-8"?&gt;
</p>
<p>Charset "utf-8" is a recommended charset value for use with
application/xml-dtd. Since the charset parameter is provided,
MIME and XML processors MUST treat the enclosed entity as UTF-8
encoded.
</p>
<a name="anchor22"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.16"></a><h3>9.16.&nbsp;
Application/mathml+xml</h3>

<p>Content-type: application/mathml+xml
</p>
<p>&lt;?xml version="1.0" ?&gt;
</p>
<p>MathML documents are XML documents whose content describes
mathematical information, as defined by 
<a class='info' href='#MathML'>[MathML]<span> (</span><span class='info'>Carlisle, D., Ion, P., Miner, R., and N. Poppelier, &ldquo;Mathematical Markup Language (MathML) Version 2.0 (Second Edition),&rdquo; October&nbsp;2003.</span><span>)</span></a>.
As a format based on XML, MathML documents SHOULD use the
'+xml' suffix convention in their MIME content-type
identifier. However, no content type has yet been registered for MathML and so this
media type should not be used until such registration has been completed.
</p>
<a name="anchor23"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.17"></a><h3>9.17.&nbsp;
Application/xslt+xml</h3>

<p>Content-type: application/xslt+xml
</p>
<p>&lt;?xml version="1.0" ?&gt;
</p>
<p>Extensible Stylesheet Language (XSLT) documents are XML
documents whose content describes stylesheets for other XML
documents, as defined by 
<a class='info' href='#XSLT'>[XSLT]<span> (</span><span class='info'>Clark , J., &ldquo;XSL Transformations (XSLT) Version 1.0,&rdquo; November&nbsp;1999.</span><span>)</span></a>.
As a format based on XML, XSLT documents SHOULD use the '+xml'
suffix convention in their MIME content-type identifier.
However, no content type has yet been registered for XSLT and so this
media type should not be used until such registration has been completed.
</p>
<a name="anchor24"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.18"></a><h3>9.18.&nbsp;
Application/rdf+xml</h3>

<p>Content-type: application/rdf+xml
</p>
<p>&lt;?xml version="1.0" ?&gt;
</p>
<p>Resources identified using the application/rdf+xml media type are
XML documents whose content describe RDF metadata. 
This media type has been registered at IANA
and is fully defined in <a class='info' href='#RFC3870'>[RFC3870]<span> (</span><span class='info'>3870, A., &ldquo;application/rdf+xml Media Type Registration,&rdquo; September&nbsp;2004.</span><span>)</span></a>.
</p>
<a name="anchor25"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.19"></a><h3>9.19.&nbsp;
Image/svg+xml</h3>

<p>Content-type: image/svg+xml
</p>
<p>&lt;?xml version="1.0" ?&gt;
</p>
<p>Scalable Vector Graphics (SVG) documents are XML documents
whose content describes graphical information, as defined by 
<a class='info' href='#SVG'>[SVG]<span> (</span><span class='info'>Ferraiolo, J., Fujisawa, F., and D. Jackson, &ldquo;Scalable Vector Graphics (SVG) 1.1 Specification,&rdquo; January&nbsp;2004.</span><span>)</span></a>.
As a format based on XML, SVG documents SHOULD use the '+xml'
suffix convention in their MIME content-type identifier.
Content type  registration for SVG is in progress, <a class='info' href='#SVGMediaType'>[SVGMediaType]<span> (</span><span class='info'>Anderson, O., &ldquo;Media Type Registration for image/svg+xml,&rdquo; December&nbsp;2008.</span><span>)</span></a> 
					but depends on the present document.
</p>
<a name="anchor26"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.20"></a><h3>9.20.&nbsp;
model/x3d+xml</h3>

<p>Content-type: model/x3d+xml
</p>
<p>&lt;?xml version="1.0" ?&gt;
</p>
<p>X3D is derived from VRML and is used for 3D models. Besides the XML representation, it may also be serialised in classic VRML syntax and using a fast infoset. Separate, but clearly related  media types are used for these serialisations (model/x3d+vrml and model/x3d+fastinfoset respectively).. 
</p>
<a name="anchor27"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.21"></a><h3>9.21.&nbsp;
INCONSISTENT EXAMPLE: Text/xml (deprecated) with UTF-8 Charset</h3>

<p>Content-type: text/xml; charset="utf-8"
</p>
<p>&lt;?xml version="1.0" encoding="iso-8859-1"?&gt;
</p>
<p>Since the charset parameter is provided in the Content-Type header, MIME and XML
processors MUST treat the enclosed entity as UTF-8 encoded. That is, the "iso-8859-1" encoding MUST be ignored.
</p>
<p>Processors generating XML MIME entities MUST NOT label conflicting charset
information between the MIME Content-Type and the
XML declaration.
</p>
<a name="anchor28"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.22"></a><h3>9.22.&nbsp;
application/xml</h3>

<p>Content-type: application/xml
</p>
<p>&lt;?xml version="1.0" encoding="iso-8859-1"?&gt;
</p>
<p>Since the charset parameter is not provided in the Content-Type header, MIME and XML
					processors MUST treat the  "iso-8859-1" encoding as authoritative.
</p>
<p>Processors generating XML MIME entities MUST NOT label conflicting charset
					information between the MIME Content-Type and the
					XML declaration.
</p>
<a name="anchor29"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9.23"></a><h3>9.23.&nbsp;
Application/soap+xml</h3>

<p>Content-type: application/soap+xml
</p>
<p>&lt;?xml version="1.0" ?&gt;
</p>
<p>Resources identified using the application/soap+xml media type are
SOAP 1.2 message envelopes that have been serialized with XML 1.0.
This media type has been registered at IANA and is fully defined in <a class='info' href='#RFC3902'>[RFC3902]<span> (</span><span class='info'>Baker, M. and M. Nottingham, &ldquo;The &quot;application/soap+xml&quot; media type,&rdquo; September&nbsp;2004.</span><span>)</span></a>.
</p>
<a name="anchor30"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.10"></a><h3>10.&nbsp;
IANA Considerations</h3>

<p>As described in <a class='info' href='#naming'>Section&nbsp;8<span> (</span><span class='info'>A Naming Convention for XML-Based Media Types</span><span>)</span></a>, this document updates the <a class='info' href='#RFC4288'>[RFC4288]<span> (</span><span class='info'>Freed, N. and J. Klensin, &ldquo;Media Type Specifications and Registration Procedures,&rdquo; December &nbsp;2005.</span><span>)</span></a> and <a class='info' href='#RFC4289'>[RFC4289]<span> (</span><span class='info'>Freed, N. and J. Klensin, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part 						Four: Registration Procedures,&rdquo; December &nbsp;2005.</span><span>)</span></a>  registration process for XML-based MIME types.
</p>
<a name="security"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.11"></a><h3>11.&nbsp;
Security Considerations</h3>

<p>XML, as a subset of SGML, has all of the same security considerations
as specified in 
<a class='info' href='#RFC1874'>[RFC1874]<span> (</span><span class='info'>Levinson, E., &ldquo;SGML Media Types,&rdquo; December&nbsp;1995.</span><span>)</span></a>, and likely more, due to its expected ubiquitous deployment.  

</p>
<p>To paraphrase section 3 of RFC 1874,
XML MIME entities contain information to be parsed and
processed by the recipient's XML system. These entities may
contain and such systems may permit explicit system level
commands to be executed while processing the data. To the extent
that an XML system will execute arbitrary command strings,
recipients of XML MIME entities may be a risk. In general, it
may be possible to specify commands that perform unauthorized
file operations or make changes to the display processor's
environment that affect subsequent operations.
</p>
<p>
In general, any information stored outside of the direct control of the user -- including CSS style sheets, XSL transformations, entity declarations, and DTDs -- can be a source of insecurity, by either obvious or subtle means. For example, a tiny "whiteout attack" modification made to a "master" style sheet could make words in critical locations disappear in user documents, without directly modifying the user document or the stylesheet it references.  Thus, the security of any XML document is vitally dependent on all of the documents recursively referenced by that document.
</p>
<p>
The entity lists and DTDs for <a class='info' href='#XHTML'>XHTML 1.0<span> (</span><span class='info'>Pemberton, S. and et al, &ldquo;XHTML 1.0: The Extensible HyperText Markup Language,&rdquo; December&nbsp;1999.</span><span>)</span></a> [XHTML], for instance, are likely to be a commonly used set of information. Many developers will use and trust them, few of whom will know much about the level of security on the W3C's servers, or on any similarly trusted repository.
</p>
<p>
The simplest attack involves adding declarations that break validation. Adding extraneous declarations to a list of character entities can effectively "break the contract" used by documents. A tiny change that produces a fatal error in a DTD could halt XML processing on a large scale. Extraneous declarations are fairly obvious, but more sophisticated tricks, like changing attributes from being optional to required, can be difficult to track down. Perhaps the most dangerous option available to crackers is redefining default values for attributes: e.g., if developers have relied on defaulted attributes for security, a relatively small change might expose enormous quantities of information.
</p>
<p>
			Apart from the structural possibilities, another option, "entity spoofing," can be used to insert text into documents, vandalizing and perhaps conveying an unintended message. Because XML 1.0 permits multiple entity declarations, and the first declaration takes precedence, it's possible to insert malicious content where an entity is used, such as by inserting the full text of Winnie the Pooh in every occurrence of &amp;mdash;.
</p>
<p>Use of the digital signatures work currently underway by the xmldsig working group may eventually ameliorate the dangers of referencing external documents not under one's own control.
</p>
<p>Use of XML is expected to be varied, and widespread. XML is
under scrutiny by a wide range of communities for use as a common
syntax for community-specific metadata. For example, the <a class='info' href='#RFC5013'>Dublin
Core<span> (</span><span class='info'>Kunze, J. and T. Baker, &ldquo;Dublin Core Metadata for Resource Discovery,&rdquo; August&nbsp;2007.</span><span>)</span></a> [RFC5013] group is using XML for document metadata, and a new effort
has begun that is considering use of XML for medical
information. Other groups view XML as a mechanism for marshalling
parameters for remote procedure calls. More uses of XML will
undoubtedly arise.
</p>
<p>Security considerations will vary by domain of use. For
example, XML medical records will have much more stringent
privacy and security considerations than XML library metadata.
Similarly, use of XML as a parameter marshalling syntax
necessitates a case by case security review.
</p>
<p>XML may also have some of the same security concerns as plain
text. Like plain text, XML can contain escape sequences that,
when displayed, have the potential to change the display
processor environment in ways that adversely affect subsequent
operations. Possible effects include, but are not limited to,
locking the keyboard, changing display parameters so subsequent
displayed text is unreadable, or even changing display parameters
to deliberately obscure or distort subsequent displayed material
so that its meaning is lost or altered. Display processors SHOULD
either filter such material from displayed text or else make sure
to reset all important settings after a given display operation
is complete.
</p>
<p>Some terminal devices have keys whose output, when pressed,
can be changed by sending the display processor a character
sequence. If this is possible the display of a text object
containing such character sequences could reprogram keys to
perform some illicit or dangerous action when the key is
subsequently pressed by the user. In some cases not only can keys
be programmed, they can be triggered remotely, making it possible
for a text display operation to directly perform some unwanted
action. As such, the ability to program keys SHOULD be blocked
either by filtering or by disabling the ability to program keys
entirely.
</p>
<p>Note that it is also possible to construct XML documents that
make use of what XML terms "entity references" (using the XML
meaning of the term "entity" as described in <a class='info' href='#conventions'>Section&nbsp;2<span> (</span><span class='info'>Notational Conventions</span><span>)</span></a>),
to construct repeated expansions of
text. Recursive expansions are prohibited by 
<a class='info' href='#XML'>[XML]<span> (</span><span class='info'>Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;Extensible Markup Language (XML) 1.0 (Fifth Edition),&rdquo; November&nbsp;2008.</span><span>)</span></a> 
and XML processors are required to detect them. However, even
non-recursive expansions may cause problems with the finite
computing resources of computers, if they are performed many
times.  (Entity A consists of 100 copies of entity B, which in turn consists of 100 copies of entity C, and so on)
</p>
<a name="rfc.references"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.12"></a><h3>12.&nbsp;
References</h3>

<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.1.&nbsp;Normative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="ASCII">[ASCII]</a></td>
<td class="author-text">&ldquo;US-ASCII. Coded Character Set -- 7-Bit American Standard Code for
Information Interchange,&rdquo; ANSI&nbsp;X3.4-1986, 1986.</td></tr>
<tr><td class="author-text" valign="top"><a name="CSS">[CSS]</a></td>
<td class="author-text">Bos, B., Lie, H., Lilley, C., and I. Jacobs, &ldquo;<a href="http://www.w3.org/TR/REC-CSS2/">Cascading Style Sheets, level 2 (CSS2)
Specification</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-CSS2, May&nbsp;1998.</td></tr>
<tr><td class="author-text" valign="top"><a name="ISO8859">[ISO8859]</a></td>
<td class="author-text">&ldquo;ISO-8859. International Standard -- Information Processing --
8-bit Single-Byte Coded Graphic Character Sets --
Part 1: Latin alphabet No. 1, ISO-8859-1:1987,&rdquo; 1987.</td></tr>
<tr><td class="author-text" valign="top"><a name="MathML">[MathML]</a></td>
<td class="author-text">Carlisle, D., Ion, P., Miner, R., and N. Poppelier, &ldquo;<a href="http://www.w3.org/TR/MathML2/">Mathematical Markup Language (MathML) Version 2.0 (Second Edition)</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-MathML2, October&nbsp;2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="PNG">[PNG]</a></td>
<td class="author-text">Boutell, T., &ldquo;<a href="http://www.w3.org/TR/REC-png">PNG (Portable Network Graphics) Specification</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-png, October&nbsp;1996.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1652">[RFC1652]</a></td>
<td class="author-text">Klensin, J., Freed, N., Rose, M., Stefferud, E., and D. Crocker, &ldquo;<a href="http://tools.ietf.org/html/rfc1652">SMTP Service Extension for 8bit-MIMEtransport</a>,&rdquo; RFC&nbsp;1652, July&nbsp;1994.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2045">[RFC2045]</a></td>
<td class="author-text">Freed, N. and N. Borenstein, &ldquo;<a href="http://tools.ietf.org/html/rfc2045">Multipurpose Internet Mail Extensions (MIME) Part One:
Format of Internet Message Bodies</a>,&rdquo; RFC&nbsp;2045, November&nbsp;1996.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2046">[RFC2046]</a></td>
<td class="author-text">Freed, N. and N. Borenstein, &ldquo;<a href="http://tools.ietf.org/html/rfc2046">Multipurpose Internet Mail Extensions (MIME) Part Two:
Media Types</a>,&rdquo; RFC&nbsp;2046, November&nbsp;1996.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2077">[RFC2077]</a></td>
<td class="author-text">Nelson, S., Parks, C., and Mitra, &ldquo;<a href="http://tools.ietf.org/html/rfc2077">The Model Primary Content Type for Multipurpose
Internet Mail Extensions</a>,&rdquo; RFC&nbsp;2077, January&nbsp;1997.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2119">[RFC2119]</a></td>
<td class="author-text">Bradner, S., &ldquo;<a href="http://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement
Levels</a>,&rdquo; BCP&nbsp;14, RFC&nbsp;2119, March&nbsp;1997.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2445">[RFC2445]</a></td>
<td class="author-text">Dawson, F. and D. Stenerson, &ldquo;<a href="http://tools.ietf.org/html/rfc2445">Internet Calendaring and Scheduling Core Object
Specification (iCalendar)</a>,&rdquo; RFC&nbsp;2445, November&nbsp;1998.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2616">[RFC2616]</a></td>
<td class="author-text">Fielding, R., Gettys, J., Mogul, J., Nielsen, H., Masinter, L., Leach, P., and T. Berners-Lee, &ldquo;<a href="http://tools.ietf.org/html/rfc2616">Hypertext Transfer Protocol -- HTTP/1.1</a>,&rdquo; RFC&nbsp;2616, June&nbsp;1999.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3023">[RFC3023]</a></td>
<td class="author-text"><a href="mailto:mmurata@trl.ibm.co.jp">Murata, M.</a>, <a href="mailto:simonstl@simonstl.com">St.Laurent, S.</a>, and <a href="mailto:dan@dankohn.com">D. Kohn</a>, &ldquo;XML Media Types,&rdquo; January&nbsp;2001.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3501">[RFC3501]</a></td>
<td class="author-text">Crispin, M., &ldquo;<a href="http://tools.ietf.org/html/rfc3501">Internet Message Access Protocol - Version
4rev1</a>,&rdquo; RFC&nbsp;3501, March&nbsp;2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3629">[RFC3629]</a></td>
<td class="author-text">Yergeau, F., &ldquo;<a href="http://tools.ietf.org/html/rfc3629">UTF-8, a transformation format of ISO 10646</a>,&rdquo; RFC&nbsp;3629, November &nbsp;2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3977">[RFC3977]</a></td>
<td class="author-text">Feather, B., &ldquo;<a href="http://tools.ietf.org/html/rfc3977">Network News Transfer Protocol</a>,&rdquo; RFC&nbsp;3977, October&nbsp;2006.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3986">[RFC3986]</a></td>
<td class="author-text">Berners-Lee, T., Fielding, R., and L. Masinter, &ldquo;<a href="http://tools.ietf.org/html/rfc3986">Uniform Resource Identifiers (URI): Generic
			    Syntax.</a>,&rdquo; RFC&nbsp;3986, January&nbsp;2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3987">[RFC3987]</a></td>
<td class="author-text">D&#220;erst, M. and M. Suignard, &ldquo;<a href="http://tools.ietf.org/html/rfc3987">Internationalized Resource Identifiers (IRIs)</a>,&rdquo; RFC&nbsp;3987, July&nbsp;2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4288">[RFC4288]</a></td>
<td class="author-text">Freed, N. and J. Klensin, &ldquo;<a href="http://tools.ietf.org/html/rfc4288">Media Type Specifications and Registration Procedures</a>,&rdquo; RFC&nbsp;4288, December &nbsp;2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4289">[RFC4289]</a></td>
<td class="author-text">Freed, N. and J. Klensin, &ldquo;<a href="http://tools.ietf.org/html/rfc4289">Multipurpose Internet Mail Extensions (MIME) Part
						Four: Registration Procedures</a>,&rdquo; RFC&nbsp;4289, December &nbsp;2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC4918">[RFC4918]</a></td>
<td class="author-text">Dusseault, L., &ldquo;<a href="http://tools.ietf.org/html/rfc4918">HTTP Extensions for Distributed Authoring --
WEBDAV</a>,&rdquo; RFC&nbsp;4918, June&nbsp;2007.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5321">[RFC5321]</a></td>
<td class="author-text">Klensin, J., &ldquo;<a href="http://tools.ietf.org/html/rfc5321">Simple Mail Transfer Protocol</a>,&rdquo; RFC&nbsp;5321, October&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="SGML">[SGML]</a></td>
<td class="author-text">International Standard
Organization, &ldquo;Information Processing -- Text and Office Systems --
Standard Generalized Markup Language (SGML),&rdquo; ISO&nbsp;8879, October&nbsp;1986.</td></tr>
<tr><td class="author-text" valign="top"><a name="SVG">[SVG]</a></td>
<td class="author-text">Ferraiolo, J., Fujisawa, F., and D. Jackson, &ldquo;<a href="http://www.w3.org/TR/SVG11/">Scalable Vector Graphics (SVG) 1.1 Specification</a>,&rdquo; World Wide Web Consortium 
Recommendation&nbsp;SVG, January&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="SVGMediaType">[SVGMediaType]</a></td>
<td class="author-text">Anderson, O., &ldquo;<a href="http://www.w3.org/TR/SVGTiny12/mimereg.html">Media Type Registration for image/svg+xml</a>,&rdquo; December&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="TAGMIME">[TAGMIME]</a></td>
<td class="author-text">Bray, T., Ed., &ldquo;<a href="http://www.w3.org/2001/tag/2004/0430-mime">Internet Media Type registration, consistency of use</a>,&rdquo; April&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="UML">[UML]</a></td>
<td class="author-text">Object Management Group, &ldquo;<a href="http://www.omg.org/uml/">OMG Unified Modeling Language Specification, Version
1.3</a>,&rdquo; OMG Specification&nbsp;ad/99-06-08, June&nbsp;1999.</td></tr>
<tr><td class="author-text" valign="top"><a name="XBase">[XBase]</a></td>
<td class="author-text">Marsh, J., &ldquo;<a href="http://www.w3.org/TR/xmlbase">XML Base</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;xmlbase, June&nbsp;2001.</td></tr>
<tr><td class="author-text" valign="top"><a name="XHTML">[XHTML]</a></td>
<td class="author-text">Pemberton, S. and et al, &ldquo;<a href="http://www.w3.org/TR/xhtml1">XHTML 1.0: The Extensible HyperText Markup Language</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;xhtml1, December&nbsp;1999.</td></tr>
<tr><td class="author-text" valign="top"><a name="XML">[XML]</a></td>
<td class="author-text">Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., and F. Yergeau, &ldquo;<a href="http://www.w3.org/TR/REC-xml">Extensible Markup Language (XML) 1.0 (Fifth Edition)</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-xml, November&nbsp;2008.</td></tr>
<tr><td class="author-text" valign="top"><a name="XML1.1">[XML1.1]</a></td>
<td class="author-text">Bray, T., Paoli, J., Sperberg-McQueen, C., Maler, E., Yergeau, F., and J. Cowan, &ldquo;<a href="http://www.w3.org/TR/xml11">Extensible Markup Language (XML) 1.1</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-xml, April&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="XPointerElement">[XPointerElement]</a></td>
<td class="author-text">Grosso, P., Maler, E., Marsh, J., and N. Walsh, &ldquo;<a href="http://www.w3.org/TR/xptr-element/">XPointer element() Scheme</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-XPointer-Element, March&nbsp;2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="XPointerFramework">[XPointerFramework]</a></td>
<td class="author-text">Grosso, P., Maler, E., Marsh, J., and N. Walsh, &ldquo;<a href="http://www.w3.org/TR/xptr-framework/">XPointer Framework</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-XPointer-Framework, March&nbsp;2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="XPointerXmlns">[XPointerXmlns]</a></td>
<td class="author-text">DeRose, S., Daniel, R., Maler, E., and J. Marsh, &ldquo;<a href="http://www.w3.org/TR/xptr-xmlns/">XPointer xmlns() Scheme</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;REC-XPointer-Xmlns, March&nbsp;2003.</td></tr>
<tr><td class="author-text" valign="top"><a name="XPtrReg">[XPtrReg]</a></td>
<td class="author-text">Hazal-Massieux, D., &ldquo;<a href="http://www.w3.org/2005/04/xpointer-schemes/">XPointer Registry</a>,&rdquo; 2005.</td></tr>
<tr><td class="author-text" valign="top"><a name="XSLT">[XSLT]</a></td>
<td class="author-text">Clark , J., &ldquo;<a href="http://www.w3.org/TR/xslt">XSL Transformations (XSLT) Version 1.0</a>,&rdquo; World Wide Web Consortium Recommendation&nbsp;xslt, November&nbsp;1999.</td></tr>
</table>

<a name="rfc.references2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>12.2.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="RFC1557">[RFC1557]</a></td>
<td class="author-text">Choi, U., Chon, K., and H. Park, &ldquo;<a href="http://tools.ietf.org/html/rfc1557">Korean Character Encoding for Internet
						Messages</a>,&rdquo; RFC&nbsp;1557, December&nbsp;1993.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC1874">[RFC1874]</a></td>
<td class="author-text">Levinson, E., &ldquo;<a href="http://tools.ietf.org/html/rfc1874">SGML Media Types</a>,&rdquo; RFC&nbsp;1874, December&nbsp;1995.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2130">[RFC2130]</a></td>
<td class="author-text">Weider, C., Cecilia Preston, C., Simonsen, K., Alvestrand, H., Atkinson, R., Crispin, M., and P. Svanberg, &ldquo;<a href="http://tools.ietf.org/html/rfc2130">The Report of the IAB Character Set Workshop held 29 February - 1 March, 1996</a>,&rdquo; RFC&nbsp;2130, April&nbsp;1997.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2376">[RFC2376]</a></td>
<td class="author-text">Whitehead, E. and M. Murata, &ldquo;<a href="http://tools.ietf.org/html/rfc2376">XML Media Types</a>,&rdquo; RFC&nbsp;2376, July&nbsp;1998.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2703">[RFC2703]</a></td>
<td class="author-text">Klyne, G., &ldquo;<a href="http://tools.ietf.org/html/rfc2703">Protocol-independent Content Negotiation
						Framework</a>,&rdquo; RFC&nbsp;2703, September&nbsp;1999.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2781">[RFC2781]</a></td>
<td class="author-text">Hoffman, P. and F. Yergeau, &ldquo;<a href="http://tools.ietf.org/html/rfc2781">UTF-16, an encoding of ISO 10646</a>,&rdquo; RFC&nbsp;2781, Februrary&nbsp;2000.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC2801">[RFC2801]</a></td>
<td class="author-text">Burdett, D., &ldquo;<a href="http://tools.ietf.org/html/rfc2801">Internet Open Trading Protocol - IOTP Version 1.0</a>,&rdquo; RFC&nbsp;2801, April&nbsp;2000.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3870">[RFC3870]</a></td>
<td class="author-text">3870, A., &ldquo;<a href="http://tools.ietf.org/html/rfc3870">application/rdf+xml Media Type Registration</a>,&rdquo; RFC&nbsp;3870, September&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3902">[RFC3902]</a></td>
<td class="author-text">Baker, M. and M. Nottingham, &ldquo;<a href="http://tools.ietf.org/html/rfc3902">The "application/soap+xml" media type</a>,&rdquo; RFC&nbsp;3902, September&nbsp;2004.</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC5013">[RFC5013]</a></td>
<td class="author-text">Kunze, J. and T. Baker, &ldquo;<a href="http://tools.ietf.org/html/rfc5013">Dublin Core Metadata for Resource Discovery</a>,&rdquo; RFC&nbsp;5013, August&nbsp;2007.</td></tr>
</table>

<a name="suffix_explanation"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A"></a><h3>Appendix A.&nbsp;
Why Use the '+xml' Suffix for XML-Based MIME Types?</h3>

<p>Although the use of a suffix was not considered as part of the
original MIME architecture, this choice is considered to provide
the most functionality with the least potential for
interoperability problems or lack of future extensibility. The
alternatives to the '+xml' suffix and the reason for its selection
are described below.
</p>
<a name="anchor33"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.1"></a><h3>A.1.&nbsp;
Why not just use text/xml or application/xml and let the XML processor dispatch to the correct application based on the referenced DTD?</h3>

<p>text/xml and application/xml remain useful in many
situations, especially for document-oriented applications that
involve combining XML with a stylesheet in order to present the
data. However, XML is also used to define entirely new data
types, and an XML-based format such as image/svg+xml fits the
definition of a MIME media type exactly as well as 
<a class='info' href='#PNG'>image/png<span> (</span><span class='info'>Boutell, T., &ldquo;PNG (Portable Network Graphics) Specification,&rdquo; October&nbsp;1996.</span><span>)</span></a> [PNG]
does. (Note that image/svg+xml is not yet registered.)
Although extra functionality is available for MIME
processors that are also XML processors, XML-based media types
-- even when treated as opaque, non-XML media types -- are just
as useful as any other media type and should be treated as
such.
</p>
<p>Since MIME dispatchers work off of the MIME type, use of
text/xml or application/xml to label discrete media types will
hinder correct dispatching and general interoperability. Finally,
many XML documents use neither DTDs nor namespaces, 
yet are perfectly legal XML.
</p>
<a name="anchor34"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.2"></a><h3>A.2.&nbsp;
Why not create a new subtree (e.g., image/xml.svg) to represent XML MIME types?</h3>

<p>The subtree under which a media type is registered -- IETF,
vendor (*/vnd.*), or personal (*/prs.*); see <a class='info' href='#RFC4288'>[RFC4288]<span> (</span><span class='info'>Freed, N. and J. Klensin, &ldquo;Media Type Specifications and Registration Procedures,&rdquo; December &nbsp;2005.</span><span>)</span></a> and <a class='info' href='#RFC4289'>[RFC4289]<span> (</span><span class='info'>Freed, N. and J. Klensin, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part 						Four: Registration Procedures,&rdquo; December &nbsp;2005.</span><span>)</span></a>  for details -- is completely
orthogonal from whether the media type uses XML syntax or not.
The suffix approach allows XML document types to be identified
within any subtree. The vendor subtree, for example, is likely
to include a large number of XML-based document types. By using
a suffix, rather than setting up a separate subtree, those
types may remain in the same location in the tree of MIME types
that they would have occupied had they not been based on
XML.
</p>
<a name="anchor35"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.3"></a><h3>A.3.&nbsp;
Why not create a new top-level MIME type for XML-based media types?</h3>

<p>The top-level MIME type (e.g., 
<a class='info' href='#RFC2077'>model/*<span> (</span><span class='info'>Nelson, S., Parks, C., and Mitra, &ldquo;The Model Primary Content Type for Multipurpose Internet Mail Extensions,&rdquo; January&nbsp;1997.</span><span>)</span></a> [RFC2077])
determines what kind of content the type is, not what syntax
it uses. For example, agents using image/* to signal acceptance
of any image format should certainly be given access to media
type image/svg+xml, which is in all respects a standard image
subtype. It just happens to use XML to describe its syntax. The
two aspects of the media type are completely orthogonal.
</p>
<p>XML-based data types will most likely be registered in ALL
top-level categories. Potential, though currently unregistered, examples could include
<a class='info' href='#MathML'>application/mathml+xml<span> (</span><span class='info'>Carlisle, D., Ion, P., Miner, R., and N. Poppelier, &ldquo;Mathematical Markup Language (MathML) Version 2.0 (Second Edition),&rdquo; October&nbsp;2003.</span><span>)</span></a> [MathML],
<a class='info' href='#UML'>model/uml+xml<span> (</span><span class='info'>Object Management Group, &ldquo;OMG Unified Modeling Language Specification, Version 1.3,&rdquo; June&nbsp;1999.</span><span>)</span></a> [UML], and
<a class='info' href='#SVG'>image/svg+xml<span> (</span><span class='info'>Ferraiolo, J., Fujisawa, F., and D. Jackson, &ldquo;Scalable Vector Graphics (SVG) 1.1 Specification,&rdquo; January&nbsp;2004.</span><span>)</span></a> [SVG].
</p>
<a name="anchor36"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.4"></a><h3>A.4.&nbsp;
Why not just have the MIME processor 'sniff' the content to determine whether it is XML?</h3>

<p>Rather than explicitly labeling XML-based media types, the
processor could look inside each type and see whether or not it
is XML. The processor could also cache a list of XML-based
media types.
</p>
<p>Although this method might work acceptably for some mail
applications, it would fail completely in many other uses of
MIME. For instance, an XML-based web crawler would have no way
of determining whether a file is XML except to fetch it and
check. The same issue applies in some 
<a class='info' href='#RFC3501'>IMAP4<span> (</span><span class='info'>Crispin, M., &ldquo;Internet Message Access Protocol - Version 4rev1,&rdquo; March&nbsp;2003.</span><span>)</span></a> [RFC3501]
mail applications, where the client first fetches the MIME type
as part of the message structure and then decides whether to
fetch the MIME entity. Requiring these fetches just to
determine whether the MIME type is XML could have significant
bandwidth and latency disadvantages in many situations.
</p>
<p>Sniffing XML also isn't as simple as it might seem. DOCTYPE
declarations aren't required, and they can appear fairly deep
into a document under certain unpreventable circumstances.
(E.g., the XML declaration, comments, and processing
instructions can occupy space before the DOCTYPE declaration.)
Even sniffing the DOCTYPE isn't completely reliable, thanks to
a variety of issues involving default values for namespaces
within external DTDs and overrides inside the internal DTD.
Finally, the variety in potential character encodings
(something XML provides tools to deal with), also makes
reliable sniffing less likely.
</p>
<a name="parameter"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.5"></a><h3>A.5.&nbsp;
Why not use a MIME parameter to specify that a media type uses XML syntax?</h3>

<p>For example, one could use "Content-Type: application/iotp;
alternate-type=text/xml" or "Content-Type: application/iotp;
syntax=xml".
</p>
<p>Section 5 of 
<a class='info' href='#RFC2045'>[RFC2045]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies,&rdquo; November&nbsp;1996.</span><span>)</span></a>
says that "Parameters are modifiers of the media subtype, and
as such do not fundamentally affect the nature of the content".
However, all XML-based media types are by their nature always
XML. Parameters, as they have been defined in the MIME
architecture, are never invariant across all instantiations of
a media type.
</p>
<p>More practically, very few if any MIME dispatchers and other
MIME agents support dispatching off of a parameter. While MIME
agents on the receiving side will need to be updated in either
case to support (or fall back to) generic XML processing, it
has been suggested that it is easier to implement this
functionality when acting off of the media type rather than a
parameter. More important, sending agents require no update to
properly tag an image as "image/svg+xml", but few if any
sending agents currently support always tagging certain content
types with a parameter.
</p>
<a name="reverseparameter"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.6"></a><h3>A.6.&nbsp;
How about labeling with parameters in the other direction (e.g., application/xml; Content-Feature=iotp)?</h3>

<p>This proposal fails under the simplest case, of a user with
neither knowledge of XML nor an XML-capable MIME dispatcher. In
that case, the user's MIME dispatcher is likely to dispatch the
content to an XML processing application when the correct
default behavior should be to dispatch the content to the
application responsible for the content type (e.g., an
ecommerce engine for 
<a class='info' href='#RFC2801'>application/iotp+xml<span> (</span><span class='info'>Burdett, D., &ldquo;Internet Open Trading Protocol - IOTP Version 1.0,&rdquo; April&nbsp;2000.</span><span>)</span></a> [RFC2801], once
this media type is registered).
</p>
<p>Note that even if the user had already installed the
appropriate application (e.g., the ecommerce engine), and that
installation had updated the MIME registry, many operating
system level MIME registries such as .mailcap in Unix and
HKEY_CLASSES_ROOT in Windows do not currently support
dispatching off a parameter, and cannot easily be upgraded to
do so. And, even if the operating system were upgraded to
support this, each MIME dispatcher would also separately need
to be upgraded.
</p>
<a name="superclass"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.7"></a><h3>A.7.&nbsp;
How about a new superclass MIME parameter that is defined to apply to all MIME types (e.g., Content-Type: application/iotp; $superclass=xml)?</h3>

<p>This combines the problems of 
<a class='info' href='#parameter'>Appendix&nbsp;A.5<span> (</span><span class='info'>Why not use a MIME parameter to specify that a media type uses XML syntax?</span><span>)</span></a>
and 
<a class='info' href='#reverseparameter'>Appendix&nbsp;A.6<span> (</span><span class='info'>How about labeling with parameters in the other direction (e.g., application/xml; Content-Feature=iotp)?</span><span>)</span></a>.
</p>
<p>If the sender attaches an image/svg+xml file to a message
and includes the instructions "Please copy the French text on
the road sign", someone with an XML-aware MIME client and an
XML browser but no support for SVG can still probably open the
file and copy the text. By contrast, with superclasses, the
sender must add superclass support to her existing mailer AND
the receiver must add superclass support to his before this
transaction can work correctly.
</p>
<p>If the receiver comes to rely on the superclass tag being
present and applications are deployed relying on that tag (as
always seems to happen), then only upgraded senders will be
able to interoperate with those receiving applications.
</p>
<a name="newheader"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.8"></a><h3>A.8.&nbsp;
What about adding a new parameter to the Content-Disposition header or creating a new Content-Structure header to indicate XML syntax?</h3>

<p>This has nearly identical problems to 
<a class='info' href='#superclass'>Appendix&nbsp;A.7<span> (</span><span class='info'>How about a new superclass MIME parameter that is defined to apply to all MIME types (e.g., Content-Type: application/iotp; $superclass=xml)?</span><span>)</span></a>,
in that it requires both senders and receivers to be
upgraded, and few if any operating systems and MIME dispatchers
support working off of anything other than the MIME type.
</p>
<a name="anchor37"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.9"></a><h3>A.9.&nbsp;
How about a new Alternative-Content-Type header?</h3>

<p>This is better than 
<a class='info' href='#newheader'>Appendix&nbsp;A.8<span> (</span><span class='info'>What about adding a new parameter to the Content-Disposition header or creating a new Content-Structure header to indicate XML syntax?</span><span>)</span></a>,
in that no extra functionality needs to be added to a MIME
registry to support dispatching of information other than
standard content types. However, it still requires both sender
and receiver to be upgraded, and it will also fail in many
cases (e.g., web hosting to an outsourced server), where the
user can set MIME types (often through implicit mapping to file
extensions), but has no way of adding arbitrary HTTP
headers.
</p>
<a name="anchor38"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.10"></a><h3>A.10.&nbsp;
How about using a conneg tag instead (e.g., accept-features: (syntax=xml))?</h3>

<p>When the conneg protocol is fully defined, this may
potentially be a reasonable thing to do. But given the limited
current state of 
<a class='info' href='#RFC2703'>conneg<span> (</span><span class='info'>Klyne, G., &ldquo;Protocol-independent Content Negotiation 						Framework,&rdquo; September&nbsp;1999.</span><span>)</span></a> [RFC2703]
development, it is not a credible replacement for a MIME-based
solution.
</p>
<p>Also, note that adding a content-type parameter doesn't work
with conneg either, since conneg only deals with media types,
not their parameters. This is another illustration of the
limits of parameters for MIME dispatchers.
</p>
<a name="anchor39"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.11"></a><h3>A.11.&nbsp;
How about a third-level content-type, such as text/xml/rdf?</h3>

<p>MIME explicitly defines two levels of content type, the
top-level for the kind of content and the second-level for the
specific media type. 
<a class='info' href='#RFC4288'>[RFC4288]<span> (</span><span class='info'>Freed, N. and J. Klensin, &ldquo;Media Type Specifications and Registration Procedures,&rdquo; December &nbsp;2005.</span><span>)</span></a> and <a class='info' href='#RFC4289'>[RFC4289]<span> (</span><span class='info'>Freed, N. and J. Klensin, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part 						Four: Registration Procedures,&rdquo; December &nbsp;2005.</span><span>)</span></a>  
extends this in an interoperable way by using prefixes to
specify separate trees for IETF, vendor, and personal
registrations. This specification also extends the two-level
type by using the '+xml' suffix. In both cases, processors that
are unaware of these later specifications treat them as opaque
and continue to interoperate. By contrast, adding a third-level
type would break the current MIME architecture and cause
numerous interoperability failures.
</p>
<a name="anchor40"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.12"></a><h3>A.12.&nbsp;
Why use the plus ('+') character for the suffix '+xml'?</h3>

<p>As specified in Section 5.1 of
<a class='info' href='#RFC2045'>[RFC2045]<span> (</span><span class='info'>Freed, N. and N. Borenstein, &ldquo;Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies,&rdquo; November&nbsp;1996.</span><span>)</span></a>, a tspecial can't be used:
</p>
<blockquote class="text">
<p>tspecials :=<br />

"(" / ")" / "&lt;" / "&gt;" / "@" /<br />

"," / ";" / ":" / "\" / &lt;"&gt;<br />

"/" / "[" / "]" / "?" / "="
</p>
</blockquote><p>
It was thought that "." would not be a good choice since it is already used as an additional 
hierarchy delimiter. Also, "*" has a common wildcard 
meaning, and "-" and "_" are common word separators and easily 
confused.  The characters %'`#&amp;
are frequently used for quoting or comments and so are not ideal.
</p>
<p>That leaves: ~!$^+{}|
</p>
<p>Note that "-" is used heavily in the current registry. "$" and "_" are 
used once each.  The others are currently unused.
</p>
<p>It was thought that '+' expressed the semantics that a MIME type can be treated (for example) as
both scalable vector graphics AND ALSO as XML; it is both simultaneously.
</p>
<a name="anchor41"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.13"></a><h3>A.13.&nbsp;
What is the semantic difference between application/foo and application/foo+xml?</h3>

<p>MIME processors that are unaware of XML will treat the '+xml'
suffix as completely opaque, so it is essential that no extra
semantics be assigned to its presence. Therefore,
application/foo and application/foo+xml SHOULD be treated as
completely independent media types. Although, for example,
text/calendar+xml could be an XML version of 
<a class='info' href='#RFC2445'>text/calendar<span> (</span><span class='info'>Dawson, F. and D. Stenerson, &ldquo;Internet Calendaring and Scheduling Core Object Specification (iCalendar),&rdquo; November&nbsp;1998.</span><span>)</span></a> [RFC2445],
it is possible that this (hypothetical) new media type would
include new semantics as well as new syntax, and in any case,
there would be many applications that support text/calendar but
had not yet been upgraded to support text/calendar+xml.
</p>
<a name="anchor42"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.14"></a><h3>A.14.&nbsp;
What happens when an even better markup language (e.g., EBML) is defined, or a new category of data?</h3>

<p>In the ten years that MIME has existed, XML is the first
generic data format that has seemed to justify special
treatment, so it is hoped that no further suffixes will be
necessary. However, if some are later defined, and these
documents were also XML, they would need to specify that the
'+xml' suffix is always the outermost suffix (e.g.,
application/foo+ebml+xml not application/foo+xml+ebml). If they
were not XML, then they would use a regular suffix (e.g.,
application/foo+ebml).
</p>
<a name="anchor43"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.15"></a><h3>A.15.&nbsp;
Why must I use the '+xml' suffix for my new XML-based media type?</h3>

<p>You don't have to, but unless you have a good reason to
explicitly disallow generic XML processing, you should use the
suffix so as not to curtail the options of future users and
developers.
</p>
<p>Whether the inventors of a media type, today, design it for
dispatch to generic XML processing machinery (and most won't)
is not the critical issue. The core notion is that the
knowledge that some media type happens to use XML syntax opens
the door to unanticipated kinds of processing beyond those
envisioned by its inventors, and on this basis identifying such
encoding is a good and useful thing.
</p>
<p>Developers of new media types are often tightly focused on a
particular type of processing that meets current needs. But
there is no need to rule out generic processing as well, which
could make your media type more valuable over time. It is
believed that registering with the '+xml' suffix will cause no
interoperability problems whatsoever, while it may enable
significant new functionality and interoperability now and in the future. So, the
conservative approach is to include the '+xml' suffix.
</p>
<a name="anchor44"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.A.16"></a><h3>A.16.&nbsp;
Why not redefine text/xml instead of deprecating it</h3>

<p>Since many XML processors do not follow RFC 3023 (they treat the xml encoding
				declaration as authoritative) it has been suggested that text/xml be redefined to
				follow the same behavior as application/xml in this specification. However, this 
				pragmatic solution would not be compatible with  the definition of the text/* type 
				for non-HTTP transports.
</p>
<a name="anchor45"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.B"></a><h3>Appendix B.&nbsp;
Changes from RFC 3023</h3>

<p>There are numerous and significant differences between this specification and
<a class='info' href='#RFC3023'>[RFC3023]<span> (</span><span class='info'>Murata, M., St.Laurent, S., and D. Kohn, &ldquo;XML Media Types,&rdquo; January&nbsp;2001.</span><span>)</span></a>, which it obsoletes.  This appendix summarizes the major 
differences only.
</p>
<p>First, text/xml and 
text/xml-external-parsed-entity are deprecated.
Second, XPointer (<a class='info' href='#XPointerFramework'>[XPointerFramework]<span> (</span><span class='info'>Grosso, P., Maler, E., Marsh, J., and N. Walsh, &ldquo;XPointer Framework,&rdquo; March&nbsp;2003.</span><span>)</span></a> and <a class='info' href='#XPointerElement'>[XPointerElement]<span> (</span><span class='info'>Grosso, P., Maler, E., Marsh, J., and N. Walsh, &ldquo;XPointer element() Scheme,&rdquo; March&nbsp;2003.</span><span>)</span></a> and <a class='info' href='#XPointerXmlns'>[XPointerXmlns]<span> (</span><span class='info'>DeRose, S., Daniel, R., Maler, E., and J. Marsh, &ldquo;XPointer xmlns() Scheme,&rdquo; March&nbsp;2003.</span><span>)</span></a>) has been added as fragment identifier syntax for 
				"application/xml", and the XPointer Registry (<a class='info' href='#XPtrReg'>[XPtrReg]<span> (</span><span class='info'>Hazal-Massieux, D., &ldquo;XPointer Registry,&rdquo; 2005.</span><span>)</span></a>) mentioned.
Third, <a class='info' href='#XBase'>[XBase]<span> (</span><span class='info'>Marsh, J., &ldquo;XML Base,&rdquo; June&nbsp;2001.</span><span>)</span></a> has been added as a mechanism for 
specifying
base URIs.  Fourth, the language regarding charsets was updated to correspond to
the W3C TAG finding 
<a class='info' href='#TAGMIME'>Internet Media Type registration, consistency of use<span> (</span><span class='info'>Bray, T., Ed., &ldquo;Internet Media Type registration, consistency of use,&rdquo; April&nbsp;2004.</span><span>)</span></a> [TAGMIME].
				Fifth, many references are updated.

</p>
<a name="anchor46"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.C"></a><h3>Appendix C.&nbsp;
Acknowledgements</h3>

<p>This document reflects the input of numerous participants to the ietf-xml-mime@imc.org
mailing list, though any errors are the responsibility of the authors.  Special thanks to:
</p>
<p>Mark Baker, James Clark, Dan Connolly, Martin Duerst, Ned Freed, Yaron Goland, Rick Jelliffe, Larry Masinter,
David Megginson, Keith Moore, Chris Newman, Gavin Nicol, Marshall Rose, Jim Whitehead and participants of the XML activity at the W3C.
</p>
<p>Jim Whitehead and Simon St.Laurent are editors of 
<a class='info' href='#RFC2376'>[RFC2376]<span> (</span><span class='info'>Whitehead, E. and M. Murata, &ldquo;XML Media Types,&rdquo; July&nbsp;1998.</span><span>)</span></a> and <a class='info' href='#RFC3023'>[RFC3023]<span> (</span><span class='info'>Murata, M., St.Laurent, S., and D. Kohn, &ldquo;XML Media Types,&rdquo; January&nbsp;2001.</span><span>)</span></a>, respectively.
</p>
<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">MURATA Makoto (FAMILY Given)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">IBM Tokyo Research Laboratory</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1623-14, Shimotsuruma</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Yamato-shi, Kanagawa-ken  242-8502</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Japan</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+81-46-215-4678</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:eb2m-mrt@asahi-net.or.jp">eb2m-mrt@asahi-net.or.jp</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Dan Kohn</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">skymoon ventures</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">3045 Park Boulevard</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Palo Alto, California  94306</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">USA</td></tr>
<tr><td class="author" align="right">Phone:&nbsp;</td>
<td class="author-text">+1-650-327-2600</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:dan@dankohn.com">dan@dankohn.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.dankohn.com/">http://www.dankohn.com/</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Chris Lilley</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">World Wide Web
			      Consortium</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">2004, Route des Lucioles - B.P. 93
			    06902</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Sophia Antipolis Cedex</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">France</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:chris@w3.org">chris@w3.org</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.w3.org/People/chris/">http://www.w3.org/People/chris/</a></td></tr>
</table>
</body></html>
