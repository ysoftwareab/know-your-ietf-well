


   Mobile IP Working Group                                 Alpesh Patel 
   INTERNET DRAFT                                            Kent Leung 
   14 October, 2003                                       Cisco Systems 
         
                                         
                 
        Experimental Message, Extension and Error Codes for Mobile IPv4 
               draft-patel-mobileip-experimental-messages-02.txt 
                                            
    
   Status of this Memo 
    
        This document is an Internet-Draft and is in full conformance 
        with all provisions of Section 10 of RFC2026. 
         
        Internet-Drafts  are  working  documents  of  the  Internet 
        Engineering Task Force (IETF), its areas, and its working 
        groups. Note that other groups may also distribute working 
        documents as Internet-Drafts. 
         
        Internet-Drafts are draft documents valid for a maximum of six 
        months and may be updated, replaced, or obsoleted by other 
        documents at any time. It is inappropriate to use Internet-
        Drafts as reference material or to cite them other than as "work 
        in progress." 
         
        The  list  of  current  Internet-Drafts  can  be  accessed  at 
        http://www.ietf.org/ietf/1id-abstracts.txt  
         
        The list of Internet-Draft Shadow Directories can be accessed at 
        http://www.ietf.org/shadow.html. 
 
         
   Abstract 
         
         
        Mobile IPv4 message types range from 0 to 255. This document 
        reserves a message type for use by an individual, company, or 
        organization for experimental purpose, to evaluate enhancements 
        to Mobile IPv4 messages before formal standards proposal. 
         
        Mobile IPv4 defines a general Extension mechanism to allow 
        optional  information  to  be  carried  by  Mobile  IP  control 
        messages. Extensions are not skippable, if defined in range [0-
        127]  and  skippable,  if  defined  in  range  [128-255].  This 
        document reserves extension types in both the skippable and 
        non-skippable range for experimental use.  
         
        Also, Mobile IPv4 defines error codes for use by FA [64-127] 
        and HA [128-192]. This document reserves an error code in both 
        these ranges for experimental use. 
          
         
     
   Patel, Leung           Expires 25 January, 2004                     [Page 1] 
    
   Internet Draft   Experimental Message, Extension & Error Codes   October 2003 
               
 
         
         
         
        Table of Contents 
    
    
        1. Introduction..............................................2 
        2. Terminology...............................................3 
        3. Experimental Message......................................3 
        4. Experimental Extensions...................................4 
        4.1 Non-skippable Experimental Extension.....................4 
        4.2 Skippable Experimental Extension.........................5 
        5. Experimental Error Codes..................................6 
        6. Mobility Entity Considerations............................6 
        7. IANA Considerations.......................................6 
        8. Security Considerations...................................6 
        9. Backward Compatibility Considerations.....................6 
        10. Intellectual Property Rights.............................7 
        11. Acknowledgements.........................................7 
        12. References...............................................7 
        13. Contact Information......................................8 
        Full Copyright Statement.....................................8 
 
 
    
   1. Introduction  
 
 
        Mobile IPv4 message types range from 0 to 255. This document 
        reserves a message type for experimental purpose, to evaluate 
        enhancements to Mobile IPv4 messages before formal standards 
        proposal. 
         
        Without experimental message capability, one would have to 
        select a type value from the range defined for IANA assignment, 
        which may result in collision. 
         
        Also, Mobile IP defines a general Extension mechanism to allow 
        optional  information  to  be  carried  by  Mobile  IP  control 
        messages. Extensions are not skippable, if defined in range [0-
        127]  and  skippable,  if  defined  in  range  [128-255].  This 
        document reserves extension types in both the skippable and 
        non-skippable range for experimental use.  
         
        Mobile IPv4 defines error codes for use by FA [64-127] and HA 
        [128-192]. This document reserves an error code in both these 
        ranges for experimental use. 





  
    Patel, Leung           Expires March 13, 2004                      [Page 2] 
    
   Internet Draft   Experimental Message, Extension & Error Codes   October 2003 
               
 
    
   2. Terminology 
         
        The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL 
        NOT",  "SHOULD",  "SHOULD  NOT",  "RECOMMENDED",  "MAY",  and 
        "OPTIONAL" in this document are to be interpreted as described 
        in [1].  
           
        EXP-MSG-TYPE: A message in the range [0-255] to be assigned by 
        IANA for experimental use. 
         
        EXP-SKIP-EXT-TYPE:  Extension  in  the  range  [128-255]  to  be 
        assigned by IANA for experimental use. 
         
        EXP-NONSKIP-EXT-TYPE: Extension in the range [0-127] to be 
        assigned by IANA for experimental use. 
         
        EXP-HA-ERROR-CODE: Error code in the range [128-192] for use by 
        HA in reply messages to indicate error condition. 
         
        EXP-FA-ERROR-CODE: Error code in the range [64-127] for use by 
        FA in reply messages to indicate error condition. 
 
         
   3. Experimental Message 
         
 
        Since the nature and purpose of an experimental message cannot 
        be  known in advance, the structure is defined as opaque 
        payload. Entities implementing the message can interpret the 
        message as per their implementation. One suggestion is to 
        interpret based on extensions present in the message. 
       
        These messages will be used between the mobility entities (Home 
        Agent, Foreign Agent, and Mobile Node). Experimental messages 
        SHOULD  be  authenticated  using  any  of  the  authentication 
        mechanism defined for Mobile IP ([2], [5]).  
         
        This message MAY contain extensions defined in Mobile IP, 
        including vendor specific extensions [4]. 
       
       
        IP fields: 
           Source Address Typically the interface address from which 
           the message is sent. 
       
           Destination Address The address of the agent or the Mobile    
           Node. 
       
        UDP fields: 
       
            Source Port variable 
  
    Patel, Leung           Expires March 13, 2004                      [Page 3] 
    
   Internet Draft   Experimental Message, Extension & Error Codes   October 2003 
               
 
       
            Destination Port 434 
       
        Mobile IP fields shown below follow the UDP header: 
 
      0                   1                   2                   3 
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
      |     Type      |                 Opaque...                       
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
       
    
         
        Type       EXP-MSG-TYPE (To be assigned by IANA) 
         
        Opaque     The Opaque is zero or more octets. 
         
         
        Once an experimental message has been tested and shown to be 
        useful, a permanent number could be obtained through the normal 
        assignment procedures. 
         
        A single experimental message type is recommended since this 
        message can contain extensions based on which the message can 
        be interpreted.  
         
         
   4. Experimental Extensions 
         
         
        This document reserves extensions in both skippable and non-
        skippable range for experimental purposes. The long extension 
        format  (for  non-skippable  extensions)  and  short  extension 
        format (for skippable extensions), as defined [2] are used for 
        experimental extensions. 
         
         
   4.1 Non-skippable Experimental Extension 
         
        This format is applicable for non-skippable extensions, which 
        carry information more than 256 bytes. 
 
 
      0                   1                   2                   3 
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |     Type      |  Sub-Type     |           Length              | 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
      |                           Opaque ‡ 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
         
         
  
    Patel, Leung           Expires March 13, 2004                      [Page 4] 
    
   Internet Draft   Experimental Message, Extension & Error Codes   October 2003 
               
 
        Type     EXP-NONSKIP-EXT-TYPE (to be assigned by IANA) is   
                 the type, which describes an experimental extension. 
         
        Sub-Type is a unique number given to each member in the  
                 aggregated type. 
         
        Length   indicates the length (in bytes) of the data field  
                 within this Extension.  It does NOT include the Type,  
                 Sub-Type and Length bytes. 
         
        Opaque   The Opaque is zero or more octets. 
         
        Since the length field is 16 bits wide, the extension data can 
        exceed 256 bytes in length. 
         
         
         
   4.2 Skippable Experimental Extension 
    
         
        This format is applicable for skippable extensions, which carry 
        information less than 256 bytes. 
 
 
      0                   1                   2                   3 
       0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
     |     Type      |  Length     |   Sub-Type    |  Opaque ... 
      +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
       
         
         
        Type     EXP-SKIP-EXT-TYPE (to be assigned by IANA) is the  
                 type, which describes an experimental extension. 
         
        Length   indicates the length (in bytes) of the data field  
                 within this Extension.  It does NOT include the Type  
                 and Length bytes. 
         
        Sub-Type is a unique number given to each member in the  
                 aggregated type. 
         
        Opaque   The Opaque is zero or more octets. 
         
         
        Since the length field is 8 bits wide, the extension data 
        cannot exceed 256 bytes in length. 
 
 
 
 
 
  
    Patel, Leung           Expires March 13, 2004                      [Page 5] 
    
   Internet Draft   Experimental Message, Extension & Error Codes   October 2003 
               
 
   5. Experimental Error Codes 
         
        This document reserves reply error code EXP-FA-ERROR-CODE, in 
        the range [64-127], for use by FA. This document also reserves 
        reply error code EXP-HA-ERROR-CODE, in the range [128-192], for 
        use by HA.  
         
        These experimental error codes may be included in registration 
        reply messages.  
         
        It is recommended that experimental error code must be included 
        in experimental messages or messages containing at-least one 
        experimental extension. 
    
 
   6. Mobility Entity Considerations 
    
        Mobility entities can send and receive experimental messages. 
        Implementations that don't understand the message type SHOULD 
        silently discard the message. 
         
        Experimental extensions can be carried in experimental messages 
        and standards defined messages. In the later case, it is 
        suggested that experimental extensions MUST not be used in 
        deployed products and usage be restricted to experimentations 
        only. 
    
    
   7. IANA Considerations 
    
        IANA services are required for this draft. Since a new message 
        type is needed to be reserved as experimental, a value must be 
        assigned for EXP-MSG-TYPE from Mobile IP control message space. 
         
        Also, values for EXP-NONSKIP-EXT-TYPE and EXP-SKIP-EXT-TYPE 
        must be assigned for experimental extensions. 
         
        Also, values for EXP-HA-ERROR-CODE and EXP-FA-ERROR-CODE must 
        be assigned for experimental error code. 
         
         
   8. Security Considerations 
         
        Like all Mobile IP control messages, the experimental messages  
        SHOULD  be  authenticated  with  at  least  one  authenticator. 
        Messages without a valid authenticator SHOULD be discarded. 
         
         
   9. Backward Compatibility Considerations  
    
        Mobility  entities  that  don∆t  understand  the  experimental 
        message MUST silently discard it. 
  
    Patel, Leung           Expires March 13, 2004                      [Page 6] 
    
   Internet Draft   Experimental Message, Extension & Error Codes   October 2003 
               
 
         
        Mobility  entities  that  don∆t  understand  the  experimental 
        skippable extensions MUST ignore them. Mobility entities that 
        don∆t understand the non-skippable experimental extensions MUST 
        silently discard the message containing them. 
         
        FA and HA SHOULD include experimental error code in reply 
        message  only if they have a general indication that the 
        receiving entity would be able to parse it. An indication of 
        this is if the request message was of type EXP-MSG-TYPE or 
        contained at-least one experimental extension. 
    
    
   10. Intellectual Property Rights 
    
        The IETF takes no position regarding the validity or scope of 
        any intellectual property or other rights that might be claimed 
        to pertain to the implementation or use of the technology 
        described in this document or the extent to which any license 
        under such rights might or might not be available; neither does 
        it represent that it has made any effort to identify any such 
        rights.  Information on the IETF's procedures with respect to 
        rights in standards-track and standards-related documentation 
        can be found in BCP-11.  Copies of claims of rights made 
        available for publication and any assurances of licenses to be 
        made available, or the result of an attempt made to obtain a 
        general license or permission for the use of such proprietary 
        rights by implementors or users of this specification can be 
        obtained from the IETF Secretariat. 
         
        The IETF invites any interested party to bring to its attention 
        any  copyrights,  patents  or  patent  applications,  or  other 
        proprietary rights which may cover technology that may be 
        required  to  practice  this  standard.    Please  address  the 
        information to the IETF Executive Director. 
    
    
   11. Acknowledgements 
         
        The authors would like to acknowledge Henrik Levkowetz for his 
        detailed review of the draft and suggestion to incorporate 
        experimental extensions in this draft. 
         
        The authors would also like to acknowledge Thomas Narten for 
        his initial review of the draft and reference to draft-narten-
        iana-experimental-allocations-03.txt for general guidelines. 
 
    
   12. References 
    
    
   [1] Bradner, S., "Key words for use in RFCs to Indicate Requirement 
  
    Patel, Leung           Expires March 13, 2004                      [Page 7] 
    
   Internet Draft   Experimental Message, Extension & Error Codes   October 2003 
               
 
       Levels", BCP 14, RFC 2119, March 1997.  
    
   [2] Perkins, C., "IP Mobility Support", RFC 3344, August 2002.  
    
   [3] Reynolds, J. and J. Postel, "Assigned Numbers", STD 2, RFC 1700, 
       October 1994. 
         
   [4] G. Dommety, K. Leung, "Mobile IP Vendor/Organization-Specific  
       Extensions" RFC 3115, April 2001 
    
   [5] C. Perkins, P. Calhoun, "Mobile IPv4 Challenge/Response  
       Extensions", RFC 3012, November 2000 
    
 
   13. Contact Information 
    
        Questions and comments about this draft should be directed at 
        the Mobile IPv4 working group: 
           
        mip4@ietf.org 
 
            
        Questions and comments about this draft may also be directed to 
        the authors: 
            
         Alpesh Patel                           Kent Leung 
         Cisco Systems                          Cisco Systems 
         170 W. Tasman Drive,                   170 W. Tasman Drive, 
         San Jose, CA 95134                     San Jose, CA 95134 
         USA                                    USA 
         Email: alpesh@cisco.com                Email: kleung@cisco.com 
         Phone: +1 408-853-9580                 Phone: +1 408-526-5030 
            
            
   Full Copyright Statement 
    
         
        Copyright  (C)  The  Internet  Society  (2002).    All  Rights 
        Reserved. 
         
        This  document  and  translations  of  it  may  be  copied  and 
        furnished to others, and derivative works that comment on or 
        otherwise explain it or assist in its implementation may be 
        prepared, copied, published and distributed, in whole or in 
        part, without restriction of any kind, provided that the above 
        copyright notice and this paragraph are included on all such 
        copies and derivative works.  However, this document itself may 
        not be modified in any way, such as by removing the copyright 
        notice or references to the Internet Society or other Internet 
        organizations, except as needed for the purpose of developing 
        Internet standards in which case the procedures for copyrights 

  
    Patel, Leung           Expires March 13, 2004                      [Page 8] 
    
   Internet Draft   Experimental Message, Extension & Error Codes   October 2003 
               
 
        defined in the Internet Standards process must be followed, or 
        as required to translate it into languages other than English. 
         
        The limited permissions granted above are perpetual and will 
        not be revoked by the Internet Society or its successors or 
        assigns. 
         
        This document and the information contained herein is provided 
        on an "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET 
        ENGINEERING TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR 
        IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE 
        OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY 
        IMPLIED  WARRANTIES  OF  MERCHANTABILITY  OR  FITNESS  FOR  A 
        PARTICULAR PURPOSE.                             
                 
         
   Acknowledgement 
         
        Funding for the RFC Editor function is currently provided by 
        the Internet Society. 
































  
    Patel, Leung           Expires March 13, 2004                      [Page 9] 