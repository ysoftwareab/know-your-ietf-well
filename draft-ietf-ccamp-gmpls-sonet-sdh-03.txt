

   CCAMP Working Group                   Eric Mannie (Ebone) - Editor 
   Internet Draft                             
   Expiration Date: June 2002                Stefan Ansorge (Alcatel) 
                                         Peter Ashwood-Smith (Nortel) 
                                              Ayan Banerjee (Calient) 
                                                   Lou Berger (Movaz) 
                                               Greg Bernstein (Ciena) 
                                                 Angela Chiu (Celion) 
                                                 John Drake (Calient) 
                                                 Yanhe Fan (Axiowave) 
                                            Michele Fontana (Alcatel) 
                                               Gert Grammel (Alcatel) 
                                              Juergen Heiles(Siemens) 
                                               Suresh Katukam (Cisco) 
                                           Kireeti Kompella (Juniper) 
                                           Jonathan P. Lang (Calient) 
                                                  Fong Liaw (Zaffire) 
                                                 Zhi-Wei Lin (Lucent) 
                                             Ben Mack-Crane (Tellabs) 
                                      Dimitri Papadimitriou (Alcatel) 
                                       Dimitrios Pendarakis (Tellium) 
                                           Mike Raftelis (White Rock) 
                                           Bala Rajagopalan (Tellium) 
                                              Yakov Rekhter (Juniper) 
                                              Debanjan Saha (Tellium) 
                                             Vishal Sharma (Metanoia) 
                                               George Swallow (Cisco) 
                                                 Z. Bo Tang (Tellium) 
                                                   Eve Varma (Lucent) 
                                             Maarten Vissers (Lucent) 
                                                Yangguang Xu (Lucent) 
    
                                                        December 2001 
    
    
               GMPLS Extensions for SONET and SDH Control 
    
    
                 draft-ietf-ccamp-gmpls-sonet-sdh-03.txt 
    
Status of this Memo 
    
   This document is an Internet-Draft and is in full conformance with 
   all provisions of Section 10 of RFC2026.  Internet-Drafts are 
   working documents of the Internet Engineering Task Force (IETF), 
   its areas, and its working groups.  Note that other groups may 
   also distribute working documents as Internet-Drafts. 
    
   Internet-Drafts are draft documents valid for a maximum of six 
   months and may be updated, replaced, or obsoleted by other 
   documents at any time. It is inappropriate to use Internet-Drafts 
   as reference material or to cite them other than as "work in 
   progress." 
    
 
E. Mannie Editor                                                     1 

               draft-ietf-ccamp-gmpls-sonet-sdh-03.txt December, 2001 

   To view the current status of any Internet-Draft, please check the 
   "1id-abstracts.txt" listing contained in an Internet-Drafts Shadow 
   Directory, see http://www.ietf.org/shadow.html. 
 
 
Abstract 
    
   This document is a companion to the Generalized MPLS signaling 
   documents, [GMPLS-SIG], [GMPLS-RSVP] and [GMPLS-LDP].  It defines 
   the SONET/SDH technology specific information needed when using 
   GMPLS signaling. 
    
    
1. Introduction 
    
   Generalized MPLS (GMPLS) extends MPLS from supporting packet 
   (Packet Switching Capable - PSC) interfaces and switching to 
   include support of four new classes of interfaces and switching: 
   Layer-2 Switch Capable (L2SC), Time-Division Multiplex (TDM), 
   Lambda Switch Capable (LSC) and Fiber-Switch Capable (FSC). A 
   functional description of the extensions to MPLS signaling needed 
   to support the new classes of interfaces and switching is provided 
   in [GMPLS-SIG]. [GMPLS-RSVP] describes RSVP-TE specific formats 
   and mechanisms needed to support all five classes of interfaces, 
   and CR-LDP extensions can be found in [GMPLS-LDP]. This document 
   presents details that are specific to SONET/SDH. Per [GMPLS-SIG], 
   SONET/SDH specific parameters are carried in the signaling 
   protocol in traffic parameter specific objects. 
    
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL 
   NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" 
   in this document are to be interpreted as described in [RFC2119]. 
    
    
2. SDH and SONET Traffic Parameters 
    
   This section defines the GMPLS traffic parameters for SONET/SDH. 
   The protocol specific formats, for the SDH/SONET-specific RSVP-TE 
   objects and CR-LDP TLVs are described in sections 2.2 and 2.3 
   respectively. 
    
   These traffic parameters specify indeed a base set of capabilities 
   for SONET (ANSI T1.105) and SDH (ITU-T G.707) such as 
   concatenation and transparency. Some extra non-standard 
   capabilities are defined in [GMPLS-SONET-SDH-EXT]. Other documents 
   could further enhance this set of capabilities in the future. For 
   instance, signaling for SDH over PDH (ITU-T G.832), or sub-STM-0 
   (ITU-T G.708) interfaces could be defined. 
    
   The traffic parameters defined hereafter MUST be used when 
   SONET/SDH is specified in the LSP Encoding Type field of a 
   Generalized Label Request [GMPLS-SIG]. 
    

 
E. Mannie Editor       Internet-Draft June 2002                      2 

               draft-ietf-ccamp-gmpls-sonet-sdh-03.txt December, 2001 

   A SONET signal which has an identical SDH signal SHOULD be 
   requested using the same traffic parameters as for the equivalent 
   SDH signal, and will consequently use the SDH label. 
 
 
2.1. SONET/SDH Traffic Parameters 
    
   The traffic parameters for SONET/SDH is organized as follows: 
    
    0                   1                   2                   3 
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
   |  Signal Type  |      RCC      |              NCC              | 
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
   |              NVC              |        Multiplier (MT)        | 
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
   |                       Transparency (T)                        | 
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
    
   Annex 1 defines examples of SONET and SDH signal coding. 
    
   Signal Type (ST): 8 bits 
    
     This field indicates the type of Elementary Signal that 
     comprises the requested LSP. Several transforms can be applied 
     successively on the Elementary Signal to build the Final Signal 
     being actually requested for the LSP. 
      
     Each transform is optional and must be ignored if zero, except 
     MT that cannot be zero and is ignored if equal to one. 
      
     Transforms must be applied strictly in the following order: 
    
      - First, contiguous concatenation (by using the RCC and NCC 
        fields) can be optionally applied on the Elementary Signal, 
        resulting in a contiguously concatenated signal. 
      - Second, virtual concatenation (by using the NVC field) can 
        be optionally applied either directly on the Elementary 
        Signal, or on the contiguously concatenated signal obtained 
        from the previous phase (see [GMPLS-SONET-SDH-EXT]). 
      - Third, some transparency can be optionally specified when 
        requesting a frame as signal rather than an SPE or VC based 
        signal (by using the Transparency field). 
      - Fourth, a multiplication (by using the Multiplier field) can be 
        optionally applied either directly on the Elementary Signal, or 
        on the contiguously concatenated signal obtained from the first 
        phase, or on the virtually concatenated signal obtained from 
        the second phase, or on these signals combined with some 
        transparency. 
 
 
 
 
 
 
E. Mannie Editor       Internet-Draft June 2002                      3 

               draft-ietf-ccamp-gmpls-sonet-sdh-03.txt December, 2001 

   Permitted Signal Type values for SONET/SDH are: 
    
       Value      Type 
       -----  ----------------- 
        1    VT1.5  SPE / VC-11 
        2    VT2    SPE / VC-12 
        3    VT3    SPE 
        4    VT6    SPE / VC-2 
        5    STS-1  SPE / VC-3 
        6    STS-3c SPE / VC-4 
        7    STS-1      / STM-0   (only when requesting transparency) 
        8    STS-3      / STM-1   (only when requesting transparency) 
        9    STS-12     / STM-4   (only when requesting transparency) 
        10   STS-48     / STM-16  (only when requesting transparency) 
        11   STS-192    / STM-64  (only when requesting transparency) 
        12   STS-768    / STM-256 (only when requesting transparency) 
      
     A dedicated signal type is assigned to a SONET STS-3c SPE instead 
     of coding it as a contiguous concatenation of three STS-1 SPEs. 
     This is done in order to provide easy interworking between SONET 
     and SDH signaling. 
      
     Appendix 1 adds one more signal type (optional). Refer to [GMPLS-
     SDH-SONET-EXT] for an extended set of signal type values beyond 
     the signal types as defined in T1.105/G.707.  
 
   Requested Contiguous Concatenation (RCC): 8 bits 
    
     This field is used to request and sometimes negotiate (see 
     [GMPLS-SDH-SONET-EXT]) the optional SONET/SDH contiguous 
     concatenation of the Elementary Signal. 
      
     This field is a vector of flags. Each flag indicates the 
     support of a particular type of contiguous concatenation. 
     Several flags can be set at the same time to indicate a choice.  
      
     These flags allow an upstream node to indicate to a downstream 
     node the different types of contiguous concatenation that it 
     supports. However, the downstream node decides which one to use 
     according to its own rules. 
      
     A downstream node receiving simultaneously more than one flag 
     chooses a particular type of contiguous concatenation, if any 
     supported, and based on criteria that are out of this document 
     scope. A downstream node that doesnÆt support any of the 
     concatenation types indicated by the field must refuse the LSP 
     request. In particular, it must refuse the LSP request if it 
     doesnÆt support contiguous concatenation at all. 
      
     The upstream node knows which type of contiguous concatenation 
     the downstream node chosen by looking at the position indicated 
     by the first label and the number of label(s) as returned by 
     the downstream node. 
 
 
E. Mannie Editor       Internet-Draft June 2002                      4 

               draft-ietf-ccamp-gmpls-sonet-sdh-03.txt December, 2001 

     The entire field is set to zero to indicate that no contiguous 
     concatenation is requested at all (default value). A non-zero 
     field indicates that some contiguous concatenation is 
     requested. 
      
     The following flag is defined: 
      
         Flag 1 (bit 1): Standard contiguous concatenation. 
      
     Flag 1 indicates that only the standard SONET/SDH contiguous 
     concatenation as defined in T1.105/G.707 is supported. Note 
     that bit 1 is the low order bit. Other flags are reserved for 
     extensions, if not used they must be set to zero when sent, and 
     should be ignored when received. 
      
     See note 1 hereafter in the section on the NCC about the SONET 
     contiguous concatenation of STS-1 SPEs when the number of 
     components is a multiple of three. 
      
     Refer to [GMPLS-SONET-SDH-EXT] for an extended set of contiguous 
     concatenation types beyond the contiguous concatenation types as 
     defined in T1.105/G.707. 
 
   Number of Contiguous Components (NCC): 16 bits 
    
     This field indicates the number of identical SONET/SDH SPEs/VCs 
     that are requested to be concatenated, as specified in the RCC 
     field. 
      
     Note 1: when requesting a SONET STS-Nc SPE with N=3*X, the 
     elementary signal to use must always be an STS-3c SPE signal 
     type and the value of NCC must always be equal to X. This 
     allows also facilitating the interworking between SONET and 
     SDH. In particular, it means that the contiguous concatenation 
     of three STS-1 SPEs cannot not be requested because according 
     to this specification, this type of signal must be coded using 
     the STS-3c SPE signal type. 
      
     Note 2: when requesting a transparent STM-N/STS-N signal 
     limited to a single contiguously concatenated VC-4-Nc/STS-Nc-
     SPE, the signal type must be STM-N/STS-N, RCC with flag 1 and 
     NCC set to 1. 
      
     This field is irrelevant if no contiguous concatenation is 
     requested (RCC = 0), in that case it must be set to zero when 
     send, and should be ignored when received. A RCC value 
     different from 0 must imply a number of components greater than 
     1. The NCC value must be consistent with the type of contiguous 
     concatenation being requested in the RCC field. 
 
 
 
 
 
 
E. Mannie Editor       Internet-Draft June 2002                      5 

               draft-ietf-ccamp-gmpls-sonet-sdh-03.txt December, 2001 

   Number of Virtual Components (NVC): 16 bits 
      
     This field indicates the number of signals that are requested 
     to be virtually concatenated. These signals are all of the same 
     type by definition. They are Elementary Signal SPEs/VCs for 
     which signal types are defined in this document, i.e. VT1.5 
     SPE, VT2 SPE, VT3 SPE, VT6 SPE, STS-1 SPE, STS-3c SPE, VC-11, 
     VC-12, VC-2, VC-3 or VC-4. 
      
     This field is set to 0 (default value) to indicate that no 
     virtual concatenation is requested. 
      
     Refer to [GMPLS-SONET-SDH-EXT] for an extended set of signals that 
     can be virtually concatenated beyond the virtual concatenation as 
     defined in T1.105/G.707. 
      
   Multiplier (MT): 16 bits 
      
     This field indicates the number of identical signals that are 
     requested for the LSP, i.e. that form the Final Signal. These 
     signals can be either identical Elementary Signals, or 
     identical contiguously concatenated signals, or identical 
     virtually concatenated signals. Note that all these signals 
     belongs thus to the same LSP. 
      
     The distinction between the components of multiple virtually 
     concatenated signals is done via the order of the labels that 
     are specified in the signaling. The first set of labels must 
     describe the first component (set of individual signals 
     belonging to the first virtual concatenated signal), the second 
     set must describe the second component (set of individual 
     signals belonging to the second virtual concatenated signal) 
     and so on. 
      
     This field is set to one (default value) to indicate that 
     exactly one instance of a signal is being requested. Zero is an 
     invalid value. 
      
   Transparency (T): 32 bits 
    
     This field is a vector of flags that indicates the type of 
     transparency being requested. Several flags can be combined to 
     provide different types of transparency. Not all combinations 
     are necessarily valid. The default value for this field is 
     zero, i.e. no transparency requested. 
      
     Transparency, as defined from the point of view of this 
     signaling specification, is only applicable to the fields in 
     the SONET/SDH frame overheads. In the SONET case, these are the 
     fields in the Section Overhead (SOH), and the Line Overhead 
     (LOH). In the SDH case, these are the fields in the Regenerator 
     Section Overhead (RSOH), the Multiplex Section overhead (MSOH), 
     and the pointer fields between the two. With SONET, the pointer 
     fields are part of the LOH. 
 
E. Mannie Editor       Internet-Draft June 2002                      6 

               draft-ietf-ccamp-gmpls-sonet-sdh-03.txt December, 2001 

      
     Note as well that transparency is only applicable when using 
     the following Signal Types: STM-0, STM-1, STM-4, STM-16, STM-
     64, STM-256, STS-1, STS-3, STS-12, STS-48, STS-192, and STS-
     768. At least one transparency type must be specified when 
     requesting such a signal type. 
      
     Transparency indicates precisely which fields in these 
     overheads must be delivered unmodified at the other end of the 
     LSP. An ingress LSR requesting transparency will pass these 
     overhead fields that must be delivered to the egress LSR 
     without any change. From the ingress and egress LSRs point of 
     views, these fields must be seen as unmodified. 
      
     Transparency is not applied at the interfaces with the 
     initiating and terminating LSRs, but is only applied between 
     intermediate LSRs.  
      
     The transparency field is used to request an LSP that supports 
     the requested transparency type; it may also be used to setup 
     the transparency process to be applied in each intermediate 
     LSR. 
      
     The different transparency flags are the following: 
      
        Flag 1 (bit 1): Section/Regenerator Section layer. 
        Flag 2 (bit 2): Line/Multiplex Section layer. 
      
     Where bit 1 is the low order bit. Others flags are reserved, 
     they should be set to zero when sent, and should be ignored 
     when received. A flag is set to one to indicate that the 
     corresponding transparency is requested. 
      
     Section/Regenerator Section layer transparency means that the 
     entire frames must be delivered unmodified. This implies that 
     pointers cannot be adjusted. When using Section/Regenerator 
     Section layer transparency all other flags must be ignored. 
      
     Line/Multiplex Section layer transparency means that the 
     LOH/MSOH must be delivered unmodified. This implies that 
     pointers cannot be adjusted.  
      
     Refer to [GMPLS-SONET-SDH-EXT] for an extended set of transparency 
     types beyond the transparency types as defined in T1.105/G.707. 
      
      
2.2. RSVP-TE Details 
    
   For RSVP-TE, the SONET/SDH traffic parameters are carried in the 
   SONET/SDH SENDER_TSPEC and FLOWSPEC objects.  The same format is 
   used both for SENDER_TSPEC object and FLOWSPEC objects. The 
   contents of the objects is defined above in Section 2.1. The 
   objects have the following class and type: 
 
 
E. Mannie Editor       Internet-Draft June 2002                      7 

               draft-ietf-ccamp-gmpls-sonet-sdh-03.txt December, 2001 

     For SONET ANSI T1.105 and SDH ITU-T G.707: 
    
       SONET/SDH SENDER_TSPEC object: Class = 12, C-Type = 4 (TBA) 
       SONET/SDH FLOWSPEC object: Class = 9, C-Type = 4 (TBA) 
    
   There is no Adspec associated with the SONET/SDH SENDER_TSPEC. 
   Either the Adspec is omitted or an int-serv Adspec with the 
   Default General Characterization Parameters and Guaranteed Service 
   fragment is used, see [RFC2210]. 
    
   For a particular sender in a session the contents of the FLOWSPEC 
   object received in a Resv message SHOULD be identical to the 
   contents of the SENDER_TSPEC object received in the corresponding 
   Path message. If the objects do not match, a ResvErr message with 
   a "Traffic Control Error/Bad Flowspec value" error SHOULD be 
   generated. 
 
 
2.3. CR-LDP Details 
    
   For CR-LDP, the SONET/SDH traffic parameters are carried in the 
   SONET/SDH Traffic Parameters TLV.  The contents of the TLV is 
   defined above in Section 2.1. The header of the TLV has the 
   following format: 
    
    0                   1                   2                   3 
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
   |U|F|          Type             |      Length                   | 
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
    
   The type field for the SONET/SDH Traffic Parameters TLV is: 0xTBA. 
 
 
3. SDH and SONET Labels 
    
   SDH and SONET each define a multiplexing structure, with the SONET 
   multiplex structure being a subset of the SDH multiplex structure. 
   These two structures are trees whose roots are respectively an 
   STM-N or an STS-N; and whose leaves are the signals that can be 
   transported via the time-slots and switched between time-slots, 
   i.e. a VC-x, a VT-x SPE or an STS SPE. An SDH/SONET label will 
   identify the exact position of a particular signal in a 
   multiplexing structure. SDH and SONET labels are carried in the 
   Generalized Label per [GMPLS-RSVP] and [GMPLS-LDP]. 
    
   These multiplexing structures will be used as naming trees to 
   create unique multiplex entry names or labels. Since the SONET 
   multiplexing structure may be seen as a subset of the SDH 
   multiplexing structure, the same format of label is used for SDH 
   and SONET. As explained in [GMPLS-SIG], a label does not identify 
   the "class" to which the label belongs. This is implicitly 
   determined by the link on which the label is used. 
    
 
E. Mannie Editor       Internet-Draft June 2002                      8 

               draft-ietf-ccamp-gmpls-sonet-sdh-03.txt December, 2001 

   In case of signal concatenation or multiplication, a list of 
   labels can appear in the Label field of a Generalized Label. 
    
   In case of contiguous concatenation, only one label appears in the 
   Label field. This label is the lowest signal of the contiguously 
   concatenated signal. By lowest signal we mean the one having the 
   lowest label when compared as integer values, i.e. the first 
   component signal of the concatenated signal encountered when 
   descending the tree. 
    
   In case of virtual concatenation, the explicit ordered list of all 
   labels in the concatenation is given. Each label indicates a 
   component of the virtually concatenated signal. The order of the 
   labels must reflect the order of the payloads to concatenate (not 
   the physical order of time-slots). The above representation limits 
   virtual concatenation to remain within a single (component) link; 
   it imposes as such a restriction compared to the G.707/T1.105 
   recommendations. 
    
   In case of multiplication (i.e. using the multiplier transform), 
   the explicit ordered list of all labels that take part in the 
   Final Signal is given. In case of multiplication of virtually 
   concatenated signals, the first set of labels indicates the first 
   virtually concatenated signal, the second set of labels indicates 
   the second virtually concatenated signal, and so on. The above 
   representation limits multiplication to remain within a single 
   (component) link. 
    
   The format of the label for SDH and/or SONET TDM-LSR link is: 
 
    0                   1                   2                   3 
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
   |               S               |   U   |   K   |   L   |   M   | 
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+ 
    
   For SDH, this is an extension of the numbering scheme defined in 
   G.707 section 7.3, i.e. the (K, L, M) numbering. For SONET, the U 
   and K fields are not significant and must be set to zero. Only the 
   S, L and M fields are significant for SONET and have a similar 
   semantic as for SDH. 
 
   Each letter indicates a possible branch number starting at the 
   parent node in the multiplex structure. Branches are considered as 
   numbered in increasing order, starting from the top of the 
   multiplexing structure. The numbering starts at 1, zero is used to 
   indicate a non-significant or ignored field. 
    
   When a field is not significant or ignored in a particular context 
   it MUST be set to zero when transmitted, and MUST be ignored when 
   received. 
    
   When hierarchical SDH/SONET LSPs are used, an LSP with a given 
   bandwidth can be used to tunnel lower order LSPs.  The higher 
 
E. Mannie Editor       Internet-Draft June 2002                      9 

               draft-ietf-ccamp-gmpls-sonet-sdh-03.txt December, 2001 

   order SDH/SONET LSP behaves as a virtual link with a given 
   bandwidth (e.g. VC-3), it may also be used as a Forwarding 
   Adjacency. A lower order SDH/SONET LSP can be established through 
   that higher order LSP. Since a label is local to a (virtual) link, 
   the highest part of that label is non-significant and is set to 
   zero. 
    
   For instance, a VC-3 LSP can be advertised as a forwarding 
   adjacency. In that case the labels allocated between the two ends 
   of that LSP (i.e. for that "link") will have S, U and K set to 
   zero, i.e., non-significant, while L and M will be used to 
   indicate the signal allocated in that VC-3. 
    
   The possible values of S, U, K, L and M are defined as it follows: 
    
     1. S is only significant for SDH STM-N (N>0) and SONET. It must 
     be ignored for STM-0. S is the index of a particular AUG-1/STS-
     1. S=1->N indicates a specific AUG-1/STS-1 inside an STM-N/STS-N 
     multiplex. For example, S=1 indicates the first AUG-1/STS-1, and 
     S=N indicates the last AUG-1/STS-1 of this multiplex. 
    
     2. U is only significant for SDH STM-N (N>0) and must be ignored 
     for STM-0 and SONET. It indicates a specific VC inside a given 
     AUG-1. U=1 indicates a single VC-4, while U=2->4 indicates a 
     specific VC-3 inside the given AUG-1. 
    
     3. K is only significant for SDH VC-4 and must be ignored in all 
     other cases. It indicates a specific branch of a VC-4. K=1 
     indicates that the VC-4 is not further subdivided and contains a 
     C-4. K=2->4 indicates a specific TUG-3 inside the VC-4. K is not 
     significant when the AUG-1 is divided into AU-3s. 
    
     4. L indicates a specific branch of a TUG-3, VC-3 or STS-1 SPE. 
     It is not significant for an unstructured VC-4 (L=0). L=1 
     indicates that the TUG-3/VC-3/STS-1 SPE is not further 
     subdivided and contains a VC-3/C-3 in SDH or the equivalent in 
     SONET. L=2->8 indicates a specific TUG-2/VT Group inside the 
     corresponding higher order signal. 
    
     5. M indicates a specific branch of a TUG-2/VT Group. It is not 
     significant for an unstructured VC-4, TUG-3, VC-3 or STS-1 SPE. 
     M=1 indicates that the TUG-2/VT Group is not further subdivided 
     and contains a VC-2/VT-6 SPE. M=2->3 indicates a specific VT-3 
     inside the corresponding VT Group, these values MUST NOT be used 
     for SDH since there is no equivalent of VT-3 with SDH. M=4->6 
     indicates a specific VC-12/VT-2 SPE inside the corresponding 
     TUG-2/VT Group. M=7->10 indicates a specific VC-11/VT-1.5 SPE 
     inside the corresponding TUG-2/VT Group. Note that M=0 denotes 
     an unstructured VC-4, VC-3 or STS-1 SPE. 
 
 
 
 
 
 
E. Mannie Editor       Internet-Draft June 2002                     10 

               draft-ietf-ccamp-gmpls-sonet-sdh-03.txt December, 2001 

      The M encoding is summarized in the following table: 
    
          M    SDH                          SONET 
         ---------------------------------------------------------- 
          0    unstructured VC-4/VC-3  unstructured STS-1 SPE 
          1    VC-2                    VT-6 
          2    -                       1st VT-3 
          3    -                       2nd VT-3 
          4    1st VC-12               1st VT-2 
          5    2nd VC-12               2nd VT-2 
          6    3rd VC-12               3rd VT-2 
          7    1st VC-11               1st VT-1.5 
          8    2nd VC-11               2nd VT-1.5 
          9    3rd VC-11               3rd VT-1.5 
          10   4th VC-11               4th VT-1.5 
 
   Examples of labels: 
    
   Example 1: S>0, U=1, K=1, L=0, M=0 
   Denotes the unstructured VC-4 of the Sth AUG-1. 
    
   Example 2: S>0, U=1, K>1, L=1, M=0 
   Denotes the unstructured VC-3 of the Kth-1 TUG-3 of the Sth AUG-1. 
    
   Example 3: S>0, U=0, K=0, L=0, M=0 
   Denotes the unstructured SPE of the Sth STS-1. 
    
   Example 4: S>0, U=0, K=0, L>1, M=1 
   Denotes the VT-6 in the Lth-1 VT Group in the Sth STS-1. 
    
   Example 5: S>0, U=0, K=0, L>1, M=9 
   Denotes the 3rd VT-1.5 in the Lth-1 VT Group in the Sth STS-1. 
 
   In case of contiguous concatenation, the label that is used is the 
   lowest label of the contiguously concatenated signal as explained 
   before. The higher part of the label indicates where the signal 
   starts and the lowest part is not significant. For instance, when 
   requesting an STS-48c the label is S>0, U=0, K=0, L=0, M=0. 
    
   In case of STM-0, the values of S, U and K must be equal to zero 
   according to the field coding rules. For instance, when requesting 
   an unstructured VC-3 in an STM-0 the label is S=0, U=0, K=0, L=1, 
   M=0. 
    
   In case of STS-3c SPE, the value of S is the index of the first 
   STS-1 of the STS-3c SPE in the SONET multiplex where SPEs are 
   numbered from 1 to N (before any interleaving). 
    
   When a transparent concatenated STM-N/STS-3*N (N=1, 4, 16, 64, 
   256) is requested, the label is coded as for the case of 
   contiguous concatenation and with S=1. I.e. S=1, U=0, K=0, L=0, 
   M=0. 
    
    
 
E. Mannie Editor       Internet-Draft June 2002                     11 

               draft-ietf-ccamp-gmpls-sonet-sdh-03.txt December, 2001 

4. Acknowledgments 
    
   Valuable comments and input were received from many people. 
    
    
5. Security Considerations 
    
   This draft introduces no new security considerations to either 
   [GMPLS-RSVP] or [GMPLS-LDP]. 
 
 
6. References 
    
   [GMPLS-SIG] Ashwood-Smith, P. et al, "Generalized MPLS - 
               Signaling Functional Description", Internet Draft, 
               draft-ietf-mpls-generalized-signaling-07.txt, 
               November 2001. 
    
   [GMPLS-LDP] Ashwood-Smith, P. et al, "Generalized MPLS Signaling - 
               CR-LDP Extensions", Internet Draft, 
               draft-ietf-mpls-generalized-cr-ldp-05.txt, 
               November 2001. 
    
   [GMPLS-RSVP] Ashwood-Smith, P. et al, "Generalized MPLS 
                Signaling - RSVP-TE Extensions", Internet Draft, 
                draft-ietf-mpls-generalized-rsvp-te-06.txt, 
                November 2001. 
    
   [GMPLS-SONET-SDH-EXT] E. Mannie Editor, "GMPLS extensions to 
                control non-standard SONET and SDH features", 
                Internet Draft, draft-ietf-ccamp-gmpls-sonet-sdh- 
                extensions-01.txt, December 2001. 
    
   [GMPLS-ARCH] E. Mannie Editor, "GMPLS Architecture", Internet 
                Draft, draft-ietf-ccamp-gmpls-architecture-01.txt, 
                November 2001. 
    
   [RFC2119] Bradner, S., "Key words for use in RFCs to Indicate 
             Requirement Levels," RFC 2119. 
 
   [RFC2210] Wroclawski, J., "The Use of RSVP with IETF Integrated 
             Services," RFC 2210, September 1997. 
 
 
7. Authors Addresses 
    
      Stefan Ansorge 
      Alcatel 
      Lorenzstrasse 10 
      70435 Stuttgart 
      Germany 
      Phone: +49 7 11 821 337 44 
      Email: Stefan.ansorge@alcatel.de 
    
 
E. Mannie Editor       Internet-Draft June 2002                     12 

               draft-ietf-ccamp-gmpls-sonet-sdh-03.txt December, 2001 

      Peter Ashwood-Smith 
      Nortel Networks Corp. 
      P.O. Box 3511 Station C, 
      Ottawa, ON K1Y 4H7 
      Canada 
      Phone:  +1 613 763 4534 
      Email:  petera@nortelnetworks.com 
 
      Ayan Banerjee 
      Calient Networks 
      5853 Rue Ferrari 
      San Jose, CA 95138 
      Phone:  +1 408 972-3645 
      Email:  abanerjee@calient.net 
 
      Lou Berger 
      Movaz Networks, Inc. 
      7926 Jones Branch Drive 
      Suite 615 
      McLean VA, 22102 
      Phone:  +1 703 847-1801 
      Email:  lberger@movaz.com 
    
      Greg Bernstein 
      Ciena Corporation 
      10480 Ridgeview Court 
      Cupertino, CA 94014 
      Phone:  +1 408 366 4713 
      Email:  greg@ciena.com 
    
      Angela Chiu 
      Celion Networks 
      One Sheila Drive, Suite 2 
      Tinton Falls, NJ 07724-2658 
      Phone: +1 732 747 9987 
      Email: angela.chiu@celion.com 
    
      John Drake 
      Calient Networks 
      5853 Rue Ferrari 
      San Jose, CA 95138 
      Phone:  +1 408 972 3720 
      Email:  jdrake@calient.net 
    
      Yanhe Fan 
      Axiowave Networks, Inc. 
      100 Nickerson Road 
      Marlborough, MA 01752 
      Phone:  +1 508 460 6969 Ext. 627 
      Email:  yfan@axiowave.com 
 
 
 
 
 
E. Mannie Editor       Internet-Draft June 2002                     13 

               draft-ietf-ccamp-gmpls-sonet-sdh-03.txt December, 2001 

      Michele Fontana 
      Alcatel 
      Via Trento 30, 
      I-20059 Vimercate, Italy 
      Phone: +39 039 686-7053 
      Email: michele.fontana@netit.alcatel.it 
 
      Gert Grammel 
      Alcatel 
      Via Trento 30, 
      I-20059 Vimercate, Italy 
      Phone: +39 039 686-7060 
      Email: gert.grammel@netit.alcatel.it 
    
      Juergen Heiles 
      Siemens AG 
      Hofmannstr. 51 
      D-81379 Munich, Germany 
      Phone: +49 89 7 22 - 4 86 64 
      Email: Juergen.Heiles@icn.siemens.de 
 
      Suresh Katukam 
      Cisco Systems 
      1450 N. McDowell Blvd, 
      Petaluma, CA 94954-6515 USA 
      e-mail: skatukam@cisco.com 
 
      Kireeti Kompella 
      Juniper Networks, Inc. 
      1194 N. Mathilda Ave. 
      Sunnyvale, CA 94089 
      Email:  kireeti@juniper.net 
    
      Jonathan P. Lang 
      Calient Networks 
      25 Castilian 
      Goleta, CA 93117 
      Email:  jplang@calient.net 
    
      Zhi-Wei Lin 
      101 Crawfords Corner Rd 
      Holmdel, NJ  07733-3030 
      Phone: +1 732 949 5141 
      Email: zwlin@lucent.com 
    
      Ben Mack-Crane 
      Tellabs 
      Email: Ben.Mack-Crane@tellabs.com 
 
 
 
 
 
 
 
E. Mannie Editor       Internet-Draft June 2002                     14 

               draft-ietf-ccamp-gmpls-sonet-sdh-03.txt December, 2001 

      Eric Mannie 
      EBONE 
      Terhulpsesteenweg 6A 
      1560 Hoeilaart - Belgium 
      Phone:  +32 2 658 56 52 
      Mobile: +32 496 58 56 52 
      Fax:    +32 2 658 51 18 
      Email:  eric.mannie@ebone.com 
 
      Dimitri Papadimitriou 
      Alcatel 
      Francis Wellesplein 1, 
      B-2018 Antwerpen, Belgium 
      Phone: +32 3 240-8491 
      Email: Dimitri.Papadimitriou@alcatel.be 
    
      Mike Raftelis 
      White Rock Networks 
      18111 Preston Road Suite 900 
      Dallas, TX 75252 
      Phone: +1 (972)588-3728 
      Fax:   +1 (972)588-3701 
      Email: Mraftelis@WhiteRockNetworks.com 
    
      Bala Rajagopalan 
      Tellium, Inc. 
      2 Crescent Place 
      P.O. Box 901 
      Oceanport, NJ 07757-0901 
      Phone:  +1 732 923 4237 
      Fax:    +1 732 923 9804 
      Email:  braja@tellium.com 
    
      Yakov Rekhter 
      Juniper Networks, Inc. 
      Email:  yakov@juniper.net 
    
      Debanjan Saha 
      Tellium Optical Systems 
      2 Crescent Place 
      Oceanport, NJ 07757-0901 
      Phone:  +1 732 923 4264 
      Fax:    +1 732 923 9804 
      Email:  dsaha@tellium.com 
    
      Vishal Sharma 
      Metanoia, Inc. 
      335 Elan Village Lane 
      San Jose, CA 95134 
      Phone:  +1 408 943 1794 
      Email: vsharma87@yahoo.com 
    
    
    
 
E. Mannie Editor       Internet-Draft June 2002                     15 

               draft-ietf-ccamp-gmpls-sonet-sdh-03.txt December, 2001 

      George Swallow 
      Cisco Systems, Inc. 
      250 Apollo Drive 
      Chelmsford, MA 01824 
      Voice:  +1 978 244 8143 
      Email:  swallow@cisco.com 
 
      Z. Bo Tang 
      Tellium, Inc. 
      2 Crescent Place 
      P.O. Box 901 
      Oceanport, NJ 07757-0901 
      Phone:  +1 732 923 4231 
      Fax:    +1 732 923 9804 
      Email:  btang@tellium.com 
 
      Eve Varma 
      101 Crawfords Corner Rd 
      Holmdel, NJ  07733-3030 
      Phone: +1 732 949 8559 
      Email: evarma@lucent.com 
 
      Maarten Vissers 
      Botterstraat 45 
      Postbus 18 
      1270 AA Huizen, Netherlands 
      Email: mvissers@lucent.com 
    
      Yangguang Xu 
      21-2A41, 1600 Osgood Street 
      North Andover, MA 01845 
      Email: xuyg@lucent.com 
    





















 
E. Mannie Editor       Internet-Draft June 2002                     16 

               draft-ietf-ccamp-gmpls-sonet-sdh-03.txt December, 2001 

Appendix 1 - Signal Type Values Extension For VC-3 
    
   This appendix defines the following optional additional Signal 
   Type value for the Signal Type field of section 2.1: 
    
       Value         Type 
       -----  --------------------- 
        20     "VC-3 via AU-3 at the end" 
    
   According to the G.707 standard a VC-3 in the TU-3/TUG-3/VC-4/AU-4 
   branch of the SDH multiplex cannot be structured in TUG-2s, 
   however a VC-3 in the AU-3 branch can be. In addition, a VC-3 
   could be switched between the two branches if required. 
 
   A VC-3 circuit could be terminated on an ingress interface of an 
   LSR (e.g. forming a VC-3 forwarding adjacency). This LSR could 
   then want to demultiplex this VC-3 and switch internal low order 
   LSPs. For implementation reasons, this could be only possible if 
   the LSR receives the VC-3 in the AU-3 branch. E.g. for an LSR not 
   able to switch internally from a TU-3 branch to an AU-3 branch on 
   its incoming interface before demultiplexing and then switching 
   the content with its switch fabric. 
    
   In that case it is useful to indicate that the VC-3 LSP must be 
   terminated at the end in the AU-3 branch instead of the TU-3 
   branch. 
    
   This is achieved by using the "VC-3 via AU-3 at the end" signal 
   type. This information can be used, for instance, by the 
   penultimate LSR to switch an incoming VC-3 received in any branch 
   to the TU-3 branch on the outgoing interface to the destination 
   LSR. 
    
   The "VC-3 via AU-3 at the end" signal type does not imply that the 
   VC-3 must be switched via the AU-3 branch at some other places in 
   the network. The VC-3 signal type just indicates that a VC-3 in 
   any branch is suitable. 

















 
E. Mannie Editor       Internet-Draft June 2002                     17 

               draft-ietf-ccamp-gmpls-sonet-sdh-03.txt December, 2001 

Annex 1 - Examples 
    
   This annex defines examples of SONET and SDH signal coding. Their 
   objective is to help the reader to understand how works the traffic 
   parameter coding and not to give examples of typical SONET or SDH 
   signals. 
    
   As stated above, signal types are Elementary Signals to which 
   successive concatenation, multiplication and transparency 
   transforms can be applied. 
    
   1. A VC-4 signal is formed by the application of RCC with value 0, 
   NCC with value 0, NVC with value 0, MT with value 1 and T with 
   value 0 to a VC-4 Elementary Signal. 
    
   2. A VC-4-7v signal is formed by the application of RCC with value 
   0, NCC with value 0, NVC with value 7 (virtual concatenation of 7 
   components), MT with value 1 and T with value 0 to a VC-4 
   Elementary Signal. 
    
   3. A VC-4-16c signal is formed by the application of RCC with flag 
   1 (standard contiguous concatenation), NCC with value 16, NVC with 
   value 0, MT with value 1 and T with value 0 to a VC-4 Elementary 
   Signal. 
    
   4. An STM-16 signal with Multiplex Section layer transparency is 
   formed by the application of RCC with value 0, NCC with value 0, 
   NVC with value 0, MT with value 1 and T with flag 2 to an STM-16 
   Elementary Signal. 
 
   5. An STM-4c signal (i.e. VC-4-4C with the transport overhead) 
   with Multiplex Section layer transparency is formed by the 
   application of RCC with flag 1, NCC with value 1, NVC with value 
   0, MT with value 1 and T with flag 2 applied to an STM-4 
   Elementary Signal. 
    
   6. An STM-256c signal with Multiplex Section layer transparency is 
   formed by the application of RCC with flag 1, NCC with value 1, 
   NVC with value 0, MT with value 1 and T with flag 2 applied to an 
   STM-256 Elementary Signal. 
    
   7. An STS-1 SPE signal is formed by the application of RCC with 
   value 0, NCC with value 0, NVC with value 0, MT with value 1 and T 
   with value 0 to an STS-1 SPE Elementary Signal. 
    
   8. An STS-3c SPE signal is formed by the application of RCC with 
   value 0 (no contiguous concatenation), NCC with value 0, NVC with 
   value 0, MT with value 1 and T with value 0 to an STS-3c SPE 
   Elementary Signal. 
    
   9. An STS-48c SPE signal is formed by the application of RCC with 
   flag 1 (standard contiguous concatenation), NCC with value 16, NVC 
   with value 0, MT with value 1 and T with value 0 to an STS-3c SPE 
   Elementary Signal. 
 
E. Mannie Editor       Internet-Draft June 2002                     18 

               draft-ietf-ccamp-gmpls-sonet-sdh-03.txt December, 2001 

    
   10. An STS-1-3v SPE signal is formed by the application of RCC 
   with value 0, NVC with value 3 (virtual concatenation of 3 
   components), MT with value 1 and T with value 0 to an STS-1 SPE 
   Elementary Signal. 
    
   11. An STS-3c-9v SPE signal is formed by the application of RCC 
   with value 0, NCC with value 0, NVC with value 9 (virtual 
   concatenation of 9 STS-3c), MT with value 1 and T with value 0 to 
   an STS-3c SPE Elementary Signal. 
    
   12. An STS-12 signal with Section layer (full) transparency is 
   formed by the application of RCC with value 0, NVC with value 0, 
   MT with value 1 and T with flag 1 to an STS-12 Elementary Signal. 
 
   13. 3 x STS-768c SPE signal is formed by the application of RCC 
   with flag 1, NCC with value 256, NVC with value 0, MT with value 
   3, and T with value 0 to an STS-3c SPE Elementary Signal. 
    
   14. 5 x VC-4-13v composed signal is formed by the application of 
   RCC with value 0, NVC with value 13, MT with value 5 and T with 
   value 0 to a VC-4 Elementary Signal. 
































 
E. Mannie Editor       Internet-Draft June 2002                     19 
