


Network Working Group                                         X. Fu, Ed.
Internet-Draft                                           ZTE Corporation
Intended status: Informational                             March 3, 2009
Expires: September 4, 2009


          Link Bundle in Wavelength Switched Optical Networks
                 draft-xihua-ccamp-wson-link-bundle-01

Status of this Memo

   This Internet-Draft is submitted to IETF in full conformance with the
   provisions of BCP 78 and BCP 79.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as Internet-
   Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on September 4, 2009.

Copyright Notice

   Copyright (c) 2009 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to BCP 78 and the IETF Trust's Legal
   Provisions Relating to IETF Documents in effect on the date of
   publication of this document (http://trustee.ietf.org/license-info).
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.

Abstract

   [RFC4201] provides a link bundle mechanism to improve routing
   scalability by reducing the amount of information that has to be
   handled by IGP (OSPF and/or IS-IS).  This reduction is accomplished



Fu                      Expires September 4, 2009               [Page 1]

Internet-Draft             Link Bundle of WSON                March 2009


   by performing information aggregation/abstraction.

   As with any other information aggregation/abstraction, this results
   in losing some of important information.  In WSON and MRN, this lost
   information is very important for the path computation entity to
   calculate an accurate path.  This document discusses some
   requirements of link bundle for the new GMPLS networks (e.g., WSON
   and MRN).  The draft gives some routing and signaling analysis for
   this issue.


Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  Link Bundling of WSON  . . . . . . . . . . . . . . . . . . . .  4
     2.1.  Restrictions on WSON Bundling  . . . . . . . . . . . . . .  4
     2.2.  Connectivity Constraint Information and Wavelength
           Conversion Capability/Availability of a WSON Node  . . . .  5
     2.3.  Available Wavelength and Wavelength Constraint
           Information of a Link  . . . . . . . . . . . . . . . . . .  9
       2.3.1.  Routing Consideration  . . . . . . . . . . . . . . . . 12
         2.3.1.1.  Wavelengths Constraint Information of Bundled
                   Link . . . . . . . . . . . . . . . . . . . . . . . 12
         2.3.1.2.  Wavelengths Availability Information of
                   Bundled Link . . . . . . . . . . . . . . . . . . . 13
       2.3.2.  Other Consideration  . . . . . . . . . . . . . . . . . 14
     2.4.  Bidirectional Path Using Same Component Link and
           Wavelength on Both Directions  . . . . . . . . . . . . . . 14
       2.4.1.  Centralized Component Link Selection . . . . . . . . . 15
       2.4.2.  Distributed Component Link Selection . . . . . . . . . 15
         2.4.2.1.  Centralized Wavelength Assignment  . . . . . . . . 16
         2.4.2.2.  Distributed Wavelength Assignment  . . . . . . . . 16
   3.  Link Bundling of Multi-Region Network  . . . . . . . . . . . . 18
   4.  Security Considerations  . . . . . . . . . . . . . . . . . . . 18
   5.  IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 18
   6.  Acknowledgments  . . . . . . . . . . . . . . . . . . . . . . . 18
   7.  Normative References . . . . . . . . . . . . . . . . . . . . . 18
   Author's Address . . . . . . . . . . . . . . . . . . . . . . . . . 19













Fu                      Expires September 4, 2009               [Page 2]

Internet-Draft             Link Bundle of WSON                March 2009


1.  Introduction

   In the general case of limited or no wavelength conversion in WSON,
   available wavelength information/wavelength constraint information of
   a link and connectivity constraint information/wavelength conversion
   capability/availability information of a node is essential to perform
   efficient and accurate path computation.  [WSON-FRAME] provides
   control plane models for key wavelength switched optical network
   subsystems and processes.  [WSON-INFO] provides efficient encodings
   of information needed by RWA process in WSON and extends GMPLS IGP.
   If the wavelengths availability information is not known by the
   entities performing the path computation, then wavelength assignment
   must be done locally by the nodes on hop-by-hop to negotiate label
   selection.  However, this case can easily lead to blocking problems.

   [RFC4201] provides a link bundle mechanism to improve routing
   scalability by reducing the amount of information that has to be
   handled by IGP (OSPF and/or IS-IS).  This reduction is accomplished
   by performing information aggregation/abstraction.  As with any other
   information aggregation/abstraction, this results in losing some
   important information.

   In MRN/MLN, Adjustment Capacity refers to the property of a hybrid
   node to interconnect different switching capabilities it provides
   through its external interfaces [RFC5212].  This information allows
   path computation to select an end-to-end multi-region path that
   includes links of different switching capabilities that are joined by
   LSRs that can adapt the signal between the links.  If link bundling
   is done, then the adjustment capacity information may be also lost
   with current GMPLS routing.

   [WSON-SIGNALING] provides some scenarios where the same wavelength on
   each link along a unidirectional path and the same wavelength on both
   directions of each link along a bidirectional path should be
   reserved.  Base on the requirement of carriers for simplified
   management to reduce the OPEX, they also would like to create an end-
   to-end path that uses the same wavelength and the same component
   links on both directions of each bundled link.  At the same time,
   with limited or no wavelength conversion, sometimes the wavelength
   could not be available on the same component link on both directions.
   It may actually be the case that the lambda is only available in one
   direction on one component link, and the other direction is only
   available on a different component link.  So it may fail to select
   the same component on both directions in a bundled link to meet this
   requirement.

   Using the same component link on both directions of a bundled link is
   sometimes required to control not only WSON but also other switching



Fu                      Expires September 4, 2009               [Page 3]

Internet-Draft             Link Bundle of WSON                March 2009


   capability network.  How to select the component link could be the
   default policy of a node, but different nodes may apply different
   policies in the interoperability environment.  So each node should be
   explicitly notified of this requirement to select the same component
   link on both directions on a bundled link.

   This document discusses the problem when we apply link bundle
   technology to WSON and provides corresponding solutions.  This
   document is currently limited to consideration of bundled link
   without optical impairment in WSON.  Optical impairment on bundled
   links is for future consideration.  When link bundle is applied on
   multiple switching capability network (e.g., MRN/MLN), the issue is
   further for consideration.


2.  Link Bundling of WSON

   After Link Bundle is applied to WSON, much important information will
   be lost.  The case where several TE links are advertised for one TE
   Link without link bundling is further for study.

2.1.  Restrictions on WSON Bundling

   In term of [RFC4201], all component links in a bundled link should
   have the same Link Type, the same Traffic Engineering metric, the
   same set of resource classes at each end of the links, and must begin
   and end on the same pair of LSRs.

   There should be not any other restrictions on WSON bundling.  For
   each WDM node, not all the fibers can necessarily be connected to any
   other fibers.  So different ports connected to different separate
   component links which will be bundled into one TE Link always have
   different connectivity in the same node.  For example, Fiber1 on the
   west side can be connected to Fiber3 and Fiber4 on the east side, but
   Fiber2 on the west side can not be connected to Fiber 3 and Fiber4 on
   the east side.  If Fiber1 and Fiber2 are necessary to be bundled into
   one TE link, they could still be bundled though they have different
   connectivity.  The connectivity constraint and wavelength conversion
   capability/availability information between the bundled links and
   fibers on the east side should be a union (maximum) of connectivity
   constraint and wavelength conversion capability/availability
   information between the component links and fibers on the east side.
   So the bundled link can be connected to Fiber3 and Fiber4 though
   there is not any connectivity between the component link (Fiber2) and
   other fibers on east side.

   If one GMPLS control plane instance only controls the LSC network,
   each wavelength should be considered as a label but not as a TE Link.



Fu                      Expires September 4, 2009               [Page 4]

Internet-Draft             Link Bundle of WSON                March 2009


   Link bundling should be done on the level of fiber.  In MRN/MLN
   (e.g., SDH/SONET over ODUk over LSC, ODUk over LSC and PSC over LSC),
   service provider may deal with wavelengths as links or component link
   from the perspective of a client layer.  The case where link bundle
   is applied in MRN/MLN is further for consideration.  The scope of
   this draft is cases where wavelengths are viewed as labels.

2.2.  Connectivity Constraint Information and Wavelength Conversion
      Capability/Availability of a WSON Node

   Different ports connected to different component links which will be
   bundled into one TE Link always have different connectivity in the
   same node in WSON.  Although these component links can be bundled
   into a TE Link, connectivity constraint information and wavelength
   conversion capability/availability information in one node have to be
   affected.  They should be summarized after using link bundle.


        Link1             Wavelength Switch Optical Network Node
        ________           +----------------------------------+
             /  \          |                                  |
            /    |         |                                  |
           |     '. Fiber1 |      +---------------------+     |Fiber4
        ___|______|________|______|_____________________|_____|______
        --+-------+--------+------+---------------------+-----+------
          |        |       |      |                     |     |
          |        |       |      |  Wavelength Switch  |     |
          |        |Fiber2 |      |Demultiplex/Multiplex|     |Fiber5
        __|________|_______|______|                     |_____|______
        --+--------+-------+------+`-._              _.-'-----+------
          |        |       |      |    `-._      ,,-'   |     |
          |        |       |      |        `=,=''       |     |
          |        |Fiber3 |      |     _.-'   `-._     |     |Fiber6
        __|_______|________|______| ,.-'           `-._ |_____|______
        ---+------+--------+------+'                   '+-----+------
           \      /        |      |                     |     |
            \    /         |  +---+                     +--+  |
            `.  /          |  |   +---------------------+  |  |
        --------           |  |   +---------------------+  |  |
         Link Bundle       |  |   |     Wavelength      |  |  |
                           +  +---+     Converter       +--+  +
                           |      +---------------------+     |
                           |                                  |
                           |                                  |
                           +----------------------------------+


                       Figure 1: Link Bundle of WSON



Fu                      Expires September 4, 2009               [Page 5]

Internet-Draft             Link Bundle of WSON                March 2009


   Figure 1 shows a typical WDM node, which consists of a Wavelength
   Switch module, a Multiplexer/DeMultiplexer module, and a Wavelength
   Converter module.  In this example, there are six directions on the
   line side.  For example, in an 80-wavelength system, each fiber of
   the line side contains 80 wavelengths, and traffic can be carried by
   each wavelength.  The wavelength can be switched to a different
   direction (or a different fiber) at the WDM node.  But there may be a
   limitation for wavelength conversion, so that not every wavelength
   can be switched to any other wavelength on any other fiber.

   Some scenarios are assumed as followings:

   There is connectivity between (Fiber1, Fiber4), (Fiber2, Fiber6) and
   (Fiber3, Fiber5).

   Lambda 1 on an incoming fiber 1 might only be converted to lambda 2,
   lambda 3 and lambda 4 on outgoing fiber4.  Lambda 2 on an incoming
   fiber 1 might only be converted to lambda 7 and lambda 8 on outgoing
   fiber4.  Other wavelengths on Fiber1 can only be connected to the
   same wavelengths on Fiber4.

   Lambda 1 on an incoming fiber 2 might only be converted to lambda 4
   and lambda 5 on outgoing fiber6.  Other wavelengths on Fiber2 can
   only be connected to the same wavelengths on Fiber6.

   Lambda 3 on an incoming fiber 3 might only be converted to lambda 7
   and lambda 8 on outgoing fiber5.  Lambda 1 on an incoming fiber 3
   might only be converted to lambda 5 and lambda 6 on outgoing fiber5.
   Other wavelengths on Fiber3 can only be connected to the same
   wavelengths on Fiber5.

   So node information used by path computation entity is as followings:

   Connectivity Constraint:

   [Fiber1--->Fiber4]

   [Fiber2--->Fiber6]

   [Fiber3--->Fiber5]

   Wavelength Conversion Capability:

   [Fiber1:lambda1----> Fiber4:lambda2, lambda3, lambda4]

   [Fiber1:lambda2----> Fiber4:lambda7, lambda8]

   [Fiber2:lambda1----> Fiber6:lambda4, lambda5]



Fu                      Expires September 4, 2009               [Page 6]

Internet-Draft             Link Bundle of WSON                March 2009


   [Fiber3:lambda1----> Fiber5:lambda5, lambda6]

   [Fiber3:lambda3----> Fiber5:lambda7, lambda8]

   Wavelength Conversion Availability (same as wavelength conversion
   capability):

   [Fiber1:lambda1----> Fiber4:lambda2, lambda3, lambda4]

   [Fiber1:lambda2----> Fiber4:lambda7, lambda8]

   [Fiber2:lambda1----> Fiber6:lambda4, lambda5]

   [Fiber3:lambda1----> Fiber5:lambda5, lambda6]

   [Fiber3:lambda3----> Fiber5:lambda7, lambda8]

   When Fiber1, Fiber2 and Fiber3 are bundled into one TE Link (Link1),
   there should be a maximum connectivity between (Link1, Fiber4),
   (Link1, Fiber5) and (Link1, Fiber6) which must be known to path
   computation entity.  If path computation entity keep having the
   connectivity information between (Fiber1, Fiber4), (Fiber2, Fiber6)
   and (Fiber3, Fiber5), it would be better for centralized RWA.  The
   connectivity constraint and wavelength conversion capability/
   availability information among bundled/unbundled links is the union
   of connectivity constraint and wavelength conversion capability/
   availability information among component links.  Any connectivity
   constraint information and wavelength conversion capability/
   availability information among component links and other TE Links
   (unbundled) should not be flooded any more.  Node information used by
   path computation entity after using Link Bundle is as followings:

   Connectivity Constraint:

   [Link1--->Fiber4]

   [Link1--->Fiber5]

   [Link1--->Fiber6]

   Wavelength Conversion Capability:

   [Link1:lambda1----> Fiber4:lambda2, lambda3, lambda4]

   [Link1:lambda2----> Fiber4:lambda7, lambda8]

   [Link1:lambda1----> Fiber6:lambda4, lambda5]




Fu                      Expires September 4, 2009               [Page 7]

Internet-Draft             Link Bundle of WSON                March 2009


   [Link1:lambda3----> Fiber5:lambda7, lambda8]

   [Link1:lambda1----> Fiber5:lambda5, lambda6]

   Wavelength Conversion Availability:

   [Link1:lambda1----> Fiber4:lambda2, lambda3, lambda4]

   [Link1:lambda2----> Fiber4:lambda7, lambda8]

   [Link1:lambda1----> Fiber6:lambda4, lambda5]

   [Link1:lambda3----> Fiber5:lambda7, lambda8]

   [Link1:lambda1----> Fiber5:lambda5, lambda6]

   If Fiber5 and Fiber6 are also bundled into one TE Link (Link2), node
   information used by path computation entity after using Link Bundle
   again is as followings:

   Connectivity Constraint:

   [Link1--->Fiber4]

   [Link1--->Link2]

   Wavelength Conversion Capability:

   [Link1:lambda1----> Fiber4:lambda2, lambda3, lambda4]

   [Link1:lambda2----> Fiber4:lambda7, lambda8]

   [Link1:lambda1----> Link2:lambda4, lambda5, lambda6]

   [Link1:lambda3----> Link2:lambda7, lambda8]

   Wavelength Conversion Availability:

   [Link1:lambda1----> Fiber4:lambda2, lambda3, lambda4]

   [Link1:lambda2----> Fiber4:lambda7, lambda8]

   [Link1:lambda1----> Link2:lambda4, lambda6]

   [Link1:lambda1----> Link2:lambda5, lambda5] (Two available wavelength
   conversions)

   [Link1:lambda3----> Link2:lambda7, lambda8]



Fu                      Expires September 4, 2009               [Page 8]

Internet-Draft             Link Bundle of WSON                March 2009


   It is assumed that a wavelength switch path is along the fiber3 of
   Link1 and fiber5 of Link2 using the wavelength conversion between
   lambda1 and lambda5.  So wavelength conversion availability used by
   path computation entity again is as followings:

   [Link1:lambda1----> Fiber4:lambda2, lambda3, lambda4]

   [Link1:lambda2----> Fiber4:lambda7, lambda8]

   [Link1:lambda1----> Link2:lambda4, lambda6]

   [Link1:lambda1----> Link2:lambda5] (Remain an available wavelength
   conversion)

   [Link1:lambda3----> Link2:lambda7, lambda8]

   Upon the above scenario, if one of the available wavelength
   conversions among component links is occupied, the available
   wavelength conversions among the associated bundled links must be
   summarized and advertised again.

   Another WSON node which connected to the same bundled link must
   summary its connectivity constraint information and wavelength
   conversion capability/availability information by the same means and
   principle as the peer node.

   If path computation entity (e.g., PCE) get the connectivity
   constraint and wavelength conversion capability/availability
   information via IGP, the summarized information should be flooded in
   terms of [WSON-ENCODE] and [WSON-INFO] (i.e., Connectivity Matrix and
   OEOWavelength ConverterInfo/AvailableWavelengthConverters).

2.3.  Available Wavelength and Wavelength Constraint Information of a
      Link

   Link Bundle is accomplished by performing information aggregation/
   abstraction.  So the available wavelength information and the
   wavelength constraint information will be lost after component links
   are bundled into a TE Link.  If the computational entity performing
   routing computation and wavelength assignment without the available
   wavelength information on component links, they could not perform
   efficient and accurate path computation.  There are several RWA
   computation architectures:

   o  Fully Centralized: In the case where a centralized PCE is
      responsible for both routing and wavelength assignment or separate
      centralized PCEs perform routing and wavelength assignment, they
      all require PCEs to have detailed link wavelength utilization



Fu                      Expires September 4, 2009               [Page 9]

Internet-Draft             Link Bundle of WSON                March 2009


      information.  They also require PCEs to have detailed node
      connectivity constraint information and wavelength conversion
      capability/availability information.  [WSON-INFO] provides
      efficient encodings of information needed by RWA and extends GMPLS
      IGP to collect this information.  Obviously, PCEs only has
      aggregate wavelength usage (bandwidth) information in term of
      [RFC4201] after component links bundled into TE links without any
      IGP extension or any configuration of TED.  In this architecture,
      there are two kinds of component link selection:

      1.  Distributed Component Link Selection: If component links are
          selected hop-by-hop by each node along the path, wavelength
          assignment has to be performed at the level of bundled link.
          An LSP originator can control and record the resource by an
          explicit route, i.e., ERO and RRO.  Bundled link and the
          wavelength have to be specified in the ERO objects.  The
          selection of the component link within the bundle link is a
          local decision, but the nodes must select an appropriate
          component link where there are acceptable wavelengths
          specified in ERO.  If PCEs have no any wavelength availability
          information on any component links, it can easily lead to
          blocking problems during the process of component links
          selection.

      2.  Centralized Component Link Selection: If component link
          selection and wavelength assignment are performed within one
          centralized PCE, the LSP originator must explicitly specify
          resource at the level of (Bundled Link, Component Link, and
          Wavelength/Label).  [EXPLICIT-CONTROL-BUNDLE] defines
          extensions to perform explicit label/resource control over
          bundled TE link by ERO and RRO subobject.  So the LSP
          originator should use the ERO and RRO subobject to specify the
          component link identifier for resource control and recording
          over TE link bundles.  If PCEs have to know information of
          component links via IGP, it is not significant to apply Link
          Bundle in this case.  How PCEs get the information of
          component links and nodes without IGP is further for study.
          There are some approaches which have been described in [PCE-
          TED-ALTERNATIVE].

         In all above cases it requires PCEs to have the wavelength
         availability information and wavelength constraint information
         on component links and connectivity constraint information and
         wavelength conversion capability/availability information in
         nodes.  But this information of component links will be hided
         after component links are bundled into one TE link.  It can be
         resolved by the IGP extension to get this information defined
         in this draft.  PCE can create the TED via IGP.  It also can be



Fu                      Expires September 4, 2009              [Page 10]

Internet-Draft             Link Bundle of WSON                March 2009


         created by the alternative approaches which have been described
         in [PCE-TED-ALTERNATIVE].

   o  Centralized Routing + Distributed Wavelength Assignment: In the
      case where a centralized PCE was assumed to compute paths with
      distributed wavelength assignment, it is not necessary for the PCE
      to have the wavelength availability information and wavelength
      constraint information on component links and connectivity
      constraint information and wavelength conversion capability/
      availability information in nodes, but this information of
      component links is still hided in bundled links.  In this case
      component link selection and wavelength assignment should be
      simultaneously done hop-by-hop to reduce higher blocking
      probability.  But in some case service provider have to explicitly
      specify which component link within a bundled TE link should be
      used for a given LSP for administrative purpose.  For example,
      [PC-SPC-EXT] defines a conversion between PC (Permanent
      Connections) and SPC (Soft Permanent Connections) in a GMPLS
      enabled transport network.  When PC whose path is passing some
      bundled links is converted to SPC, we should explicitly specify
      which component links should be used on bundled links via ERO
      subobjects defined in [EXPLICIT-CONTROL-BUNDLE].  Otherwise the
      component links which are selected by nodes along the path may be
      inconsistent with the ones which actually be used by PC.  In order
      to reduce higher blocking probability, wavelengths (labels) and
      component links should be simultaneously specified.  If component
      links and wavelengths have to be explicitly specified via ERO
      subobjects define in [EXPLICIT-CONTROL-BUNDLE], PCE should have
      the wavelength utilization information and wavelength conversion
      capability/availability information.  PCEs can get this
      information of component links and nodes via IGP or without IGP.

   o  Fully Distributed: In the case fully distributed routing
      computation and wavelength assignment, it has the highest blocking
      probability among all the RWA computation architectures with
      limited or no wavelength conversions.  Crankback defined in
      RFC4920 is a scheme where the node unable to progress the
      connection setup due to blocked resource returns information to
      source node to allow new connection setup attempts to be made
      avoiding the blocked resources.  But it will still lead to
      crankback frequently and be inefficient in the signaling protocol.
      In this case, it is not necessary for PCEs to have the wavelength
      utilization information.  As the previous case, component link
      selections and wavelength assignment should be simultaneously done
      hop-by-hop to reduce higher blocking probability.

   In all above RWA computation architectures, if the computational
   entities have the wavelength utilization information, it can



Fu                      Expires September 4, 2009              [Page 11]

Internet-Draft             Link Bundle of WSON                March 2009


   calculate accurate paths and reduce blocking probability.

2.3.1.  Routing Consideration

   In the general case of limited or no wavelength conversion,
   wavelength availability information is essential to perform efficient
   and accurate path computation.  PCE can get this information via IGP.
   [WSON-INFO] provides efficient encodings of information needed by RWA
   process in WSON and extends GMPLS IGP.  [PCE-TED-ALTERNATIVE] also
   give other alternative methods where nodes can send this information
   to PCEs without IGP.  There should be a fact in both means of TED
   creation and maintenance that wavelengths utilization information
   will be lost after component links are bundled into a TE link in
   terms of [RFC4201].  Hence, this document defines the IGP extensions
   to Link Bundle [RFC4201] to summarize the available wavelengths
   information and wavelengths constraint information of component
   links.  This summarized information is one of the traffic parameters
   to be advertised for a bundled link.  The most important thing in
   this IGP extension to [RFC4201] is that any other information about
   component links must not flooded except the summarized wavelengths
   availability information and wavelength constraint information.
   Following IGP extension defined in this document is limited to WSON.

2.3.1.1.  Wavelengths Constraint Information of Bundled Link

   [WSON-INFO] extends GMPLS IGP to provide efficient encodings of
   information (e.g., wavelength conversion constraints and wavelength
   connectivity information of node, wavelength availability information
   and wavelength constraint information of Link) needed by RWA process
   in WSON.  [WSON-ENCODE] defines a Port Wavelength Restriction sub-TLV
   for encoding of wavelength constraint information and a Wavelength
   Set sub-TLV for encoding of available wavelengths information.

   This document extends Link Bundle [RFC4201] to make wavelength
   constraint information be a traffic parameter of bundled link.  A new
   traffic parameter which is encoded with Port Wavelength Restriction
   sub-TLV defined in [WSON-ENCODE] can be introduced to extend
   [RFC4201] to carry wavelength constraint information of a bundled
   link.  This information must be summarized from all component links
   on a bundled link and should be a union of all wavelengths constraint
   information on all component links.  The wavelengths constraint
   information of a bundled link is the union of the wavelengths
   constraint information of all the component links.  How to calculate
   this summarization is left as a local decision and out of this
   document.

   The wavelength that an optical fiber can support is pre-configured,
   static information.  This information needs to be advertised only



Fu                      Expires September 4, 2009              [Page 12]

Internet-Draft             Link Bundle of WSON                March 2009


   once in the general case, because it is not expected to change
   frequently when the network is running.  But any change in
   wavelengths constraint information of a component link results in a
   change in the wavelengths constraint information of the bundled link.
   The summarization must be recomputed and flooded again.

2.3.1.2.  Wavelengths Availability Information of Bundled Link

   This document extends Link Bundle [RFC4201] to make wavelength
   availability information a traffic parameter of bundled link.  A new
   traffic parameter which is encoded with Wavelength Set Sub-TLV
   defined in [WSON-ENCODE] can be introduced to extend [RFC4201] to
   carry wavelength availability information of a bundled link.  This
   information must be summarized from all component links on a bundled
   link and should be a union of all wavelengths availability
   information on all component links.  For example, one fiber (Fiber1)
   can support lambda 1 to lambda 5 and lambda 8 to lambda 11, another
   fiber (Fiber2) can support lambda4 to lambda 6 and lambda 9 to lambda
   12.

   The wavelength constraint information should be as followings:

   Fiber 1: [lambda1-lambda5], [lambda8-lambda11]

   Fiber 2: [lambda4-lambda6], [lambda9-lambda12]

   The wavelength availability information should be as followings (same
   as wavelength constraint):

   Fiber 1: [lambda1-lambda5], [lambda8-lambda11]

   Fiber 2: [lambda4-lambda6], [lambda9-lambda12]

   After Fiber 1 and Fiber2 are bundled into one TE Link (Link1), the
   wavelength constraint information of bundled link should be as
   followings:

   Link1: [lambda1-lambda6], [lambda8-lambda12]

   The wavelength availability information should be as followings:

   Link1: [lambda1-lambda3]

   Link1: (lambda4, lambda4) (two lambda4 wavelengths are available)

   Link1: (lambda5, lambda5) (two lambda5 wavelengths are available)

   Link1: [lambda6-lambda8]



Fu                      Expires September 4, 2009              [Page 13]

Internet-Draft             Link Bundle of WSON                March 2009


   Link1: (lambda9, lambda9) (two lambda9 wavelengths are available)

   Link1: [lambda10-lambda12]

   If one wavelength is available in more than one component link,
   available numbers of this wavelength are the summation from all
   component links.  This wavelength will be unavailable on a bundled
   link after this wavelength is unavailable on all component links.
   How to calculate this summarization is left as a local decision and
   out of this document.

   In WSON, the status information of a certain wavelength in a fiber
   should be refreshed following any change.  When a wavelength is
   assigned to set up a wavelength LSP or released when a wavelength LSP
   is torn down, the status information of this wavelength on each link
   along the path should be updated.  This information is dynamic
   information and needs to be distributed to all computation points.
   So any change in wavelengths availability information of a component
   link results in a change in the wavelengths availability information
   of the bundled link.  The summarization must be recomputed and
   flooded again.

   If one of the component links goes down, the associated bundled link
   remains up and continues to be advertised, provided that at least one
   component link associated with the bundled link is up.  The available
   wavelength of the component link that is down is set to zero, and
   wavelengths availability information of the bundle must be
   recomputed.  If all the component links associated with a given
   bundled link are down, the bundled link MUST not be advertised into
   OSPF/IS-IS in terms of [RFC4201].

2.3.2.  Other Consideration

   Although link bundling is not used, several TE links also can be
   advertised for one TE Link.  Path computation entity should still
   have the detailed wavelength availability information on this link to
   perform RWA.  This case is further for study.

2.4.  Bidirectional Path Using Same Component Link and Wavelength on
      Both Directions

   Base on the requirement of carriers for simplified management to
   reduce the OPEX, they would like to create an end-to-end path that
   uses the same component links and the same wavelength on both
   directions of each bundled link.  For example, service provider may
   require that original service should not be affected after unbundling
   the bundled link into several component links (unbundled links).  If
   the LSP uses different component links on different directions of a



Fu                      Expires September 4, 2009              [Page 14]

Internet-Draft             Link Bundle of WSON                March 2009


   bundled link, it is very difficult in keeping the RSVP-TE signaling
   state on different TE link of separate directions for this LSP after
   the bundled link is unbundled.

   Using the same component link on both directions of a bundled link is
   sometimes required to control not only WSON but also other switching
   capability network.  Sometimes, with limited or no wavelength
   conversion, the wavelength could not be available on the same
   component link on both directions.  So it may fail to select the same
   component on both directions in a bundled link.  If there are several
   component links where there are some wavelengths available on both
   directions, how to select a component link is a local decision.  It
   may looks at all available component links for the path then chooses
   from those available at random.  Also all available component links
   are ordered (e.g., order by Traffic Engineering metric), it may chose
   the first available on all component link.

   There are two component link selection architectures.

2.4.1.  Centralized Component Link Selection

   In the case of a centralized PCE performs component link selection,
   PCE should select the same component link on both directions of a
   bundled link along the path.  The component link selected by a
   centralized PCE should be explicitly specified by the LSP originator
   via ERO subobjects defined in [EXPLICIT-CONTROL-BUNDLE].  In order to
   reduce blocking probability, wavelength assignment and component link
   selection should be done simultaneously within one PCE.  PCE is
   responsible for using same component link and wavelength on both
   directions of a bundle link.  So in this case wavelengths and
   component links have to be explicitly specified via ERO object and
   ERO subobject.  In the general case of limited or no wavelength
   conversion, because it may actually be the case that the lambda is
   only available in one direction on one component link, and the other
   direction is only available on a different component link, PCE may
   fail to calculate such path to meet the requirement of same component
   link and wavelength on both direction of a bundle link.

2.4.2.  Distributed Component Link Selection

   In the case of distributed component link selection which is done
   hop-by-hop by nodes along path, how to select the component link
   could be the default policy of a node, but different nodes may apply
   different policies in the interoperability environment.  So each node
   should be explicitly notified of bidirectional same component link
   path request.

   [WSON-SIGNALING] introduces a bit in Attributes Flags TLV of



Fu                      Expires September 4, 2009              [Page 15]

Internet-Draft             Link Bundle of WSON                March 2009


   LSP_ATTRIBUTES object defined in [RFC4420] to indicate that the
   bidirectional same wavelength path should be created.  To meet the
   requirement of the bidirectional same component link path request,
   this document add a similar bit in Attributes Flags TLV of
   LSP_ATTRIBUTES object.

   In this component link selection architecture, there are two
   wavelength assignment approaches.

2.4.2.1.  Centralized Wavelength Assignment

   If a centralized PCE performs wavelength assignment, wavelength
   assignment has to be performed at the level of bundled link.  Bundled
   link and the wavelength have to be specified in the ERO objects by
   the LSP originator.  The centralized PCE has to assign the same
   wavelength on both directions of a bundled link or non-bundled link.
   The LSP originator can only specify resource at the level of (Bundle
   Link or Non-Bundled Link, Wavelength/Label).  Ingress node adds the
   bidirectional same component link path request in a LSP_ATTRIBUTES
   object of Path message.

   The path setup procedure is described below:

   1.  Ingress node adds the bidirectional same component link request
       in a LSP_ATTRIBUTES object of Path message.  If this Path message
       is to be sent for a downstream bundled TE link, the node must
       select the same component link where there are acceptable
       wavelengths specified in ERO objects.  If there are not
       acceptable wavelengths on non-bundled links or component links of
       a bundled link, Path message will be terminated and error
       information is generated.

   2.  On reception of a Path message containing bidirectional same
       component link indication in a LSP_ATTRIBUTES object, and next
       hop Path message is to be sent for a downstream bundled TE link,
       the node must select the same component link where there are
       acceptable wavelengths specified in ERO objects.  If there are
       not acceptable wavelengths on non-bundled links or component
       links of a bundled link, the Path message will be terminated, and
       a PathErr message with a "Component Link Selection Error"
       indication will be generated.

2.4.2.2.  Distributed Wavelength Assignment

   If wavelength assignment should be simultaneously done hop-by-hop, it
   is necessary to notify each node the request of bidirectional same
   component link on both directions of a bundle link and same
   wavelength on such a component link.



Fu                      Expires September 4, 2009              [Page 16]

Internet-Draft             Link Bundle of WSON                March 2009


   The path setup procedure is described below:

   1.  Ingress node adds the request of the bidirectional same component
       link on both direction of a bundled link and same wavelength on
       such a component link in a LSP_ATTRIBUTES object of Path message.
       If this Path message is to be sent for a downstream bundled TE
       link, the node must select one component link where there are
       acceptable same wavelengths available on both directions, then
       copy them into Label Set object and forward the Path message to
       downstream node.  If there aren!_t acceptable wavelengths on non-
       bundled links or component links of a bundled link, Path message
       will be terminated and error information is generated.

   2.  On reception of a Path message containing the above indication in
       a LSP_ATTRIBUTES object and Label Set object, there will be two
       cases:

       *  If this Path message is to be sent for a downstream bundled TE
          link, the node must select one component link where the Label
          Set TLVs are acceptable and available on both directions in
          it.  If there are acceptable same wavelengths on both
          directions on such a component link, then copy the values of
          them into new Label Set TLVs, and forward the Path message to
          the downstream node.  Otherwise the Path message will be
          terminated, and a PathErr message with a "Routing problem/
          Label Set" indication will be generated.

       *  If this Path message is to be sent for a downstream non-
          bundled link, the receiver of message checks if the Label Set
          TLVs are acceptable on both directions.  If there are
          acceptable same wavelengths on both directions, then copy the
          values of them into new Label Set TLVs, and forward the Path
          message to the downstream node.  Otherwise the Path message
          will be terminated, and a PathErr message with a "Routing
          problem/Label Set" indication will be generated.

   3.  On reception of a Path message containing the above indication in
       a LSP_ATTRIBUTES object and Label Set object, the egress node
       verifies whether the Label Set TLVs are acceptable, if one or
       more wavelengths are available on both directions in a component
       link, then any one available wavelength could be selected.  A
       Resv message is generated and propagated to upstream node.

   4.  On reception of a Resv message containing the above indication in
       a LSP_ATTRIBUTES object, the intermediate node allocates the
       label to interfaces on both directions in the component link, and
       then configures the local ROADM or OXC on both directions.




Fu                      Expires September 4, 2009              [Page 17]

Internet-Draft             Link Bundle of WSON                March 2009


3.  Link Bundling of Multi-Region Network

   In MRN/MLN (e.g., SDH/SONET over ODUk over LSC, ODUk over LSC and PSC
   over LSC), Adjustment Capacity refers to the property of a hybrid
   node to interconnect different switching capabilities it provides
   through its external interfaces [RFC5212].  This information allows
   path computation to select an end-to-end multi-region path that
   includes links of different switching capabilities that are joined by
   LSRs that can adapt the signal between the links.  If link bundling
   is done, then the adjustment capacity information is also lost with
   current GMPLS routing.  GMPLS routing should be extended to meet this
   requirement.  This case is further for consideration.


4.  Security Considerations

   TBD.


5.  IANA Considerations

   TBD.


6.  Acknowledgments

   TBD.


7.  Normative References

   [EXPLICIT-CONTROL-BUNDLE]
              Anca Zamfir, Zafar Ali, and Dimitri Papadimitriou,
              "Component Link Recording and Resource Control for TE Link
              Bundles", July 2008.

   [PC-SPC-EXT]
              D. Caviglia, D. Ceccarelli, D. Bramanti, and D. Li,
              "RSVP-TE Signaling Extension For The Conversion Between
              Permanent Connections And Soft Permanent Connections In A
              GMPLS Enabled Transport", October 2008.

   [PCE-TED-ALTERNATIVE]
              Y. Lee, G. Bernstein, and D. Li, "Alternative Approaches
              to Traffic Engineering Database Creation and Maintenance
              for Path Computation Elements", September 2008.

   [WSON-ENCODE]



Fu                      Expires September 4, 2009              [Page 18]

Internet-Draft             Link Bundle of WSON                March 2009


              G. Bernstein, Y. Lee, D. Li, and W. Imajuku, "Routing and
              Wavelength Assignment Information Encoding for Wavelength
              Switched Optical Networks", December 2008.

   [WSON-FRAME]
              G. Bernstein, Y. Lee, and W. Imajuku, "Framework for GMPLS
              and PCE Control of Wavelength Switched Optical Networks",
              February 2009.

   [WSON-INFO]
              G. Bernstein, Y. Lee, D. Li, and W. Imajuku, "Routing and
              Wavelength Assignment Information for Wavelength Switched
              Optical Networks", November  2008.


Author's Address

   Xihua Fu (editor)
   ZTE Corporation
   West District,ZTE Plaza,No.10,Tangyan South Road,Gaoxin District
   Xi'an  710065
   P.R.China

   Phone: +8615802921223
   Email: fu.xihua@zte.com.cn
   URI:   http://www.zte.com.cn

























Fu                      Expires September 4, 2009              [Page 19]


