<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en"><head><title>Comcast's ISP Experiences In a P4P Technical Trial</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="Comcast's ISP Experiences In a P4P Technical Trial">
<meta name="keywords" content="RFC, Request for Comments, I-D, Internet-Draft, XML, Extensible Markup Language, ISP, Internet Service Provider, P2P, Peer-to-Peer, P4P, Proactive Network Provider Participation for P2P, DCIA, Distributed Computing Industry Association">
<meta name="generator" content="xml2rfc v1.35 (http://xml.resource.org/)">
<meta name="viewport" content="width=600;" />
<style type='text/css'><!--
        body {
                font-family: verdana, charcoal, helvetica, arial, sans-serif;
                font-size: 85%;
		max-width: 40em; 
		color: #000; background-color: #FFF;
                margin: 2em;
        }
        h1, h2, h3, h4, h5, h6 {
                font-family: helvetica, monaco, "MS Sans Serif", arial, sans-serif;
                font-weight: bold; font-style: normal;
        }
        h1 { color: #900; background-color: transparent; text-align: right; }
        h3 { color: #333; background-color: transparent; }

        td.RFCbug {
                font-size: x-small; text-decoration: none;
                width: 30px; height: 30px; padding-top: 2px;
                text-align: justify; vertical-align: middle;
                background-color: #000;
        }
        td.RFCbug span.RFC {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: bold; color: #666;
        }
        td.RFCbug span.hotText {
                font-family: charcoal, monaco, geneva, "MS Sans Serif", helvetica, verdana, sans-serif;
                font-weight: normal; text-align: center; color: #FFF;
        }

        table.TOCbug { width: 30px; height: 15px; }
        td.TOCbug {
                text-align: center; width: 30px; height: 15px;
                color: #FFF; background-color: #900;
        }
        td.TOCbug a {
                font-family: monaco, charcoal, geneva, "MS Sans Serif", helvetica, sans-serif;
                font-weight: bold; font-size: x-small; text-decoration: none;
                color: #FFF; background-color: transparent;
        }

        td.header {
                font-family: arial, helvetica, sans-serif; font-size: x-small;
                vertical-align: top; width: 33%;
                color: #FFF; background-color: #666;
        }
        td.author { font-weight: bold; font-size: x-small; margin-left: 4em; }
        td.author-text { font-size: x-small; }

        /* info code from SantaKlauss at http://www.madaboutstyle.com/tooltip2.html */
        a.info {
                /* This is the key. */
                position: relative;
                z-index: 24;
                text-decoration: none;
        }
        a.info:hover {
                z-index: 25;
                color: #FFF; background-color: #900;
        }
        a.info span { display: none; }
        a.info:hover span.info {
                /* The span will display just on :hover state. */
                display: block;
                position: absolute;
                font-size: smaller;
                top: 2em; left: -5em; width: 15em;
                padding: 2px; border: 1px solid #333;
                color: #900; background-color: #EEE;
                text-align: left;
        }

        a { font-weight: bold; }
        a:link    { color: #900; background-color: transparent; }
        a:visited { color: #633; background-color: transparent; }
        a:active  { color: #633; background-color: transparent; }

        p { margin-left: 2em; margin-right: 2em; }
        p.copyright { font-size: x-small; }
        p.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; margin-left: 3em; }
        table.toc { margin: 0 0 0 3em; padding: 0; border: 0; vertical-align: text-top; }
        td.toc { font-size: 85%;
		max-width: 40em; 
		font-weight: bold; vertical-align: text-top; }

        ol.text { margin-left: 2em; margin-right: 2em; }
        ul.text { margin-left: 2em; margin-right: 2em; }
        li      { margin-left: 3em; }

        /* RFC-2629 <spanx>s and <artwork>s. */
        em     { font-style: italic; }
        strong { font-weight: bold; }
        dfn    { font-weight: bold; font-style: normal; }
        cite   { font-weight: normal; font-style: normal; }
        tt     { color: #036; }
        tt, pre, pre dfn, pre em, pre cite, pre span {
                font-family: "Courier New", Courier, monospace; font-size: small;
        }
        pre {
                text-align: left; padding: 4px;
                color: #000; background-color: #CCC;
        }
        pre dfn  { color: #900; }
        pre em   { color: #66F; background-color: #FFC; font-weight: normal; }
        pre .key { color: #33C; font-weight: bold; }
        pre .id  { color: #900; }
        pre .str { color: #000; background-color: #CFF; }
        pre .val { color: #066; }
        pre .rep { color: #909; }
        pre .oth { color: #000; background-color: #FCF; }
        pre .err { background-color: #FCC; }

        /* RFC-2629 <texttable>s. */
        table.all, table.full, table.headers, table.none {
                font-size: 85%;
		max-width: 40em; 
		text-align: center; border-width: 2px;
                vertical-align: top; border-collapse: collapse;
        }
        table.all, table.full { border-style: solid; border-color: black; }
        table.headers, table.none { border-style: none; }
        th {
                font-weight: bold; border-color: black;
                border-width: 2px 2px 3px 2px;
        }
        table.all th, table.full th { border-style: solid; }
        table.headers th { border-style: none none solid none; }
        table.none th { border-style: none; }
        table.all td {
                border-style: solid; border-color: #333;
                border-width: 1px 2px;
        }
        table.full td, table.headers td, table.none td { border-style: none; }

        hr { height: 1px; }
        hr.insert {
                width: 80%; border-style: none; border-width: 0;
                color: #CCC; background-color: #CCC;
        }
--></style>
</head>
<body>
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<table summary="layout" width="66%" border="0" cellpadding="0" cellspacing="0"><tr><td><table summary="layout" width="100%" border="0" cellpadding="2" cellspacing="1">
<tr><td class="header">Internet Engineering Task Force</td><td class="header">C. Griffiths</td></tr>
<tr><td class="header">Internet-Draft</td><td class="header">J. Livingood, Ed.</td></tr>
<tr><td class="header">Intended status: Informational</td><td class="header">Comcast</td></tr>
<tr><td class="header">Expires: December 14, 2009</td><td class="header">L. Popkin</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Pando</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">R. Woundy</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Comcast</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Y. Yang</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">Yale</td></tr>
<tr><td class="header">&nbsp;</td><td class="header">June 12, 2009</td></tr>
</table></td></tr></table>
<h1><br />Comcast's ISP Experiences In a P4P Technical Trial<br />draft-livingood-woundy-p4p-experiences-10</h1>

<h3>Status of this Memo</h3>
<p>
This Internet-Draft is submitted to IETF in full
conformance with the provisions of BCP&nbsp;78 and BCP&nbsp;79.</p>
<p>
Internet-Drafts are working documents of the Internet Engineering
Task Force (IETF), its areas, and its working groups.
Note that other groups may also distribute working documents as
Internet-Drafts.</p>
<p>
Internet-Drafts are draft documents valid for a maximum of six months
and may be updated, replaced, or obsoleted by other documents at any time.
It is inappropriate to use Internet-Drafts as reference material or to cite
them other than as &ldquo;work in progress.&rdquo;</p>
<p>
The list of current Internet-Drafts can be accessed at
<a href='http://www.ietf.org/ietf/1id-abstracts.txt'>http://www.ietf.org/ietf/1id-abstracts.txt</a>.</p>
<p>
The list of Internet-Draft Shadow Directories can be accessed at
<a href='http://www.ietf.org/shadow.html'>http://www.ietf.org/shadow.html</a>.</p>
<p>
This Internet-Draft will expire on December 14, 2009.</p>

<h3>Copyright Notice</h3>
<p>
Copyright (c) 2009 IETF Trust and the persons identified as the
document authors.  All rights reserved.</p>
<p>
This document is subject to BCP 78 and the IETF Trust's Legal
Provisions Relating to IETF Documents in effect on the date of
publication of this document (http://trustee.ietf.org/license-info).
Please review these documents carefully, as they describe your
rights and restrictions with respect to this document.</p>

<h3>Abstract</h3>

<p>This document describes the experiences of Comcast, a large cable broadband Internet Service Provider (ISP) in the U.S., in a Proactive Network Provider Participation for P2P (P4P) technical trial in July 2008.  This trial used P4P iTracker technology being considered by the IETF, as part of the Application Layer Transport Optimization (ALTO) working group.
</p><a name="toc"></a><br /><hr />
<h3>Table of Contents</h3>
<p class="toc">
<a href="#intro">1.</a>&nbsp;
Introduction<br />
<a href="#Details">2.</a>&nbsp;
High-Level Details<br />
<a href="#P4P_iTracker_Diffs">3.</a>&nbsp;
Differences Between the P4P iTrackers Used<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Fine">3.1.</a>&nbsp;
P4P Fine Grain<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Coarse">3.2.</a>&nbsp;
P4P Coarse Grain<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Generic">3.3.</a>&nbsp;
P4P Generic Weighted<br />
<a href="#Results">4.</a>&nbsp;
High-Level Trial Results<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Results_Swarm">4.1.</a>&nbsp;
Swarm Size<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Results_DS">4.2.</a>&nbsp;
Impact on Download Speed<br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Results_Other">4.3.</a>&nbsp;
General Impacts on Upstream and Downstream Traffic and Other Interesting Data<br />
<a href="#Important_Notes">5.</a>&nbsp;
Important Notes on Data Collected<br />
<a href="#Next_Steps">6.</a>&nbsp;
Next Steps<br />
<a href="#anchor1">7.</a>&nbsp;
Security Considerations<br />
<a href="#anchor2">8.</a>&nbsp;
IANA Considerations<br />
<a href="#anchor3">9.</a>&nbsp;
Acknowledgements<br />
<a href="#rfc.references1">10.</a>&nbsp;
Informative References<br />
<a href="#rfc.authors">&#167;</a>&nbsp;
Authors' Addresses<br />
</p>
<br clear="all" />

<a name="intro"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.1"></a><h3>1.&nbsp;
Introduction</h3>

<p>Comcast is a large broadband Internet Service Provider (ISP), based in the U.S., serving the majority of its customers via cable modem technology.  A trial was conducted in July 2008 with Pando Networks, Yale, and several ISP members of the P4P Working Group, which is part of the Distributed Computing Industry Association (DCIA). Comcast is a member of the DCIA's P4P Working Group, whose mission is to work with Internet service providers (ISPs), peer-to-peer (P2P) companies, and technology researchers to develop "P4P" mechanisms, such as so-called "iTrackers" (hereafter P4P iTrackers), that accelerate distribution of content and optimize utilization of ISP network resources. P4P iTrackers theoretically allow P2P networks to optimize traffic within each ISP, reducing the volume of data traversing the ISP's infrastructure and creating a more manageable flow of data. P4P iTrackers can also accelerate P2P downloads for end users.
</p>
<p>P4P's so-called "iTracker" technology <a class='info' href='#SIGCOMM'>[SIGCOMM]<span> (</span><span class='info'>Xie, H., Yang, Y., Krishnamurthy, A., Liu, Y., and A. Silberschatz, &ldquo;ACM SIGCOMM 2008 - P4P: Provider Portal for Applications,&rdquo; August&nbsp;2008.</span><span>)</span></a> was conceptually discussed with the IETF at the Peer-to-Peer Infrastructure (P2Pi) Workshop held on May 28, 2008, at the Massachusetts Institute of Technology (MIT), as documented in <a class='info' href='#I-D.p2pi-cooper-workshop-report'>[I&#8209;D.p2pi&#8209;cooper&#8209;workshop&#8209;report]<span> (</span><span class='info'>Peterson, J. and A. Cooper, &ldquo;Report from the IETF workshop on P2P Infrastructure, May 28, 2008,&rdquo; February&nbsp;2009.</span><span>)</span></a>.  This work was discussed in greater detail at the 72nd meeting of the IETF, in Dublin, Ireland, in the ALTO BoF on July 29, 2008.  Due to interest from the community, Comcast shared P4P iTracker trial data at the 73rd meeting of the IETF, in Minneapolis, Minnesota, in the ALTO BoF on November 18, 2008.  Since that time, discussion of P4P iTrackers and alternative technologies has continued among participants of the ALTO working group.
</p>
<p>The P4P iTracker trial was conducted, in cooperation with Pando, Yale, and three other P4P member ISPs, from July 2 to July 17, 2008.  This was the first P4P iTracker trial over a cable broadband network.  The trial used a Pando P2P client, and Pando distributed a special 21 MB licensed video file in order to measure the effectiveness of P4P iTrackers. A primary objective of the trial was to measure the effects that increasing the localization of P2P swarms would have on P2P uploads, P2P downloads, and ISP networks, in comparison to normal P2P activity.
</p>
<a name="Details"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.2"></a><h3>2.&nbsp;
High-Level Details</h3>

<p>As noted in Section 1 of <a class='info' href='#Dynamic Swarm Management'>[Dynamic Swarm Management]<span> (</span><span class='info'>Carlsson, N. and G. Dan, &ldquo;Dynamic Swarm Management for Improved BitTorrent Performance,&rdquo; March&nbsp;2009.</span><span>)</span></a>, a swarm is defined in the following way: "The content and the set of peers distributing it [a file] is usually called a torrent. A peer that only uploads content is called a seed, while a peer that uploads and downloads at the same time is called a leecher. The connected set of peers participating in the piece exchanges of a torrent is referred to as a swarm."
</p>
<p>There were five different swarms for the content used in the trial.  The second, third, and fourth used different P4P iTrackers: Generic, Coarse Grained, and Fine Grained, all of which are described in <a class='info' href='#P4P_iTracker_Diffs'>Section&nbsp;3<span> (</span><span class='info'>Differences Between the P4P iTrackers Used</span><span>)</span></a>.  The fifth was a proprietary Pando mechanism.  (The results of the fifth swarm, while satisfactory, are not included here since our focus is on open standards and a mechanism which may be leveraged for the benefit of the entire community of P2P clients.)  Comcast deployed a P4P iTracker server in its production network to support this trial, and configured multiple iTracker files to provide varying levels of localization to clients.
</p>
<p>In the trial itself, a P2P client begins a P2P session by querying a pTracker, which runs and manages the P2P network.  The pTracker occasionally queries the P4P iTracker, which in this case was maintained by Comcast, the ISP.  Other ISPs either managed their own P4P iTracker or used Pando or Yale to host their P4P iTracker files.  The P4P iTracker returns network topology information to the pTracker, which then communicates with P2P clients, in order to enable P2P clients to make network-aware decisions regarding peers.
</p>
<p>The Pando client was enabled to capture extended logging, when the version of the client included support for it. The extended logging included the source and destination IP address of all P2P transfers, the number of bytes transferred, and the start and end timestamps. This information gives a precise measurement of the data flow in the network, allowing computation of data transfer volumes as well as data flow rates at each point in time. With standard logging, Pando captured the start and completion times of every download, as well as the average transfer rate observed by the client for the download.
</p>
<p>Pando served the data from an origin server external to Comcast's network. This server served about 10 copies of the file, after which all transfers (about 1 million downloads across all ISPs) were performed purely via P2P.
</p>
<p>The P2P clients in the trial start with tracker-provided peers, then use peer exchange to discover additional peers. Thus, the initial peers were provided according to P4P iTracker guidance (90% guidance based on P4P iTracker topology, and 10% random guidance), then later peers discover the entire swarm via either additional announces or peer exchange.
</p>
<a name="P4P_iTracker_Diffs"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3"></a><h3>3.&nbsp;
Differences Between the P4P iTrackers Used</h3>

<p>Given the size of the Comcast network, it was felt that in order to truly evaluate the P4P iTracker application we would need to test various network topologies that reflected its network and would help gauge the level of effort and design requirements necessary to get correct statistical data out of the trial.  In all cases, P4P iTrackers were configured with automation in mind, so that any successful P4P iTracker configuration would be automatically updating, rather than manually configured on an on-going basis.  All P4P iTrackers were hosted on the same small server, and it appeared to be relatively easy and inexpensive to scale up a P4P iTracker infrastructure should P4P iTracker-like mechanisms become standardized and widely adopted.
</p>
<a name="Fine"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.1"></a><h3>3.1.&nbsp;
P4P Fine Grain</h3>

<p>The Fine Grain topology was the first and most complex P4P iTracker that we built for this trial.  It was a detailed mapping of Comcast backbone-connected network Autonomous System Numbers (ASN) to IP Aggregates which were weighted based on priority and distance from each other.  Included in this design was a prioritization of all Peer and Internet transit connected ASNs to the Comcast backbone to ensure that P4P traffic would prefer settlement free and lower cost networks first, and then more expensive transit links.  This attempted to optimize and lower transit costs associated with this traffic.  We then took the additional step of detailing each ASN and IP aggregate into IP subnets down to Optical Transport Nodes (OTN) where all Cable Modem Termination Systems (CMTS, as briefly defined in Section 2.6 of <a class='info' href='#RFC3083'>[RFC3083]<span> (</span><span class='info'>Woundy, R., &ldquo;Baseline Privacy Interface Management Information Base for DOCSIS Compliant Cable Modems and Cable Modem Termination Systems,&rdquo; March&nbsp;2001.</span><span>)</span></a>) reside .  This design gave a highly localized and detailed description of the Comcast network for the iTracker to disseminate.  This design defined 1,182 P4P iTracker node identifiers, and resulted in a 107,357-line configuration file.
</p>
<p>This P4P iTracker was obviously the most time-consuming to create and the most complex to maintain.  Trial results indicated that this level of localization was too high, and was less effective compared to lower levels of localization.
</p>
<a name="Coarse"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.2"></a><h3>3.2.&nbsp;
P4P Coarse Grain</h3>

<p>Given the level of detail in the Fine Grain design, it was important that we also enable a high-level design which still used priority and weighting mechanisms for the Comcast backbone and transit links.  The Coarse Grain design was a limited or summarized version of the Fine Grain design, which used the ASN to IP Aggregate and weighted data for transit links, but removed all additional localization data.  This insured we would get similar data sets from the Fine Grain design, but without the more detailed localization of each of the networks attached to the Comcast backbone.  This design defined 22 P4P iTracker node identifiers, and resulted in a 998-line configuration file.
</p>
<p>From an overall cost, complexity, risk, and effectiveness standpoint, this was judged to be the optimal P4P iTracker for Comcast.  Importantly, this did not require revealing the complex, internal network topology that the Fine Grain did.  Updates to this iTracker were also far simpler to automate, which will better ensure that it is accurate over time, and keeps administrative overhead relatively low.  However, the differences, costs, and benefits of Coarse Grain and Generic Weighted (see below) likely merit further study.
</p>
<a name="Generic"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.3.3"></a><h3>3.3.&nbsp;
P4P Generic Weighted</h3>

<p>The Generic Weighted design was a copy of the Coarse Grained design but instead of using ISP-designated priority and weights, all weights were defaulted to pre-determined parameters that the Yale team had designed.  All other data was replicated from the Coarse Grain design.  Gathering and providing the information necessary to support the Generic Weighted iTracker was roughly the same level of effort as for Coarse Grain.
</p>
<a name="Results"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4"></a><h3>4.&nbsp;
High-Level Trial Results</h3>

<p>Trial data was collected by Pando Networks and Yale University, and raw trial results were shared with Comcast and all of the other ISPs involved in the trial.  Analysis of the raw results was performed by Pando and Yale, and these organizations delivered an analysis of the P4P iTracker trial.  Using the raw data, Comcast also analyzed the trial results.  Furthermore, the raw trial results for Comcast were shared with Net Forecast, Inc., which performed an independent analysis of the trial for Comcast.
</p>
<a name="Results_Swarm"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.1"></a><h3>4.1.&nbsp;
Swarm Size</h3>

<p>During the trial, downloads peaked at 24,728 per day, per swarm, or nearly 124,000 per day for all five swarms.  The swarm size peaked at 11,703 peers per swarm, or nearly 57,000 peers for all five swarms.  We observed a comparable number of downloads in each of the five swarms.
</p>
<p>For each swarm, <a class='info' href='#table_one'>Table&nbsp;1<span> (</span><span class='info'>Per-Swarm Size and Cancellation Rates</span><span>)</span></a> below gives the number of downloads per swarm from Comcast that finished downloading, and the number of downloads from Comcast that canceled downloading before finishing.
</p><br /><hr class="insert" />
<a name="table_one"></a>

<p style='text-align: center'>Characteristics of P4P iTracker Swarms:
</p><table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="center"><col align="center"><col align="center"><col align="center"><col align="center">
<tr><th align="center">Swarm</th><th align="center">Completed Downloads</th><th align="center">Cancellations</th><th align="center">Total Attempts</th><th align="center">Cancellation Rate</th></tr>
<tr>
<td align="center">Random (Control)</td>
<td align="center">2,719</td>
<td align="center">89</td>
<td align="center">2,808</td>
<td align="center">3.17%</td>
</tr>
<tr>
<td align="center">---------</td>
<td align="center">---------</td>
<td align="center">-----------</td>
<td align="center">----------</td>
<td align="center">-----------</td>
</tr>
<tr>
<td align="center">P4P Fine Grained</td>
<td align="center">2,846</td>
<td align="center">64</td>
<td align="center">2,910</td>
<td align="center">2.20%</td>
</tr>
<tr>
<td align="center">---------</td>
<td align="center">---------</td>
<td align="center">-----------</td>
<td align="center">----------</td>
<td align="center">-----------</td>
</tr>
<tr>
<td align="center">P4P Generic Weight</td>
<td align="center">2,775</td>
<td align="center">63</td>
<td align="center">2,838</td>
<td align="center">2.22%</td>
</tr>
<tr>
<td align="center">---------</td>
<td align="center">---------</td>
<td align="center">-----------</td>
<td align="center">----------</td>
<td align="center">-----------</td>
</tr>
<tr>
<td align="center">P4P Coarse Grained</td>
<td align="center">2,886</td>
<td align="center">52</td>
<td align="center">2,938</td>
<td align="center">1.77%</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Table 1: Per-Swarm Size and Cancellation Rates&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="Results_DS"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.2"></a><h3>4.2.&nbsp;
Impact on Download Speed</h3>

<p>The results of the trial indicated that P4P iTrackers can improve the speed of downloads to P2P clients.  In addition, P4P iTrackers were effective in localizing P2P traffic within the Comcast network.
</p><br /><hr class="insert" />
<a name="table_two"></a>

<p style='text-align: center'>Impact of P4P iTrackers on Downloads:
</p><table class="full" align="center" border="0" cellpadding="2" cellspacing="2">
<col align="center"><col align="center"><col align="center"><col align="center"><col align="center">
<tr><th align="center">Swarm</th><th align="center">Global Avg bps</th><th align="center">Change</th><th align="center">Comcast Avg bps</th><th align="center">Change</th></tr>
<tr>
<td align="center">Random (Control)</td>
<td align="center">144,045 bps</td>
<td align="center">n/a</td>
<td align="center">254,671 bps</td>
<td align="center">n/a</td>
</tr>
<tr>
<td align="center">----------</td>
<td align="center">----------</td>
<td align="center">----------</td>
<td align="center">----------</td>
<td align="center">----------</td>
</tr>
<tr>
<td align="center">P4P Fine Grained</td>
<td align="center">162,344 bps</td>
<td align="center">+13%</td>
<td align="center">402,043 bps</td>
<td align="center">+57%</td>
</tr>
<tr>
<td align="center">----------</td>
<td align="center">----------</td>
<td align="center">----------</td>
<td align="center">----------</td>
<td align="center">----------</td>
</tr>
<tr>
<td align="center">P4P Generic Weight</td>
<td align="center">163,205 bps</td>
<td align="center">+13%</td>
<td align="center">463,782 bps</td>
<td align="center">+82%</td>
</tr>
<tr>
<td align="center">----------</td>
<td align="center">----------</td>
<td align="center">----------</td>
<td align="center">----------</td>
<td align="center">----------</td>
</tr>
<tr>
<td align="center">P4P Coarse Grained</td>
<td align="center">166,273 bps</td>
<td align="center">+15%</td>
<td align="center">471,218 bps</td>
<td align="center">+85%</td>
</tr>
</table>
<br clear="all" />
<table border="0" cellpadding="0" cellspacing="2" align="center"><tr><td align="center"><font face="monaco, MS Sans Serif" size="1"><b>&nbsp;Table 2: Per-Swarm Global and Comcast Download Speeds&nbsp;</b></font><br /></td></tr></table><hr class="insert" />

<a name="Results_Other"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.4.3"></a><h3>4.3.&nbsp;
General Impacts on Upstream and Downstream Traffic and Other Interesting Data</h3>

<p>An analysis of the effects of P4P iTracker use on upstream utilization and Internet transit was also interesting.  It did not appear that P4P iTrackers significantly increased upstream utilization in the Comcast access network; in essence uploading was already occurring no matter what and a P4P iTracker in and of itself did not appear to materially increase uploading for this specific, licensed content.  (A P4P iTracker is not intended as a solution for the potential of network congestion to occur.)  Random was 143,236 MB and P4P Generic Weight was 143,143 MB, while P4P Coarse Grained was 139,669 MB.  We also observed that using a P4P iTracker reduced outgoing Internet traffic by an average of 34% at peering points. Random was 134,219 MB and P4P Generic Weight was 91,979 MB, while P4P Coarse Grained was 86,652 MB.
</p>
<p>In terms of downstream utilization, we observed that the use of a P4P iTracker reduced incoming Internet traffic by an average of 80% at peering points.  Random was 47,013 MB, P4P Generic Weight was 8,610 MB, and P4P Coarse Grained was 7,764 MB.  However, we did notice that download activity in the Comcast access network increased somewhat, from 56,030 MB for Random, to 59,765 MB for P4P Generic Weight, and 60,781 MB for P4P Coarse Grained.  Note that for each swarm, the number of downloaded bytes according to logging reports is very close to the number of downloads multiplied by file size. But they do not exactly match due to log report errors and duplicated chunks.  One factor contributing to the differences in access network download activity is that different swarms have different numbers of downloaders, due to random variations during uniform random assignment of downloaders to swarms (see <a class='info' href='#table_one'>Table&nbsp;1<span> (</span><span class='info'>Per-Swarm Size and Cancellation Rates</span><span>)</span></a>).  One interesting observation is that Random has higher cancellation rate (3.17%) than that of the guided swarms (1.77%-2.22%).  Whether guided swarms achieve lower cancellation rate is an interesting issue for future research.
</p>
<a name="Important_Notes"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.5"></a><h3>5.&nbsp;
Important Notes on Data Collected</h3>

<p>Raw data is presented in this document.  We did not normalize traffic volume data (e.g. upload and download) by the number of downloads in order to preserve this underlying raw data.
</p>
<p>We also recommend that readers not focus too much on the absolute numbers, such as bytes downloaded from internal sources and bytes downloaded from external sources.  Instead, we recommend readers focus on ratios such as the percentage of bytes downloaded that came from internal sources in each swarm.  As a result, the small random variation between number of downloads of each swarm does not distract readers from important metrics like shifting traffic from external to internal sources, among other things.
</p>
<p>We also wish to note that the data was collected from a sample of the total swarm. Specifically, there were some peers running older versions of the Pando client that did not implement the extended transfer logging. For those nodes, which participated in the swarms but did not report their data transfers, we have download counts. The result of this is that, for example, the download counts generated from the standard logging are a bit higher than the download counts generated by the extended logging. That being said, over 90% of downloads were by peers running the newer software, which we believe shows that the transfer records are highly representative of the total data flow.
</p>
<p>In terms of which analysis was performed from the standard logging compared to extended logging, all of the data flow analysis was performed using the extended logging. Pando's download counts and performance numbers were generated via standard logging (i.e. all peers report download complete/cancel, data volumes, and measured download speed on the client).  Yale's download counts and performance numbers were derived via extended logging (e.g. by summing the transfer records, counting IP addresses reported, etc.).
</p>
<p>One benefit of having two data sources is that we can compare the two. In this case, the two approaches both reported comparable impacts.
</p>
<a name="Next_Steps"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.6"></a><h3>6.&nbsp;
Next Steps</h3>

<p>One objective of this document is to share with the IETF community the results of one P4P iTracker trial in a large broadband network, given skepticism regarding the benefits to P2P users as well as to ISPs.  From the perspective of P2P users, P4P iTrackers potentially deliver faster P2P downloads.  At the same time, ISPs can increase the localization of swarms, enabling them to reduce bytes flowing over transit points, while also delivering an optimized P2P experience to customers. However, an internal analysis of varying levels of P4P iTracker adoption by ISPs leads us to believe that, while P4P iTracker-type mechanisms are valuable on a single ISP basis, the value of P4P iTrackers increases dramatically as many ISPs choose to deploy it.
</p>
<p>We believe these results can inform the technical discussion in the IETF over how to use P4P iTracker mechanisms.  Should such a mechanism be standardized, the use of ISP-provided P4P iTrackers should probably be an opt-in feature for P2P users, or at least a feature of which they are explicitly aware of and which has been enabled by default in a particular P2P client.  In this way, P2P users could choose to opt-in either explicitly or by their choice of P2P client in order to choose to use the P4P iTracker to improve performance, which benefits both the user and the ISP at the same time.  Importantly in terms of privacy, the P4P iTracker makes available only network topology information, and would not in its current form enable an ISP, via the P4P iTracker, to determine which P2P clients were downloading any specific content, whether to determine for example if content was a song or a movie or even the title.
</p>
<p>It is also possible that a P4P iTracker type of mechanism, in combination with a P2P cache, could further improve P2P download performance, which merits further study.  In addition, this was a limited trial that, while very promising, indicates a need for additional technical investigation and trial work.  Such follow-up study should explore the effects of P4P iTrackers when more P2P client software variants are involved, with larger swarms, and with additional and more technically diverse content (file size, file type, duration of content, etc.).
</p>
<a name="anchor1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.7"></a><h3>7.&nbsp;
Security Considerations</h3>

<p>There are no security considerations in this document.
</p>
<p>NOTE TO RFC EDITOR: PLEASE REMOVE THIS NULL SECTION PRIOR TO PUBLICATION.
</p>
<a name="anchor2"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.8"></a><h3>8.&nbsp;
IANA Considerations</h3>

<p>There are no IANA considerations in this document.
</p>
<p>NOTE TO RFC EDITOR: PLEASE REMOVE THIS NULL SECTION PRIOR TO PUBLICATION.
</p>
<a name="anchor3"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<a name="rfc.section.9"></a><h3>9.&nbsp;
Acknowledgements</h3>

<p>The authors wish to acknowledge the hard work of all of the P4P working group members, and specifically the focused efforts of the teams at both Pando and Yale for the trial itself.  Finally, the authors recognize and appreciate Peter Sevcik and John Bartlett, of NetForecast, Inc., for their valued independent analysis of the trial results.
</p>
<a name="rfc.references1"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>10.&nbsp;Informative References</h3>
<table width="99%" border="0">
<tr><td class="author-text" valign="top"><a name="Dynamic Swarm Management">[Dynamic Swarm Management]</a></td>
<td class="author-text">Carlsson, N. and G. Dan, &ldquo;<a href="http://www.usenix.org/events/iptps09/tech/full_papers/dan/dan_html/">Dynamic Swarm Management for Improved BitTorrent Performance</a>,&rdquo; USENIX&nbsp;8th International Workshop on Peer-to-Peer Systems, March&nbsp;2009.</td></tr>
<tr><td class="author-text" valign="top"><a name="I-D.p2pi-cooper-workshop-report">[I-D.p2pi-cooper-workshop-report]</a></td>
<td class="author-text">Peterson, J. and A. Cooper, &ldquo;<a href="http://www.ietf.org/internet-drafts/draft-p2pi-cooper-workshop-report-01.txt">Report from the IETF workshop on P2P Infrastructure, May 28, 2008</a>,&rdquo; draft-p2pi-cooper-workshop-report-01 (work in progress), February&nbsp;2009 (<a href="http://www.ietf.org/internet-drafts/draft-p2pi-cooper-workshop-report-01.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="RFC3083">[RFC3083]</a></td>
<td class="author-text">Woundy, R., &ldquo;<a href="http://tools.ietf.org/html/rfc3083">Baseline Privacy Interface Management Information Base for DOCSIS Compliant Cable Modems and Cable Modem Termination Systems</a>,&rdquo; RFC&nbsp;3083, March&nbsp;2001 (<a href="http://www.rfc-editor.org/rfc/rfc3083.txt">TXT</a>).</td></tr>
<tr><td class="author-text" valign="top"><a name="SIGCOMM">[SIGCOMM]</a></td>
<td class="author-text">Xie, H., Yang, Y., Krishnamurthy, A., Liu, Y., and A. Silberschatz, &ldquo;<a href="http://ccr.sigcomm.org/online/files/p351-xieA.pdf">ACM SIGCOMM 2008 - P4P: Provider Portal for Applications</a>,&rdquo; Association for Computing Machinery&nbsp;SIGCOMM 2008 Proceedings, August&nbsp;2008.</td></tr>
</table>

<a name="rfc.authors"></a><br /><hr />
<table summary="layout" cellpadding="0" cellspacing="2" class="TOCbug" align="right"><tr><td class="TOCbug"><a href="#toc">&nbsp;TOC&nbsp;</a></td></tr></table>
<h3>Authors' Addresses</h3>
<table width="99%" border="0" cellpadding="0" cellspacing="0">
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Chris Griffiths</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Comcast Cable Communications</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">One Comcast Center</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1701 John F. Kennedy Boulevard</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Philadelphia, PA  19103</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:chris_griffiths@cable.comcast.com">chris_griffiths@cable.comcast.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.comcast.com">http://www.comcast.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Jason Livingood (editor)</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Comcast Cable Communications</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">One Comcast Center</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">1701 John F. Kennedy Boulevard</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Philadelphia, PA  19103</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:jason_livingood@cable.comcast.com">jason_livingood@cable.comcast.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.comcast.com">http://www.comcast.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Laird Popkin</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Pando Networks</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">520 Broadway Street</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">10th Floor</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">New York, NY  10012</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:laird@pando.com">laird@pando.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.pando.com">http://www.pando.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Richard Woundy</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Comcast Cable Communications</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">27 Industrial Avenue</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Chelmsford, MA  01824</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:richard_woundy@cable.comcast.com">richard_woundy@cable.comcast.com</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.comcast.com">http://www.comcast.com</a></td></tr>
<tr cellpadding="3"><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Richard Yang</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">Yale University</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">51 Prospect Street</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">New Haven, CT  06520</td></tr>
<tr><td class="author-text">&nbsp;</td>
<td class="author-text">US</td></tr>
<tr><td class="author" align="right">Email:&nbsp;</td>
<td class="author-text"><a href="mailto:yry@cs.yale.edu">yry@cs.yale.edu</a></td></tr>
<tr><td class="author" align="right">URI:&nbsp;</td>
<td class="author-text"><a href="http://www.cs.yale.edu">http://www.cs.yale.edu</a></td></tr>
</table>
</body></html>
