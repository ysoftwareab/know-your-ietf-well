
Fax Working Group                                             Toru Maeda
Internet Draft                                                 CANON Inc
Expires: April 1999                                    20 October 1998



             MIME content-type for Internet Fax Full Mode

               draft-ietf-fax-mime-fullmode-01.txt


Status of this memo

This document is an Internet-Draft. Internet-Drafts are working 
documents  of the Internet Engineering Task Force (IETF), its areas, 
and its working groups.  Note that other groups may also distribute 
working documents as Internet Drafts.

Internet-Drafts are draft documents valid for a maximum of six months 
and may be updated, replaced, or obsoleted by other documents at any 
time.  It is inappropriate to use Internet-Drafts as reference 
material or to cite them other than as "work in progress."

To view the entire list of current Internet-Drafts, please check
the "1id-abstracts.txt" listing contained in the Internet-Drafts
Shadow Directories on ftp.is.co.za (Africa), ftp.nordu.net
(Northern Europe), ftp.nis.garr.it (Southern Europe), munnari.oz.au
(Pacific Rim), ftp.ietf.org (US East Coast), or ftp.isi.edu
(US West Coast).


Abstract

This memo defines a mechanism and formats for the Internet FAX Full 
Mode using a MIME content-type and an extended Message Disposition 
Notifications (MDN).  Both of the MIME content-type and the extended 
MDN should be used by a mail user agent (UA) which is capable of 
Internet Fax Full Mode with capabilities exchange and confirmation of 
receipt. 

The MIME content-type that is used by Internet Fax Full Mode capable
agent (UA) or electronic mail gateway to request, to response, and to 
receive the capabilities of recipient.  This content-type is intended 
to be machine-processable.  Additional message headers are also defined 
to permit capabilities exchange in the Internet Fax Full Mode.

The extended Message Disposition Notifications (MDN) that is used by a 
mail user agent (UA) which is capable of Internet Fax Full Mode for 
processing confirmation. This content-type is intended to be 
machine-processable.  Additional message headers are also defined to 
permit that the sender (of the message) requires Message Disposition 
Notifications (MDNs). MDN is "An Extensible Message Format for Message 
Disposition Notification" in RFC2298.


Maeda                      Expires  March   1999                  Page 1

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft


Table of Contents

1. 	Introduction ...........................................3

2. 	Method of capability exchange and confirmation .........6

3. 	Capability exchange phase ..............................8

4. 	Message transmission and confirmation phase ...........12

5. 	Security considerations ...............................16

6. 	Collected Grammar .....................................17

7. 	Example ...............................................25

8. 	Acknowledgments .......................................28

9. 	References ............................................28

10. 	Copyright .............................................29

11. 	Author's Address ......................................29





























Maeda                      Expires  March   1999                  Page 2

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft


1. Introduction

This memo defines a mechanism and format for Internet FAX Full Mode 
with capabilities exchange and confirmation using a MIME content-type fax 
and an extended message disposition notifications (MDNs).  Internet FAX 
Full Mode which has capabilities exchange and confirmation is defined in 
ITU-T F.185 [7] and T.37 [8]. The MIME content-type fax can be used to 
exchange Internet FAX recipient capabilities.  An extended MDN will be 
used for terminal to terminal processing confirmation in Internet FAX 
Full Mode. 

The purpose is to extend Internet Mail to support functionality of 
Internet Fax Full Mode.  The protocol described
in this memo provides for the capabilities exchange, in addition to 
those normally used in Internet Mail.  

The MIME content-type fax will be used for terminal to terminal 
capabilities exchange in Internet FAX Full Mode. 
Capability exchange more than Internet FAX such as MS Word 
application or PDF file are out of scope. 

The extended message disposition notifications (MDNs) for Internet FAX 
Full Mode. MDN is defined in "An Extensible Message Format for Message 
Disposition Notification" in RFC2298 [3].  An extended MDN can be used 
to notify the sender of a message of any of several conditions that may 
occur after successful delivery, such as reception of the Internet FAX 
Full Mode or the recipient error in process of the Internet FAX Full Mode. 
The "message/disposition-notification" content-type defined herein is 
intended for use within the framework of the "multipart/report" 
content type defined in RFC 1892 [6].

Additional attributes may also be defined to support "tunneling" of 
Internet Fax Full Mode through Internet Mail.

Internet FAX Full Mode is defined in F.185 as follows;

(a)	Capabilities of the terminals are exchanged.

(b)	An acknowledgment of receipt is exchanged between gateways
	and may be transferred from the receiving terminal to sending 
	terminal

(c)	The contents of standard messages used by the transmitting 
	terminal are preserved



The key words "MUST","MUST NOT","REQUIRED","SHALL","SHALL NOT",
"SHOULD","SHOULD NOT","RECOMENDED","MAY", and "OPTIONAL" in this 
document are to be interpreted as described in RFC 2119.


Maeda                      Expires  March   1999                  Page 3

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft



1.1 	Purposes

The MIME content-type fax and the additional MIME content-type for 
extended message disposition notifications (MDNs)defined in this memo 
are expected to serve several purposes:

(a) 	Allow a sender of Internet FAX Full Mode to request 
	capabilities of recipient's Internet FAX Full Mode in terminal 
	to terminal communication;

(b) 	Notify capabilities of recipient's Internet FAX Full Mode to 
	the sender of Internet FAX Full Mode.

(c) 	Allow a sender of Internet FAX Full Mode to send image using 
	full function of TIFF-FX based on notified capabilities of 
	recipient's Internet FAX Full Mode and to send command and to 
	request report of recipient's Internet FAX Full Mode;

(d) 	Notify report of recipient's Internet FAX Full Mode to the 
	sender of Internet FAX Full Mode with part of received message, 
	and may notify capabilities

(e) 	Inform human beings of the disposition of messages after 
	Successful delivery of Internet FAX Full Mode message, in a 
	manner which is largely independent of human language;

(f) 	Allow Language-independed, yet reasonably precise, indications 
	of the disposition of a message to be delivered in Internet 
	FAX Full Mode.

(g)	Allow G3FAX applications such as Polling, Selective Polling,
	Subaddress, Relay, Password, BFT and NSF based on ITU-T T.30 
	protocol.	

 
















Maeda                      Expires  March   1999                  Page 4

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft



1.2  Requirements

These purposes place the following constraints on the capability 
exchange and confirmation protocol:

(a)     It must be readable by humans as well as being machine 
        parsable for Internet FAX Full mode.

(b)     It must be provide enough information to allow Internet FAX 
        Full Mode message senders to unambiguously associate 
        the MIME content-type fax with the message that was sent and 
        the original recipient 
        address for which the MIME content-type fax is issued.

(c)     It must also be able to describe the disposition of a Internet 
        FAX Full Mode message independent of any particular human 
        language or of the terminology of any particular mail system.

(d)     The specification must be extensible in order to accommodate 
        future requirements of Internet FAX Full Mode.


1.3  The MIME content-type fax

For the purposes, the MIME content-type fax is defines as 
follows for Internet FAX Full Mode.

(a)     The MIME content-type fax is send automatically. 
        The operator should recognize that 
        Internet FAX full Mode sends the MIME content-type fax 
        by default setting.

(b)     An empty message may be used for capability request.
 



1.4 Extension from MDN

For the purposes, MDS in RFC2298 [3] is extended and modified as 
follows for Internet FAX Full Mode.

(a)MDN is send automatically. The operator should recognize that 
   Internet FAX full Mode sends MDN by default setting.







Maeda                      Expires  March   1999                  Page 5

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft


2.  Method of capability exchange and confirmation

A communication between Internet FAX Full Mode machines consists of 
two phases that are the capability exchange phase and the message 
transmission and confirmation phase. 

In the capability exchange phase, a sender of Internet FAX Full Mode 
sends a capability request using the MIME content-type fax.
A recipient of Internet FAX Full Mode must immediately return message 
with its capabilities using the MIME content-type fax.

In the message transmission and confirmation phase, based on this 
reply messages, the sender sends message and command data using the 
MIME content-type fax and sends confirmation request using a request 
for extended MDN.  The recipient must immediately returns confirmation 
message after the processing of image using the extended MDN.
The confirmation message of the extended MDN includes human 
readable message, completion code, total received page, error page 
numbers, partial or full received message.  The confirmation message 
may include capabilities of recipient using the MIME content-type fax. 

Capability exchange phase and message transmission and confirmation 
phase are independent, and not required to succeeded. A sender may 
perform capability exchange phase only when capabilities of the 
destination is registered in machine, and perform the message 
transmission and confirmation phase for every transmission.

A sender may not perform capability exchange phase when the 
transmitting message is LCD.























Maeda                      Expires  March   1999                  Page 6

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft



2.1 The message/fax content-type

The message/fax content-type is defined as follows:

     MIME type name:                message
     MIME subtype name:             fax
     Optional parameters:           none
     Encoding considerations:       "7bit" encoding is sufficient and
                                    MUST be used to maintain readability
                                    when viewed by non-MIME mail
                                    readers.
     Security considerations:       discussed in section 5 of this memo.

The message/fax report type for use in the multipart/report is "fax".

The body of a message/fax consists of one or more "fields" formatted 
according to the ABNF of RFC 822 header "fields" (see [2]).  
Using the ABNF of RFC 822, the syntax of the message/fax content is as 
follows:

     fax-content = [ reporting-ua-field CRLF ]
          [ fax-gateway-field CRLF ]
          [ original-recipient-field CRLF ]
          final-recipient-field CRLF
          [ original-message-id-field CRLF ]
          disposition-field CRLF
          *( failure-field CRLF )
          *( error-field CRLF )
          *( warning-field CRLF )
          *( extension-field CRLF )





















Maeda                      Expires  March   1999                  Page 7

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft


3.  Capability exchange phase

A sender of Internet FAX Full Mode sends a capability request using a 
request for the MIME content-type fax.  A recipient of Internet FAX Full 
Mode must immediately return a message with capabilities of Internet FAX 
Full Mode using the MIME content-type fax.  Capabilities of Internet FAX 
Full Mode is expressed using FCF and FIF in CCITT T.30.


3.1 Capability request

Capability request is requested by including the MIME content-type fax.  
Further information to be used by the recipient of Internet FAX Full 
Mode in generating the capability request may be provided.

A capability request should contain a Message-ID header as specified 
in RFC 822[2].


3.1.1 Fax-To Header

A request that the receiving Internet FAX Full Mode user agent issue 
fax notifications is made by placing a Fax-To header
into the message.  The syntax of the header, using the ABNF of RFC
822 [2], is


   fax-request-header = "Fax-To" ":" 1#mailbox

The mailbox token is as specified in RFC 822 [2].






















Maeda                      Expires  March   1999                  Page 8

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft


3.1.2 Fax-Options Header

Fax-Options header provides a request of capability exchange 
in Internet FAX Full Mode.

     Fax-Options =
	"Fax-Options" ":" 
		fax-parameters

     fax-parameters = 
		parameter *(";" parameter)

     parameter = "G3Fax-capability-request" "=" "required"


3.1.3 Message-ID

A message that contains capability request for Internet FAX Full Mode 
should contain a Message-ID header as specified in RFC 822[2].

































Maeda                      Expires  March   1999                  Page 9

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft


3.2 capability response

A capability response message is the MIME content-type fax.


(a) 	The report-type parameter of the multipart/report content is 
	"fax".

(b) 	The first component of the multipart/report contains a human 
	readable explanation, as described in RFC 1892 [6].

(c) 	The second component of the multipart/report is of 
	content-type message/fax, described in 
	section of this document.

The capability response must be addressed to the address from the 
Fax-To header from the original message for which 
the capability response is being generated.

The RFC822 From filed of the capability response MUST 
contain the address of the Internet FAX Full Mode machine for which 
the capability response is being issued.
 

3.2.1 The message/fax content-type

The message/fax content-type for capability 
response message is as defined in the section of this document.

The syntax of the message/fax content is 
as defined in the section of this document.





3.2.2 Final-Recipient-field

The Final-Recipient field indicates the recipient for which the 
capability response is being issued.


3.2.3 Original-message-ID

The Original-Message-ID field indicates the message-ID of the message 
for which the capability response is being issued. This field must be 
present.





Maeda                      Expires  March   1999                 Page 10

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft



3.2.4 Fax-field

The Fax filed indicates the action performed by the recipient 
of Internet FAX Full Mode. This filed must be present. 
Fax-modifier（ G3Fax-capability-request） will be used for 
capability response.

The syntax for the Fax filed is:

        Fax: automatic-action/FAX-sent-Automatically 
                ; processed / G3Fax-capability-request

	
3.2.5 Extension-field

Additional Fax field is defined for capability response.  Capabilities 
of recipient is expressed using FCF and FIF in T30 frame format [5].

        field = "G3Fax-t30frame" ":" G3Fax-t30frame-field

        G3Fax-t30frame-field = parameter * ( ";" parameter )

        parameter = "G3Fax-t30frame-parameter"

        G3Fax-t30frame-parameter = 
                 "G3Fax-t30frame" "=" t30-fcf [ "," t30-fif ] 

























Maeda                      Expires  March   1999                 Page 11

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft


4.  message transmission and confirmation phase

The sender sends message and command data using the MIME content-type 
fax based on previously received messages from the recipient Internet 
FAX Full Mode and sends confirmation request using extended MDN. 

The recipient SHOULD return confirmation message immediately after the 
processing of image using extended MDN. 
The confirmation message includes human readable message, completion 
code, total received page, error page numbers, part or full message of 
received using extended MDN and capabilities of recipient using the MIME 
content-type fax.


4.1  message

The sender sends message and command data based on previous knowledge of 
recipient Internet FAX Full Mode using the MIME content-type fax.



4.2  Message transmission and confirmation request 

Confirmation request message is requested by including 
the extended MDN with the message. Further information to be used by the 
recipient Internet FAX Full Mode in generating the confirmation request 
may be provided by including the extended MDN.


A message that contains confirmation request, should contain 
the extended MDN.


A message that contains confirmation request, should contain a 
Message-ID header as specified in RFC 822[2].


4.2.1 Fax-To Header

A request that the receiving Internet FAX Full mode issue confirmation 
is made by placing a Fax-To header into the message.









Maeda                      Expires  March   1999                 Page 12

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft


4.2.2 Disposition-Notification-Options Header

Disposition-Notification-Options header provides a request of 
confirmation and command in Internet FAX Full Mode. Command is 
expressed using FCF and FIF defined in CCITT T.30 frame[5].
	
     Disposition-Notification-Options =
          "Disposition-Notification-Options" ":" 
                disposition-notification-parameters

     disposition-notification-parameters = parameter *(";" parameter)

     parameter = "G3Fax-report-request" "=" "required"

     parameter = "G3Fax-frame" "=" t30-fcf [ "," t30-fif ]


4.2.3 Message-ID

A message that contains confirmation request for Internet FAX Full Mode 
should contain a Message-ID header as specified in RFC 822 [2].































Maeda                      Expires  March   1999                 Page 13

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft


4.3  confirmation

A confirmation message is a MIME message with a top level content-type 
of multipart/report (defined in RFC 1892 [6]).

(a) The report-type parameter of the multipart/report content is 
    "disposition-notification".

(b) The first component of the multipart/report contains a human 
    readable explanation of the MDN, as described in RFC 1892.

(c) The second component of  the multipart/report is of content-
    type message/disposition-notification, described in section 
    of this document.

(d) If the original message or a portion of the message or report 
    is to be returned to the sender. The decision of whether or 
    not to return the message or report is up to the Internet FAX 
    Full Mode recipient.

The confirmation must be addressed to the address from the Disposition-
Notification-To header from the original message for which the 
confirmation is being generated.

The From filed of the message header of the confirmation must contain 
the address of the Internet FAX Full Mode machine for which 
confirmation is being issued.



4.3.1 The message/disposition-notification content-type

The message/disposition-notification content-type for confirmation 
message is as defined in RFC2298[3].


The syntax of the message/disposition-notification content is 
as defined in RFC2298[3].


4.3.2  final-recipient-field

The Final-Recipient field indicates the recipient of Internet FAX for 
which the confirmation is being issued.








Maeda                      Expires  March   1999                 Page 14

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft


4.3.3  Original-message-ID

The Original-Message-ID field indicates the message-ID of the message 
for which the confirmation is being issued. This field must be present.


4.3.4  disposition-field

The Disposition filed indicates the action performed by the recipient 
of Internet FAX Full Mode. This filed must be present. disposition-
modifier（ G3Fax-report-request） will be used for confirmation.

The syntax for the Disposition filed is:
	
        Disposition: automatic-action/MDN-sent-Automatically 
                ; processed / G3Fax-report-request
	

4.3.5　extension-field

(1) confirmation
Additional MDN field is defined for confirmation.  confirmation of 
recipient is expressed using result code, received page number and 
error page number.

        G3Fax-Report: G3Fax-Results=code
                        ;G3Fax-Pages=received page number
                        ;G3Fax-Errorpage=error page number



4.3.6 capability response

A capability response message is the MIME content-type fax as defined 
in Sec. 3.2.

















Maeda                      Expires  March   1999                 Page 15

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft



5.  Security considerations

The following security considerations apply when using 
the MIME content-type fax for Internet FAX Full Mode:















































Maeda                      Expires  March   1999                 Page 16

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft


6.   Collected Grammar

6.1 MIME content-type fax 


The grammar for the MIME content-type fax will be described.


   NOTE:  The following lexical tokens are defined in RFC 822:  atom,
   CRLF, mailbox, msg-id, text.  The definitions of attribute and value
   are as in the definition of the Content-Type header in RFC 2045 [4].

   Message headers:

   fax-request-header = "Fax-To" ":" 1#mailbox

   Fax-Options =
        "Fax-Options" ":"
        fax-parameters

   fax-parameters = parameter *(";" parameter)

   parameter = attribute "=" importance "," 1#value

   importance = "required" / "optional"

   original-recipient-header =
        "Original-Recipient" ":" address-type ";" generic-address


   Report content:

   fax-content = [ reporting-ua-field CRLF ]
        [ fax-gateway-field CRLF ]
        [ original-recipient-field CRLF ]
        final-recipient-field CRLF
        [ original-message-id-field CRLF ]
        fax-field CRLF
        *( failure-field CRLF )
        *( error-field CRLF )
        *( warning-field CRLF )
        *( extension-field CRLF )

   address-type = atom

   mta-name-type = atom

   reporting-ua-field = "Reporting-UA" ":" ua-name
                        [ ";" ua-product ]



Maeda                      Expires  March   1999                 Page 17

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft

   ua-name = *text

   ua-product = *text

   fax-gateway-field = "FAX-Gateway" ":" mta-name-type ";" mta-name

   mta-name = *text

   original-recipient-field =
        "Original-Recipient" ":" address-type ";" generic-address

   generic-address = *text

   final-recipient-field =
        "Final-Recipient" ":" address-type ";" generic-address

   fax-field = "Fax" ":" fax-mode ";"
                       fax-type
                       [ '/' fax-modifier
                         *( "," fax-modifier ) ]

   fax-mode = action-mode "/" sending-mode

   action-mode = "manual-action" / "automatic-action"

   sending-mode = "FAX-sent-manually" / "FAX-sent-automatically"

   disposition-type = "displayed"
                    / "dispatched"
                    / "processed"
                    / "deleted"
                    / "denied"
                    / "failed"

   fax-modifier = ( "error" / "warning" )
                        / ( "superseded" / "expired" /
                            "mailbox-terminated" )
                        / fax-modifier-extension

   fax-modifier-extension = atom

   original-message-id-field = "Original-Message-ID" ":" msg-id

   failure-field = "Failure" ":" *text

   error-field = "Error" ":" *text

   warning-field = "Warning" ":" *text

   extension-field = extension-field-name ":" *text

   extension-field-name = atom

Maeda                      Expires  March   1999                 Page 18

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft


6.1.1  Fax-Options header parameter names


6.1.1.1  G3Fax-capability-request

This is the parameter for Internet FAX capability request.

(a)proposed parameter name

        G3Fax-capability-request

(b)syntax

        Fax-Options :
                "Fax-Options" ":"
                "G3Fax-capability-request"　"=" "required"

(c)parameter values

        G3Fax-capability-request is capability request of Internet 
        FAX Full mode































Maeda                      Expires  March   1999                 Page 19

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft


6.1.1.2  G3Fax-t30frame-parameter

This is the parameter for Recipient capabilities of Internet FAX Full 
Mode.

(a)proposed parameter name

        G3Fax-t30frame-parametert

(b)syntax

        Fax-Options :
               "Fax-Options" ":"
               fax-parameters

        fax-parameters =
                parameter * ( ";" parameter )

        parameter = "G3Fax-t30frame-parameter"

        G3Fax-t30frame-parameter = 
                "G3Fax-t30frame" "="  t30-fcf [ "," t30-fif ] 

        t30-fcf = *text

        t30-fif = *text

(c)parameter values

        t30-fcf =*text is hexadecimal expression of FCF octet in T.30.
        Some FCFs are as follows;
        NSF     20
        CSI     40
        DIS     80
        NSS     23
        TSI     43
        DCS     83

        t30-fif =*text is Hexadecimal expression of FIF octets in T.30.
        The first octet of FIF is located in first character in text.
        LSB of  octet is the first bit of FIF.











Maeda                      Expires  March   1999                 Page 20

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft



6.1.2  fax modifier names

6.1.2.1 G3Fax-capability-request

(a)fax-modifier name

        G3Fax-capability-request

(b)semantics

        capability request of Internet FAX full Mode








































Maeda                      Expires  March   1999                 Page 21

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft


6.1.3  MIME field names


6.1.3.1  G3Fax-t30frame

This is the field for Command data from sender in Internet FAX Full 
Mode.

(a)field name

        G3Fax-t30frame-field


(b)syntax

        field = "G3Fax-t30frame" ":" G3Fax-t30frame-field

        G3Fax-t30frame-field = parameter * ( ";" parameter )

        parameter = "G3Fax-t30frame-parameter"

        G3Fax-t30frame-parameter = 
                 "G3Fax-t30frame" "=" t30-fcf [ "," t30-fif ] 

        t30-fcf = *text

        t30-fif = *text

(c)field value

        t30-fcf =*text is hexadecimal expression of FCF in T.30

        Some FCFs are as follows;
        NSF     20
        CSI     40
        DIS     80
        NSS     23
        TSI     43
        DCS     83

        t30-fif =*text is Hexadecimal expression of FIF octets in T.30.
        The first octet of FIF is located in first character in text.
        LSB of  octet is the first bit of FIF.









Maeda                      Expires  March   1999                 Page 22

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft

 

6.2  Additional grammar for MDN

Additional grammar for MDN is described in IANA registration form.


6.2.1  IANA registration for Disposition-Notification-Options header 
parameter names


6.2.1.1  G3Fax-report-request

This is the parameter for Internet FAX confirmation request.

(a)proposed parameter name

        G3Fax-report-request

(b)syntax

        Disposition-Notification-Options : 
                "Disposition-Notification-Options" ":"
                "G3Fax-report-request"　"=" "required"

(c)parameter values

        G3Fax-report-request is confirmation request of Internet 
        FAX Full Mode.



6.2.2  IANA registration for disposition modifier names

6.2.2.1 G3Fax-report-request

(a)disposition-modifier name

        G3Fax-report-request

(b)semantics

        capability request of Internet FAX Full Mode










Maeda                      Expires  March   1999                 Page 23

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft


6.2.3 IANA registration for MDN extension field names



6.2.3.1  G3Fax-Report

This is the field foe confirmation of Internet FAX Full Mode

(a)field name

        G3Fax-Report-field

(b)syntax

        field = "G3Fax-Report" ":"  results
                                ;   pages
                                ;   errorpage

        results = "G3Fax-Results" "=" code

        pages = "G3Fax-Pages" "=" numeric

        errorpage = "G3Fax-Errorpage" "=" numeric * ( "," numeric ) 




(c)field value

        results =code is as follows;
        "00"    Successful reception
        "01"    Unsuccessful reception
        "02"    Capabilities mismatch.  The receiving terminal cannot 
                interpret the message data correctly
        "03"    does not support the format used in this message 
        "04"    does not support relay feature

        pages =numeric is total page.

        errorpage =numeric is error page number












Maeda                      Expires  March   1999                 Page 24

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft

7. Example

7.1 Capability request

Date: Wed,20 Sep 1995 00:19:00 (EDT)-0400
From: Jane Sender <Jane_Sender@huge.com>
Message-Id: <199509200019.12345@huge.com>
Subject: Internet FAX Full Mode Capability Request
To: Tom Recipient <Tom_Recipient@mega.edu>
Fax-To: Jane_Sender@huge.com
Fax-Options: G3Fax-capability-request=required


7.2 Capability response

Date: Wed,20 Sep 1995 00:19:00 (EDT)-0400
From: Tom Recipient <Tom_Recipient@mega.edu>
Message-Id: <199509200020.12345@mega.edu>
Subject: Internet FAX Full Mode Capability Response
To: Jane Sender <Jane_Sender@huge.com>
MIME-Version: 1.0
Content-Type: multipart/report; report-type=fax;
              boundary="RAA14128.773615766/mega.edu"
	
--RAA14128.773615766/mega.edu
	
The message sent on 1995 Sep 19 at 00:18:00 (EDT) -0400 to
Tom Recipient <Tom_Recipient@mega.edu> with subject " Internet FAX Full 
Mode Capability Request " has been processed in Internet FAX Full Mode.  

--RAA14128.773615766/mega.edu
Content-Type: message/fax
	
Reporting-UA: Toms-pc.cs.mega.edu; IFAX-FullMode
Original-Recipient: rfc822;Tom-Recipient@mega.edu
Final-Recipient: rfc822;Tom-Recipient@mega.edu
Original-Message-ID: <199509200019.12345@huge.com>
Disposition: automatic-action/FAX-sent-automatically;
        processed / G3Fax-capability-request
G3Fax-t30frame:G3Fax-frame=40,3333333320323220313131;
        G3Fax-frame=20,000011;
        G3Fax-frame=80,00CF79
	
--RAA14128.773615766/mega.edu--









Maeda                      Expires  March   1999                 Page 25

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft


7.3 Message and confirmation request

Date: Wed,20 Sep 1995 00:21:00 (EDT)-0400
From: Jane Sender < Jane_Sender@huge.com>
Message-Id: <199509200021.12345@huge.com>
Subject: Internet FAX Full Mode Image Transmission
To: Tom Recipient <Tom_Recipient@mega.edu>
MIME-Version: 1.0
Disposition-Notification-To: Jane_Sender@huge.com
Fax-To: Jane_Sender@huge.com
Fax-Options:G3Fax-report-request=required;
            G3Fax-frame=43,3737373720383820393939;
            G3Fax-frame=23,000011;
            G3Fax-frame=83,00C679
Content-Type: multipart/ mixed;
        boundary="RAA14128.773615768/ huge.com"

--RAA14128.773615768/huge.com
    Content-type: text/plain; charset=us-ascii

 [original text message goes here]

--RAA14128.773615768huge.com
Content-type: image/ tiff; application=faxbw
Content-Transfer-Encoding: base64

[original TIFF-FX message goes here]

--RAA14128.773615768/ huge.com--























Maeda                      Expires  March   1999                 Page 26

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft



7.4 Confirmation

Date: Wed,20 Sep 1995 00:22:00 (EDT)-0400
From: Tom Recipient <Tom_Recipient@mega.edu>
Message-Id: <199509200022.12345@mega.edu>
Subject: Internet FAX Full Mode Disposition notification
To: Jane Sender <Jane_Sender@huge.com>
MIME-Version: 1.0
Content-Type: message/disposition-notification

Reporting-UA: Toms-pc.cs.mega.edu; IFAX-FullMode
Original-Recipient: rfc822;Tom-Recipient@mega.edu
Final-Recipient: rfc822;Tom-Recipient@mega.edu
Original-Message-ID: <199509200021.12345@huge.com>
Disposition: automatic-action/MDN-sent-automatically; 
                processed / G3Fax-report-request
G3Fax-Report:G3Fax-Results=00;
                G3Fax-Pages=5

--RAA14128.773615769/mega.edu--































Maeda                      Expires  March   1999                 Page 27

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft


8. Acknowledgments
	
Dan Wing provided valuable comments on this draft.

9. References
[1]  Postel, J., "Simple Mail Transfer Protocol", STD 10, RFC 821, 
	August 1982.

[2]  Crocker, D., "Standard for the Format of ARPA Internet Text 
	Messages", STD 11, RFC 822, August l982.

[3]  Fajman, R. "An Extensible Message Format for Message Disposition 
	Notification", RFC 2298, March 1998.
	
[4]  Bradner, S., "Key words for use in RFCs to Indicate Requirement 
	Levels", RFC 2119, March 1997.

[5]  ITU-T (CCITT), "Procedures for Document Facsimile Transmission in 
	the General Switched Telephone Network ", ITU-T (CCITT)  
	Recommendation T.30.
	
[6]   Vaudreuil, G., "The Multipart/Report Content Type for the 
	Reporting of Mail System Administrative Messages", RFC 1892, 
	Octel Network Services, January 1996.

[7]  ITU-T, "Internet Facsimile: Guidelines for the Support of the 
	Communication of Facsimile Documents", ITU-T Recommendation 
	F.185

[8]  ITU-T, "Procedures for the Transfer of Facsimile Data via Store 
	and Forward on the Internet", ITU-T Recommendation 
	T.37




















Maeda                      Expires  March   1999                 Page 28

MIME for Internet Fax Full Mode                        20 October 1998
Internet Draft

10. Copyright

Copyright (C) The Internet Society (1997, 1998).  All Rights
Reserved.

This document and translations of it may be copied and furnished  to 
others, and derivative works that comment on or otherwise  explain it 
or assist in its implementation may be prepared, copied,  published and 
distributed, in whole or in part, without  restriction of any kind, 
provided that the above copyright notice  and this paragraph are 
included on all such copies and derivative  works.  However, this 
document itself may not be modified in any  way, such as by removing 
the copyright notice or references to the  Internet Society or other 
Internet organizations, except as needed for the purpose of developing 
Internet standards in which case the  procedures for copyrights defined 
in the Internet Standards  process must be followed, or as required to
translate it into languages other than English.

The limited permissions granted above are perpetual and will not be 
revoked by the Internet Society or its successors or assigns.

This document and the information contained herein is provided on an 
"AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING 
TASK FORCE DISCLAIMS ALLWARRANTIES, EXPRESS OR  IMPLIED, INCLUDING 
BUT NOT LIMITED TOANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN 
WILL NOTINFRINGE ANY RIGHTS OR ANY IMPLIED

WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.



11. Author's Address

Toru MAEDA
CANON Inc
3-30-2,Shimomaruko, Ohtaku,
Tokyo, Japan
 
Email:	maeda@ffm.canon.co.jp
Voice:	+81 3 3757 9738
Fax:	+81 3 3757 8205












Maeda                      Expires  March   1999                 Page 29
