

IETF MANET Working Group                              Shubhranshu. Singh
Internet-Draft                                                   JH. Kim
Expires: December 10, 2004                                      YG. Choi
                                                                KL. kang
                                                                 YS. Roh
                                                             SAMSUNG AIT
                                                           June 11, 2004


      Mobile multi-gateway support for IPv6 mobile ad hoc networks
                      draft-singh-manet-mmg-00.txt

Status of this Memo

   By submitting this Internet-Draft, I certify that any applicable
   patent or other IPR claims of which I am aware have been disclosed,
   and any of which I become aware will be disclosed, in accordance with
   RFC 3668.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF), its areas, and its working groups.  Note that
   other groups may also distribute working documents as
   Internet-Drafts.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   The list of current Internet-Drafts can be accessed at
   http://www.ietf.org/ietf/1id-abstracts.txt.

   The list of Internet-Draft Shadow Directories can be accessed at
   http://www.ietf.org/shadow.html.

   This Internet-Draft will expire on December 10, 2004.

Copyright Notice

   Copyright (C) The Internet Society (2004).  All Rights Reserved.

Abstract

   MANET (Mobile Ad-hoc NETwork) allows users to form a private wireless
   network, without existing centralized administrator that support
   multi-hop communication and low network establishment cost.  Recently
   some interesting work has been published to allow manet node access
   to the Internet via internet gateway which is placed on the border of
   manet and the Internet.  The Internet gateway has an important role



Singh, et al.          Expires December 10, 2004                [Page 1]

Internet-Draft    Mobile multi-gateway support in MANET        June 2004


   to support global connectivity.  This document introduces the
   management of internet gateway, routing policy and load balancing for
   the scenario where multiple mobile gateways exist for an ad hoc
   network.

Table of Contents

   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  3
   2.  Terminology  . . . . . . . . . . . . . . . . . . . . . . . . .  5
   3.  Limitations  . . . . . . . . . . . . . . . . . . . . . . . . .  6
   4.  Protocol operation . . . . . . . . . . . . . . . . . . . . . .  7
     4.1   Gateway selection  . . . . . . . . . . . . . . . . . . . .  7
     4.2   Routing policy . . . . . . . . . . . . . . . . . . . . . .  8
     4.3   Load balancing . . . . . . . . . . . . . . . . . . . . . .  9
   5.  Security Considerations  . . . . . . . . . . . . . . . . . . . 11
   6.  Normative References . . . . . . . . . . . . . . . . . . . . . 11
       Authors' Addresses . . . . . . . . . . . . . . . . . . . . . . 11
       Intellectual Property and Copyright Statements . . . . . . . . 13

































Singh, et al.          Expires December 10, 2004                [Page 2]

Internet-Draft    Mobile multi-gateway support in MANET        June 2004


1.  Introduction

   There are several routing protocols developed for ad hoc networks.
   They typically provide solution for route discovery and maintenance
   for the nodes within the manet.  Nodes often need global connectivity
   to communicate with the Internet.  Wakikawa[1] provides a method for
   manet node to acquire a global prefix from the gateway as well as how
   this node can communicate with the Internet.

   Use of fixed internet gateway is not suitable for ad hoc network
   whose basic concept is infrastructureless and anywhere network formed
   by nodes having random mobility.  Hence in this draft we allow mobile
   ad hoc node to act as internet gateway thus removing any service
   range limitation and making very flexible as against when fixed
   internet gateway is used.  Also, it removes any concern about the use
   of proactive or reactive routing protocols.

   There are some signal exchanges between the internet gateway and
   manet node for locating the gateway.  In addition,The traffic between
   manet node and the Internet must travel through the same internet
   gateway in case of single gateway scenario.Simultaneous use of
   internet gateway by several manet nodes results in heavy traffic
   congestion around the gateway node.  Thus there is a need to offload
   the gateway.  Also, Use of single gateway has the drawback of single
   point of failure.  All these problems can be solved by using multiple
   gateways for a particular manet.  The multiple internet gateway
   scenario is easily made  with mobile node internet gateway.

   This document specifies the method for multiple gateway selection and
   routing policy that can be used to forward packets between the
   Internet and ad hoc network.  Figure 1 shows the multiple gateways
   scenario.



















Singh, et al.          Expires December 10, 2004                [Page 3]

Internet-Draft    Mobile multi-gateway support in MANET        June 2004


                       ------------
                       | INTERNET |
                       ------------
                            |
                            |
                            |
                            |
                        ----------
                        | Access |
            ----------- | Router | -------------
            |           ----------             |
            |               :                  |
            |               :                  |
            |               :                  |
        ------------        :            ------------
        |  Internet|        :            |  Internet|
        | Gateway 1|        .......      | Gateway n|
        ------------                     ------------
            |                                   |
            |                                   |
            |                                   |
      -----------------------------------------------------
      |                                                   |
      |                     MANET                         |
      |                                                   |
      -----------------------------------------------------

      Fig. 1 MANET topology with multi-gateway























Singh, et al.          Expires December 10, 2004                [Page 4]

Internet-Draft    Mobile multi-gateway support in MANET        June 2004


2.  Terminology

   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
   "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", "OPTIONAL", and
   "silently ignore" in this document are to be interpreted as described
   in RFC 2119 [1].

   The following terminology and abbreviations are used in this
   document.

      Mobile Internet gateway
      -  Mobile device located at the edge of the manet and provides
         Internet connectivity to the manet nodes.  They are part of
         manet as well as the Internet.

      Default Internet gateway
      -  The Internet gateway that uses the default route for traffic
         forwarding between manet and the Internet.  It need not use
         tunneling or routing header to route packets between the
         Internet and manet.

      Candidate Internet gateway
      -  Internet gateways other than the default gateway are referred
         to as candidate gateways.

      Proxy routing header
      -  The routing header that candidate internet gateway may use for
         forwarding manet node packets to the Internet.

      Internet node
      -  A node located on the Internet.

      Manet node
      -  A node located inside the manet.

      Global address
      -  A nodeí¯s IPv6 address which is used for communication with the
         Internet node.













Singh, et al.          Expires December 10, 2004                [Page 5]

Internet-Draft    Mobile multi-gateway support in MANET        June 2004


3.  Limitations

   For convenience and simplicity we assume in this draft that all manet
   nodes within a particular ad hoc network use the same global IPv6
   prefix.  How manet nodes acquire the same IPv6 prefix from the access
   router is out of scope of this document.













































Singh, et al.          Expires December 10, 2004                [Page 6]

Internet-Draft    Mobile multi-gateway support in MANET        June 2004


4.  Protocol operation

   This section describes our protocol operation in detail.

4.1  Gateway selection

   Any manet node that is one hop away from the Access Router, AR can
   configure itself as gateway.  Such nodes can receive router
   advertisement messages periodically broadcasted by access router.  At
   any point of time there can be one default gateway and one or more
   candidate gateways.  In the absence of any default gateway, the node
   configuring as a gateway should operate as default gateway.  If the
   default gateway is already present in the manet then the node should
   configure itself as candidate gateway.

   Only the default gateway periodically sends modified router
   advertisement message.  Default gateway also sends modified router
   advertisement message in response to modified router solicitation
   message.  Modified router solicitation message format is shown in
   figure2 and modified router advertisement message format is shown in
   figure 3.  Modified router solicitation and advertisement packet
   formats are same as defined in [5] except the use of M and N bits 
   respectively (these formats are exactly same as used in [1]).

   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |     Code      |          Checksum             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |M|                           Reserved                          |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Options ...
   +-+-+-+-+-+-+-+-+-+-+-+-
                           Fig. 2 Modified RS

   Manet router solicitation flag (M)
   	A 1-bit manet router solicitation flag.
   	When set it indicates that the router solicitation
   	message can be sent over a multi-hop network.
   	The internet gateway must not forward this message
   	to the internet node.

   Reserved
   	Reduced from a 32-bit field to 31-bit field to account
   	for the addition of manet router solicitation (M) flag.






Singh, et al.          Expires December 10, 2004                [Page 7]

Internet-Draft    Mobile multi-gateway support in MANET        June 2004


   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      |     Code      |          Checksum             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Cur Hop Limit |M|O|N|  Reserved |       Router Lifetime       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                         Reachable Time                        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          Retrans Timer                        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |   Options ...
   +-+-+-+-+-+-+-+-+-+-+-+-
                          Fig. 3 Modified RA

   Manet router advertisement flag (N)
   	1-bit manet router advertisement flag.
   	When set indicates that	this message is only for manet
   	nodes and can be sent over multiple hop manet nodes.
   	Internet gateways must not forward this message to the
   	Internet node.



   A node may learn about the presence or absence of another gateway in
   the manet if:
   -  It does not receive any RA message from the gateway with N flag
      set.  The waiting time for RA should be at least the time
      indicated by the í«new advertisement interval optioní¯.  This router
      advertisement interval option indicates the interval at which the
      default gateway advertises unsolicited router advertisement [6].
   -  It sends gateway solicitation message or tests for neighbor
      reachability, as explained in [5] and fails.
   In the absence of any received RA message, a candidate gateway should 
   wait for random interval of time before configuring itself as default
   gateway.  This will prevent more than one gateway to configure itself
   as default gateway at the same time.  While operating as internet
   gateway, the node should send gateway discovery reply messages.

4.2  Routing policy

   Default gateway and candidate gateway routes packets between the
   Internet and manet based on its own routing policy.  In this document
   we introduce proxy routing header and tunneling mechanism.  Proxy
   routing header and tunneling mechanism are used by candidate internet
   gateways as they can not use the longest prefix matching routing.

   We assume that the default gateway as well as the candidate gateways



Singh, et al.          Expires December 10, 2004                [Page 8]

Internet-Draft    Mobile multi-gateway support in MANET        June 2004


   uses the same global IPv6 prefix.  How to receive same prefix from
   the access router is out of scope of this document.  Use of multiple
   prefixes results in serious flooding problem mainly due to periodic
   RA message advertisement by each gateway with different prefix.
   Also, if multiple prefixes are used then IPv6 manet node may attempt
   to send frequent binding update message because each time it receives
   router advertisement message with different prefix it assumes that it
   has joined another network even though it has only changed its
   location within the same manet.

   Default gateway can route traffic originating from manet node and
   whose destination is internet node using default route while the
   candidate gateways should route such traffic either using proxy
   routing header or tunneling mechanism.  In proxy routing header
   destination address of IPv6 header is set to the Internet access
   router address while final destination address set to internet node
   address and original source address set to routing header.  Proxy
   routing header indicates to internet node that the packet travel via
   candidate internet gateway and access router.  In response to this
   received packet, internet node must use candidate internet gateway
   and original source address in the routing header.

   If manet node uses tunneling mechanism, candidate internet gateways
   encapsulate packets to the internet node.  Tunneling header has
   source address as candidate internet gateway and destination address
   as internet node.  The internet node decapsulates the packet and
   replies with tunneling header with source address as internet nodeí¯s
   address and destination address as candidate internet gatewayí¯s
   address.

4.3  Load balancing

   For better traffic load sharing among each other, internet gateways
   may use the traffic information option shown in figure 4.  This
   option is carried by the router advertisement message sent by
   internet gateway.  Traffic information field indicates the number of
   active routes originating from a particular gateway.

   These active routes include routes using proxy routing header,
   tunneling as well as default routes.  On receipt of solicited or
   unsolicited router advertisement message carrying this option, manet
   node learns about the traffic characteristics of the gateway and
   accordingly decides to use it or opt for another gateway for
   forwarding traffic to the internet node.







Singh, et al.          Expires December 10, 2004                [Page 9]

Internet-Draft    Mobile multi-gateway support in MANET        June 2004


   0                   1                   2                   3
   0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |     Type      | length       | traffic information            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                          reserved                             |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
                    Fig. 4 Traffic information option











































Singh, et al.          Expires December 10, 2004               [Page 10]

Internet-Draft    Mobile multi-gateway support in MANET        June 2004


5.  Security Considerations

   This document does not specify any specific security measure.  We
   need more consideration for the secure tunneling and use of routing
   header.  These mechanisms should consider all the security measures
   as taken by IPv6 networks as well as manet specific environment.  We
   couldní¯t mention about secure intra manet communication as at present
   there in no extended security consideration for the manet.

6.  References

   [1] Ryuji Wakikawa et. el. Global connectivity for IPv6 Mobile 
       Ad Hoc Networks, IETF í—draft-wakikawa-manet-globalv6-03.txtí˜

   [2] Pekka Pekken et. el. IPv6 addressing in a heterogeneous 
       MANET-network, IETFí—draft-paakkonen-addressing-htr-manet-00.txtí˜

   [3] C. Perkins et. el. IETF RFC: 3561, 
      í—Ad hoc On Demand Distance Vector (AODV) Routingí˜

   [4] Kilian Weniger , Martina Zitterbart, Institute of Telematics, 
       University of Karlsruhe, Germany: í—IPv6 Autoconfiguration in 
       Large Scale Mobile Ad-Hoc Networksí˜ 

   [5] IETF RFC 2461, í— Neighbor Discovery for IP version 6 (IPv6)í˜

   [6] IETF draft, í—draft-ietf-mobileip-ipv6-24.txt í—: 
       í—Mobility Support in IPv6í˜

   [7] C. Perkins, E. Royer and S. Das. Ad hoc on demand distance 
       vector routing for IP version 6 (work in progress).
      

   [8] S. Deering and R. Hinden. Internet protocol, version 6 (ipv6) 
       specification. Request for comments (proposed standard) 1883, 
       Internet engineering task force, December 1995

   [9] A. Conta and S. Deering. Internet control message protocol 
       (ICMPv6) for the Internet protocol version 6 (ipv6) specification. 
       Request for comment (draft standard) 2463. 
       Internet Engineering task force, December 1998


Authors' Addresses

   Shubhranshu Singh
   SAMSUNG Advanced Institute of Technology
   i-Networking Laboratory
   San 14-1, Nongseo-ri, Giheung-eup
   Yongin-si, Gyeonggi-do  449-712
   KOREA

   Phone: +82 31 280 9569
   EMail: shubhranshu@samsung.com


   Jae-Hoon Kim
   SAMSUNG Advanced Institute of Technology
   i-Networking Laboratory
   San 14-1, Nongseo-ri, Giheung-eup
   Yongin-si, Gyeonggi-do  449-712
   KOREA

   Phone: +82 31 280 9532
   EMail: jaehoonk@samsung.com







Singh, et al.          Expires December 10, 2004               [Page 11]

Internet-Draft    Mobile multi-gateway support in MANET        June 2004


   YoungGon Choi
   SAMSUNG Advanced Institute of Technology
   i-Networking Laboratory
   San 14-1, Nongseo-ri, Giheung-eup
   Yongin-si, Gyeonggi-do  449-712
   KOREA

   Phone: +82 31 280 9531
   EMail: ygchoi@samsung.com


   Kyunglim  Kang
   SAMSUNG Advanced Institute of Technology
   i-Networking Laboratory
   San 14-1, Nongseo-ri, Giheung-eup
   Yongin-si, Gyeonggi-do  449-712
   KOREA

   Phone: +82 31 280 9532
   EMail: klkang@samsung.com


   Yongsung Roh
   SAMSUNG Advanced Institute of Technology
   i-Networking Laboratory
   San 14-1, Nongseo-ri, Giheung-eup
   Yongin-si, Gyeonggi-do  449-712
   KOREA

   Phone: +82 31 280 9532
   EMail: yongsung.roh@samsung.com




















Singh, et al.          Expires December 10, 2004               [Page 12]

Internet-Draft    Mobile multi-gateway support in MANET        June 2004


Intellectual Property Statement

   The IETF takes no position regarding the validity or scope of any
   Intellectual Property Rights or other rights that might be claimed to
   pertain to the implementation or use of the technology described in
   this document or the extent to which any license under such rights
   might or might not be available; nor does it represent that it has
   made any independent effort to identify any such rights.  Information
   on the procedures with respect to rights in RFC documents can be
   found in BCP 78 and BCP 79.

   Copies of IPR disclosures made to the IETF Secretariat and any
   assurances of licenses to be made available, or the result of an
   attempt made to obtain a general license or permission for the use of
   such proprietary rights by implementers or users of this
   specification can be obtained from the IETF on-line IPR repository at
   http://www.ietf.org/ipr.

   The IETF invites any interested party to bring to its attention any
   copyrights, patents or patent applications, or other proprietary
   rights that may cover technology that may be required to implement
   this standard.  Please address the information to the IETF at
   ietf-ipr@ietf.org.


Disclaimer of Validity

   This document and the information contained herein are provided on an
   "AS IS" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS
   OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET
   ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED,
   INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE
   INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED
   WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.


Copyright Statement

   Copyright (C) The Internet Society (2004).  This document is subject
   to the rights, licenses and restrictions contained in BCP 78, and
   except as set forth therein, the authors retain all their rights.


Acknowledgment

   Funding for the RFC Editor function is currently provided by the
   Internet Society.




Singh, et al.          Expires December 10, 2004               [Page 13]

